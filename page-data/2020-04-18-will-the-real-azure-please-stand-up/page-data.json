{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020-04-18-will-the-real-azure-please-stand-up","result":{"data":{"site":{"siteMetadata":{"title":"kevinhakanson.com","author":"Kevin Hakanson"}},"markdownRemark":{"id":"ba5a24a2-54bc-5197-93be-e919c8e7db15","excerpt":"Naming things is hard.  Each of these “Azure” names appear somewhere (or at some time) in the documentation: Azure Microsoft Azure Azure Cloud Microsoft Cloud…","html":"<p>Naming things is hard.  Each of these “Azure” names appear somewhere (or at some time) in the documentation:</p>\n<ul>\n<li>Azure</li>\n<li>Microsoft Azure</li>\n<li>Azure Cloud</li>\n<li>Microsoft Cloud</li>\n<li>Windows Azure</li>\n</ul>\n<p>At the time of this post, Azure has 58 regions worldwide and available in 140 countries.  Some of the Azure definitions include:</p>\n<ul>\n<li>A <strong>region</strong> is a set of datacenters deployed within a latency-defined perimeter and connected through a dedicated regional low-latency network.</li>\n<li>A <strong>geography</strong> is a discrete market, typically containing two or more regions, that preserves data residency and compliance boundaries.</li>\n<li><strong>Availability Zones</strong> are physically separate locations within an Azure region. Each Availability Zone is made up of one or more datacenters equipped with independent power, cooling, and networking</li>\n</ul>\n<p>There are also references to “Sovereign regions” or ”<a href=\"https://docs.microsoft.com/en-us/graph/deployments\">National cloud deployments</a>“:</p>\n<blockquote>\n<p>In addition to our global network of datacenters, Microsoft cloud services are available in three separate national clouds. These national cloud versions are physical and logical network-isolated instances of Microsoft enterprise cloud services that are confined within the geographic borders of specific countries and operated by local personnel.</p>\n<p>Current national clouds include:</p>\n<ul>\n<li>Microsoft Cloud for US Government</li>\n<li>Microsoft Cloud Germany</li>\n<li>Azure and Office 365 operated by 21Vianet in China</li>\n</ul>\n</blockquote>\n<p>Microsoft Cloud for US Government (a.k.a. ”<a href=\"https://azure.microsoft.com/en-us/global-infrastructure/government/\">Azure Government</a>”) is only for US government agencies and their partners. It uses physically isolated datacenters and networks (located in U.S. only) but has the same underlying technologies as global Azure.</p>\n<p><a href=\"https://azure.microsoft.com/en-us/global-infrastructure/china/\">Microsoft Azure China</a> is a physically isolated instance of Azure operated by 21Vianet and requires an account separate from an Azure global account.</p>\n<p>Microsoft Cloud Germany (a.k.a. “Microsoft Cloud Germany (Sovereign)”) is a physically isolated instance of Microsoft Azure operated by a data trustee.  However, <a href=\"https://azure.microsoft.com/en-us/global-infrastructure/germany/\">Microsoft Azure Germany</a> are the Frankfurt and Berlin datacenter regions of global Azure. Confused?  <a href=\"https://docs.microsoft.com/en-us/azure/germany/germany-welcome\">Welcome to Azure Germany</a> explains it as:</p>\n<blockquote>\n<p>Since August 2018, we have not been accepting new customers or deploying any new features and services into the original Microsoft Cloud Germany locations.</p>\n<p>Based on the evolution in customers’ needs, we recently launched two new datacenter regions in Germany, offering customer data residency, full connectivity to Microsoft’s global cloud network, as well as market competitive pricing.</p>\n</blockquote>\n<p>If you prefer code to documentation, <a href=\"https://docs.microsoft.com/en-us/powershell/module/az.accounts/get-azenvironment?view=azps-3.7.0\">Get-AzEnvironment</a> “gets endpoints and metadata for an instance of Azure services,” and\n<a href=\"https://docs.microsoft.com/en-us/cli/azure/cloud?view=azure-cli-latest#az-cloud-list\">az cloud list</a> can “list registered clouds,” giving you programmatic ways to uncover even different names.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">PS /home/kevin<span class=\"token operator\">></span> Get-AzEnvironment <span class=\"token operator\">|</span> Select-Object -Property Name, ActiveDirectoryAuthority, ResourceManagerUrl <span class=\"token operator\">|</span> Format-Table\n\nName              ActiveDirectoryAuthority           ResourceManagerUrl\n----              ------------------------           ------------------\nAzureCloud        https://login.microsoftonline.com/ https://management.azure.com/\nAzureUSGovernment https://login.microsoftonline.us/  https://management.usgovcloudapi.net/\nAzureGermanCloud  https://login.microsoftonline.de/  https://management.microsoftazure.de/\nAzureChinaCloud   https://login.chinacloudapi.cn/    https://management.chinacloudapi.cn/\n\nPS /home/kevin<span class=\"token operator\">></span> az cloud list --query <span class=\"token string\">\"[].{Name:name,ActiveDirectoryAuthority:endpoints.activeDirectory,ResourceManagerUrl:endpoints.resourceManager}\"</span> --output table\nName               ActiveDirectoryAuthority           ResourceManagerUrl\n-----------------  ---------------------------------  -------------------------------------\nAzureCloud         https://login.microsoftonline.com  https://management.azure.com/\nAzureChinaCloud    https://login.chinacloudapi.cn     https://management.chinacloudapi.cn\nAzureUSGovernment  https://login.microsoftonline.us   https://management.usgovcloudapi.net/\nAzureGermanCloud   https://login.microsoftonline.de   https://management.microsoftazure.de</code></pre></div>\n<p>But wait, there’s more. If you have an “Azure Stack” (a.k.a ”<a href=\"https://docs.microsoft.com/en-us/azure-stack/user/?view=azs-2002\">Azure Stack Hub</a>”) and make a call to <a href=\"https://docs.microsoft.com/en-us/powershell/module/az.accounts/set-azenvironment?view=azps-3.7.0\">Set-AzEnvironment</a> or <a href=\"https://docs.microsoft.com/en-us/cli/azure/cloud?view=azure-cli-latest#az-cloud-register\">az cloud register</a>, you can name it whatver your want. I call dibs on <code class=\"language-text\">AzureKevinHakansonCloud</code>.</p>","frontmatter":{"title":"Will the real Azure please stand up?","date":"April 18, 2020","tags":["azure","random"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2020-04-18-will-the-real-azure-please-stand-up","previous":{"fields":{"slug":"/2020-02-03-aws-ux-issues-when-under-load"},"frontmatter":{"tags":["aws","ux","codequality","random"]}},"next":{"fields":{"slug":"/2020-04-22-exploring-the-microsoft-graph-api-from-azure-cloud-shell"},"frontmatter":{"tags":["azure","cli","odata"]}}}}}