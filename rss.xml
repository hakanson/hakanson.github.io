<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[kevinhakanson.com]]></title><description><![CDATA[Kevin Hakanson's Blog]]></description><link>https://kevinhakanson.com</link><generator>GatsbyJS</generator><lastBuildDate>Mon, 09 Sep 2019 02:01:05 GMT</lastBuildDate><item><title><![CDATA[Presentations]]></title><description><![CDATA[Descriptions and links to various presentations from Kevin Hakanson. Biography Kevin Hakanson (@hakanson) is a Sr. Software Architect for…]]></description><link>https://kevinhakanson.com/presentations</link><guid isPermaLink="false">https://kevinhakanson.com/presentations</guid><content:encoded>&lt;p&gt;Descriptions and links to various presentations from Kevin Hakanson.&lt;/p&gt;
&lt;h2&gt;Biography&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://kevinhakanson.com&quot;&gt;Kevin Hakanson&lt;/a&gt; (&lt;a href=&quot;https://twitter.com/hakanson&quot;&gt;@hakanson&lt;/a&gt;) is a Sr. Software Architect for Thomson Reuters where he is focused on highly scalable web applications, especially the JavaScript and security aspects. His background includes both .NET and Java, but he is most nostalgic about Lotus Notes. He has been developing professionally since 1994 and holds a Master’s degree in Software Engineering. When not staring at a computer screen, he is probably staring at another screen, either watching TV or playing video games with his family.&lt;/p&gt;
&lt;hr&gt;
&lt;h3&gt;Introduction to Speech Interfaces for Web Applications&lt;/h3&gt;
&lt;p&gt;Speaking with your computing device is becoming commonplace.  Most of us have used Apple’s Siri, Google Now, Microsoft’s Cortana, or Amazon’s Alexa - but how can you speak with your web application?  The Web Speech API can enable a voice interface by adding both Speech Synthesis (Text to Speech) and Speech Recognition (Speech to Text) functionality.&lt;/p&gt;
&lt;p&gt;This session will introduce the core concepts of Speech Synthesis and Speech Recognition.  We will evaluate the current browser support and review alternative options.  See the JavaScript code and UX design considerations required to add a speech interface to your web application.  Come hear if it’s as easy as it sounds?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Twin Cities Code Camp 20 (16 April 2016)&lt;/li&gt;
&lt;li&gt;MinneBar 11 (23 April 2016)&lt;/li&gt;
&lt;li&gt;Midwest JS (10-12 August 2016) ( &lt;a href=&quot;http://www.slideshare.net/kevinhakanson/introduction-to-speech-interfaces-for-web-applications&quot;&gt;presentation&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;Thomson Reuters Beyond the Edge - Ann Arbor (12 September 2016)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Learning to Mod Minecraft: A Father/Daughter Retrospective&lt;/h3&gt;
&lt;p&gt;What do Minecraft and Blockly have in common? Minecraft is a popular, open world video game where players can build structures using digital blocks. Blockly is a open source visual programming language where students can build programs using blocks. LearnToMod combined these together to teach students how to modify Minecraft using either the Blockly visual editor or JavaScript.&lt;/p&gt;
&lt;p&gt;This session will be the retrospective of an enthusiastic father teaching his hesitant daughter (who loves Minecraft) about programming. We started with Hour of Code and pair-programmed through LearnToMod’s video lessons. What did we create? How did we like it? What would we recommend to others? Come learn about our experience and ask questions.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;That Conference (10-12 August 2015) (with Audra Hakanson) ( &lt;a href=&quot;http://www.slideshare.net/kevinhakanson/learning-to-mod-minecraft-a-fatherdaughter-retrospective&quot;&gt;presentation&lt;/a&gt;, &lt;a href=&quot;https://youtu.be/InbVSEA8V0U&quot;&gt;video&lt;/a&gt; )&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ng-owasp: OWASP Top 10 for AngularJS Applications&lt;/h3&gt;
&lt;p&gt;The OWASP Top 10 provides a list of the 10 most critical web application security risks.  How do these relate to AngularJS applications? What security vulnerabilities should developers be aware of beyond XSS and CSRF?&lt;/p&gt;
&lt;p&gt;This session will review the OWASP Top 10 with a front-end development focus on HTML and JavaScript.  It will look at patterns to implement and others to consider avoiding.  We will also explore several built-in features of AngularJS that help secure your application.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Thomson Reuters Beyond the Edge - Ann Arbor (17 September 2014)&lt;/li&gt;
&lt;li&gt;AngularMN Monthly Meetup (4 March 2015) ( &lt;a href=&quot;https://docs.google.com/presentation/d/1sXeJIMAUorz-EBEvxze2FTYWDqUTulaiR8XTo2C0_BA/pub?start=false&amp;#x26;loop=false&amp;#x26;delayms=3000&quot;&gt;presentation&lt;/a&gt;, &lt;a href=&quot;http://youtu.be/6uloYE87pkk&quot;&gt;video&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;Twin Cities Code Camp 18 (25 April 2015)&lt;/li&gt;
&lt;li&gt;NDC Oslo (17-19 June 2015) ( &lt;a href=&quot;http://www.slideshare.net/kevinhakanson/ng-owasp-ndc&quot;&gt;presentation&lt;/a&gt;, &lt;a href=&quot;https://vimeo.com/131757758&quot;&gt;video&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;That Conference (10-12 August 2015) ( &lt;a href=&quot;https://docs.google.com/presentation/d/11dCU6lJ27R5RpuMDopMvkTzzcYmNAmv4CWzv4gYRxzs/pub?start=false&amp;#x26;loop=false&amp;#x26;delayms=3000&quot;&gt;presentation&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;DevFestMN 2016 (6 February 2016)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Securing TodoMVC Using the Web Cryptography API&lt;/h3&gt;
&lt;p&gt;The open source TodoMVC project implements a Todo application using popular JavaScript MV* frameworks. Some of the implementations add support for compile to JavaScript languages, module loaders and real time backends. This presentation will demonstrate a TodoMVC implementation which adds support for the forthcoming W3C Web Cryptography API, as well as review some key cryptographic concepts and definitions.&lt;/p&gt;
&lt;p&gt;Instead of storing the Todo list as plaintext in localStorage, this “secure” TodoMVC implementation encrypts Todos using a password derived key. The PBKDF2 algorithm is used for the deriveBits operation, with getRandomValues generating a cryptographically random salt. The importKey method sets up usage of AES-CBC for both encrypt and decrypt operations. The final solution helps address item “A6-Sensitive Data Exposure” from the OWASP Top 10.&lt;/p&gt;
&lt;p&gt;With the Web Cryptography API being a recommendation in 2014, any Q&amp;#x26;A time will likely include browser implementations and limitations, and whether JavaScript cryptography adds any value.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JavaScriptMN Monthly Meetup (28 August 2014)&lt;/li&gt;
&lt;li&gt;Thomson Reuters Eagan Technology Unconference (5 September 2014)&lt;/li&gt;
&lt;li&gt;jQuery Conference (12-13 September 2014) ( &lt;a href=&quot;https://docs.google.com/presentation/d/1lIMvkPXM2gsieAJ56aokX9QEKsEyTCHiHcJ8SjSU4DQ/pub?start=false&amp;#x26;loop=false&amp;#x26;delayms=3000&quot;&gt;presentation&lt;/a&gt;, &lt;a href=&quot;https://github.com/hakanson/todomvc-jquery-webcryptoapi&quot;&gt;code&lt;/a&gt;, &lt;a href=&quot;https://hakanson.github.io/todomvc-jquery-webcryptoapi/&quot;&gt;demo&lt;/a&gt;, &lt;a href=&quot;http://youtu.be/kqwaZ-LzDag?list=PL-0yjdC10QYpmXI3l-PGK1od4kTWOjm_A&quot;&gt;video&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;Twin Cities Code Camp 17 (4 October 2014)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Make your own &lt;em&gt;Print &amp;#x26; Play&lt;/em&gt; card game using SVG and JavaScript&lt;/h3&gt;
&lt;p&gt;Want to leverage your creativity, love of board games, and web platform experience to do something different?  Turn your imagination into a Print &amp;#x26; Play card game using only a modern web browser, color printer and text editor.&lt;/p&gt;
&lt;p&gt;This session will use the Scalable Vector Graphics (SVG) image format and JavaScript programming language to make a deck of cards for a simple game.  Creating a few cards in graphics software like Inkscape is one thing, but what about 50 or 100 cards?  What happens when you need to update them all?  That’s the value of generating your SVG using JavaScript.&lt;/p&gt;
&lt;p&gt;We will start with a blank screen, adding color and graphics elements like lines, shapes, text and images.  Learn about container elements and defining content for re-use.  Understand how units in the SVG coordinate system can transform our on-screen creation into an 8.5 by 11 inch printed page (or PDF). SVG examples will be both in their native XML format and created from JavaScript using Snap.svg, an open source library from Adobe designed for modern web browsers.&lt;/p&gt;
&lt;p&gt;You will leave this session with a basic knowledge of SVG concepts, how to programmatically generate SVG using JavaScript, and how to make your SVG creation printer friendly.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Twin Cities Code Camp 16 (5 April 2014) ( &lt;a href=&quot;http://www.slideshare.net/kevinhakanson/make-your-own-print-play-card-game-using-svg-and-java-script&quot;&gt;presentation&lt;/a&gt;, &lt;a href=&quot;https://github.com/hakanson/tccc16&quot;&gt;code&lt;/a&gt; )&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Scaling Agility from the Trenches&lt;/h3&gt;
&lt;p&gt;Let’s start a conference with a conversation. Instead of an opening talk, Twin Cities agile practitioners will share a fishbowl with coaches in a free-for-all discussion around the good the bad and the ugly of scaling agility instead of simply adding more process. Stop back for more details or stop in and enjoy the (fishbowl) madness.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Agile Day Twin Cities 2013 (15 November 2013) ( panel participant; facilitated by David Hussman )&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Internationalize your JavaScript Application: Prepare for “the next billion” internet users.&lt;/h3&gt;
&lt;p&gt;Are you prepared for “the next billion” internet users, most of whom don’t use English as their primary language?  This session will explore the globalization (internationalization and localization) of JavaScript based applications. It will look at the ECMAScript Internationalization API and popular open source projects like AngularJS, messageformat.js, jQuery Globalize and twitter-cldr-js.  Topics will include cultures/locales, character encoding, number formatting, date formatting, choice/plural formatting and translations.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Thomson Reuters Eagan Technology Unconference (6 September 2013)  ( short &lt;a href=&quot;https://docs.google.com/presentation/d/18WgfvLWPFtaQaWcUS6LF4-NXFJX0dkEbFCqvG2k352I/pub?start=false&amp;#x26;loop=false&amp;#x26;delayms=3000&quot;&gt;presentation&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;Twin Cities Code Camp 15 (19 October 2013)  ( &lt;a href=&quot;https://docs.google.com/presentation/d/1AbWHPOeNTL9w5nddBrRQ5f-3dJ1gp_JPtmHinLq9K80/pub?start=false&amp;#x26;loop=false&amp;#x26;delayms=3000&quot;&gt;presentation&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;Iowa Code Camp 12 (2 November 2013)  ( &lt;a href=&quot;https://docs.google.com/presentation/d/1ZA8dp-SsXXqjKyFxsnVDrGcdoo0NaqE8dz-DCB8wA2M/pub?start=false&amp;#x26;loop=false&amp;#x26;delayms=3000&quot;&gt;presentation&lt;/a&gt;, &lt;a href=&quot;http://www.youtube.com/watch?v=h3p8cGOZ8CU&quot;&gt;video&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;Google DevFest Twin Cities (8 February 2014) ( &lt;a href=&quot;https://docs.google.com/presentation/d/1MeQzuoyrPulLcyv_eOCoVrfHvs5tQATO0YLH2HyG-bg/pub?start=false&amp;#x26;loop=false&amp;#x26;delayms=3000&quot;&gt;presentation&lt;/a&gt;, &lt;a href=&quot;http://jsi18n.azurewebsites.net/demo.html&quot;&gt;demo&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;That Conference (11-13 August 2014) ( &lt;a href=&quot;https://github.com/hakanson/jsi18n/blob/gh-pages/JavaScript%20Internationalization%20(That%20Conference).pdf&quot;&gt;presentation&lt;/a&gt;, &lt;a href=&quot;https://github.com/hakanson/jsi18n&quot;&gt;code&lt;/a&gt;, &lt;a href=&quot;http://hakanson.github.io/jsi18n/&quot;&gt;demo&lt;/a&gt; )&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;A Humorous Comparison of Software Development with Star Wars: The Clone Wars&lt;/h3&gt;
&lt;p&gt;Lightning talk style presentation describing software development using references from Star Wars: The Clone Wars. ( &lt;a href=&quot;http://youtu.be/nIS-XrNrv-0&quot;&gt;screencast&lt;/a&gt; )&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Thomson Reuters Eagan Technology Unconference (6 September 2013)&lt;/li&gt;
&lt;li&gt;JavaScriptMN Monthly Meetup (26 September 2013)&lt;/li&gt;
&lt;li&gt;Iowa Code Camp 12 (2 November 2013)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Developer’s Guide to JavaScript and Web Cryptography&lt;/h3&gt;
&lt;p&gt;The increasing capabilities and performance of the web platform allow for more feature-rich user experiences. How can JavaScript based applications utilize information security and cryptography principles? This session will explore the current state of JavaScript and Web Cryptography. We will review some basic concepts and definitions, discuss the role of TLS/SSL, show some working examples that apply cryptography to real-world use cases and take a peek at the upcoming W3C WebCryptoAPI. Code samples will use CryptoJS in the browser and the Node.js Crypto module on the server.  An extended example will secure the popular TodoMVC project using PBKDF2 for key generation, HMAC for data integrity and AES for encryption.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Twin Cities Code Camp 14 (27 April 2013) ( &lt;a href=&quot;https://docs.google.com/presentation/d/1Sx5ODjh_4lgfYgPNY3RqFzL4snvBbcGZ6byOn78K2ME/pub?start=false&amp;#x26;loop=false&amp;#x26;delayms=3000&quot;&gt;presentation&lt;/a&gt;, &lt;a href=&quot;https://www.youtube.com/watch?v=iQ0PSR8xyGQ&quot;&gt;video&lt;/a&gt;, &lt;a href=&quot;http://jswebcrypto.azurewebsites.net/demo.html#/&quot;&gt;demo&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;JavaScriptMN Monthly Meetup (30 May 2013) ( &lt;a href=&quot;https://docs.google.com/presentation/d/1ed8gcFiXtye9CTcbKkgoki8GM3Ix38Z00dcy_desKRE/pub?start=false&amp;#x26;loop=false&amp;#x26;delayms=3000&quot;&gt;presentation&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;Iowa Code Camp 11 (8 June 2013) ( &lt;a href=&quot;https://docs.google.com/presentation/d/1duucrW1Df5GgpzxUJp6RO-PminSYCDQKbSvHZYU4Uyw/pub?start=false&amp;#x26;loop=false&amp;#x26;delayms=3000&quot;&gt;presentation&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;Thomson Reuters Legal Market Dev Tech Forum Series (11 July 2013)&lt;/li&gt;
&lt;li&gt;Minnesota Developers Conference 2013 (26 September 2013) ( &lt;a href=&quot;https://docs.google.com/presentation/d/1dpuhK96oyWndiiY9WLAFiEKFurIppv2mvS1WHVFbfqQ/pub?start=false&amp;#x26;loop=false&amp;#x26;delayms=3000&quot;&gt;presentation&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;cf.Objective() 2014 (13-16 May 2014) ( &lt;a href=&quot;https://docs.google.com/presentation/d/1VC2yX5fEoXO2XTBpdGOMlZwFzuIu1A0PU2DpQ8fTxGs/pub?start=false&amp;#x26;loop=false&amp;#x26;delayms=3000&quot;&gt;presentation&lt;/a&gt; )&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;HTTP Potpourri&lt;/h3&gt;
&lt;p&gt;Embracing HTTP is an important property of well constructed ReSTful and web apis. Every web developer is familiar with GET and POST, 200 and 404, Accept and Content-Type; but what about 207 and 413, OPTIONS and PROPFIND, Transfer-Encoding and X-File-Size? This session will be based on usage of various HTTP methods, headers and status codes drawn from the development of large scale, web applications. Examples will include raw HTTP, mixed in with JavaScript and ASP.NET MVC code.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Twin Cities Code Camp 12 (14-15 April 2012) ( &lt;a href=&quot;https://docs.google.com/presentation/d/1hbUdAj1BrRVRgYK-_LR2cbG3M88HfFQwzhYFCxW-kqk/pub?start=false&amp;#x26;loop=false&amp;#x26;delayms=3000&quot;&gt;presentation&lt;/a&gt; )&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Implementing Messaging Patterns in JavaScript using the OpenAjax Hub&lt;/h3&gt;
&lt;p&gt;Is your web application a tightly coupled, DOM event handler mess?  Use techniques from the Enterprise Integration Patterns book to build better components.  Concepts including message, publish-subscribe channel, request-reply and message filter will be demonstrated in JavaScript (along with corresponding tests) using the OpenAjax Hub.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Twin Cities Code Camp 11 (8-9 October 2011) ( &lt;a href=&quot;https://docs.google.com/presentation/d/1h95HJrrijsqNPvteAO4oo9NkcogfJWE4zS4MDUJJluo/pub?start=false&amp;#x26;loop=false&amp;#x26;delayms=3000&quot;&gt;presentation&lt;/a&gt;, &lt;a href=&quot;https://github.com/hakanson/tccc11&quot;&gt;code&lt;/a&gt; )&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4&gt;BP101 Adding Lotus Sametime to Your Collaborative Commerce Web site&lt;/h4&gt;
&lt;p&gt;There are many statistics on the number of shopping carts being abandoned.  This session will show how to use Lotus Sametime to add real-time, online customer service to your Collaborative Commerce Web site.  A real-time intervention by a company representative can happen as a reaction to a customer request or a proactive response to a potential need.  These and other situations will be demonstrated.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lotusphere 2001 (14-18 January 2001)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;BST108 eCommerce with Domino&lt;/h4&gt;
&lt;p&gt;In this session, you will learn the ins-and-outs of building an eCommerce site with Domino, and how you can build a site faster and easier with Domino than with other technologies.  We will explain how to set up customer registration, build a product catalog, and manage the shopping cart.  Tips on how to implement effective application security and get the best site performance will also be included.  Finally, this session will describe the different ways to integrate you eCommerce applications with existing ERP applications.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lotus Developers’ Conference 1999 (20-23 June 1999)&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Using the JFrog Artifactory CLI with API Keys or Access Tokens]]></title><description><![CDATA[I received early adopter access to our JFrog Artifactory instances located at https://tr1.jfrog.io.  After you log in via SSO you are…]]></description><link>https://kevinhakanson.com/2019-08-21-using-the-jfrog-artifactory-cli-with-api-keys-or-access-tokens</link><guid isPermaLink="false">https://kevinhakanson.com/2019-08-21-using-the-jfrog-artifactory-cli-with-api-keys-or-access-tokens</guid><pubDate>Wed, 21 Aug 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I received early adopter access to our &lt;a href=&quot;https://jfrog.com/artifactory/&quot;&gt;JFrog Artifactory&lt;/a&gt; instances located at &lt;a href=&quot;https://tr1.jfrog.io/&quot;&gt;https://tr1.jfrog.io&lt;/a&gt;.  After you log in via SSO you are redirected to &lt;a href=&quot;https://tr1.jfrog.io/tr1/webapp/#/home&quot;&gt;https://tr1.jfrog.io/tr1/webapp/#/home&lt;/a&gt; (note that &lt;code class=&quot;language-text&quot;&gt;/tr1/&lt;/code&gt; path segment as this is needed for API URLs).  I wanted to try CLI access so I started with a simple unauthenticated ”&lt;a href=&quot;https://www.jfrog.com/confluence/display/RTF/Artifactory+REST+API#ArtifactoryRESTAPI-SystemHealthPing&quot;&gt;ping&lt;/a&gt;” using &lt;code class=&quot;language-text&quot;&gt;curl&lt;/code&gt; against the REST API using &lt;a href=&quot;https://curl.haxx.se/docs/manpage.html#-s&quot;&gt;-s&lt;/a&gt; for “silent mode” and &lt;a href=&quot;https://curl.haxx.se/docs/manpage.html#-i&quot;&gt;-i&lt;/a&gt; to include HTTP response header is output, but limit to the first line by piping through &lt;code class=&quot;language-text&quot;&gt;head&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -s -i https://tr1.jfrog.io/tr1/api/system/ping &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;head&lt;/span&gt; -n &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
HTTP/1.1 &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt; OK&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Success. Let’s try some negative testing of my user but with an invalid API key.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -s -i -u &lt;span class=&quot;token string&quot;&gt;&quot;0038137:INVALID_APIKEY&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
https://tr1.jfrog.io/tr1/api/system/ping &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;head&lt;/span&gt; -n &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
HTTP/1.1 &lt;span class=&quot;token number&quot;&gt;401&lt;/span&gt; Unauthorized&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now let’s grab my API key and try again.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 288px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/94e55ca4dfb7dc82e2d7bccb5aee81e1/337b6/Screen%2BShot%2B2019-08-20%2Bat%2B6.00.29%2BPM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.30555555555556%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABT0lEQVQoz52Q7UoCQRiF99YsqksIKsSoxCiQpIKupfrZj8gkiqILsGiLQjTxf+aq+zUfuN+6p50hQWiLpXd4OGdm4HB4lY1aEbvXZWzVSijfVFC62kGhuonc8QJyJ4uYS5g/XcqMUrzcxuH9kQzdu91H5e5A+nx1HWsXBaye57F8tpIZpdVp4elVReO9AfXtGXX1Ac12E/XHOtQXFe1OG4RTEEYyoXQ/uhj0B6CEwjJMDAdDWKaF3mcPWk+DaZqIwhBhkA3FMAzEyWGMgXOO0WgklXGGyWQCMUJTib+ZuSu6riMIAohggW3bMtCyLPn+18Rx/AMZKNKnDV3Xhef78BOEdxwnFfE3bRZFkUR4GSiSGU0CGZc6hRDyK6JAmOxWrEh4SqksoRi6ASdyoPE+iEdAPQrbtaX+Z2TDcTyGEzjwIx9eQjAOpKbtaJa0PX4BnUbG4JcD9fsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;JFrog Artifactory API Key&quot;
        title=&quot;JFrog Artifactory API Key&quot;
        src=&quot;/static/94e55ca4dfb7dc82e2d7bccb5aee81e1/337b6/Screen%2BShot%2B2019-08-20%2Bat%2B6.00.29%2BPM.png&quot;
        srcset=&quot;/static/94e55ca4dfb7dc82e2d7bccb5aee81e1/cf440/Screen%2BShot%2B2019-08-20%2Bat%2B6.00.29%2BPM.png 148w,
/static/94e55ca4dfb7dc82e2d7bccb5aee81e1/337b6/Screen%2BShot%2B2019-08-20%2Bat%2B6.00.29%2BPM.png 288w&quot;
        sizes=&quot;(max-width: 288px) 100vw, 288px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -s -i -u &lt;span class=&quot;token string&quot;&gt;&quot;0038137:REDACTED_APIKEY&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
https://tr1.jfrog.io/tr1/api/system/ping &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;head&lt;/span&gt; -n &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
HTTP/1.1 &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt; OK&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice that I’ve replaced my real API Key with REDACTED_APIKEY above.  Using the real API Key works, but it is long, hard to type, and using it that way exposes it to someone looking in my &lt;code class=&quot;language-text&quot;&gt;.bash_history&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;Let’s switch to using the &lt;a href=&quot;https://www.jfrog.com/confluence/display/CLI/JFrog+CLI&quot;&gt;JFrog CLI&lt;/a&gt; and see how that works with my API Key.  Visit the documentation site for full install instructions, including auto-completion scripts.  This CLI works with multiple JFrog products, and &lt;code class=&quot;language-text&quot;&gt;rt&lt;/code&gt; is the target argument for JFrog Artifactory.  The &lt;a href=&quot;https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory#CLIforJFrogArtifactory-Configuration&quot;&gt;config&lt;/a&gt; command will create a &lt;code class=&quot;language-text&quot;&gt;~/.jfrog/jfrog-cli.conf&lt;/code&gt; file that is used for other CLI commands.  For the command history reason above, I recommend not to use the &lt;code class=&quot;language-text&quot;&gt;--apikey&lt;/code&gt; parameter and enter your API Key in interactive mode.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ jfrog --version
jfrog version &lt;span class=&quot;token number&quot;&gt;1.27&lt;/span&gt;.0

$ jfrog rt config --url https://tr1.jfrog.io/tr1/ --user 0038137
Artifactory server ID: tr1
Access token &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Leave blank &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; username and password/API key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;: 
Password/API key: 
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Info&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Encrypting password&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Similar to the REST API, the JFrog CLI supports a &lt;a href=&quot;https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory#CLIforJFrogArtifactory-VerifyingArtifactoryisAccessible&quot;&gt;ping command&lt;/a&gt; to verify that Artifactory is accessible.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ jfrog rt &lt;span class=&quot;token function&quot;&gt;ping&lt;/span&gt;
OK&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Taking a peek at the config file, you can see the API Key was stored in the “password” field during the interactive flow.  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; ~/.jfrog/jfrog-cli.conf
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;artifactory&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://tr1.jfrog.io/tr1/&quot;&lt;/span&gt;,
      &lt;span class=&quot;token string&quot;&gt;&quot;user&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0038137&quot;&lt;/span&gt;,
      &lt;span class=&quot;token string&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;REDACTED_APIKEY&quot;&lt;/span&gt;,
      &lt;span class=&quot;token string&quot;&gt;&quot;serverId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;tr1&quot;&lt;/span&gt;,
      &lt;span class=&quot;token string&quot;&gt;&quot;isDefault&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;There is also a &lt;a href=&quot;https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory#CLIforJFrogArtifactory-RunningcUrl&quot;&gt;Running cUrl&lt;/a&gt; feature to invoke REST APIs not available in the JFrog CLI.  That takes the same arguments as native curl but uses a shortened REST API path and automatically includes login credentials.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ jfrog rt &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -X GET /api/system/ping
OK&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you really love complicated command lines, you could inject your API Key from the config file using &lt;code class=&quot;language-text&quot;&gt;jq&lt;/code&gt; and still execute &lt;code class=&quot;language-text&quot;&gt;curl&lt;/code&gt; yourself.  Have fun!&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ jq -r &lt;span class=&quot;token string&quot;&gt;&quot;.artifactory[0].password&quot;&lt;/span&gt; ~/.jfrog/jfrog-cli.conf
REDACTED_APIKEY

$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -s -i &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
-u &lt;span class=&quot;token string&quot;&gt;&quot;0038137:&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;jq -r &lt;span class=&quot;token string&quot;&gt;&quot;.artifactory[0].password&quot;&lt;/span&gt; ~/.jfrog/jfrog-cli.conf&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
https://tr1.jfrog.io/tr1/api/system/ping &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;head&lt;/span&gt; -n &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
HTTP/1.1 &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt; OK&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now let’s trying something that is unique to my user by calling the REST API to &lt;a href=&quot;https://www.jfrog.com/confluence/display/RTF/Artifactory+REST+API#ArtifactoryRESTAPI-GetAPIKey&quot;&gt;Get API Key&lt;/a&gt;.  This should echo back the same REDACTED_APIKEY I have in my config file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ jfrog rt &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -X GET /api/security/apiKey
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;apiKey&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;REDACTED_APIKEY&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For my CI/CD pipelines, I don’t really want my personal API Key being used.  Luckily, JFrog also supports &lt;a href=&quot;https://www.jfrog.com/confluence/display/ACC/Access+Tokens&quot;&gt;Access Tokens&lt;/a&gt; “as a flexible means of authentication with a wide range of capabilities” including:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;User and non-user authentication&lt;/strong&gt;&lt;br&gt;
The case for authenticating users is clear, however access tokens can also be assigned to non-user entities such as CI server jobs.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Flexible scope&lt;/strong&gt;&lt;br&gt;
By assigning Groups to tokens, you can control the level of access they provide.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let’s create an access token that is valid for the next 90 seconds and then configure a &lt;code class=&quot;language-text&quot;&gt;tr1token&lt;/code&gt; entry in our config file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ jfrog rt &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -X POST /api/security/token &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
-d &lt;span class=&quot;token string&quot;&gt;&quot;username=0038137&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
-d &lt;span class=&quot;token string&quot;&gt;&quot;scope=member-of-groups:readers&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
-d &lt;span class=&quot;token string&quot;&gt;&quot;expires_in=90&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;scope&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;member-of-groups:readers api:*&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;access_token&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;REDACTED_TOKEN&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;expires_in&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;token_type&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Bearer&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

$ jfrog rt config --url https://tr1.jfrog.io/tr1/ --user 0038137
Artifactory server ID &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;tr1&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;: tr1token
Access token &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Leave blank &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; username and password/API key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;: &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Quickly use the token with a ping command specifying the &lt;code class=&quot;language-text&quot;&gt;tr1token&lt;/code&gt; config, then wait for 90 seconds for the token to expire and execute another ping command.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ jfrog rt &lt;span class=&quot;token function&quot;&gt;ping&lt;/span&gt; --server-id tr1token
OK

$ &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;wait 90 seconds&quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt; seconds

$ jfrog rt &lt;span class=&quot;token function&quot;&gt;ping&lt;/span&gt; --server-id tr1token
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Error&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Artifactory response: &lt;span class=&quot;token number&quot;&gt;401&lt;/span&gt; Unauthorized
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;errors&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;status&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;401&lt;/span&gt;,
      &lt;span class=&quot;token string&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Token failed verification: expired&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When you inspect the JWT payload data from that token, you can see the &lt;code class=&quot;language-text&quot;&gt;exp&lt;/code&gt; time.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;sub&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;jfrt@01dc27m2makwbg11a8k5sr05z2/users/0038137&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;member-of-groups:readers api:*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;aud&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;jfrt@01dc27m2makwbg11a8k5sr05z2&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;iss&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;jfrt@01dc27m2makwbg11a8k5sr05z2&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;exp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1566405855&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;iat&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1566405765&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;jti&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;47e178d6-0263-4c13-969c-087f79a07a02&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Unfortunately, this still is an Access Token tied to my user account.  There is a way for Admin Users to create Access Token for “non-user entities such as CI server jobs” (mentioned above), so I need to work with our JFrog Artifactory admin to figure out the best way to move forward.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Scanning for OWS SQL Injection Protection]]></title><description><![CDATA[A few months ago, I was reviewing some code that was flagged by Veracode for multiple CWE-89: Improper Neutralization of Special Elements…]]></description><link>https://kevinhakanson.com/2019-08-12-scanning-for-ows-sql-injection-protection</link><guid isPermaLink="false">https://kevinhakanson.com/2019-08-12-scanning-for-ows-sql-injection-protection</guid><pubDate>Mon, 12 Aug 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;A few months ago, I was reviewing some code that was flagged by Veracode for multiple &lt;strong&gt;&lt;a href=&quot;http://cwe.mitre.org/data/definitions/89.html&quot;&gt;CWE-89&lt;/a&gt;: Improper Neutralization of Special Elements used in an SQL Command (‘SQL Injection’)&lt;/strong&gt; flaws. When working with the development team, they demonstrated that the SQL generation which triggers these flaws is part of &lt;a href=&quot;http://www.openwebstudio.com/&quot;&gt;OpenWebStudio&lt;/a&gt; (OWS) and is driven by configuration data.  I said that if we can prove we are generating from safe input, I could mitigate, but I wanted an in-depth review of the code paths.&lt;/p&gt;
&lt;p&gt;OWS does include the ability to &lt;a href=&quot;http://www.openwebstudio.com/topic/Action_Variable.aspx#Protect_Against_SQL_Injection&quot;&gt;Protect Against SQL Injection&lt;/a&gt; and even explicitly mentions to &lt;strong&gt;“ALWAYS check the box to protect against SQL Injection”&lt;/strong&gt;.  Here is a screenshot from the &lt;a href=&quot;http://www.openwebstudio.com/topic/Action_Variable.aspx&quot;&gt;Variable&lt;/a&gt; documentation.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/634c8f77a3d614bc097171cc5af0049b/eaa3b/action.variable.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.7822931785196%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAgADBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe4gTWMf/8QAFxAAAwEAAAAAAAAAAAAAAAAAAAEQMf/aAAgBAQABBQLKxT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAACAgMAAAAAAAAAAAAAAAAAARARIUFR/9oACAEBAAE/IXgrElwqG5bP/9oADAMBAAIAAwAAABATD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQADAAMBAAAAAAAAAAAAAAEAESExUWGR/9oACAEBAAE/EKLNbtbFaCnYnoiU1uJvTzPR+z//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;OWS Variable configuration&quot;
        title=&quot;OWS Variable configuration&quot;
        src=&quot;/static/634c8f77a3d614bc097171cc5af0049b/c739e/action.variable.jpg&quot;
        srcset=&quot;/static/634c8f77a3d614bc097171cc5af0049b/8ee9c/action.variable.jpg 148w,
/static/634c8f77a3d614bc097171cc5af0049b/ebbe7/action.variable.jpg 295w,
/static/634c8f77a3d614bc097171cc5af0049b/c739e/action.variable.jpg 590w,
/static/634c8f77a3d614bc097171cc5af0049b/eaa3b/action.variable.jpg 689w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Since OWS is open source, I was able to search the code and find that the &lt;code class=&quot;language-text&quot;&gt;FormatQueryVariable&lt;/code&gt; implementation inside &lt;a href=&quot;https://github.com/kevinmschreiner/OpenWebStudio/blob/e4c16a349c33db82e25aa2200353cfff8d01f0cd/Source/Code/r2i.OWS/Engine/Plugins/Renderers/Render.Variable.vb#L1762&quot;&gt;Render.Variable.vb&lt;/a&gt; works as expected.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;vbnet&quot;&gt;&lt;pre class=&quot;language-vbnet&quot;&gt;&lt;code class=&quot;language-vbnet&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;If&lt;/span&gt; EscapeQuotes &lt;span class=&quot;token keyword&quot;&gt;Then&lt;/span&gt;
      Value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Value.Replace&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&apos;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&apos;&apos;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;If&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Left&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;Is&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;Nothing&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;OrElse&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Left&lt;/span&gt;.&lt;span class=&quot;token function&quot;&gt;Length&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;AndAlso&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Right&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;Is&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;Nothing&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;OrElse&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Right&lt;/span&gt;.&lt;span class=&quot;token function&quot;&gt;Length&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;Then&lt;/span&gt;
          &lt;span class=&quot;token comment&quot;&gt;&apos;NO LEFT AND RIGHT ARE PROVIDED, BUT SQL INJECTION IS CHECKED&lt;/span&gt;
          Firewall.Firewall&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Utilities.Firewall.FirewallDirectiveEnum.Any&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;End&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;If&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;End&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;If&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The configuration from that Variable UI Dialog above is serialized as JSON data into an XML based Microsoft ResX file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;data&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;Module.Load&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;xml:&lt;/span&gt;space&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;preserve&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- OWS JSON configuration --&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Inside that JSON configuration string is a block for each of the Variable configurations.  The JSON sample below is representative of the UI Dialog above.  Note that &lt;code class=&quot;language-text&quot;&gt;Protected&lt;/code&gt; is set to &lt;code class=&quot;language-text&quot;&gt;&amp;quot;true&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;ChildActions&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Index&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;66&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Level&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Parameters&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;VariableType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&amp;amp;lt;Form&amp;amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;VariableDataType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Any&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;Formatters&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;QuerySource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;frmContent&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;QueryTarget&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@frmContent&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;QueryTargetLeft&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&apos;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;QueryTargetRight&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&apos;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;QueryTargetEmpty&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NULL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;EscapeListX&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;Protected&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;EscapeHTML&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;false&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;ActionType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Template-Variable&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;ChildActions&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I had asked the team to write a script to scan all &lt;code class=&quot;language-text&quot;&gt;.ascx.resx&lt;/code&gt; files in the project and verify SQL Protection is being set as expected.  However, when I checked back with them, this was still on the backlog.  I took this as an opportunity to help out and write the code myself.  I usually use python for my utility scripts, but I decided to try out PowerShell for this since it would be more familiar to that .NET based team.&lt;/p&gt;
&lt;p&gt;The first thing I wanted to do was initialize some counters and recursively find all the &lt;code class=&quot;language-text&quot;&gt;*.ascx.resx&lt;/code&gt; files.  Since I kept seeing examples using &lt;code class=&quot;language-text&quot;&gt;|&lt;/code&gt; in my google results, I read up on &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_pipelines?view=powershell-6#how-pipelines-work&quot;&gt;How Pipelines Work&lt;/a&gt; in PowerShell, including the &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_foreach?view=powershell-6&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ForEach-Object&lt;/code&gt;&lt;/a&gt; function and the &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_automatic_variables?view=powershell-6#_&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$_&lt;/code&gt;&lt;/a&gt; automatic variable.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$FileCount&lt;/span&gt; = 0
&lt;span class=&quot;token variable&quot;&gt;$IndexCount&lt;/span&gt; = 0
&lt;span class=&quot;token variable&quot;&gt;$FilePathLength&lt;/span&gt; = &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Get-Location&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Length &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; 1

&lt;span class=&quot;token function&quot;&gt;Get-ChildItem&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ascx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resx &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Recurse &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ForEach-Object&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token variable&quot;&gt;$CurrentFile&lt;/span&gt; = &lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;FullName&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;substring&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$FilePathLength&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token namespace&quot;&gt;[String[]]&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FileMessages&lt;/span&gt; = @&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  
  &lt;span class=&quot;token comment&quot;&gt;# continued below&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I used &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/select-xml?view=powershell-6&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Select-Xml&lt;/code&gt;&lt;/a&gt; with an &lt;code class=&quot;language-text&quot;&gt;XPath&lt;/code&gt; selector of &lt;code class=&quot;language-text&quot;&gt;//data[@name=&amp;#39;Module.Load&amp;#39;]/value&lt;/code&gt;, eventually converting the JSON string value into a &lt;code class=&quot;language-text&quot;&gt;PSCustomObject&lt;/code&gt; using &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/convertfrom-json?view=powershell-6&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ConvertFrom-Json&lt;/code&gt;&lt;/a&gt;.  I then iterated over the &lt;code class=&quot;language-text&quot;&gt;ChildActions&lt;/code&gt; and called a &lt;code class=&quot;language-text&quot;&gt;ScanChildActions&lt;/code&gt; function I created to return an array of any violations.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;  &lt;span class=&quot;token variable&quot;&gt;$obj&lt;/span&gt; = &lt;span class=&quot;token function&quot;&gt;Select-Xml&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Path &lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;FullName &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;XPath &lt;span class=&quot;token string&quot;&gt;&quot;//data[@name=&apos;Module.Load&apos;]/value&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;ForEach-Object&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;InnerXML&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;ConvertFrom-Json&lt;/span&gt;

  &lt;span class=&quot;token variable&quot;&gt;$obj&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;messageItems &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ForEach-Object&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ChildActions &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ForEach-Object&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token variable&quot;&gt;$FileMessages&lt;/span&gt; = ScanChildActions &lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FileMessages&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  
  &lt;span class=&quot;token comment&quot;&gt;# continued below&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;ChildActions&lt;/code&gt; function is a recursive scan that looks for any &lt;code class=&quot;language-text&quot;&gt;ActionType&lt;/code&gt; of &lt;code class=&quot;language-text&quot;&gt;Template-Variable&lt;/code&gt; and inspects the &lt;code class=&quot;language-text&quot;&gt;Protected&lt;/code&gt; parameter.  If &lt;code class=&quot;language-text&quot;&gt;&amp;quot;false&amp;quot;&lt;/code&gt;, it appends an error message with the &lt;code class=&quot;language-text&quot;&gt;️Index&lt;/code&gt; value as the key for finding the offending &lt;code class=&quot;language-text&quot;&gt;Variable&lt;/code&gt; later.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; ScanChildActions&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$ChildActions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;[String[]]&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$ErrorMessages&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token variable&quot;&gt;$ChildActions&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ForEach-Object&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ActionType &lt;span class=&quot;token operator&quot;&gt;-eq&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Template-Variable&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Parameters&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Protected &lt;span class=&quot;token operator&quot;&gt;-eq&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;false&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token variable&quot;&gt;$message&lt;/span&gt; = &lt;span class=&quot;token string&quot;&gt;&quot;️Index=&lt;span class=&quot;token function&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;  Protected=false&quot;&lt;/span&gt;
        &lt;span class=&quot;token variable&quot;&gt;$ErrorMessages&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$message&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token variable&quot;&gt;$ErrorMessages&lt;/span&gt; = &lt;span class=&quot;token namespace&quot;&gt;[String[]]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ScanChildActions &lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ChildActions &lt;span class=&quot;token variable&quot;&gt;$ErrorMessages&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$ErrorMessages&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With all the error messages gathered for the file, it was time to output the results and increment &lt;code class=&quot;language-text&quot;&gt;$FileCount&lt;/code&gt; / &lt;code class=&quot;language-text&quot;&gt;$IndexCount&lt;/code&gt; and output either a success (✅) or failure (❌) line for that filename.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;  &lt;span class=&quot;token comment&quot;&gt;# ... continued from above&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$FileMessages&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-eq&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;Write-Output&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;✅  &lt;span class=&quot;token function&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$CurrentFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt;

  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$script&lt;/span&gt;:FileCount+&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$script&lt;/span&gt;:IndexCount &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FileMessages&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Length

    &lt;span class=&quot;token function&quot;&gt;Write-Output&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;❌  &lt;span class=&quot;token function&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$CurrentFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$FileMessages&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ForEach-Object&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Write-Output&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;️  ☒ &lt;span class=&quot;token function&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Because I intended for this to be run as part of the build, I made sure to return a non-zero exit code so this script could be used to fail either the build or a pre-commit hook or whatever worked for the team’s development flow.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;Write-Output&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token function&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$FileCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; files had &lt;span class=&quot;token function&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$IndexCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; instances of Variable SQL Injection&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$FileCount&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-gt&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;1
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;exit&lt;/span&gt; 0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I am early in my PowerShell script development journey, so there are likely improvements I could make to this code.  However, since my goal was to improve security through automation, I feel good about the solution.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS Signature Authorization using Postman]]></title><description><![CDATA[The other day I ran across Use Postman to Call a REST API - Amazon API Gateway, which highlighted that Postman can generate AWS Signatures…]]></description><link>https://kevinhakanson.com/2019-07-07-aws-signature-authorization-using-postman</link><guid isPermaLink="false">https://kevinhakanson.com/2019-07-07-aws-signature-authorization-using-postman</guid><pubDate>Sun, 07 Jul 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The other day I ran across &lt;a href=&quot;https://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-use-postman-to-call-api.html&quot;&gt;Use Postman to Call a REST API - Amazon API Gateway&lt;/a&gt;, which highlighted that Postman can generate AWS Signatures for authorization (see &lt;a href=&quot;https://learning.getpostman.com/docs/postman/sending_api_requests/authorization#amazon-web-services-aws-authentication&quot;&gt;Authorization | Postman Learning Center&lt;/a&gt;).  When I wrote &lt;a href=&quot;../2017-08-15-aws-chalice-amazon-api-gateway-and-aws-iam-authorization&quot;&gt;AWS Chalice, Amazon API Gateway, and AWS IAM Authorization&lt;/a&gt;, I used the &lt;a href=&quot;https://github.com/jmenga/requests-aws-sign&quot;&gt;jmenga/requests-aws-sign&lt;/a&gt; library inside my Python code to sign my HTTP requests, but this would be an interesting way to be more interactive.&lt;/p&gt;
&lt;p&gt;I used &lt;a href=&quot;https://docs.aws.amazon.com/cli/latest/reference/configure/&quot;&gt;aws cli configure&lt;/a&gt; to get the values out of &lt;code class=&quot;language-text&quot;&gt;~/.aws/credentials&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws configure get aws_access_key_id
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;redacted&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
$ aws configure get aws_secret_access_key
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;redacted&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
$ aws configure get aws_session_token
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;redacted&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I created a &lt;a href=&quot;https://learning.getpostman.com/docs/postman/environments_and_globals/intro_to_environments_and_globals&quot;&gt;Postman environment&lt;/a&gt; and manually added these values as variables.  I was able to export this to a JSON format that can also be used for import.  I plan on looking at a way to script the creation of this file and avoid the extra cutting/pasting when my session credentials expire or maybe there is a way &lt;a href=&quot;https://learning.getpostman.com/docs/postman/scripts/pre_request_scripts&quot;&gt;Pre-request scripts&lt;/a&gt; can fetch them.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;638759e0-bc49-420d-be3a-794ff7c8a08b&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;aws&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;values&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;aws_access_key_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[redacted]&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;enabled&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;aws_secret_access_key&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[redacted]&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;enabled&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;aws_session_token&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[redacted]&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;enabled&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;_postman_variable_scope&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;environment&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;_postman_exported_at&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2019-07-07T17:23:27.037Z&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;_postman_exported_using&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Postman/7.2.2&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If I switch the Authorization Type to AWS Signature, I can set the AccessKey, SecretKey, and Session Token to the variables from my environment.  I also set the Service Name to &lt;code class=&quot;language-text&quot;&gt;sts&lt;/code&gt; for my first test, which is my favorite AWS API for testing: &lt;a href=&quot;https://docs.aws.amazon.com/STS/latest/APIReference/API_GetCallerIdentity.html&quot;&gt;GetCallerIdentity - AWS Security Token Service&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1c3efb7100d0dda51298416045cea6ed/2f382/pastedImage_69.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.4526678141136%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACf0lEQVQ4y3VUy4pUMRC9f+reH3LhUhDcuBAUwYUirgQXCgPOMAxK2zP3/chNbt5Vnko/6AENXVRyKzmpU6fSlVM9r0PLaujYjB07rdj7wDHG/1lmDGPM3bKoN/tefamHJc/zwtM0UdV1LXfDwHXb8UPTcFPX3MC3bVv8aT6OI8/zLEbi1TLFZljsk1faP329UtcPiAHQWMubWVl1D6yXkS3WZttYr5q1May15g1r+e6cY3swkrkDk2E2SEixsxupZeZK65VXTNxm5CMOukJNgAREwDYAG7OxRzwYTQEJBO8oxEg5BuKcSMqAvVRpF3gyjpcVWYKKHM45o46eU0pMRMUi1nHTnKzhFANiscTFYjx4ubxy+1t2Pz5zrH9xDo4p+ALgkJ3400jOsl8XDhoGuiFEWDibsCqA6forx48vOe9vDicBIhlCxbKRMM9HI2SRkVnO6fztHMM5KVHFF0MOHzCJlVKljiUD0BUxRCR7EgaHz0IdfcmQcBvhVgE7ERRACQrgibb3rogGMR5RvaRsIOyjDPkCsLQPlM3Hi6IAQd1YRIEgIsTRC5jsK5S3VREUPfaVI+8c9oWIOpHUCmpmWBIfi6KRrLNp8zbDeHOW4ElKhJfC1dDU3OMV9BNeACh6aSn5oZy4mC4zv6hKGTFl9GISz6s2PC8LVxOeUrdouutHvvq9W6939du2cc/va33fNBvXTfiEl/ni/sF9a0fN46KVDfzB2HQlExeJfDHmFSWqQJFSTvkP0H/udnf10D+btvX9jC7X+KOw1nxHvu+ct7VFjwp/JNej0CsJDekzPihXamih5gSqN01Dt13HCrU8qOpFZcr0WK9/6HfuBNHhL/exiM6on5FBAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Postman GetCallerIdentityResponse&quot;
        title=&quot;Postman GetCallerIdentityResponse&quot;
        src=&quot;/static/1c3efb7100d0dda51298416045cea6ed/b9e4f/pastedImage_69.png&quot;
        srcset=&quot;/static/1c3efb7100d0dda51298416045cea6ed/cf440/pastedImage_69.png 148w,
/static/1c3efb7100d0dda51298416045cea6ed/d2d38/pastedImage_69.png 295w,
/static/1c3efb7100d0dda51298416045cea6ed/b9e4f/pastedImage_69.png 590w,
/static/1c3efb7100d0dda51298416045cea6ed/f9b6a/pastedImage_69.png 885w,
/static/1c3efb7100d0dda51298416045cea6ed/2f382/pastedImage_69.png 1162w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If I switch to “No Auth”, you can see the &lt;strong&gt;MissingAuthenticationToken&lt;/strong&gt; error.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6850d73364b4433bedf890fbf1cff857/30051/pastedImage_71.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.03252032520326%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABk0lEQVQoz3VSWY7dIBD0uZNzJSfIZ44QjTLS6GWewdhgNgOmUu0lSiINUqkB9VrVQ3IT1mnEajS8UcjeYSsFtVa01g703m8cBzw550eM4Stq+L7ntft1hbW2D1orKK2hlMY4jv9A83+aWJDOIQTEGG90sT5EfHvJB3jv4jdoBszLwkBzJT4LaFpJqi5rjMFCvwvd2QXKWHz64vCZeKqpz2bCkHJGTqzOcUv0KBx1q+fIhaML7tEv9D9238lD7mixd8bEEPrgnIOzlg+P4D080WrDfYSyO/GNXjagZGBL2PneL99t2zBItX3fwWqHPcAkUvx+t7b/dW8oraI2Ee20VXLQR3gdrHpHZFeBHfqjyxWZo9e6HQGtlTNQVBca2IXPEYHdpS0jZlp2O88zeSaHQvrbqPFLz5iNpyAJRgcq21kAtAAFJK8fo5ChkAqs8xgCo1KpeKXKP15e8fYQVRc8nixgEzkt8IndkYKPUEUbcphSxpBTguPsP7kq70p2T3GFZH1kF5/QzsJxrEuiC/+f809y/QYeHAW/Ea1m0QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Postman ErrorResponse&quot;
        title=&quot;Postman ErrorResponse&quot;
        src=&quot;/static/6850d73364b4433bedf890fbf1cff857/b9e4f/pastedImage_71.png&quot;
        srcset=&quot;/static/6850d73364b4433bedf890fbf1cff857/cf440/pastedImage_71.png 148w,
/static/6850d73364b4433bedf890fbf1cff857/d2d38/pastedImage_71.png 295w,
/static/6850d73364b4433bedf890fbf1cff857/b9e4f/pastedImage_71.png 590w,
/static/6850d73364b4433bedf890fbf1cff857/f9b6a/pastedImage_71.png 885w,
/static/6850d73364b4433bedf890fbf1cff857/2d849/pastedImage_71.png 1180w,
/static/6850d73364b4433bedf890fbf1cff857/30051/pastedImage_71.png 1599w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[UML Sequence Diagrams using PlantUML]]></title><description><![CDATA[I’ve blogged before about text notation for UML Sequence Diagrams in WebSequenceDiagrams notation, but since we standardize on Lucidchart…]]></description><link>https://kevinhakanson.com/2019-06-09-uml-sequence-diagrams-using-plantuml</link><guid isPermaLink="false">https://kevinhakanson.com/2019-06-09-uml-sequence-diagrams-using-plantuml</guid><pubDate>Sun, 09 Jun 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I’ve blogged before about text notation for UML Sequence Diagrams in &lt;a href=&quot;../2016-03-01-websequencediagrams-notation&quot;&gt;WebSequenceDiagrams notation&lt;/a&gt;, but since we standardize on Lucidchart for diagrams, I found they have &lt;a href=&quot;https://lucidchart.zendesk.com/hc/en-us/articles/208029986&quot;&gt;UML Sequence Markup&lt;/a&gt; support as well.  However, Lucidchart’s dialect looks to be based on &lt;a href=&quot;http://plantuml.com/index&quot;&gt;PlantUML&lt;/a&gt;.  For a better summary that I can provide, take please read &lt;a href=&quot;https://blog.anoff.io/2018-07-31-diagrams-with-plantuml/&quot;&gt;Markdown native diagrams with PlantUML&lt;/a&gt;.  I decided to spin up the PlantUML docker image and take a look:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker run -d -p 8080:8080 plantuml/plantuml-server:jetty&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Because I love serverless, I used my ”&lt;a href=&quot;https://en.wiktionary.org/wiki/Google-fu&quot;&gt;google-fu&lt;/a&gt;” and found &lt;a href=&quot;https://serverlessrepo.aws.amazon.com/applications/arn:aws:serverlessrepo:us-east-1:293246570391:applications~plantuml-render&quot;&gt;plantuml-render&lt;/a&gt; in the AWS Serverless Application Repository.  You can also try this interactively at &lt;a href=&quot;https://plantuml.nitorio.us/&quot;&gt;https://plantuml.nitorio.us/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Even more exciting to me was that since I have Visual Studio Code support for both Markdown and &lt;a href=&quot;https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml&quot;&gt;PlantUML&lt;/a&gt;, this fenced code block rendered an image as expected.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;```plantuml
title call flows  

participant a as &amp;quot;Aa&amp;quot;
participant b as &amp;quot;Bb&amp;quot;
participant c as &amp;quot;Cc&amp;quot;
participant d as &amp;quot;Dd&amp;quot;

a-&amp;gt;b: sync call  
activate b
b-&amp;gt;b: in process call
b-&amp;gt;&amp;gt;c: async call  
activate c  
c--&amp;gt;b: 202 Accepted  
a&amp;lt;--b: return value  
deactivate b
c-&amp;gt;d: background process  
d-&amp;gt;d:
c&amp;lt;--d:
deactivate c
```&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/ab627c94e2e5362edd11a8efd45eb426/callflows.svg&quot; alt=&quot;UML Sequence Diagram&quot; title=&quot;call flows&quot;&gt;&lt;/p&gt;
&lt;p&gt;Later, I am going to think about the best way to check in this text-based UML next to our source code.  I haven’t figured out if the rendered images should be checked in as well, generated as part of a build, or just viewed as part of a markdown preview.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS Tools for PowerShell on macOS]]></title><description><![CDATA[Since you can never have too many command lines and shells, today I thought about Installing PowerShell Core on macOS. After that, it was…]]></description><link>https://kevinhakanson.com/2019-05-03-aws-tools-for-powershell-on-macos</link><guid isPermaLink="false">https://kevinhakanson.com/2019-05-03-aws-tools-for-powershell-on-macos</guid><pubDate>Fri, 03 May 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Since you can never have too many command lines and shells, today I thought about &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/scripting/install/installing-powershell-core-on-macos?view=powershell-6&quot;&gt;Installing PowerShell Core on macOS&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ brew cask &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; powershell
$ pwsh
PowerShell &lt;span class=&quot;token number&quot;&gt;6.2&lt;/span&gt;.0
Copyright &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Microsoft Corporation. All rights reserved.

https://aka.ms/pscore6-docs
Type &lt;span class=&quot;token string&quot;&gt;&apos;help&apos;&lt;/span&gt; to get help.

PS&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Get-Date

Friday, May &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;token number&quot;&gt;2019&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;:49:34 PM&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After that, it was time for &lt;a href=&quot;https://docs.aws.amazon.com/powershell/latest/userguide/pstools-getting-set-up-linux-mac.html&quot;&gt;Setting up the AWS Tools for PowerShell Core on Linux or macOS X&lt;/a&gt; and making sure it worked.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;PS&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Install-Module -Name AWSPowerShell.NetCore -AllowClobber
PS&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Import-Module AWSPowerShell.NetCore
PS&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Get-AWSPowerShellVersion

AWS Tools &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; PowerShell Core
Version &lt;span class=&quot;token number&quot;&gt;3.3&lt;/span&gt;.498.0
Copyright &lt;span class=&quot;token number&quot;&gt;2012&lt;/span&gt;-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.

Amazon Web Services SDK &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; .NET
Core Runtime Version &lt;span class=&quot;token number&quot;&gt;3.3&lt;/span&gt;.101.0
Copyright &lt;span class=&quot;token number&quot;&gt;2009&lt;/span&gt;-2015 Amazon.com, Inc. or its affiliates. All Rights Reserved.

Release notes: https://aws.amazon.com/releasenotes/PowerShell

This software includes third party software subject to the following copyrights:
- Logging from log4net, Apache License
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;http://logging.apache.org/log4net/license.html&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then my favorite command: AWS Security Token Service Get Caller Identity&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;PS&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$STS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Get-STSCallerIdentity -ProfileName aws-account-alias -Region us-west-2
PS&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$STS&lt;/span&gt;.Account
&lt;span class=&quot;token number&quot;&gt;123456789012&lt;/span&gt;
PS&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$STS&lt;/span&gt;.UserId
AROAXXXXXXXXXXXXXXXXX:kevin.hakanson@example.com
PS&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$STS&lt;/span&gt;.Arn
arn:aws:sts::123456789012:assumed-role/REDACTED-ReadOnly/kevin.hakanson@example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Goodbye Oracle Java 8; Hello Amazon Corretto 8]]></title><description><![CDATA[Got the Oracle Java auto-update message on my Mac today, reminding me to “Remove” if installed for “commercial” use.  So, I clicked remove…]]></description><link>https://kevinhakanson.com/2019-04-22-goodbye-oracle-java-8-hello-amazon-corretto-8</link><guid isPermaLink="false">https://kevinhakanson.com/2019-04-22-goodbye-oracle-java-8-hello-amazon-corretto-8</guid><pubDate>Mon, 22 Apr 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Got the Oracle Java auto-update message on my Mac today, reminding me to “Remove” if installed for “commercial” use.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 351px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d1dc67f3da39fe1be4de1000be1781ff/9488f/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 85.47008547008548%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsSAAALEgHS3X78AAADdElEQVQ4y62Sy28bVRSHW2kW8AfACvgDYF1FsGHFriDYghSKxENCshAREmJFUIgEQlCEoCWpifOwk1IemYaQEFynddpJMIndxI95eOw4tsfvxPZ4HNvxjOfHmUnrNLDpgit9OnfOPfPd55n8Jn/m/2rbOe24s+iafCK8euvXwN0wG4rw82FeYqOizHKBLdZ7c41dvc2xvjXCf4cNBLfZiBBnrRrCqp2n7+t/rvqf6Zuff9Vx7qMrv+FD5+8Y+v463vn6J7x98Rre+upHvPnl1X60sPL/5t1v5/HKeyPn+8JzLw0OOC56jI+drP6Ze1l/Y3RCHxxx6q9/avGD3b9AOYvBe7n7vPbJeJfACxeGToTfXbo80Gi2UFU1CImkmUhnkFLySOeL2MsVoJTKEJO7kFNppOk7kc5iN6tQzJh1rdk70g2wCwsv9oVXxscHYLXuEQ5k0TxIJaHuJdHMptBSUmjnM6gmJcrJ0NIJ6stQs3uoJSSz1zrsWb/+sbx8WqjrOmCawFHbRLcDtA/RbLRRz5bQiJM8JqChlNGst2iMOK4xYRi2cPlB4djYmL3Cw1YLNVU1VU1DvaEhnqsjKJcQ2y0jSmwny+AzB6g1GqirDVTrqtnudGzh0tLSidDlcg00m02USiUoimIWCgWIgoDNwDpCm39R3EBo628igMDGHcSiUeQUhWqzZj6f73W7XaysrJwIZ2ZmBlRVBQ2iWCyaBPb39yEIIsLhiE0wFMIORVGSUKlU7MnL5bKZy+V6LdqZz+c7vcJOp4NarWaJzCIVx6IRJBNxxEUescgORD4KOS4iIUuIS4ItrFarZrVW6xmGAa/Xe/oMTboQaybarlkpl8DLGQT5PUTlLLaiSexIWYSlNMLxLMTdHEq0i0KhaGqa9t8zHKdbpnPokZTurGfQbRv7TcNIH3SNXE03FCJDfaXatXPWGD0JC+tp6NZiSHj+wS0/i4do+lHHjhUK39wE5oLApTV6aZTbXL/xcl84PDz8tCzLtyRJ4kRRtBEshOPICwLH8wIXI0RR4O6GBc7Lxbgb6zHOtxHjBEm+7ZpwPmfL/H6/FR4hHiOeIp68Fx+G+7WPE4+yP8+dtaUOh+Ps4uIiMzs7y3g8nlNYObfbzUxNTTHT09PM1TkPc9npZt4fmWQ+GJ1khkYmmGu/LDBffD5qy/4BrEJ1Rb15EmUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Install Java 8 Update 211&quot;
        title=&quot;Install Java 8 Update 211&quot;
        src=&quot;/static/d1dc67f3da39fe1be4de1000be1781ff/9488f/pastedImage_3.png&quot;
        srcset=&quot;/static/d1dc67f3da39fe1be4de1000be1781ff/cf440/pastedImage_3.png 148w,
/static/d1dc67f3da39fe1be4de1000be1781ff/d2d38/pastedImage_3.png 295w,
/static/d1dc67f3da39fe1be4de1000be1781ff/9488f/pastedImage_3.png 351w&quot;
        sizes=&quot;(max-width: 351px) 100vw, 351px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So, I clicked remove and visited &lt;a href=&quot;https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/macos-install.html&quot;&gt;https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/macos-install.html&lt;/a&gt; to install Amazon Corretto.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2fa23a345b2cc1cc4be51bc9d4a54b73/c7805/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAAC50lEQVQ4y4WSy27aQBSGJzdg7SxSAgESLr5iAwaMjQFzT7g0tzZtRJVNt5W6o1GlKNtus4G+Sp+iD5KFt1Ec+/SM00CkRK2lX2OPZ745//mHEHx+nfdCP750Nq1Ol6mZNcZqWIyc05izLsd8PB0yx6cfmOFwxJycvGM0TWc4TmAMo+qLfrfb3c3p9DJEnp6hXr4+6JigGeatVqnaml61K0bdHvSa9mAwsHv7Q7uP2h+O7Fa3a9fqlq0bNVxj2hXdvDXMBtSt1vUCmOLEeb6oQ65Q8iXnVFBLFUAo6NUGlDUDjFoDSqoJxZyJ8zXgJQV4UQZOyPrrM6zwcwFkOWFWa7Sg3e3fG2bdRZib4UR3OxpzIzsJNxrfdcNv4i7fSruFCevP7cT33Fgi6UZju/epDA8sL84WwDTLz7r9ARyfnjmj8ZFXRzgCARcDwvxxezsBB3MFLn6XgaulIbyVgEgs4SHcSbMCsOjyGVCYWe0+DMeHDvbFo7ZZXoL4bsofOTELbCYL2vs8tKcqsJKIB0poW/aSac5JPlY4f9ZDaaY3etDq9By06wNphVRm3QKr1YHR2yPotYdgFLE1nX1otrs49r28Wnb2UixwvLQEcui/UNRAkgsONpgu8itDOxCOxHzRTayAhwiCHwT2D7bCUW87Gn9pmTZULWPKeBpWtwDS3lHbVBjCQnSeAnHew28nlXkFWESgJMmOKGa9QnEJpBv/IR/4aoU5tQIsK9ynkxlPVEoeNp0m6CH0VT3+w5QjkftkMkWBy2vDi9K8WddBlYUHVRFh3CmBkssDtfIUznPR6gW82JwgQ1o2HyQMKsNLy4uNG2/GnSJ8PlTuLsaKc9IrOLm8SgN6oaxScDBAx2q2Hc1oONLo6i43/g7JjHTzxFsJBoMSIaHz1fXQZA1FSHCyEQhOAoHAK8J/GxuTlZXVyfra2mSdkMkGIeehYECiLHL5bepT9whZJX9VCS7f/68KSqPv5OrrJ/IHXipd8vP22tUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Install Amazon Corretto 8&quot;
        title=&quot;Install Amazon Corretto 8&quot;
        src=&quot;/static/2fa23a345b2cc1cc4be51bc9d4a54b73/c7805/pastedImage_2.png&quot;
        srcset=&quot;/static/2fa23a345b2cc1cc4be51bc9d4a54b73/cf440/pastedImage_2.png 148w,
/static/2fa23a345b2cc1cc4be51bc9d4a54b73/d2d38/pastedImage_2.png 295w,
/static/2fa23a345b2cc1cc4be51bc9d4a54b73/c7805/pastedImage_2.png 400w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;After this, I still had some JVMs to clean up:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ /usr/libexec/java_home --verbose
Matching Java Virtual Machines &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
    &lt;span class=&quot;token number&quot;&gt;1.8&lt;/span&gt;.0_212, x86_64:     &lt;span class=&quot;token string&quot;&gt;&quot;Amazon Corretto 8&quot;&lt;/span&gt;     /Library/Java/JavaVirtualMachines/amazon-corretto-8.jdk/Contents/Home
    &lt;span class=&quot;token number&quot;&gt;1.8&lt;/span&gt;.0_65, x86_64:     &lt;span class=&quot;token string&quot;&gt;&quot;Java SE 8&quot;&lt;/span&gt;     /Library/Java/JavaVirtualMachines/jdk1.8.0_65.jdk/Contents/Home
    &lt;span class=&quot;token number&quot;&gt;1.8&lt;/span&gt;.0_45, x86_64:     &lt;span class=&quot;token string&quot;&gt;&quot;Java SE 8&quot;&lt;/span&gt;     /Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home
    &lt;span class=&quot;token number&quot;&gt;1.8&lt;/span&gt;.0_31, x86_64:     &lt;span class=&quot;token string&quot;&gt;&quot;Java SE 8&quot;&lt;/span&gt;     /Library/Java/JavaVirtualMachines/jdk1.8.0_31.jdk/Contents/Home
    &lt;span class=&quot;token number&quot;&gt;1.7&lt;/span&gt;.0_71, x86_64:     &lt;span class=&quot;token string&quot;&gt;&quot;Java SE 7&quot;&lt;/span&gt;     /Library/Java/JavaVirtualMachines/jdk1.7.0_71.jdk/Contents/Home

$ &lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; /Library/Java/JavaVirtualMachines/
$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; -rf jdk1.7.0_71.jdk
$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; -rf jdk1.8.0_31.jdk
$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; -rf jdk1.8.0_45.jdk
$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; -rf jdk1.8.0_65.jdk&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I am now free of Oracle Java,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ /usr/libexec/java_home --verbose
Matching Java Virtual Machines &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
    &lt;span class=&quot;token number&quot;&gt;1.8&lt;/span&gt;.0_212, x86_64: &lt;span class=&quot;token string&quot;&gt;&quot;Amazon Corretto 8&quot;&lt;/span&gt; /Library/Java/JavaVirtualMachines/amazon-corretto-8.jdk/Contents/Home

$ java -version
openjdk version &lt;span class=&quot;token string&quot;&gt;&quot;1.8.0_212&quot;&lt;/span&gt;
OpenJDK Runtime Environment Corretto-8.212.04.2 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;build &lt;span class=&quot;token number&quot;&gt;1.8&lt;/span&gt;.0_212-b04&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
OpenJDK &lt;span class=&quot;token number&quot;&gt;64&lt;/span&gt;-Bit Server VM Corretto-8.212.04.2 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;build &lt;span class=&quot;token number&quot;&gt;25.212&lt;/span&gt;-b04, mixed mode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[AWS IAM Policy for Service User S3 Access]]></title><description><![CDATA[As a “security custodian” for some of my company’s AWS accounts, I review requests for what we call “service users,” including the AWS IAM…]]></description><link>https://kevinhakanson.com/2019-04-10-aws-iam-policy-for-service-user-s3-access</link><guid isPermaLink="false">https://kevinhakanson.com/2019-04-10-aws-iam-policy-for-service-user-s3-access</guid><pubDate>Wed, 10 Apr 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;As a “security custodian” for some of my company’s AWS accounts, I review requests for what we call “service users,” including the AWS IAM Policy documents attached to those users. I prefer these to meet the &lt;a href=&quot;https://en.wikipedia.org/wiki/Principle_of_least_privilege&quot;&gt;Principle of least privilege&lt;/a&gt; but demand they are not overly aggressive.   Recently, I received this proposed policy:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:ListBucket&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:PutObject&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::*&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I replied that this would grant access to all S3 buckets and the &lt;code class=&quot;language-text&quot;&gt;Resource&lt;/code&gt; clause needed to be restricted to a specific bucket.  The requesting team responded with:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:ListBucket&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:PutObject&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
         &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::project-bucket-name&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I realized I should have sent a link to &lt;a href=&quot;https://docs.aws.amazon.com/IAM/latest/UserGuide/list_amazons3.html&quot;&gt;Actions, Resources, and Condition Keys for Amazon S3&lt;/a&gt; because some S3 Actions apply to S3 &lt;em&gt;Buckets&lt;/em&gt; and other to S3 &lt;em&gt;Objects&lt;/em&gt;.  The ARN syntax for S3 Objects requires a slash ( &lt;code class=&quot;language-text&quot;&gt;/&lt;/code&gt; ) after the bucket name, where &lt;code class=&quot;language-text&quot;&gt;/*&lt;/code&gt; is the syntax for all objects.  The policy below includes a &lt;code class=&quot;language-text&quot;&gt;Resource&lt;/code&gt; array that includes both the Bucket and all the Objects.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:ListBucket&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:PutObject&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
         &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::project-bucket-name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::project-bucket-name/*&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Strictly speaking, the above syntax includes some &lt;code class=&quot;language-text&quot;&gt;Action&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Resource&lt;/code&gt; combinations that are not valid, but I feel it is more readable (and smaller in size) than the more correct syntax.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:ListBucket&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
         &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::project-bucket-name&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:PutObject&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
         &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::project-bucket-name/*&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Finding all AWS Services my Team is Using]]></title><description><![CDATA[I was reading Automate analyzing your permissions using IAM access advisor APIs | AWS Security Blog and realized it would also be way see…]]></description><link>https://kevinhakanson.com/2019-01-11-finding-all-aws-services-my-team-is-using</link><guid isPermaLink="false">https://kevinhakanson.com/2019-01-11-finding-all-aws-services-my-team-is-using</guid><pubDate>Fri, 11 Jan 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was reading &lt;a href=&quot;https://aws.amazon.com/blogs/security/automate-analyzing-permissions-using-iam-access-advisor/&quot;&gt;Automate analyzing your permissions using IAM access advisor APIs | AWS Security Blog&lt;/a&gt; and realized it would also be way see what AWS features one of my project teams (a.k.a. redacted-project) was using.&lt;/p&gt;
&lt;p&gt;So, I put together a Python script to call &lt;a href=&quot;https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/iam.html#IAM.Client.generate_service_last_accessed_details&quot;&gt;generate_service_last_accessed_details&lt;/a&gt; / &lt;a href=&quot;https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/iam.html#IAM.Client.get_service_last_accessed_details&quot;&gt;get_service_last_accessed_details&lt;/a&gt;  then sorted by the most recent LastAuthenticated date to get the ServiceName list.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2019-01-11 20:23:00+00:00 AWS CodeCommit
2019-01-11 20:20:00+00:00 AWS Health APIs and Notifications
2019-01-11 20:20:00+00:00 AWS CloudFormation
2019-01-11 20:19:00+00:00 AWS Key Management Service
2019-01-11 20:18:00+00:00 Amazon S3
2019-01-11 20:12:00+00:00 AWS CodeBuild
2019-01-11 20:11:00+00:00 AWS CodePipeline
2019-01-11 20:04:00+00:00 Amazon Elasticsearch Service
2019-01-11 19:57:00+00:00 AWS AppSync
2019-01-11 19:56:00+00:00 Amazon DynamoDB
2019-01-11 19:56:00+00:00 AWS Identity and Access Management
2019-01-11 19:55:00+00:00 AWS Lambda
2019-01-11 19:51:00+00:00 Amazon CloudWatch Logs
2019-01-11 19:28:00+00:00 Amazon SNS
2019-01-11 18:15:00+00:00 AWS Security Token Service
2019-01-11 17:40:00+00:00 Amazon CloudWatch
2019-01-11 17:39:00+00:00 Application Auto Scaling
2019-01-11 01:00:00+00:00 AWS Cloud9
2019-01-11 00:36:00+00:00 Amazon Resource Group Tagging API
2019-01-11 00:36:00+00:00 Amazon EC2
2019-01-10 21:10:00+00:00 Amazon Cognito User Pools
2019-01-10 21:09:00+00:00 Amazon Cognito Identity
2019-01-10 17:35:00+00:00 Amazon CloudWatch Events
2019-01-10 17:27:00+00:00 Amazon EC2 Auto Scaling
2019-01-09 23:54:00+00:00 AWS Amplify
2019-01-09 15:49:00+00:00 AWS CloudTrail
2019-01-08 23:25:00+00:00 Amazon EC2 Container Registry
2019-01-08 22:17:00+00:00 AWS Resource Groups
2019-01-08 17:43:00+00:00 AWS Systems Manager
2018-12-18 20:46:00+00:00 AWS X-Ray
2018-12-18 14:40:00+00:00 AWS Serverless Application Repository
2018-12-18 13:17:00+00:00 Elastic Load Balancing
2018-12-17 19:29:00+00:00 AWS CodeDeploy
2018-12-17 19:22:00+00:00 AWS Directory Service
2018-12-10 19:48:00+00:00 AWS Config
2018-12-07 22:42:00+00:00 Amazon SimpleDB
2018-12-07 22:42:00+00:00 Amazon SQS
2018-12-07 22:42:00+00:00 AWS Elastic Beanstalk
2018-12-07 20:51:00+00:00 AWS Support
2018-12-04 17:21:00+00:00 Manage - Amazon API Gateway
2018-12-03 23:01:00+00:00 Amazon Kinesis
2018-12-03 20:53:00+00:00 Data Pipeline
2018-12-03 19:34:00+00:00 Amazon Kinesis Firehose
2018-11-30 21:33:00+00:00 Amazon CloudFront
2018-11-29 23:09:00+00:00 AWS Database Migration Service
2018-11-27 18:00:00+00:00 AWS CodeStar
2018-11-22 01:52:00+00:00 AWS Trusted Advisor&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here’s the python code (which could likely be much improved)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; sys
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; time
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; boto3

ARG_PROFILE  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;aws-account-alias&apos;&lt;/span&gt;
ARN &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;arn:aws:sts::123456789012:role/human-role/redacted-project&apos;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  session &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Session&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;profile_name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;ARG_PROFILE&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;iam&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;generate_service_last_accessed_details&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      Arn&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;ARN
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  job_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;JobId&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sleep&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&apos;checking &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;job_id&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_service_last_accessed_details&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        JobId&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;job_id
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;JobStatus&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;COMPLETED&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;
  
  services &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; service &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ServicesLastAccessed&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;service&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;TotalAuthenticatedEntities&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      services&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;append&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;{LastAuthenticated} {ServiceName}&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;**&lt;/span&gt;service&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;sorted&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;services&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reverse&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sep&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;\n&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; __name__ &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;__main__&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    sys&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exit&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;main&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Architecture Decision Records (ADRs)]]></title><description><![CDATA[Recently, I was asked to do an architecture review on a couple of projects - one was just getting started, and the other was a PoC demoed at…]]></description><link>https://kevinhakanson.com/2018-12-18-architecture-decision-records-adrs</link><guid isPermaLink="false">https://kevinhakanson.com/2018-12-18-architecture-decision-records-adrs</guid><pubDate>Tue, 18 Dec 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Recently, I was asked to do an architecture review on a couple of projects - one was just getting started, and the other was a PoC demoed at a user conference.  Unfortunately, as with too many “agile” projects, existing architecture documentation could fit on a post-it note.&lt;/p&gt;
&lt;p&gt;This situation was explainable, but something I wanted to change going forward.  Given these were cloud-native projects looking at newer PaaS services, I concede that it is hard to know the entire architecture up front.  However, creating a simple Lucidchart diagram with ~10 icons doesn’t take long, so I took my best guess and made one for them.  I am OK with emergent design distributed amongst the team, but there needs to be a way for architecture documentation to happen.&lt;/p&gt;
&lt;p&gt;I remembered something from a ThoughtWorks blip called &lt;a href=&quot;https://www.thoughtworks.com/radar/techniques/lightweight-architecture-decision-records&quot;&gt;Lightweight Architecture Decision Records&lt;/a&gt; and did some google searching.  &lt;a href=&quot;https://www.agilealliance.org/resources/experience-reports/distribute-design-authority-with-architecture-decision-records/&quot;&gt;Distribute Design Authority with Architecture Decision Records | Agile Alliance&lt;/a&gt; is a good article on the topic with a good set of references (for which I added links):&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Architecture Decision Record (ADR). (n.d.). Retrieved July 2, 2018, from &lt;a href=&quot;https://github.com/joelparkerhenderson/architecture_decision_record&quot;&gt;https://github.com/joelparkerhenderson/architecture_decision_record&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;Keeling, M. (2017). &lt;a href=&quot;https://learning.oreilly.com/library/view/design-it/9781680502923/&quot;&gt;Design It! From Programmer to Software Architect.&lt;/a&gt; Raleigh, NC: Pragmatic Programmers.&lt;/li&gt;
&lt;li&gt;Keeling, M., &amp;#x26; Runde, J. (2017). &lt;a href=&quot;https://saturn2017.sched.com/event/9k2y/architecture-decision-records-in-action&quot;&gt;Architecture Decision Records in Action.&lt;/a&gt; SATURN. Denver.&lt;/li&gt;
&lt;li&gt;Nygard, M. (2011, November 15). Documenting Architecture Decisions. Retrieved July 2, 2018, from &lt;a href=&quot;http://thinkrelevance.com/blog/2011/11/15/documenting-architecture-decisions&quot;&gt;http://thinkrelevance.com/blog/2011/11/15/documenting-architecture-decisions&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;Runde, J., Gala, C., &amp;#x26; Keeling, M. (2018). &lt;a href=&quot;https://saturn2018.sched.com/event/Ds0M/architectural-hoisting-or-how-i-learned-to-stop-writing-breaking-code-and-love-the-architecture&quot;&gt;Architectural Hoisting: Or How I Learned to Stop Writing Breaking Code and Love the Architecture.&lt;/a&gt; SATURN. Plano.&lt;/li&gt;
&lt;li&gt;Tyree, J., &amp;#x26; Akerman, A. (2005). &lt;a href=&quot;https://www.utdallas.edu/~chung/SA/zz-Impreso-architecture_decisions-tyree-05.pdf&quot;&gt;Architecture Decisions: Demystifying Architecture.&lt;/a&gt; IEEE Software , 22 (2), 19-27.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Anyone using Architecture Decision Records?  If so, are you storing them on a wiki, or alongside your source code?  What about diagrams - Lucidchart (easy to access/collaborate) or something like &lt;a href=&quot;https://www.draw.io/&quot;&gt;https://www.draw.io/&lt;/a&gt; where you can check in the .xml into your repository?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Amazon DynamoDB Deep Dive: Advanced Design Patterns for DynamoDB (DAT401)]]></title><description><![CDATA[Notes from watching AWS re:Invent 2018: Amazon DynamoDB Deep Dive: Advanced Design Patterns for DynamoDB (DAT401) - YouTube (slides). A…]]></description><link>https://kevinhakanson.com/2018-12-04-amazon-dynamodb-deep-dive-advanced-design-patterns-for-dynamodb-dat401</link><guid isPermaLink="false">https://kevinhakanson.com/2018-12-04-amazon-dynamodb-deep-dive-advanced-design-patterns-for-dynamodb-dat401</guid><pubDate>Tue, 04 Dec 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Notes from watching &lt;a href=&quot;https://www.youtube.com/watch?v=HaEPXoXVf2k&quot;&gt;AWS re:Invent 2018: Amazon DynamoDB Deep Dive: Advanced Design Patterns for DynamoDB (DAT401) - YouTube&lt;/a&gt; (&lt;a href=&quot;https://www.slideshare.net/AmazonWebServices/amazon-dynamodb-deep-dive-advanced-design-patterns-for-dynamodb-dat401-aws-reinvent-2018pdf&quot;&gt;slides&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;A presentation worth watching to understand building DynamoDB solutions better.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;About 29:30 in speaker says “NoSQL is not a flexible database, it is an efficient database” as the speaker pushes on the importance of data modeling and understanding your use cases.&lt;/li&gt;
&lt;li&gt;Speaker’s idea is SQL is built for space efficiency and easy to join when you don’t know your problem, but CPU heavy - and NoSQL best when you model your data for your specific problem in the right structure, so is flexible for many problems, but not flexible to have 1 data structure for all problems.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;At some point DynamoDB Streams are mentioned, which are a feed of all data writes, and can be used by lambda to do aggregation functions and pre-compute results.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/blogs/database/dynamodb-streams-use-cases-and-design-patterns/&quot;&gt;DynamoDB Streams Use Cases and Design Patterns | AWS Database Blog&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;About 43 minutes into the video as he talks transaction apis and you should almost always use just 1 table - take a look at this Schema - which I has to pause and study&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d30867cc331fc8a4744ca37e7ea1f65f/fa85d/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.514913657770805%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACWElEQVQoz0WTWXMSQRSF+eeW/yG++WD0LWVZigmBgQFCwpIFq0jYFRkCDLMxwzYQ1s/uxmhXnbq3t3OXPh0pl8t0Oh0ajQbNZpNqtUqr1aJWq/21ddrtNoPBANM0GY1GWJb1D7aAOTQJgoBsOktEHthut4TLkNVqxXK5ZLPZ8rJes9/tWAv7st7wOvYH2O724syOzfaIvVwUo15vEOn3+2pyOIjFw175oXnPMPuWQTOB43bYb6Zib4vvWUwDl7E7wrUGePYQR9jFzFf3HisVIrKU/+MYaWpc416/YVB6h/v4ibB9RkM/4dfVCV7lVOAjRvE91o8PeI+njMWZw/NXHnLRY4ayrMViwXw+F6VIP2QRrtjtNiqIbZl8+XxGJqWR0uJk9SS6ppG4vCARO6dwnSNwHWHzRIyugW3bjMyRarxsriQPZyGbpSDcgTty+R49Jyrw7VuUVCpN/DKh5hKFfJFgPKFwUyTS7XaZTWf4vq/I5MOMA5/nShe7OsT/6WLXTQrZPFIRt6Vbyg9l7u/uubu9U6hX64IwoJgviQwNg9lsxmQyUaTLcEkYhjimjdkbMg9mjC2PeCyOruvELmJoCU1B+vHLSzLpDK1mi7QuZNPr9RSBJJUZSn8hJBT89hg+GDhVob1KH+1cI5fLkdRE/1K6Ik8mU6J8nVKxhGVa3ORED3tGD9cVUhiPcWxHPcx8vhBzX/myBbKntWqNdqsttFZX2chPIP1mQ36G495VNkdEbnqux3Q6VZdlhhKSTJK6jgjmjfEEZODXR5NBj8HnShVPT09kRMl/AIFHGxKxskCIAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;DynamoDB Table Schema&quot;
        title=&quot;DynamoDB Table Schema&quot;
        src=&quot;/static/d30867cc331fc8a4744ca37e7ea1f65f/b9e4f/pastedImage_2.png&quot;
        srcset=&quot;/static/d30867cc331fc8a4744ca37e7ea1f65f/cf440/pastedImage_2.png 148w,
/static/d30867cc331fc8a4744ca37e7ea1f65f/d2d38/pastedImage_2.png 295w,
/static/d30867cc331fc8a4744ca37e7ea1f65f/b9e4f/pastedImage_2.png 590w,
/static/d30867cc331fc8a4744ca37e7ea1f65f/f9b6a/pastedImage_2.png 885w,
/static/d30867cc331fc8a4744ca37e7ea1f65f/2d849/pastedImage_2.png 1180w,
/static/d30867cc331fc8a4744ca37e7ea1f65f/fa85d/pastedImage_2.png 1911w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Table at 56:38 is an interesting artifact for a complex data modeling scenario that started a couple minutes before&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/46b99c2b941445dc8b0f0ec789157fed/aeb3e/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.49717514124294%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAB20lEQVQozz1Sa5OaQBDkjwYFvbtKqvJbkzvU3BlEeQrIAvJQAh8628N5VE3NsNvbPT27RnpO0fUd2q6FKhWyPMW1ueJ+v6NtO2RZpnOL8d+I63VeH8cRVVmhrmpM04RSlZL/7N5hhEEIpRTiOEaSJAiCAP7JR57nkj3PQxiGsuf+daUmURzFiKJIROI4QV3XeHt1YERhhKZpUBSFbDKqqkLXdUJKIqUKWbtcLpJvt5vgGeyYAuzacTa6Q61Iwge4LEsB0iaDNcmJoROu0a7rujgej7I+3Afw+yLs+16IRE23zhiGQQ6z7rt5nxYpQGHf9xH4gdQM4p23zTxDgtM0lcPn5Cw2Z/uN2Hl0KvYLJdjtZovddidjYZfTNH4S6g4FrC9FqbkLBlVlFPkFbdOi0eQk4xqF2SGDwlmWy1iEkLdKReYszeRWD4eDKBNMQiHRnbImGcU+3j8kiPm6FBKyG1qibQIfz4cHOVMZup5PrfcyLcwLYcgMg3mGdMB3uHG2ME7HkzxePh9aJ4jBG+U8+RYTnec5Z5Ip5h08ccP//X4vjfz+9QpjYS5gLS1ItiyY30yYurYtW2dT/peLpf5f6VhjtXrCyn6CtbBhL9d4WX/H2nrGj5efsM1n/AeZBRf+SuxaugAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Query Conditions&quot;
        title=&quot;Query Conditions&quot;
        src=&quot;/static/46b99c2b941445dc8b0f0ec789157fed/b9e4f/pastedImage_3.png&quot;
        srcset=&quot;/static/46b99c2b941445dc8b0f0ec789157fed/cf440/pastedImage_3.png 148w,
/static/46b99c2b941445dc8b0f0ec789157fed/d2d38/pastedImage_3.png 295w,
/static/46b99c2b941445dc8b0f0ec789157fed/b9e4f/pastedImage_3.png 590w,
/static/46b99c2b941445dc8b0f0ec789157fed/aeb3e/pastedImage_3.png 708w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/best-practices.html&quot;&gt;Best Practices for DynamoDB - Amazon DynamoDB&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Conclusions Slide:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;NoSQL does not mean non-relational&lt;/li&gt;
&lt;li&gt;The ERD still matters&lt;/li&gt;
&lt;li&gt;RDBMS is not deprecated by NoSQL&lt;/li&gt;
&lt;li&gt;Use NoSQL for OTLP or DSS at scale.&lt;/li&gt;
&lt;li&gt;Use RDBMS for OLAP or OLTP when scale is not important.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/best-practices.html&quot;&gt;https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/best-practices.html&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[CloudFront and Disaster Recovery: Part 2]]></title><description><![CDATA[Last year I wrote CloudFront and Disaster Recovery based on the ability to use Lambda@Edge to “generate HTTP responses when CloudFront…]]></description><link>https://kevinhakanson.com/2018-11-21-cloudfront-and-disaster-recovery-part-2</link><guid isPermaLink="false">https://kevinhakanson.com/2018-11-21-cloudfront-and-disaster-recovery-part-2</guid><pubDate>Wed, 21 Nov 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Last year I wrote &lt;a href=&quot;../2017-12-12-cloudfront-and-disaster-recovery&quot;&gt;CloudFront and Disaster Recovery&lt;/a&gt; based on the ability to use Lambda@Edge to “generate HTTP responses when CloudFront viewer request or origin request events occur.”&lt;/p&gt;
&lt;p&gt;This year &lt;a href=&quot;https://aws.amazon.com/about-aws/whats-new/2018/11/amazon-cloudfront-announces-support-for-origin-failover/&quot;&gt;Amazon CloudFront announces support for Origin Failover&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;With CloudFront’s Origin Failover capability, you can setup two origins for your distributions - primary and secondary, such that your content is served from your secondary origin if CloudFront detects that your primary origin is unavailable. CloudFront already allows you to configure custom error pages or generate redirects with Lambda@Edge if your origin is unavailable. Now with Origin Failover, you can easily setup failover logic between combinations of AWS origins or non-AWS custom HTTP origins such that there is minimal interruption to your viewer’s experience. &lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[AWS Cloud9 and Sharing with Role Issue]]></title><description><![CDATA[A co-worker and I were investigating AWS Cloud9 and the ability to share environments.  However, when you do a Window - Share… from inside…]]></description><link>https://kevinhakanson.com/2018-11-21-aws-cloud9-and-sharing-with-role-issue</link><guid isPermaLink="false">https://kevinhakanson.com/2018-11-21-aws-cloud9-and-sharing-with-role-issue</guid><pubDate>Wed, 21 Nov 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;A co-worker and I were investigating &lt;a href=&quot;https://aws.amazon.com/cloud9/&quot;&gt;AWS Cloud9&lt;/a&gt; and the ability to share environments.  However, when you do a &lt;strong&gt;Window - Share…&lt;/strong&gt; from inside the environment, you get this dialog:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 379px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/82e16ca28938d14d45afab1f9ed7afb6/39eb8/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.54089709762533%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAACV0lEQVQ4y5VV2W7aQBTl/78jXV6iVErVRghVKQ+ofelDHypUlYDN4gVs4xVsbJ/OufY4JkorGOnozpiZc/fLYDqdYrFYYD6fCwzDkPNqtYJt21eBbweO48D3fex2O2y3W4FlWUiSBHVdo6qqi5GmKQYkCMMQ+/1eZH+VZXkxGZVnWdYQ0kINkhRFgTzPcTqdZE/5EvoOcTwe5SyEQRDIhi6TkJpoOmNCZa7rCnhmeAieKdebjcA0l+pt8EwYx7HEjURctMDzvA5U8vqqz/YSQ8aOzNTIGJKAllHSEu55R4eE330qCkJYfoKNF8N0I8SZcv1wwICXDmpDS/mQiKJIskxJ67mnJOSbQhQn8KMDvFAZE6TIjoXwDGzbUTEwYRomlsulfBQHWjcp++h+E1St2w0khqHnKle2mM1mov3qclGYOqoG81q5zKRsbZRVjlSx0zVdU5egai39ZfcI/WB/5uI1naGhXj27HKik9GPVFcGLUtFt+JqlZb9TmGVd5UwIwT2rX58J3mFs/wUq6whZDv1C5rd+7bGLdPYbN2kVQaJSZK0yLmXDguao4uhZr9fSJedTpm5RddbUtY7b+RJCFjQv9V3Tj6seeKaysjwhyY747Rb4bnxReMA34zN+rB+b1tOdwhrUHcJznhdIVfVnSrIL8qJsk1BJm/3cnDB++oSvs1s8/rlVpA9I0qQhZA/r4dpMFwc7z8fcCmC4IZ6sPXZhKmT/c5mjTFy+bJ1P77KscP/xHu/ev8XdhzvcvLnBXP11dISXTuW+nEwmGI1GGI/HGA6HktS/1MRUUOBlep8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Cloud9 Dialog&quot;
        title=&quot;Cloud9 Dialog&quot;
        src=&quot;/static/82e16ca28938d14d45afab1f9ed7afb6/39eb8/pastedImage_3.png&quot;
        srcset=&quot;/static/82e16ca28938d14d45afab1f9ed7afb6/cf440/pastedImage_3.png 148w,
/static/82e16ca28938d14d45afab1f9ed7afb6/d2d38/pastedImage_3.png 295w,
/static/82e16ca28938d14d45afab1f9ed7afb6/39eb8/pastedImage_3.png 379w&quot;
        sizes=&quot;(max-width: 379px) 100vw, 379px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;However, we are not using IAM users, but roles assumed via SAML.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws sts get-caller-identity
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Account&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456789012&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;UserId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:kevin.hakanson@example.com&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, I know that all AWS features have an API and can be called via the AWS CLI, so I thought I would just call &lt;a href=&quot;https://docs.aws.amazon.com/cli/latest/reference/cloud9/create-environment-membership.html&quot;&gt;create-environment-membership&lt;/a&gt; from the Cloud9 IDE integrated terminal.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws --version
aws-cli/1.15.83 Python/2.7.14 Linux/4.14.72-68.55.amzn1.x86_64 botocore/1.10.82

$ aws ec2 describe-instances &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--instance-id &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -s http://169.254.169.254/latest/meta-data/instance-id&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--query &lt;span class=&quot;token string&quot;&gt;&quot;Reservations[*].Instances[*].Tags[?Key==&apos;aws:cloud9:environment&apos;].Value&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--output text
6a26600d70aa41cd9b81bdb662b1c715

$ aws cloud9 describe-environment-memberships --environment-id 6a26600d70aa41cd9b81bdb662b1c715
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;memberships&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;environmentId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;6a26600d70aa41cd9b81bdb662b1c715&quot;&lt;/span&gt;, 
            &lt;span class=&quot;token string&quot;&gt;&quot;lastAccess&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1542842576.0&lt;/span&gt;, 
            &lt;span class=&quot;token string&quot;&gt;&quot;userId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:kevin.hakanson@example.com&quot;&lt;/span&gt;, 
            &lt;span class=&quot;token string&quot;&gt;&quot;userArn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;, 
            &lt;span class=&quot;token string&quot;&gt;&quot;permissions&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;owner&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But it didn’t work as expected when I tried to add my trusted coworker. Adding the &lt;strong&gt;--debug&lt;/strong&gt; flag didn’t give me any more info.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws cloud9 create-environment-membership &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--environment-id 6a26600d70aa41cd9b81bdb662b1c715 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--user-arn arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/trusted.coworker@example.com &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--permissions read-only

An error occurred &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;UnrecognizedClientException&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; when calling the CreateEnvironmentMembership operation: The security token included &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; the request is invalid&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When I went to a terminal on my Mac and tried the same command (as the same assumed role), it succeeded.  So, it doesn’t seem like an IAM permission issue for my role.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws sts get-caller-identity
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;UserId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:kevin.hakanson@example.com&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;Account&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456789012&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

$ aws cloud9 create-environment-membership &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--environment-id 6a26600d70aa41cd9b81bdb662b1c715 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--user-arn arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/trusted.coworker@example.com &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--permissions read-only --region us-east-2
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;membership&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;permissions&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;read-only&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;userId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:trusted.coworker@example.com&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;userArn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/trusted.coworker@example.com&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;environmentId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;6a26600d70aa41cd9b81bdb662b1c715&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Back in the Cloud9 IDE terminal, I checked and saw the membership was updated.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws cloud9 describe-environment-memberships --environment-id 6a26600d70aa41cd9b81bdb662b1c715
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;memberships&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;environmentId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;6a26600d70aa41cd9b81bdb662b1c715&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;userId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:trusted.coworker@example.com&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;userArn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/trusted.coworker@example.com&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;permissions&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;read-only&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;environmentId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;6a26600d70aa41cd9b81bdb662b1c715&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;lastAccess&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1542846944.0&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;userId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:kevin.hakanson@example.com&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;userArn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;permissions&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;owner&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I’m not sure what went wrong.  There is no record in CloudTrail, but when I look at &lt;a href=&quot;https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-unsupported-aws-services.html&quot;&gt;CloudTrail Unsupported Services&lt;/a&gt; I see AWS Cloud9 listed.  I did find in the &lt;a href=&quot;https://docs.aws.amazon.com/cloud9/latest/user-guide/auth-and-access-control.html#auth-and-access-control-temporary-managed-credentials-supported&quot;&gt;Actions Supported by AWS Managed Temporary Credentials&lt;/a&gt; for AWS Cloud9 EC2 development environments that there is an IAM restriction that could be responsible.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;All IAM actions that interact with roles are allowed only for role names starting with Cloud9-.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This looks like an AWS Enterprise Support question - but a lower priority because I have a workaround (and it is Thanksgiving tomorrow and re:Invent next week).&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt;  Working with AWS Support, we realized I could add a role using the full arn via the UI. I closed my case with the suggestion that the “help text” on that “share this environment” screen should  be updated not just to reference “IAM username” but give an indication that a full ARN (include role) could be used.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Excited about Azure SignalR Service/ASP.NET Core SignalR]]></title><description><![CDATA[I hadn’t been paying much attention to SignalR lately, but recently listened to .NET Rocks! SignalR with Anthony Chu and got excited.  I had…]]></description><link>https://kevinhakanson.com/2018-11-08-excited-about-azure-signalr-serviceaspnet-core-signalr</link><guid isPermaLink="false">https://kevinhakanson.com/2018-11-08-excited-about-azure-signalr-serviceaspnet-core-signalr</guid><pubDate>Thu, 08 Nov 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I hadn’t been paying much attention to SignalR lately, but recently listened to &lt;a href=&quot;https://dotnetrocks.com/?show=1583&quot;&gt;.NET Rocks! SignalR with Anthony Chu&lt;/a&gt; and got excited.  I had always liked the idea of SignalR, and it worked great for .NET based web applications, but I saw gaps for a distributed, multi-language, microservice model and the proprietary protocol.&lt;/p&gt;
&lt;p&gt;However, with the re-write to .NET Core and the Microsoft Azure hosted &lt;a href=&quot;https://azure.microsoft.com/en-us/services/signalr-service/&quot;&gt;SignalR Service&lt;/a&gt;, it is worth taking another look.  The binary protocol has been written and open sourced, the service can run independent of your ASP.NET app, and the hosted model takes care of all the scaling and integrates with either your REST endpoints or Azure Functions.&lt;/p&gt;
&lt;p&gt;Additional Links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/aspnet/SignalR&quot;&gt;GitHub - aspnet/SignalR: Incredibly simple real-time web for ASP.NET Core&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/aspnet/core/signalr/version-differences?view=aspnetcore-2.1&quot;&gt;Differences between SignalR and ASP.NET Core SignalR | Microsoft Docs&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/aspnet/core/tutorials/signalr?view=aspnetcore-2.1&amp;#x26;tabs=visual-studio&quot;&gt;Get started with ASP.NET Core SignalR | Microsoft Docs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA["Full Stack" Caching Strategy]]></title><description><![CDATA[“Caching is somebody else’s problem, until it’s not” - me (just now) OK, so that’s a dumb quote I just made up, until it’s not…]]></description><link>https://kevinhakanson.com/2018-10-17-full-stack-caching-strategy</link><guid isPermaLink="false">https://kevinhakanson.com/2018-10-17-full-stack-caching-strategy</guid><pubDate>Wed, 17 Oct 2018 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;“Caching is somebody else’s problem, until it’s not” - me (just now)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;OK, so that’s a dumb quote I just made up, until it’s not.  Microservices do their work, generate their HTTP, response and sent it to the browser.  Often, it isn’t until there is a performance or scale problem before a caching strategy gets addressed.&lt;/p&gt;
&lt;p&gt;How might a “full stack” caching strategy work?  Take a look at the representative diagram below:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/060abe886d7de5d435e5ba957a004142/f4f98/pastedImage_5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.578947368421055%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABibAAAYmwFJdYOUAAABe0lEQVQY012Ry27TUBCG/ZLwAOxY8wwg6IKbwhK1G3qRSiliA0VIqYCAq9xKCSUhjnNzmrq1G9+Oj+PLx4kroYqRRrP4R59m/l9bJksSkbKUKSKKsM4uCMKYbJmTJQUr/WYVRUGhZrbqLCPt18gCh7wUc7QgDNB7B+hmlfFsxJ/2a+ajBo2uzsf6LrZjk0mB8fYFkVEvofGgjvfrM1JRrtbv4lZu413OS02LREh7+J1aq4LZesig8ZxR/REt/T7N/hdm9gzPGnD8+A7jgw18BXH3H+Bu3isB/uQU6+ktUqtzDQxDn3e1bfY+rTEb7GEq4OTnSwi75UIQ5eU7ncP3OJMu02GDsfkD87BKd3cH4QsuvIjKGx3bk2giFnSMJidGG2fhYVsnuJdThLJOBiPOe1uc/X6FCA3iRHJ6tMHUqBLNDazmB4TTJ5aSZ/tN5osY7T/H/41cnZVFJm6vwnnnCYnzlTSFRIWUqkTk1TcWw3X88TapXJCrgFah/AU0T7UJuGK4wgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;full stack caching&quot;
        title=&quot;full stack caching&quot;
        src=&quot;/static/060abe886d7de5d435e5ba957a004142/b9e4f/pastedImage_5.png&quot;
        srcset=&quot;/static/060abe886d7de5d435e5ba957a004142/cf440/pastedImage_5.png 148w,
/static/060abe886d7de5d435e5ba957a004142/d2d38/pastedImage_5.png 295w,
/static/060abe886d7de5d435e5ba957a004142/b9e4f/pastedImage_5.png 590w,
/static/060abe886d7de5d435e5ba957a004142/f9b6a/pastedImage_5.png 885w,
/static/060abe886d7de5d435e5ba957a004142/f4f98/pastedImage_5.png 1140w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let’s start with the microservice and follow the response out.  How much of a response could benefit from a cache?  If it is partially built from of a query result, look at an external cache that works with your database.  If it is the entire HTTP response, look at something that works with your web server pipeline.  However, with all shared caches, think about security and privacy so you don’t disclose one customer’s data to another.  Some additional links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/azure/redis-cache/cache-aspnet-output-cache-provider&quot;&gt;Cache ASP.NET Output Cache Provider | Microsoft Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://nhibernate.info/doc/nhibernate-reference/caches.html#NHibernate.Caches.CoreDistributedCache.Redis&quot;&gt;Chapter 26. NHibernate.Caches&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The response flows through NGINX, which has &lt;a href=&quot;https://www.nginx.com/products/nginx/caching/&quot;&gt;Content caching&lt;/a&gt; functionality.  However, this might not be the best place in the architecture for an application with lots of microservices.  Some additional links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.nginx.com/nginx/admin-guide/content-cache/content-caching/&quot;&gt;NGINX Docs | NGINX Content Caching&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.nginx.com/blog/nginx-caching-guide/&quot;&gt;A Guide to Caching with NGINX and NGINX Plus - NGINX&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The response may flow through a content delivery network (like CloudFront) where it could get cached on the “edge” based on the HTTP cache headers.  Early CDNs required you to push out “static content” and use a discrete hostname for browser connection limit reasons.  However, mature CDNs allow for “dynamic acceleration” where requests flow through and utilize HTTP cache headers.  HTTP/2 connections make a single hostname the preferred option.  These distributed shared caches are closer to the browser and give a network latency benefit.  Some additional links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/header-caching.html&quot;&gt;Caching Content Based on Request Headers - Amazon CloudFront&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/cloudfront/latest/APIReference/API_Headers.html&quot;&gt;Headers - Amazon CloudFront&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Expiration.html&quot;&gt;Managing How Long Content Stays in an Edge Cache (Expiration) - Amazon CloudFront&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Once the response gets to the browser, there is another ecosystem in play.  The browser has a private cache (populated by HTTP cache headers) and localStorage/indexedDB (populated by JavaScript code).  Additionally, “evergreen” browsers now support Service Workers which can intercept HTTP requests and have access to a Cache API.  Some additional links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching&quot;&gt;HTTP Caching  |  Web Fundamentals  |  Google Developers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/web/ilt/pwa/caching-files-with-service-worker&quot;&gt;Caching Files with Service Worker  |  Web  |  Google Developers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers&quot;&gt;Using Service Workers - Web APIs | MDN&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Any place that has a shared cache needs to be concerned about the cache key.  This is more than just the URL, since different users might get different results (e.g. /profile/me) or different Content Types might be returned based on Accept headers.  The Vary header is often used as part of the cache key.  Some additional links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.fastly.com/blog/getting-most-out-vary-fastly&quot;&gt;Getting the most out of Vary with Fastly&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.smashingmagazine.com/2017/11/understanding-vary-header/&quot;&gt;Understanding The Vary Header — Smashing Magazine&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This was just a quick overview as there is a lot more complexity to this topic.  What key parts are missing?  Where in the architecture makes the most sense to you, and how should a development team decide where caching belongs?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[X-XSS-Protection is Dead, Long Live Content-Security-Policy]]></title><description><![CDATA[In mid-July it was reported that XSS protection disappears from Microsoft Edge and Find out what’s new in Windows and Office in October…]]></description><link>https://kevinhakanson.com/2018-10-11-x-xss-protection-is-dead-long-live-content-security-policy</link><guid isPermaLink="false">https://kevinhakanson.com/2018-10-11-x-xss-protection-is-dead-long-live-content-security-policy</guid><pubDate>Thu, 11 Oct 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In mid-July it was reported that &lt;a href=&quot;https://portswigger.net/daily-swig/xss-protection-disappears-from-microsoft-edge&quot;&gt;XSS protection disappears from Microsoft Edge&lt;/a&gt; and &lt;a href=&quot;https://blogs.windows.com/windowsexperience/2018/10/02/find-out-whats-new-in-windows-and-office-in-october/&quot;&gt;Find out what’s new in Windows and Office in October&lt;/a&gt; confirms this happened.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Retired XSS Filter:&lt;/strong&gt; We are retiring the XSS filter in Microsoft Edge beginning with the October 2018 Update. Our customers remain protected thanks to modern standards like &lt;a href=&quot;https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FHTTP%2FCSP&amp;#x26;data=02%7C01%7C%7C1637778c952e44c3f3d908d623f92679%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636735950338487722&amp;#x26;sdata=0kd8LS0AikL0iBKIXI0ZEhUhsrdHVeP3ye4k%2FWlJtpA%3D&amp;#x26;reserved=0&quot;&gt;Content Security Policy&lt;/a&gt;, which provide more powerful, performant and secure mechanisms to protect against content injection attacks, with &lt;a href=&quot;https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fcaniuse.com%2F%23search%3Dcontent%2520security%2520policy&amp;#x26;data=02%7C01%7C%7C1637778c952e44c3f3d908d623f92679%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636735950338487722&amp;#x26;sdata=Kev9PTWrQ%2BRxjEgggBqCNJrQjdNnRqXxWHf8vpz29vI%3D&amp;#x26;reserved=0&quot;&gt;high compatibility across modern browsers&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;MDN Web Docs for &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection&quot;&gt;X-XSS-Protection&lt;/a&gt; also refer to &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP&quot;&gt;Content Security Policy (CSP)&lt;/a&gt; as the preferred solution&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The HTTP &lt;code class=&quot;language-text&quot;&gt;X-XSS-Protection&lt;/code&gt; response header is a feature of Internet Explorer, Chrome and Safari that stops pages from loading when they detect reflected cross-site scripting (&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Glossary/XSS&quot;&gt;XSS&lt;/a&gt;) attacks. Although these protections are largely unnecessary in modern browsers when sites implement a strong &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Content-Security-Policy&lt;/code&gt;&lt;/a&gt; that disables the use of inline JavaScript (&lt;code class=&quot;language-text&quot;&gt;&amp;#39;unsafe-inline&amp;#39;&lt;/code&gt;), they can still provide protections for users of older web browsers that don’t yet support &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Glossary/CSP&quot;&gt;CSP&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now go back to &lt;a href=&quot;https://portswigger.net/daily-swig/xss-protection-disappears-from-microsoft-edge&quot;&gt;XSS protection disappears from Microsoft Edge&lt;/a&gt; and see their analysis.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“The XSS Filter is supposed to be on by default,” Heyes explained. “However, it is now off by default, and even if you try to turn it on with &lt;code class=&quot;language-text&quot;&gt;X-XSS-Protection: 1&lt;/code&gt; it remains off.”&lt;/p&gt;
&lt;p&gt;“The only way to actually turn it on now is when you have the header &lt;code class=&quot;language-text&quot;&gt;X-XSS-Protection: 1; mode=block&lt;/code&gt;.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So, unless you are targeting IE11 (see &lt;a href=&quot;https://caniuse.com/#feat=contentsecuritypolicy&quot;&gt;https://caniuse.com/#feat=contentsecuritypolicy&lt;/a&gt;), it seems like it is time to embrace the &lt;a href=&quot;../2018-04-27-content-security-policy-http-header-braindump&quot;&gt;Content-Security-Policy HTTP Header Braindump&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS Shield, ReadOnly, and "not authorized to perform: shield:GetSubscriptionState" work-around]]></title><description><![CDATA[As a “ReadOnly” user, if you go to try and look at https://console.aws.amazon.com/waf/home#/ddp/onboard/info, you may get blocked with this…]]></description><link>https://kevinhakanson.com/2018-09-06-aws-shield-readonly-and-not-authorized-to-perform-shieldgetsubscriptionstate-work-around</link><guid isPermaLink="false">https://kevinhakanson.com/2018-09-06-aws-shield-readonly-and-not-authorized-to-perform-shieldgetsubscriptionstate-work-around</guid><pubDate>Thu, 06 Sep 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;As a “ReadOnly” user, if you go to try and look at &lt;a href=&quot;https://console.aws.amazon.com/waf/home#/ddp/onboard/info&quot;&gt;https://console.aws.amazon.com/waf/home#/ddp/onboard/info&lt;/a&gt;, you may get blocked with this message:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Identity and Access Management (IAM) policies currently restrict your access to the console. Contact your AWS administrator if you need help. If you are an AWS administrator, see the &lt;a href=&quot;http://docs.aws.amazon.com/waf/latest/developerguide/waf-iam.html&quot;&gt;AWS WAF documentation&lt;/a&gt;.  &lt;/p&gt;
&lt;p&gt;User: arn:aws:sts::123456789012:assumed-role/projectID-ReadOnly/kevin.hakanson@example.com is not authorized to perform: shield:GetSubscriptionState on resource: arn:aws:shield::123456789012:subscription/*&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Jump directly to the summary page with &lt;a href=&quot;https://console.aws.amazon.com/waf/home#/ddp/summary&quot;&gt;https://console.aws.amazon.com/waf/home#/ddp/summary&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;You can also verify the AWS Shield subscription using the AWS CLI, but make sure to target the &lt;code class=&quot;language-text&quot;&gt;us-east-1&lt;/code&gt; region (see &lt;a href=&quot;https://docs.aws.amazon.com/general/latest/gr/rande.html#shield_region&quot;&gt;AWS Regions and Endpoints&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws shield describe-subscription --region us-east-1
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Subscription&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;StartTime&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1531749886.0&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;EndTime&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1563372286.0&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;TimeCommitmentInSeconds&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;31622400&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;AutoRenew&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ENABLED&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Limits&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;Type&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ROUTE53_HOSTED_ZONE&quot;&lt;/span&gt;,
                &lt;span class=&quot;token string&quot;&gt;&quot;Max&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;Type&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;CF_DISTRIBUTION&quot;&lt;/span&gt;,
                &lt;span class=&quot;token string&quot;&gt;&quot;Max&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;Type&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ELB_LOAD_BALANCER&quot;&lt;/span&gt;,
                &lt;span class=&quot;token string&quot;&gt;&quot;Max&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;Type&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;EC2_ELASTIC_IP_ALLOCATION&quot;&lt;/span&gt;,
                &lt;span class=&quot;token string&quot;&gt;&quot;Max&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[AWS WAF vs AWS WAF Regional]]></title><description><![CDATA[Welcome - AWS WAF lists separate API references for AWS WAF and AWS WAF Regional.  AWS WAF is “available for protecting Amazon CloudFront…]]></description><link>https://kevinhakanson.com/2018-09-05-aws-waf-vs-aws-waf-regional</link><guid isPermaLink="false">https://kevinhakanson.com/2018-09-05-aws-waf-vs-aws-waf-regional</guid><pubDate>Wed, 05 Sep 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/waf/latest/APIReference/Welcome.html&quot;&gt;Welcome - AWS WAF&lt;/a&gt; lists separate API references for AWS WAF and AWS WAF Regional.  AWS WAF is “available for protecting Amazon CloudFront distributions” and AWSWAF Regional is “available for protecting Application Load Balancers.”  These APIs are almost identical, except for Web ACL management:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/waf/latest/APIReference/API_regional_AssociateWebACL.html&quot;&gt;AssociateWebACL&lt;/a&gt; / &lt;a href=&quot;https://docs.aws.amazon.com/waf/latest/APIReference/API_regional_DisassociateWebACL.html&quot;&gt;DisassociateWebACL&lt;/a&gt; (use WebACLId parameter of &lt;a href=&quot;https://docs.aws.amazon.com/cloudfront/latest/APIReference/API_UpdateDistribution.html&quot;&gt;UpdateDistribution - Amazon CloudFront&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/waf/latest/APIReference/API_regional_ListResourcesForWebACL.html&quot;&gt;ListResourcesForWebACL&lt;/a&gt; (use &lt;a href=&quot;https://docs.aws.amazon.com/cloudfront/latest/APIReference/API_ListDistributionsByWebACLId.html&quot;&gt;ListDistributionsByWebACLId - Amazon CloudFront&lt;/a&gt; )&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AWS WAF is available globally on CloudFront but only regionally on Application Load Balancers. From &lt;a href=&quot;https://docs.aws.amazon.com/general/latest/gr/rande.html#waf_region&quot;&gt;AWS Regions and Endpoints - Amazon Web Services&lt;/a&gt; (Sept 2018):&lt;/p&gt;
&lt;blockquote&gt;
&lt;h2&gt;AWS WAF&lt;/h2&gt;
&lt;p&gt;AWS WAF for CloudFront distributions has a single endpoint: waf.amazonaws.com. It supports HTTPS requests only.
| Region Name | Region | Endpoint | Protocol |
| --- | --- | --- | --- |
| US East (N. Virginia) | us-east-1 | waf.amazonaws.com | HTTPS |
| Canada (Central) | ca-central-1 | waf.amazonaws.com | HTTPS |
| EU (London) | eu-west-2 | waf.amazonaws.com | HTTPS |&lt;/p&gt;
&lt;p&gt;AWS WAF for Application Load Balancers has the following endpoints:
| Region Name | Region | Endpoint | Protocol |
| --- | --- | --- | --- |
| US East (Ohio) | us-east-2 | waf-regional.us-east-2.amazonaws.com | HTTPS |
| US East (N. Virginia) | us-east-1 | waf-regional.us-east-1.amazonaws.com | HTTPS |
| US West (N. California) | us-west-1 | waf-regional.us-west-1.amazonaws.com | HTTPS |
| US West (Oregon) | us-west-2 | waf-regional.us-west-2.amazonaws.com | HTTPS |
| Asia Pacific (Tokyo) | ap-northeast-1 | waf-regional.ap-northeast-1.amazonaws.com | HTTPS |
| Asia Pacific (Sydney) | ap-southeast-2 | waf-regional.ap-southeast-2.amazonaws.com | HTTPS |
| EU (Frankfurt) | eu-central-1 | waf-regional.eu-central-1.amazonaws.com | HTTPS |
| EU (Ireland) | eu-west-1 | waf-regional.eu-west-1.amazonaws.com | HTTPS |
| AWS GovCloud (US) | us-gov-west-1 | waf-regional.us-gov-west-1.amazonaws.com | HTTPS&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In addition to the documentation, other ways to look for supported regions are a CLI “list” operation or &lt;strong&gt;nslookup&lt;/strong&gt; the DNS name.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws waf-regional list-ip-sets --region eu-west-2

Could not connect to the endpoint URL: &lt;span class=&quot;token string&quot;&gt;&quot;https://waf-regional.eu-west-2.amazonaws.com/&quot;&lt;/span&gt;

$ &lt;span class=&quot;token function&quot;&gt;nslookup&lt;/span&gt; waf-regional.eu-west-2.amazonaws.com
Server: &lt;span class=&quot;token number&quot;&gt;10.204&lt;/span&gt;.50.29
Address: &lt;span class=&quot;token number&quot;&gt;10.204&lt;/span&gt;.50.29&lt;span class=&quot;token comment&quot;&gt;#53&lt;/span&gt;

** server can&apos;t &lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt; waf-regional.eu-west-2.amazonaws.com: NXDOMAIN

$ &lt;span class=&quot;token function&quot;&gt;nslookup&lt;/span&gt; waf-regional.us-west-2.amazonaws.com
Server: &lt;span class=&quot;token number&quot;&gt;10.204&lt;/span&gt;.50.29
Address: &lt;span class=&quot;token number&quot;&gt;10.204&lt;/span&gt;.50.29&lt;span class=&quot;token comment&quot;&gt;#53&lt;/span&gt;

Non-authoritative answer:
Name: waf-regional.us-west-2.amazonaws.com
Address: &lt;span class=&quot;token number&quot;&gt;52.94&lt;/span&gt;.210.110&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;These &lt;code class=&quot;language-text&quot;&gt;waf-regional&lt;/code&gt; API calls will return different results based on &lt;code class=&quot;language-text&quot;&gt;--region&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws waf-regional list-ip-sets --region us-east-1
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;NextMarker&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;7ec3bad0-7b26-491e-affa-00a2718a7160&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;IPSets&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;IPSetId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;777f1102-1803-4730-b666-fc22c452a366&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Name&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;project1-dev-match-blacklisted-ips&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;IPSetId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;7ec3bad0-7b26-491e-affa-00a2718a7160&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Name&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;project2-dev-match-blacklisted-ips&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

$ aws waf-regional list-ip-sets --region us-west-2
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;IPSets&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But the &lt;code class=&quot;language-text&quot;&gt;waf&lt;/code&gt; API call is global and returns the same results, ignoring the CLI &lt;code class=&quot;language-text&quot;&gt;--region&lt;/code&gt; parameter&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws waf list-ip-sets&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://aws.amazon.com/firewall-manager/&quot;&gt;AWS Firewall Manager | Centralized WAF Management&lt;/a&gt; does not have a separate API, but likely uses &lt;a href=&quot;https://docs.aws.amazon.com/waf/latest/APIReference/API_regional_PutPermissionPolicy.html&quot;&gt;PutPermissionPolicy - AWS WAF&lt;/a&gt; to “share a RuleGroup across accounts.”  A &lt;a href=&quot;https://docs.aws.amazon.com/waf/latest/APIReference/API_regional_RuleGroup.html&quot;&gt;RuleGroup&lt;/a&gt; is a “collection of predefined rules that you can add to a web ACL” and “subject to the following limits:”&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Three rule groups per account. You can request an increase to this limit by contacting customer support.&lt;/li&gt;
&lt;li&gt;One rule group per web ACL.&lt;/li&gt;
&lt;li&gt;Ten rules per rule group.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;To use &lt;a href=&quot;https://console.aws.amazon.com/waf/fms#/home&quot;&gt;https://console.aws.amazon.com/waf/fms#/home&lt;/a&gt; there are AWS Account level settings that need to be enabled:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Your AWS account must be part of an organization in AWS Organizations, and the account must have the full feature set enabled. &lt;a href=&quot;http://docs.aws.amazon.com/console/waf/fms-prereq&quot;&gt;Learn more&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;An AWS account must be set as an AWS Firewall Manager administrator. &lt;a href=&quot;http://docs.aws.amazon.com/console/waf/fms-prereq&quot;&gt;Learn more&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Cloud Custodian Code Confusion]]></title><description><![CDATA[A coworker and I were debugging incorrect results with our  Cloud Custodian policy.  Here is the filter that gave us 3 results when we were…]]></description><link>https://kevinhakanson.com/2018-09-04-cloud-custodian-code-confusion</link><guid isPermaLink="false">https://kevinhakanson.com/2018-09-04-cloud-custodian-code-confusion</guid><pubDate>Tue, 04 Sep 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;A coworker and I were debugging incorrect results with our &lt;code class=&quot;language-text&quot;&gt;app-elb-outdated-securitypolicy.yaml&lt;/code&gt; Cloud Custodian policy.  Here is the filter that gave us 3 results when we were expecting 2:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; listener
        &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Protocol
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTTPS
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; listener
        &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; SslPolicy
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-TLS-1-2-2017-01&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-FS-2018-06&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-TLS-1-2-Ext-2018-06&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; not&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;in&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;One of the extra items should have been excluded because of the SslPolicy &lt;code class=&quot;language-text&quot;&gt;not-in&lt;/code&gt; clause, but still appeared in our list.  We even changed the values in the array to garbage strings and no effect. So, we did what all good programmers do; assume it was a bug in someone else’s code, and try and work around it.  This workaround did what we expected, and we got 2 results:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; listener
        &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Protocol
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTTPS
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; listener
          &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; SslPolicy
          &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-TLS-1-2-2017-01&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-FS-2018-06&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-TLS-1-2-Ext-2018-06&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; in&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, that didn’t seem right, and since Cloud Custodian is open source, we dug into the &lt;a href=&quot;https://github.com/capitalone/cloud-custodian/blob/d0687ab74bd882a017d2d780ef991d5a7444836b/c7n/resources/appelb.py#L643&quot;&gt;code&lt;/a&gt; and found both custom logic and this comment:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Adding the `matched` flag will filter on previously matched listeners&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So, per the in-code documentation, we should add &lt;code class=&quot;language-text&quot;&gt;matched: true&lt;/code&gt; - this worked as expected.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; listener
        &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Protocol
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTTPS
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; listener
        &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; SslPolicy
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-TLS-1-2-2017-01&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-FS-2018-06&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-TLS-1-2-Ext-2018-06&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; not&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;in
        &lt;span class=&quot;token key atrule&quot;&gt;matched&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Some comments/frustrations:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Why couldn’t the documentation have better examples?  Going into the source code is a good way to see exactly what is going on, but time-consuming.  This is a down-side of open source.&lt;/li&gt;
&lt;li&gt;Why is the home-grown yaml policy language so confusing?  I like the idea of configuration over code, unless the configuration syntax requires more mental effort than reading code.&lt;/li&gt;
&lt;li&gt;How much harder will complex filter criteria make things.  If we are already struggling, how will this rule complexity scale?&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[AWS WAF / AWS Shield for DDoS Protection]]></title><description><![CDATA[One of the AWS Whitepapers is the 30-page AWS Best Practices for DDoS Resiliency (June 2018) which gives a overall summary of the topic as…]]></description><link>https://kevinhakanson.com/2018-08-31-aws-waf-aws-shield-for-ddos-protection</link><guid isPermaLink="false">https://kevinhakanson.com/2018-08-31-aws-waf-aws-shield-for-ddos-protection</guid><pubDate>Fri, 31 Aug 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;One of the &lt;a href=&quot;https://aws.amazon.com/whitepapers/#security&quot;&gt;AWS Whitepapers&lt;/a&gt; is the 30-page &lt;a href=&quot;https://d1.awsstatic.com/whitepapers/Security/DDoS_White_Paper.pdf&quot;&gt;AWS Best Practices for DDoS Resiliency (June 2018)&lt;/a&gt; which gives a overall summary of the topic as well as a good distinction where AWS Shield and AWS WAF fit.&lt;/p&gt;
&lt;p&gt;First, a definition and some key facts about DDoS:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A Denial of Service (DoS) attack is a deliberate attempt to make your website or application&lt;br&gt;
unavailable to users, such as by flooding it with network traffic.&lt;/p&gt;
&lt;p&gt;But in a Distributed Denial of Service (DDoS) attack, an attacker uses multiple sources […] to orchestrate an attack against a target.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Later, there is a distinction between &lt;em&gt;infrastructure layer attacks&lt;/em&gt; and &lt;em&gt;application layer attacks&lt;/em&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;DDoS attacks are most common at layers 3, 4, 6, and 7 of the Open Systems Interconnection (OSI) model, which is described in following table (Table 1). Layer 3 and 4 attacks correspond to the Network and Transport layers of the OSI model. We’ll refer to these collectively as &lt;em&gt;infrastructure layer attacks&lt;/em&gt;. Layer 6 and 7 attacks correspond to the Presentation and Application layers of the OSI model. We’ll address these together as &lt;em&gt;application layer attacks&lt;/em&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The Mitigation Techniques section starting on Page 7 highlights AWS Shield Advanced as a way to mitigate DDoS attacks.  The network level protection is most helpful for Infrastructure Layer Defense, but one of the many items included with the AWS Shield Advanced subscription is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Access to AWS WAF, at no additional cost, for the mitigation of application layer DDoS attacks (when used with Amazon CloudFront or ALB).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AWS WAF helps with Application Layer Defense but “requires you to implement an architecture that allows you to&lt;br&gt;
specifically detect, scale to absorb, and block malicious requests.”  &lt;a href=&quot;https://aws.amazon.com/blogs/aws/protect-web-sites-services-using-rate-based-rules-for-aws-waf/&quot;&gt;Protect Web Sites &amp;#x26; Services Using Rate-Based Rules for AWS WAF&lt;/a&gt; showcases a good rule to start with, even if used in count mode.  Moving beyond DDoS attacks applications can look at &lt;a href=&quot;https://d1.awsstatic.com/whitepapers/Security/aws-waf-owasp.pdf&quot;&gt;Use AWS WAF to Mitigate OWASP’s Top 10 Web Application Vulnerabilities&lt;/a&gt;, but these require synergy with the application architecture.&lt;/p&gt;
&lt;p&gt;The DDoS whitepaper also highlights Operational Techniques such as Visibility.  Included with AWS Shield Advanced is access to a number of additional CloudWatch metrics.  However, these are only valuable when monitored.&lt;/p&gt;
&lt;p&gt;Give the whitepaper a read through.  What key points do you see highlighted?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Investigating Web Cache Poisoning]]></title><description><![CDATA[Practical Web Cache Poisoning had me wondering about  header validation in one application I was consulting on.  I decided to test against…]]></description><link>https://kevinhakanson.com/2018-08-22-investigating-web-cache-poisoning</link><guid isPermaLink="false">https://kevinhakanson.com/2018-08-22-investigating-web-cache-poisoning</guid><pubDate>Wed, 22 Aug 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://portswigger.net/blog/practical-web-cache-poisoning&quot;&gt;Practical Web Cache Poisoning&lt;/a&gt; had me wondering about &lt;code class=&quot;language-text&quot;&gt;Host&lt;/code&gt; header validation in one application I was consulting on.  I decided to test against an internal endpoint that reflects back HTTP headers. I used &lt;code class=&quot;language-text&quot;&gt;curl&lt;/code&gt;’s &lt;a href=&quot;https://curl.haxx.se/docs/manpage.html#-H&quot;&gt;-H&lt;/a&gt; to lie about my &lt;code class=&quot;language-text&quot;&gt;Host&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;X-Forwarded-*&lt;/code&gt; headers and routed through an internal proxy server.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note: For these examples I replaced the real hostname with the reserved &lt;code class=&quot;language-text&quot;&gt;example.com&lt;/code&gt; from &lt;a href=&quot;https://tools.ietf.org/html/rfc6761&quot;&gt;Special-Use Domain Names&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt;  -H &lt;span class=&quot;token string&quot;&gt;&quot;Host: poison0.example.com&quot;&lt;/span&gt; -H &lt;span class=&quot;token string&quot;&gt;&quot;X-Forwarded-Host: poison1.example.com&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
-H &lt;span class=&quot;token string&quot;&gt;&quot;X-Forwarded-For: 1.1.1.1&quot;&lt;/span&gt; -H &lt;span class=&quot;token string&quot;&gt;&quot;X-Forwarded-Proto: ftp&quot;&lt;/span&gt; -H &lt;span class=&quot;token string&quot;&gt;&quot;X-Forwarded-Port: 8080&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--proxy &lt;span class=&quot;token number&quot;&gt;10.20&lt;/span&gt;.30.40:5678 https://ci.int.example.com/api/internalsecurity/v1/requests
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;headers&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;x-amzn-trace-id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Root=1-5b7db1ca-321c6f7616980480e520feb6&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;x-forwarded-host&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;poison0.example.com&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;x-forwarded-proto&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;host&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;poison0.example.com&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;x-forwarded-port&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;443&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;connection&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;close&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;x-forwarded-for&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1.1.1.1, 10.20.30.40&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;user-agent&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;curl/7.58.0&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;accept&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;*/*&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;URI&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://poison0.example.com/api/internalsecurity/v1/requests&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The AWS Application Load Balancers allow the &lt;code class=&quot;language-text&quot;&gt;Host&lt;/code&gt; header to pass through and correctly set the &lt;code class=&quot;language-text&quot;&gt;X-Forwarded-*&lt;/code&gt; headers on to the target.  The value for &lt;code class=&quot;language-text&quot;&gt;X-Forwarded-For&lt;/code&gt; is a chain of values that was appended to&lt;/p&gt;
&lt;p&gt;Recently Amazon added “Redirect Rules” into Application Load Balancers and can preform the &lt;code class=&quot;language-text&quot;&gt;www&lt;/code&gt; to naked domain logic by matching on &lt;code class=&quot;language-text&quot;&gt;Host&lt;/code&gt; and triggering a redirect.  Additionally, you could require all load balancer targets to match a known hostname which has the effect of Host validation.  The load balancer is already indirectly aware of hostnames by the fact it has a TLS Certificate configured containing numerous &lt;code class=&quot;language-text&quot;&gt;subjectAltName&lt;/code&gt; DNS entries.&lt;/p&gt;
&lt;p&gt;However, is it “better” to validate the &lt;code class=&quot;language-text&quot;&gt;Host&lt;/code&gt; by leveraging the virtual host functionality of &lt;code class=&quot;language-text&quot;&gt;nginx.conf&lt;/code&gt;?  This is already the place where the &lt;code class=&quot;language-text&quot;&gt;Host&lt;/code&gt; header value is copied to the &lt;code class=&quot;language-text&quot;&gt;X-Forwarded-Host&lt;/code&gt; header.   However, it may require specific &lt;code class=&quot;language-text&quot;&gt;nginx.conf&lt;/code&gt; files for each environment and regional deploy.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nginx&quot;&gt;&lt;pre class=&quot;language-nginx&quot;&gt;&lt;code class=&quot;language-nginx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;server_name&lt;/span&gt; www&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;example&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;com&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;301&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$scheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;example&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;com&lt;span class=&quot;token variable&quot;&gt;$request_uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;server_name&lt;/span&gt; example&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;com&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# [...]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://nginx.org/en/docs/http/server_names.html&quot;&gt;Server names&lt;/a&gt; from the nginx docs documents the strange name &lt;code class=&quot;language-text&quot;&gt;_&lt;/code&gt; which is “just one of a myriad of invalid domain names which never intersect with any real name.”&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nginx&quot;&gt;&lt;pre class=&quot;language-nginx&quot;&gt;&lt;code class=&quot;language-nginx&quot;&gt;    &lt;span class=&quot;token comment&quot;&gt;# This is the default server that will 444 on requests that do not&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# have an acceptable host name as defined in external_domains.conf&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;server_name&lt;/span&gt; _&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;444&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;external_domains&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;conf&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# [...]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In &lt;code class=&quot;language-text&quot;&gt;external_domains.conf&lt;/code&gt;, all the allowable &lt;code class=&quot;language-text&quot;&gt;server_name&lt;/code&gt;s are listed.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nginx&quot;&gt;&lt;pre class=&quot;language-nginx&quot;&gt;&lt;code class=&quot;language-nginx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;server_name&lt;/span&gt; example&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;com
    example&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;net
    example&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;org&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This configured worked in that it rejected “unwanted” &lt;code class=&quot;language-text&quot;&gt;Host&lt;/code&gt; headers.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[First Thoughts on AWS Cloud9]]></title><description><![CDATA[The other week I had trouble creating an AWS Cloud9 environment, so I tried again today - and with success, because I actually met the…]]></description><link>https://kevinhakanson.com/2018-07-05-first-thoughts-on-aws-cloud9</link><guid isPermaLink="false">https://kevinhakanson.com/2018-07-05-first-thoughts-on-aws-cloud9</guid><pubDate>Thu, 05 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The other week I had trouble creating an &lt;a href=&quot;https://aws.amazon.com/cloud9/&quot;&gt;AWS Cloud9&lt;/a&gt; environment, so I tried again today - and with success, because I actually met the requirements found at &lt;a href=&quot;https://docs.aws.amazon.com/cloud9/latest/user-guide/vpc-settings.html&quot;&gt;VPC Settings for AWS Cloud9 Development Environments&lt;/a&gt; and put the instance in a public subnet.  However, it created a Security Group with port 22 open to the internet - which I didn’t like…&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4663d487b8153911103496908d6b4bc6/99d00/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.964169381107492%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAAsElEQVQY051PSQ7DIBDj/79sG5YQIKxp1rowEj1VPXQkC2zskWEubfDlgI1P3MUEF1domzAoC6ln8NERlAmY5gJRtbReiMsBNYXq8aS10/gCJjiHlg/I4QYhBErJOM8Dv+b1ughfXsC897Rg37e6rGBZlspP/DtMSomcC2KMtNAYA6018Q6lFKHzVqLlQgjEU0qw1oLX31LD1qq3c86Rqd273jwt1LWcM8Zx/GS61nJvIlOCBOznWE0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Security Group Inbound rules&quot;
        title=&quot;Security Group Inbound rules&quot;
        src=&quot;/static/4663d487b8153911103496908d6b4bc6/b9e4f/pastedImage_3.png&quot;
        srcset=&quot;/static/4663d487b8153911103496908d6b4bc6/cf440/pastedImage_3.png 148w,
/static/4663d487b8153911103496908d6b4bc6/d2d38/pastedImage_3.png 295w,
/static/4663d487b8153911103496908d6b4bc6/b9e4f/pastedImage_3.png 590w,
/static/4663d487b8153911103496908d6b4bc6/f9b6a/pastedImage_3.png 885w,
/static/4663d487b8153911103496908d6b4bc6/2d849/pastedImage_3.png 1180w,
/static/4663d487b8153911103496908d6b4bc6/99d00/pastedImage_3.png 1228w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;..and neither did an automated security process because within a minute it removed that rule - which was good for security, but bad for accessing the Cloud9 based environment.  However, there are instructions to limit to specific IPs.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;All IP addresses using SSH over port 22. However, you can restrict these IP addresses to only those that AWS Cloud9 uses. For more information, see &lt;a href=&quot;https://docs.aws.amazon.com/cloud9/latest/user-guide/ip-ranges.html&quot;&gt;Inbound SSH IP Address Ranges&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I did that, and within seconds of saving, I was able to connect to my Cloud9 environment from the browser.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f5f1777a0001ecf7d99fc69879f0563f/a666d/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25.816733067729082%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAAxklEQVQY032P63KEIAxGff+3rGtVYJX7RQW+Ejp1pz92mTkTTgghDEInKH/ChAy+GbCGtAkLl2BPjUUorEJCSAexW2w6IBzApnw//2M3ES4VDE8h8D09wJcRj/ELovmREj6v+jY/KKVgjEUtGdd5IrZmRM755rquf/6ivGoapZTfhoxzaK1Beykl5nnukZwgZ4zdvq5rd6qhe/SrcRyx7TsG7x1Sm4i6E8dxwDuHWmt3mi7GeE9CeWNMfySE0D9KcZomWGvxA0zUgk91n9u7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Security Group Inbound rules&quot;
        title=&quot;Security Group Inbound rules&quot;
        src=&quot;/static/f5f1777a0001ecf7d99fc69879f0563f/b9e4f/pastedImage_4.png&quot;
        srcset=&quot;/static/f5f1777a0001ecf7d99fc69879f0563f/cf440/pastedImage_4.png 148w,
/static/f5f1777a0001ecf7d99fc69879f0563f/d2d38/pastedImage_4.png 295w,
/static/f5f1777a0001ecf7d99fc69879f0563f/b9e4f/pastedImage_4.png 590w,
/static/f5f1777a0001ecf7d99fc69879f0563f/f9b6a/pastedImage_4.png 885w,
/static/f5f1777a0001ecf7d99fc69879f0563f/2d849/pastedImage_4.png 1180w,
/static/f5f1777a0001ecf7d99fc69879f0563f/a666d/pastedImage_4.png 1255w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I opened the Terminal window and tested what sort of AWS access I had.  The environment runs with my Federated Identity credentials.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws sts get-caller-identity
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Account&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456789012&quot;&lt;/span&gt;, 
    &lt;span class=&quot;token string&quot;&gt;&quot;UserId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:kevin.hakanson@example.com&quot;&lt;/span&gt;, 
    &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

$ aws --version
aws-cli/1.14.9 Python/2.7.14 Linux/4.14.47-56.37.amzn1.x86_64 botocore/1.8.13&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;a href=&quot;https://docs.aws.amazon.com/cloud9/latest/user-guide/ami-contents.html&quot;&gt;Amazon Machine Image (AMI) Contents for an AWS Cloud9 EC2 Development Environment&lt;/a&gt; did not impress me as they had an outdated version of the awscli.  Also, I followed the &lt;a href=&quot;https://docs.aws.amazon.com/cloud9/latest/user-guide/sample-python.html&quot;&gt;Python Sample for AWS Cloud9&lt;/a&gt; which I think confused me even more because in one place it is using virtual environments  (&lt;code class=&quot;language-text&quot;&gt;virtualenv -p /usr/bin/python36 vpy36&lt;/code&gt;) and later running as sudo for the system Python (&lt;code class=&quot;language-text&quot;&gt;sudo python -m pip install boto3&lt;/code&gt;).  I did figure out how to create a custom “runner” that would use the virtualenv.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; .c9/runners/vpy36.run 
// Create a custom Cloud9 runner - similar to the Sublime build system
// For &lt;span class=&quot;token function&quot;&gt;more&lt;/span&gt; information see http://docs.aws.amazon.com/console/cloud9/create-run-config
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;cmd&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/home/ec2-user/environment/vpy36/bin/python&quot;&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;$file&lt;/span&gt;&quot;&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;$args&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;info&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Started &lt;span class=&quot;token variable&quot;&gt;$project_path&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$file_name&lt;/span&gt;&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;env&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;selector&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;source.ext&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Eventually I got some code to run, but I don’t think my Python environment is in a stable state - certainly not a “spin up and get coding” experience.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; boto3
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; sys
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; json

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    session &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Session&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    caller_identity &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_caller_identity&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dumps&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;caller_identity&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; indent&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; __name__ &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;__main__&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    sys&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exit&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;main&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Making a secure connection to ElastiCache (Redis)]]></title><description><![CDATA[In Redis Security Investigation, I recommended enabling both Encryption in-transit and Redis Auth.  Below is an ElastiCache Redis server I…]]></description><link>https://kevinhakanson.com/2018-06-27-making-a-secure-connection-to-elasticache-redis</link><guid isPermaLink="false">https://kevinhakanson.com/2018-06-27-making-a-secure-connection-to-elasticache-redis</guid><pubDate>Wed, 27 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In &lt;a href=&quot;../2018-06-22-redis-security-investigation&quot;&gt;Redis Security Investigation&lt;/a&gt;, I recommended enabling both Encryption in-transit and Redis Auth.  Below is an ElastiCache Redis server I created to test against.  Note that instead of port 6379, I specified 6380 (which seems to be the common Redis “SSL” port).&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0bace684c26c851bf3763ce568a6eeff/a987b/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 38.4375%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABIUlEQVQoz11S2bKFIAzz///PXURBR9z35a2XdAbHcx8KTAlpmuKVSpEfRFQqTcYYquua0jQlrTUJISjPc44oiqgoChJFTkorvgNOSsl7HMfUti15jelIaEOZVNQ0DSe7rqNlWTjGcaS+7zmvbfFQxCR1Yc+aiyMcft938joLlDK31SUTArCuKx3HwYD7vjme56Hzusg0tovqF3PZPAIYDyRaV0ykrAK0DUXDMPB+nucbIIAVUDvP80vk7pkQl77vsw84u0pOmXuAHWqcvyBE/othQiwwNssyVjVN048qR7ZtG5MlSfLiy7Jk/9D+2zKqhWHIAEwTD7+qnAoowiSDIOBpwyI3CFjxKqyqir8EvgEU4vF/hY4USuA5ukAx1+635T+1L1h/F8lrCgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Redis Cluster Information&quot;
        title=&quot;Redis Cluster Information&quot;
        src=&quot;/static/0bace684c26c851bf3763ce568a6eeff/b9e4f/pastedImage_2.png&quot;
        srcset=&quot;/static/0bace684c26c851bf3763ce568a6eeff/cf440/pastedImage_2.png 148w,
/static/0bace684c26c851bf3763ce568a6eeff/d2d38/pastedImage_2.png 295w,
/static/0bace684c26c851bf3763ce568a6eeff/b9e4f/pastedImage_2.png 590w,
/static/0bace684c26c851bf3763ce568a6eeff/f9b6a/pastedImage_2.png 885w,
/static/0bace684c26c851bf3763ce568a6eeff/2d849/pastedImage_2.png 1180w,
/static/0bace684c26c851bf3763ce568a6eeff/a987b/pastedImage_2.png 1920w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;However, the &lt;code class=&quot;language-text&quot;&gt;redis-cli&lt;/code&gt; doesn’t support encrypted connections so I had to install &lt;code class=&quot;language-text&quot;&gt;stunnel&lt;/code&gt; with help from &lt;a href=&quot;https://help.compose.com/docs/redis-and-redis-cli#section-using-redis-cli-with-ssltls&quot;&gt;Using redis-cli with SSL/TLS | Compose Help&lt;/a&gt; and &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/redis-cache/cache-how-to-redis-cli-tool&quot;&gt;How to use redis-cli with Azure Redis Cache | Microsoft Docs&lt;/a&gt; to create my &lt;code class=&quot;language-text&quot;&gt;stunnel.conf&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; /etc/stunnel/stunnel.conf
pid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; /run/stunnel-redis.pid

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;redis-cli&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;yes&lt;/span&gt;
accept &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;127.0&lt;/span&gt;.0.1:6379
connect &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; master.a204503-kjh-auth.jbfxlf.use1.cache.amazonaws.com:6380&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This allowed me to connect to localhost:6379 which would be an SSL proxy to the remote Redis server.  You can also see the connection is refused without the proper AUTH token.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ redis-cli -h &lt;span class=&quot;token number&quot;&gt;127.0&lt;/span&gt;.0.1 -p &lt;span class=&quot;token number&quot;&gt;6379&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ping&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; NOAUTH Authentication required.

$ redis-cli -h &lt;span class=&quot;token number&quot;&gt;127.0&lt;/span&gt;.0.1 -p &lt;span class=&quot;token number&quot;&gt;6379&lt;/span&gt; -a &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;REDACTED&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ping&lt;/span&gt;
PONG&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: [REDACTED] isn’t my real AUTH token. See &lt;a href=&quot;../2018-06-27-selecting-an-elasticache-redis-auth-token&quot;&gt;Selecting an ElastiCache (Redis) AUTH token&lt;/a&gt; for recommendations on this topic.&lt;/p&gt;
&lt;p&gt;To show this is the server from the screenshot above, here are some select lines from the &lt;code class=&quot;language-text&quot;&gt;info&lt;/code&gt; command:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ redis-cli -h &lt;span class=&quot;token number&quot;&gt;127.0&lt;/span&gt;.0.1 -p &lt;span class=&quot;token number&quot;&gt;6379&lt;/span&gt; -a &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;REDACTED&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; info
&lt;span class=&quot;token comment&quot;&gt;# Server&lt;/span&gt;
redis_version:4.0.10
redis_mode:standalone
os:Amazon ElastiCache
tcp_port:6380

&lt;span class=&quot;token comment&quot;&gt;# SSL&lt;/span&gt;
ssl_enabled:yes&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://help.compose.com/docs/redis-and-python&quot;&gt;Redis and Python | Compose Help&lt;/a&gt; provided me with sample Python code I also tested with.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; redis

&lt;span class=&quot;token comment&quot;&gt;# connection string and initialization&lt;/span&gt;
r &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; redis&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;StrictRedis&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    host&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;master.a204503-kjh-auth.jbfxlf.use1.cache.amazonaws.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    port&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6380&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    password&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;[REDACTED]&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    ssl&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;#test the connection&lt;/span&gt;
value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For Java users, Jedis can use the &lt;a href=&quot;https://www.iana.org/assignments/uri-schemes/prov/rediss&quot;&gt;rediss&lt;/a&gt; scheme to connect. Sample code derived from &lt;a href=&quot;https://github.com/xetorthio/jedis/blob/master/src/test/java/redis/clients/jedis/tests/SSLJedisTest.java&quot;&gt;jedis/SSLJedisTest.java&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connectWithUrl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// The &quot;rediss&quot; scheme instructs jedis to open a SSL/TLS connection.&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;Jedis&lt;/span&gt; jedis &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Jedis&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;rediss://master.a204503-kjh-auth.jbfxlf.use1.cache.amazonaws.com:6380&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    jedis&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;auth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;[REDACTED]&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;assertEquals&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;PONG&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jedis&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    jedis&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For C# users, set &lt;a href=&quot;https://stackexchange.github.io/StackExchange.Redis/Configuration.html&quot;&gt;StackExchange.Redis&lt;/a&gt; ConfigurationOptions this way:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;csharp&quot;&gt;&lt;pre class=&quot;language-csharp&quot;&gt;&lt;code class=&quot;language-csharp&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; options &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ConfigurationOptions&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Endpoint &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;master.a204503-kjh-auth.jbfxlf.use1.cache.amazonaws.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Endpoints without an explicit port will use 6379 if ssl is not enabled, and 6380 if ssl is enabled&lt;/span&gt;
    Password &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[Redacted]&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    Ssl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; True
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Selecting an ElastiCache (Redis) AUTH token]]></title><description><![CDATA[Redis Security highlights some items about selecting an AUTH token (password). It should be long enough to prevent brute force attacks for…]]></description><link>https://kevinhakanson.com/2018-06-27-selecting-an-elasticache-redis-auth-token</link><guid isPermaLink="false">https://kevinhakanson.com/2018-06-27-selecting-an-elasticache-redis-auth-token</guid><pubDate>Wed, 27 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://redis.io/topics/security&quot;&gt;Redis Security&lt;/a&gt; highlights some items about selecting an AUTH token (password).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It should be long enough to prevent brute force attacks for two reasons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redis is very fast at serving queries. Many passwords per second can be tested by an external client.&lt;/li&gt;
&lt;li&gt;The Redis password is stored inside the &lt;code class=&quot;language-text&quot;&gt;redis.conf&lt;/code&gt; file and inside the client configuration, so it does not need to be remembered by the system administrator, and thus it can be very long.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;From &lt;a href=&quot;https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/auth.html&quot;&gt;Authenticating Users with Redis AUTH - Amazon ElastiCache for Redis&lt;/a&gt; we see some additional AUTH constraints.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;AUTH Token Constraints when using with ElastiCache&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Passwords must be at least 16 and a maximum of 128 printable characters.&lt;/li&gt;
&lt;li&gt;The only permitted printable special characters are !, &amp;#x26;, #, $, ^, &amp;#x3C;, &gt;, and -. Other printable special characters cannot be used in the AUTH token.&lt;/li&gt;
&lt;li&gt;AUTH can only be enabled when creating clusters where in-transit encryption is enabled.&lt;/li&gt;
&lt;li&gt;The password set at cluster creation cannot be changed.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Since the special character set is limited, it makes sense to avoid them but generate a very long password.  This also has the side benefit of allowing a “double click” on the string to select it (which is usually hard with interior punctuation).  Below is an AWS CLI command that uses &lt;a href=&quot;https://aws.amazon.com/secrets-manager/&quot;&gt;AWS Secrets Manager&lt;/a&gt; to generate that random string.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws secretsmanager get-random-password --password-length &lt;span class=&quot;token number&quot;&gt;128&lt;/span&gt; --exclude-punctuation 
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;RandomPassword&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;FiXWVSsPAJmA1y4c6E63pc9p4YgM4m0lJzTVeRZD0hyJTiYPqZD5YkToDxBHX9N2APQqhnqVXYNipIkErKByFD9Gx38rbF5vE80z28u2v9NGD9vZz6GtgnElS1yqAfMk&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This secret is needed in plaintext during ElasticCache creation.  It should then be KMS encrypted and stored  in Secrets Manager, the microservice needing access to Redis can retrieve it.&lt;/p&gt;
&lt;p&gt;Note: I was glad to see the usage of &lt;code class=&quot;language-text&quot;&gt;time_independent_strcmp&lt;/code&gt; to avoid timing attacks in &lt;a href=&quot;https://github.com/antirez/redis/blob/3.2/src/server.c#L2683&quot;&gt;redis/server.c&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;authCommand&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;client &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;server&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;requirepass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;addReplyError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Client sent AUTH, but no password is set&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;time_independent_strcmp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;argv&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;ptr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; server&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;requirepass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      c&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;authenticated &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;addReply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;shared&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ok&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      c&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;authenticated &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;addReplyError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;invalid password&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Redis Security Investigation]]></title><description><![CDATA[The Securing Redis section from the Redis Quick Start stresses applying network level security (firewalls), the  option (AUTH command), and…]]></description><link>https://kevinhakanson.com/2018-06-22-redis-security-investigation</link><guid isPermaLink="false">https://kevinhakanson.com/2018-06-22-redis-security-investigation</guid><pubDate>Fri, 22 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The Securing Redis section from the &lt;a href=&quot;https://redis.io/topics/quickstart#securing-redis&quot;&gt;Redis Quick Start&lt;/a&gt; stresses applying network level security (firewalls), the &lt;code class=&quot;language-text&quot;&gt;requirepass&lt;/code&gt; option (&lt;a href=&quot;https://redis.io/commands/auth&quot;&gt;AUTH&lt;/a&gt; command), and SSL tunneling.  Additional details can be found by reading &lt;a href=&quot;http://antirez.com/news/96&quot;&gt;A few things about Redis security&lt;/a&gt; and &lt;a href=&quot;https://redis.io/topics/security&quot;&gt;Redis Security – Redis&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Amazon VPC Security Groups and the ElastiCache Subnet Groups provide network security.  For data security, Amazon ElastiCache for Redis supports each of In-Transit Encryption (TLS), At-Rest Encryption, and AUTH for clusters running Redis version 3.2.6.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/blogs/security/amazon-elasticache-now-supports-encryption-for-elasticache-for-redis/&quot;&gt;Now You Can Use Amazon ElastiCache for Redis with In-Transit and At-Rest Encryption to Help Protect Sensitive Information&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/blogs/opensource/open-sourcing-encryption-in-transit-redis/&quot;&gt;Open Sourcing Encryption in Transit for Redis | AWS Open Source Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/encryption.html&quot;&gt;Data Security - Amazon ElastiCache for Redis&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://redislabs.com/lp/redis-java/&quot;&gt;Redis Java&lt;/a&gt; lists both &lt;a href=&quot;https://github.com/mp911de/lettuce/&quot;&gt;Lettuce&lt;/a&gt; and &lt;a href=&quot;https://github.com/xetorthio/jedis&quot;&gt;Jedis&lt;/a&gt; as Java clients that support SSL connections.&lt;/p&gt;
&lt;p&gt;Note: The &lt;a href=&quot;https://redis.io/topics/rediscli&quot;&gt;redis-cli&lt;/a&gt; supports the AUTH command (with the &lt;code class=&quot;language-text&quot;&gt;-a password&lt;/code&gt; parameter) but might not support SSL without &lt;a href=&quot;http://www.tarsnap.com/spiped.html&quot;&gt;spiped&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Recommendations:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Enable all ElastiCache Data Security Features (TLS, At-Rest, AUTH)&lt;/li&gt;
&lt;li&gt;Disable backups/snapshots for transient data&lt;/li&gt;
&lt;li&gt;Store AUTH token similar to other secrets (e.g. database passwords)&lt;/li&gt;
&lt;li&gt;Lockdown network access via VPC security groups to specific services requiring access&lt;/li&gt;
&lt;li&gt;Require a bastion service with audit logging (don’t circumvent network security with routing backdoors)&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Side-channel attacking browsers through CSS3 features]]></title><description><![CDATA[Some people don’t like CSS because it’s not a “real” programing language like JavaScript; other people use CSS to exfiltrate data. Side…]]></description><link>https://kevinhakanson.com/2018-06-02-side-channel-attacking-browsers-through-css3-features</link><guid isPermaLink="false">https://kevinhakanson.com/2018-06-02-side-channel-attacking-browsers-through-css3-features</guid><pubDate>Sat, 02 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Some people don’t like CSS because it’s not a “real” programing language like JavaScript; other people use CSS to exfiltrate data.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.evonide.com/side-channel-attacking-browsers-through-css3-features/&quot;&gt;Side-channel attacking browsers through CSS3 features | Security Research - Evonide&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;We (co-)discovered a side-channel vulnerability in browser implementations of the CSS3 feature “mix-blend-mode” which allowed to leak visual content from cross-origin iframes.&lt;/li&gt;
&lt;li&gt;We demonstrate the impact of this vulnerability by showing how visiting a malicious site was enough to de-anonymize Facebook users. In particular, exploitation allowed to leak the profile picture, username and likes of unsuspecting visitors all while requiring no additional user interaction.&lt;/li&gt;
&lt;li&gt;This vulnerability affected major browsers like Chrome and Firefox and was disclosed responsibly.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://www.evonide.com/wp-content/uploads/2018/05/mix_blend_mode_side_channel.png&quot; alt=&quot;Mix Blend Mode Side Channel&quot;&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Categorizing Backlog Items using the OWASP SAMM Security Practices]]></title><description><![CDATA[Recently I started leading a virtual team of software engineers we called the “security guild.”  Our job was to work with application teams…]]></description><link>https://kevinhakanson.com/2018-05-15-categorizing-backlog-items-using-the-owasp-samm-security-practices</link><guid isPermaLink="false">https://kevinhakanson.com/2018-05-15-categorizing-backlog-items-using-the-owasp-samm-security-practices</guid><pubDate>Tue, 15 May 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Recently I started leading a virtual team of software engineers we called the “security guild.”  Our job was to work with application teams to improve our security posture, not by writing policy documents, but by writing code and pairing with those teams releasing software to customers.  As I was hydrating the backlog for this group, I used the Security Practices of the OWASP Software Assurance Maturity Model (OWASP SAMM) as a categorization tool.  I liked this because it was both an established model, and could set up teams for future SAMM Assessments.&lt;/p&gt;
&lt;p&gt;The diagram and descriptions below come from the &lt;a href=&quot;https://www.owasp.org/index.php/OWASP_SAMM_Project#tab=Browse_Online&quot;&gt;OWASP SAMM Project&lt;/a&gt; website.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4ab15ca141e6ea7785c4aca457f6e2cc/6da3e/720px-SAMM-Overview.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 30.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABhUlEQVQY0x2QXU/aYABG+/8vvZlzAZXpNJtREx1WOoFSgQJtoZ3Qj/DR9m0ptLAY+QFn3W6fPDnJOdLEdphOp2RpyjbLyDcZcSwIxZp8/05/ZPGlWuNr7ZKzSg0RCoqsII4E8TojLQrSvCDZ5qzCCCkvh6A8yfoYZTDhZ9fAW8XMHQNTVVDr9zTubhhMDKqP18imRt1SceMFC8Ni9CRjNX7hqB12+z9Ih8MBL045qWucPLY4ulWw5xGuVke5OEa9OcOU7wjzhErvlqp2z9HLN6zIx60rvHz6jFo5pXN6zsfHASlYLGmMA17dELF7R/cj2l6C2O7ZBiPWrk5ebNFdFWPWYlNE2H4X3WuS7DYkQ4ewtMrzHVGZTYpEiuGHKJMAzY15LuF9e8pqZhLoMm7vifCtjzN7pWXJDD2VjtNAN5v/lT25jfPQYNEbEflzpH8hs0QwWaZcaTaD+Zrd8jde8xpRgta+yZtyycaz8cSUh+4FdmiQOgHD8+/47R6r4Rij9oNld8RfTQSakjXQZY4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;OWASP SAMM Model&quot;
        title=&quot;OWASP SAMM Model&quot;
        src=&quot;/static/4ab15ca141e6ea7785c4aca457f6e2cc/b9e4f/720px-SAMM-Overview.png&quot;
        srcset=&quot;/static/4ab15ca141e6ea7785c4aca457f6e2cc/cf440/720px-SAMM-Overview.png 148w,
/static/4ab15ca141e6ea7785c4aca457f6e2cc/d2d38/720px-SAMM-Overview.png 295w,
/static/4ab15ca141e6ea7785c4aca457f6e2cc/b9e4f/720px-SAMM-Overview.png 590w,
/static/4ab15ca141e6ea7785c4aca457f6e2cc/6da3e/720px-SAMM-Overview.png 720w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://www.owasp.org/index.php/SAMM_-_Governance&quot;&gt;Governance&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;strong&gt;Strategy &amp;#x26; Metrics&lt;/strong&gt; (SM) Practice is focused on establishing the framework within an organization for a software security assurance program.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Policy &amp;#x26; Compliance&lt;/strong&gt; (PC) Practice is focused on understanding and meeting external legal and regulatory requirements while also driving internal security standards to ensure compliance in a way that’s aligned with the business purpose of the organization.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Education &amp;#x26; Guidance&lt;/strong&gt; (EG) Practice is focused on arming personnel involved in the software life-cycle with knowledge and resources to design, develop, and deploy secure software.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://www.owasp.org/index.php/SAMM_-_Construction&quot;&gt;Construction&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;strong&gt;Threat Assessment&lt;/strong&gt; (TA) Practice is centered on identification and understanding the project-level risks based on the functionality of the software being developed and characteristics of the runtime environment.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Security Requirements&lt;/strong&gt; (SR) Practice is focused on proactively specifying the expected behavior of software with respect to security.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Secure Architecture&lt;/strong&gt; (SA) Practice is focused on proactive steps for an organization to design and build secure software by default.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://www.owasp.org/index.php/SAMM_-_Verification&quot;&gt;Verification&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;strong&gt;Design Review&lt;/strong&gt; (DR) Practice is focused on assessment of software design and architecture for security-related problems.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Code Review&lt;/strong&gt; (CR) Practice is focused on inspection of software at the source code level in order to find security vulnerabilities.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Security Testing&lt;/strong&gt; (ST) Practice is focused on inspection of software in the runtime environment in order to find security problems.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://www.owasp.org/index.php/SAMM_-_Deployment&quot;&gt;Deployment&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;strong&gt;Vulnerability Management&lt;/strong&gt; (VM) Practice is focused on the processes within an organization with respect to handling vulnerability reports and operational incidents&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Environment Hardening&lt;/strong&gt; (EH) Practice is focused on building assurance for the runtime environment that hosts the organization’s software.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Operational Enablement&lt;/strong&gt; (OE) Practice is focused on gathering security critical information from the project teams building software and communicating it to the users and operators of the software.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;One of the first work items created and assigned to everyone on the team was “Review OWASP SAMM Concepts” which I categorized as “Governance -&gt; Education &amp;#x26; Guidance.”  One of the first things I learned was that “Deployment” was transitioning to be called “Operations” and that OWASP SAMM was previously referred to as &lt;a href=&quot;http://www.opensamm.org/&quot;&gt;OpenSAMM&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Other than the item above, we didn’t want to focus on an “Governance” practices.  Many of our early ideas fell under the “Deployment -&gt; Environment Hardening” (e.g. NGINX Security Lockdown) or the “Verification -&gt; Security Testing” (e.g. Automate “Observatory by Mozilla” Scans) categories.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Content-Security-Policy HTTP Header Braindump]]></title><description><![CDATA[From Content Security Policy (CSP) - HTTP | MDN Content Security Policy (CSP) is an added layer of security that helps to detect and…]]></description><link>https://kevinhakanson.com/2018-04-27-content-security-policy-http-header-braindump</link><guid isPermaLink="false">https://kevinhakanson.com/2018-04-27-content-security-policy-http-header-braindump</guid><pubDate>Fri, 27 Apr 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;From &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP&quot;&gt;Content Security Policy (CSP) - HTTP | MDN&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Content Security Policy&lt;/strong&gt; (&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Glossary/CSP&quot;&gt;CSP&lt;/a&gt;) is an added layer of security that helps to detect and mitigate certain types of attacks, including Cross Site Scripting (&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Glossary/XSS&quot;&gt;XSS&lt;/a&gt;) and data injection attacks&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;From &lt;a href=&quot;https://developers.google.com/web/fundamentals/security/csp/&quot;&gt;Content Security Policy  |  Web Fundamentals  |  Google Developers&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This overview highlights a defense that can significantly reduce the risk and impact of XSS attacks in modern browsers: Content Security Policy (CSP).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;From &lt;a href=&quot;https://docs.microsoft.com/en-us/microsoft-edge/dev-guide/security/content-security-policy&quot;&gt;Dev guide - Content Security Policy - Microsoft Edge Development | Microsoft Docs&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The CSP security standard enables web developers to control the resources (script, CSS, plugins, images, etc.) which a particular page can fetch or execute with the aim of preventing cross-site scripting (XSS), clickjacking, and other code injection attacks seeking to execute malicious content in the context of a trusted web page.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;From &lt;a href=&quot;https://www.owasp.org/images/7/72/OWASP_Top_10-2017_%28en%29.pdf.pdf&quot;&gt;OWASP Top 10 - 2017&lt;/a&gt; A7 Cross-Site Scripting (XSS)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Enabling a Content Security Policy (CSP) is a defense-in-depth mitigating control against XSS.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This can be controlled via the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy&quot;&gt;Content-Security-Policy&lt;/a&gt; HTTP Header.  The &lt;a href=&quot;https://scotthelme.co.uk/csp-cheat-sheet/&quot;&gt;CSP Cheat Sheet&lt;/a&gt; “is a concise overview of all supported features and directives” and “can be used as a quick reference guide” because of the many examples and external links.  CSP is supported at various levels in all major browsers (see &lt;a href=&quot;https://caniuse.com/#search=Content%20Security%20Policy&quot;&gt;https://caniuse.com/#search=Content%20Security%20Policy&lt;/a&gt;).  Twitter even sends different policies to different browsers (see &lt;a href=&quot;https://github.com/twitter/secureheaders/blob/master/lib/secure_headers/headers/policy_management.rb&quot;&gt;secureheaders/policy_management.rb at master · twitter/secureheaders · GitHub&lt;/a&gt; ), but they could do even better (see &lt;a href=&quot;https://scotthelme.co.uk/optimising-twitters-csp-header/&quot;&gt;Optimising Twitter’s CSP header&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Some articles for getting started:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://security.googleblog.com/2016/09/reshaping-web-defenses-with-strict.html&quot;&gt;Google Online Security Blog: Reshaping web defenses with strict Content Security Policy&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://csp.withgoogle.com/docs/index.html&quot;&gt;Introduction - Content Security Policy&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.troyhunt.com/my-blog-now-has-a-content-security-policy-heres-how-ive-done-it/&quot;&gt;My Blog Now Has a Content Security Policy - Here’s How I’ve Done It&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.4armed.com/blog/how-to-create-content-security-policy/&quot;&gt;A proper Content Security Policy Generator | 4ARMED&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.codeship.com/how-to-get-started-with-a-content-security-policy/&quot;&gt;How to Get Started with a Content Security Policy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://gosecure.net/2017/07/20/building-a-content-security-policy-configuration-with-csp-auditor/&quot;&gt;Building a Content Security Policy configuration with CSP Auditor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://githubengineering.com/githubs-post-csp-journey/&quot;&gt;GitHub’s post-CSP journey | GitHub Engineering&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://speakerdeck.com/mikispag/making-csp-great-again-michele-spagnuolo-and-lukas-weichselbaum&quot;&gt;Making CSP great again! - Michele Spagnuolo and Lukas Weichselbaum // Speaker Deck&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.safaribooksonline.com/learning-paths/learning-path-modern/9781492035817/9781491985298-video311488&quot;&gt;Learning Path: Modern Web Pillars—Security [Learning Path]&lt;/a&gt; (Safari Online Video)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The HTTP &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only&quot;&gt;Content-Security-Policy-Report-Only&lt;/a&gt; response header allows web developers to experiment with policies by monitoring (but not enforcing) their effects.  Several tools leverage this browser reporting to help developers create policies:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fiddler:  &lt;a href=&quot;https://github.com/david-risney/CSP-Fiddler-Extension&quot;&gt;GitHub - david-risney/CSP-Fiddler-Extension: Content Security Policy rule collector extension for Fiddler&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;OWASP ZAP:  &lt;a href=&quot;https://github.com/GoSecure/csp-auditor&quot;&gt;GitHub - GoSecure/csp-auditor: Burp and ZAP plugin to analyse Content-Security-Policy headers or generate template CSP c…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Chrome: &lt;a href=&quot;https://github.com/4ARMED/csp-generator-extension&quot;&gt;GitHub - 4ARMED/csp-generator-extension: Google Chrome Extension for interacting with 4ARMED’s Content Security Policy G…&lt;/a&gt;  along with &lt;a href=&quot;https://github.com/4ARMED/csp-backend&quot;&gt;GitHub - 4ARMED/csp-backend: Sinatra app that accepts CSP violation reports and generates policies based on them.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Report URI CSP Wizard:  &lt;a href=&quot;https://scotthelme.co.uk/report-uri-csp-wizard/&quot;&gt;https://scotthelme.co.uk/report-uri-csp-wizard/&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Other tools:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Report URI: &lt;a href=&quot;https://report-uri.com/home/tools&quot;&gt;https://report-uri.com/home/tools&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Firefox: &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Tools/GCLI/Display_security_and_privacy_policies&quot;&gt;Display security and privacy policies - Firefox Developer Tools | MDN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Google: &lt;a href=&quot;https://csp-evaluator.withgoogle.com/&quot;&gt;CSP Evaluator&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/nico3333fr/CSP-useful&quot;&gt;GitHub - nico3333fr/CSP-useful: Collection of scripts, thoughts about CSP (Content Security Policy)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Since an invalid or incorrect policy will break the web applications, testing is important.  A good strategy is to start with a basic policy (like this one which forces all content to use HTTPS) and build it out to be even more secure.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Content-Security-Policy: default-src https:; form-action https:; connect-src https: wss:; upgrade-insecure-requests&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.dareboost.com/en/2016/08/how-to-implement-content-security-policy/&quot;&gt;How to implement Content Security Policy? | DareBoost Blog&lt;/a&gt;  comments “that it is possible to use both Content-Security-Policy and Content-Security-Policy-Report-Only headers” which would allow for a basic policy to be in place and an experimental policy to be reported on, either in a lower environment or as part of a testing suite.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Secrets Management]]></title><description><![CDATA[I recently listened to Software Engineering Radio Episode 311: Armon Dadgar on Secrets Management from December 5, 2017 The show covers…]]></description><link>https://kevinhakanson.com/2018-04-10-secrets-management</link><guid isPermaLink="false">https://kevinhakanson.com/2018-04-10-secrets-management</guid><pubDate>Tue, 10 Apr 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I recently listened to Software Engineering Radio &lt;a href=&quot;http://www.se-radio.net/2017/12/se-radio-episode-311-armon-dadgar-on-secrets-management/&quot;&gt;Episode 311: Armon Dadgar on Secrets Management&lt;/a&gt; from December 5, 2017&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The show covers: what a secret is; the difference between secrets and sensitive data; what is secrets management; the different types of secrets; key management; auditing of secrets; implementing secrets management.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It answered simple questions like, “what is a secret?”&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;anything that can be used to authenticate or authorize / grants access or elevates access to a system&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;username/password&lt;/li&gt;
&lt;li&gt;api token&lt;/li&gt;
&lt;li&gt;TLS/SSL certificate&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Later they posed questions about secrets management:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;How are we distributing that secret to application?&lt;/li&gt;
&lt;li&gt;How do I update that secret?&lt;/li&gt;
&lt;li&gt;In case of a breach, how do we revoke, update, react?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;An interesting discussion was the “sharing of secrets over space and time.”  In many systems, each server gets a copy of the same secret, which isn’t rotated often (or ever).  This makes it much harder to track down the source of a breach.  However, if each server got a unique, short-lived secret, then auditing becomes easier.  HashiCorp Vault even has the concept of &lt;a href=&quot;https://www.vaultproject.io/intro/getting-started/dynamic-secrets.html&quot;&gt;Dynamic Secrets&lt;/a&gt;, which are generated when they are accessed.&lt;/p&gt;
&lt;p&gt;Toward the end, some additional questions were asked regarding implementing a secrets management system.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;What are all of our secrets and where are they?&lt;/li&gt;
&lt;li&gt;Which applications and people should have access to secrets?&lt;/li&gt;
&lt;li&gt;What is the simplest path of getting all secrets to one place?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Database Credential Rotation in PostgreSQL]]></title><description><![CDATA[I recently read Rotate Amazon RDS database credentials automatically with AWS Secrets Manager and learned… Secrets Manager offers built-in…]]></description><link>https://kevinhakanson.com/2018-04-09-database-credential-rotation-in-postgresql</link><guid isPermaLink="false">https://kevinhakanson.com/2018-04-09-database-credential-rotation-in-postgresql</guid><pubDate>Mon, 09 Apr 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I recently read &lt;a href=&quot;https://aws.amazon.com/blogs/security/rotate-amazon-rds-database-credentials-automatically-with-aws-secrets-manager/&quot;&gt;Rotate Amazon RDS database credentials automatically with AWS Secrets Manager&lt;/a&gt; and learned…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Secrets Manager offers built-in integrations for MySQL, PostgreSQL, and Amazon Aurora on Amazon RDS, and can rotate credentials for these databases natively.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;From listening to &lt;a href=&quot;http://www.se-radio.net/2017/12/se-radio-episode-311-armon-dadgar-on-secrets-management/&quot;&gt;SE-Radio Episode 311: Armon Dadgar on Secrets Management&lt;/a&gt;, I understood that the “ideal” state being each instance gets their own credentials and that tools like &lt;a href=&quot;https://www.hashicorp.com/products/vault/&quot;&gt;HashiCorp Vault&lt;/a&gt; support this unique credentials feature as well as lease and expiration times.&lt;/p&gt;
&lt;p&gt;In &lt;a href=&quot;../2017-06-26-encrypted-properties-and-aws-iam-roles&quot;&gt;Encrypted Properties and AWS IAM Roles&lt;/a&gt;, I wrote about storing encrypted database passwords in a Config Server, from where the application microservices could read (and decrypt) the password after the DBA (encrypts and) sets it.  The automatic credential rotation above means that even the DBA doesn’t know the password.&lt;/p&gt;
&lt;p&gt;I was wondering if that would work for one of my application teams using RDS PostgreSQL.  I reached out to the DBA, who had been wanting automated password rotation in place for a while.  However, some of the microservices were “optimized” to access the Config Server during startup.  This meant that if the password were changed, that service would be broken until a restart.&lt;/p&gt;
&lt;p&gt;Not being a PostgreSQL security expert, I wondered if there were concepts of users and roles.  In researching how to solve this problem, I found &lt;a href=&quot;http://davidhollenberger.com/2017/03/16/postgres-credential-rotation/&quot;&gt;Postgres Credential Rotation&lt;/a&gt; presented a possible solution.  Here is a snippet from that article:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;create&lt;/span&gt; role foo nologin&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;create&lt;/span&gt; role foo_a &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; encrypted password &lt;span class=&quot;token string&quot;&gt;&apos;md5...&apos;&lt;/span&gt; login&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;create&lt;/span&gt; role foo_b &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; encrypted password &lt;span class=&quot;token string&quot;&gt;&apos;md5...&apos;&lt;/span&gt; nologin&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;grant&lt;/span&gt; foo &lt;span class=&quot;token keyword&quot;&gt;to&lt;/span&gt; foo_a&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;grant&lt;/span&gt; foo &lt;span class=&quot;token keyword&quot;&gt;to&lt;/span&gt; foo_b&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This gets us most of the way to a seamless credential rotation. The issue I ran into next was any new objects created by foo_a or foo_b users were owned by foo_a and foo_b respectively. To ensure all objects created by foo_a and foo_b are owned by the group user foo we need to override their default role.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;alter&lt;/span&gt; role foo_a &lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt; role foo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;alter&lt;/span&gt; role foo_b &lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt; role foo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;The DBA agreed this model was workable as we already implemented the user and role pattern (albeit with a single user).  Adding additional users would require some modification to utility scripts but would work.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS Options for Blocking IP Addresses]]></title><description><![CDATA[While diving into BIG-IP iRules code researching HTTP to HTTPS Redirection, I ran across this snippet: Reaching out to one of the DevOps…]]></description><link>https://kevinhakanson.com/2018-03-20-aws-options-for-blocking-ip-addresses</link><guid isPermaLink="false">https://kevinhakanson.com/2018-03-20-aws-options-for-blocking-ip-addresses</guid><pubDate>Tue, 20 Mar 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;While diving into BIG-IP iRules code researching &lt;a href=&quot;../2018-03-13-http-to-https-redirection&quot;&gt;HTTP to HTTPS Redirection&lt;/a&gt;, I ran across this snippet:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tcl&quot;&gt;&lt;pre class=&quot;language-tcl&quot;&gt;&lt;code class=&quot;language-tcl&quot;&gt;ltm rule APPX_BLOCK &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    when CLIENT_ACCEPTED &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token builtin&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;matchclass &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;IP::remote_addr&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;eq&lt;/span&gt; APPX_BLOCK_IPs&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            reject
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Reaching out to one of the DevOps team to learn more, he directed me to a process document on how to block IP address in our data center.  That caused me to consider what the AWS solution to this problem look like?  Below are a couple of options.&lt;/p&gt;
&lt;h2&gt;Static Blocking&lt;/h2&gt;
&lt;p&gt;If you wanted to mimic the legacy process, you could used a Security Group and DENY access to those IPs.  However, according to &lt;a href=&quot;https://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Appendix_Limits.html#vpc-limits-security-groups&quot;&gt;Amazon VPC Limits&lt;/a&gt;, the “Inbound or outbound rules per security group” limit is 50.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You can have 50 inbound and 50 outbound rules per security group (giving a total of 100 combined inbound and outbound rules). To increase or decrease this limit, contact AWS Support — a limit change applies to both inbound and outbound rules. However, the limit for inbound or outbound rules per security group multiplied by the limit for security groups per network interface cannot exceed 250. For example, if you want to increase the limit to 100, we decrease your number of security groups per network interface to 2.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Combining the low IP limit with the fact that modern hackers change IP addresses frequently, a static option isn’t very attractive.&lt;/p&gt;
&lt;h2&gt;Dynamic Blocking&lt;/h2&gt;
&lt;p&gt;An internal project has published some WAF templates that include rules which block requests from IP addresses on third-party reputation lists:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This lambda function checks third-party IP reputation lists hourly for new IP ranges to block. These lists include the Spamhaus Dont Route Or Peer (DROP) and Extended Drop (EDROP) lists, the Proofpoint Emerging Threats IP list, and the Tor exit node list.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This dynamically catches threats, but not necessary the IPs attacking our products.&lt;/p&gt;
&lt;h2&gt;Custom Dynamic Blocking&lt;/h2&gt;
&lt;p&gt;Amazon publishes solutions where Lambda functions monitor logs and automatically update AWS WAF rules.  One such solution is &lt;a href=&quot;https://docs.aws.amazon.com/waf/latest/developerguide/tutorials-4xx-blocking.html&quot;&gt;Tutorial: Blocking IP Addresses That Submit Bad Requests&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ad8b712c01931112e6e5dad9b147e0a4/97281/pastedImage_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 57.27762803234502%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACQklEQVQoz52Sy27TUBCG8zx9BZ6AHVvEhi0SGzYUsWWFCgIhIQECqVCkIhalsEGIVmoLTWmaS9vc7DiOnYtD7k0cJ3Z8ycexs2gEO0YazdH/z/znzJyJWZZFWVVxHIfQ5kHAfD6Pzq7r4vgBw1KRyvpLAsEJkrnvLeJfHlpsPB6TOEli23YktmyhoC+Kp15A27Lxl/g5/1ooGuv3+yiKwmg4xBUFHUVGevEUp9tBvFVgIrOZY/7zdVQ0qko03twGs0HXtLmxtsOnZCvigkAITiYTpsId8cLQKsdxzh/cZ6SrTGczLHvGuHRM9/NDPFHQTO2i3FkB4xTF6LNy6wPPd6qXgql0hncb76lWNPQv21TFPNtqGU+0G7bseR5Da0qt08cXLYWz7rYMZoILG5e0FqPx9LLlVq1GYm+ffquFK9rudrsoWgXDaFLVNGqCN4p56ocHGPU6dYHX1RJGox7l6LoscnTGY2vxKYNmk3ZZwez3IiCVOeHxxiqSUkDK5cgqZaT1V5SuX0UuymS+b5G5ewX1YJtsVmL12TW+xTexzMXIYs7MZSLm57izCDhOxll7e4+slEar6MjlMme/jjja+ohcUsgd7pJ+dBMtsUM+V+TJ+ipff2xiT9yF4PK3+76PpumcZs4p5AsUi0VkWSaVTLJ/GKdQEJhcIp0toKgVyuIyqSAuyeZp/NYXgstLGcbRaESv14tmGbk499ptBp3OAhdxIMZzcXHBYDDANE1qdZ3E2V70gbHlpfxfm4n1MhrNSPAPVKgqj3sq/z8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Blocking IP Addresses That Submit Bad Requests&quot;
        title=&quot;Blocking IP Addresses That Submit Bad Requests&quot;
        src=&quot;/static/ad8b712c01931112e6e5dad9b147e0a4/b9e4f/pastedImage_1.png&quot;
        srcset=&quot;/static/ad8b712c01931112e6e5dad9b147e0a4/cf440/pastedImage_1.png 148w,
/static/ad8b712c01931112e6e5dad9b147e0a4/d2d38/pastedImage_1.png 295w,
/static/ad8b712c01931112e6e5dad9b147e0a4/b9e4f/pastedImage_1.png 590w,
/static/ad8b712c01931112e6e5dad9b147e0a4/97281/pastedImage_1.png 742w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This type of solution is the most compelling, because it reacts to malicious traffic explicitly directed at our products.  It is also the most complex.&lt;/p&gt;
&lt;p&gt;More research is needed, so another item for the backlog.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Amazon Load Balancers: X-Forwarded Headers and Proxy Protocol Support]]></title><description><![CDATA[Amazon has multiple Elastic Load Balancing products: Application Load Balancer is best suited for load balancing of HTTP and HTTPS traffic…]]></description><link>https://kevinhakanson.com/2018-03-15-amazon-load-balancers-x-forwarded-headers-and-proxy-protocol-support</link><guid isPermaLink="false">https://kevinhakanson.com/2018-03-15-amazon-load-balancers-x-forwarded-headers-and-proxy-protocol-support</guid><pubDate>Thu, 15 Mar 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Amazon has multiple &lt;a href=&quot;https://aws.amazon.com/elasticloadbalancing/&quot;&gt;Elastic Load Balancing&lt;/a&gt; products:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Application Load Balancer is best suited for load balancing of HTTP and HTTPS traffic and operates at the individual request level (Layer 7).&lt;/li&gt;
&lt;li&gt;Network Load Balancer is best suited for load balancing of TCP traffic and operates at the connection level (Layer 4).&lt;/li&gt;
&lt;li&gt;Classic Load Balancer is intended for applications that were built within the EC2-Classic network and operates at either Layer 7 or Layer 4.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Because load balancers intercept traffic between clients and servers, your server sees the IP address of the load balancer.  However, protocols exist to help your service identify the IP address of a client:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Layer 7 uses &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Forwarded&quot;&gt;Forwarded&lt;/a&gt; HTTP header(s)  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The &lt;strong&gt;Forwarded&lt;/strong&gt; header contains information from the client-facing side of proxy servers that is altered or lost when a proxy is involved in the path of the request.  &lt;/p&gt;
&lt;p&gt;The alternative and de-facto standard versions of this header are the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For&quot;&gt;X-Forwarded-For&lt;/a&gt;, &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-Host&quot;&gt;X-Forwarded-Host&lt;/a&gt; and &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-Proto&quot;&gt;X-Forwarded-Proto&lt;/a&gt; headers.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Layer 4 uses the &lt;a href=&quot;https://www.haproxy.org/download/1.8/doc/proxy-protocol.txt&quot;&gt;PROXY protocol&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The PROXY protocol provides a convenient way to safely transport connection information such as a client’s address across multiple layers of NAT or TCP proxies. It is designed to require little changes to existing components and to limit the performance impact caused by the processing of the transported information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Because AWS Classic Load Balancers operate at either Layer 7 or Layer 4, they support the both the X-Forwarded headers and the Proxy Protocol:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/x-forwarded-headers.html&quot;&gt;HTTP Headers and Classic Load Balancers - Elastic Load Balancing&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/enable-proxy-protocol.html&quot;&gt;Configure Proxy Protocol Support for Your Classic Load Balancer - Elastic Load Balancing&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AWS Network Load Balancers operate at Layer 4 and support the Proxy Protocol.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/elasticloadbalancing/latest/network/load-balancer-target-groups.html#proxy-protocol&quot;&gt;Target Groups for Your Network Load Balancers - Elastic Load Balancing&lt;/a&gt;&lt;br&gt;
Network Load Balancers use Proxy Protocol version 2 to send additional connection information such as the source and destination. Proxy Protocol version 2 provides a binary encoding of the Proxy Protocol header.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;AWS Application Load Balancers operate on Layer 7 and support the X-Forwarded headers.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/elasticloadbalancing/latest/userguide/how-elastic-load-balancing-works.html&quot;&gt;How Elastic Load Balancing Works - Elastic Load Balancing&lt;/a&gt;&lt;br&gt;
Application Load Balancers and Classic Load Balancers support X-Forwarded-For, X-Forwarded-Proto, and X-Forwarded-Port headers.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Additional Resources:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/premiumsupport/knowledge-center/log-client-ip-load-balancer-apache/&quot;&gt;Log the Public IP Addresses of a Client Behind a Load Balancer When Using Apache&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://tools.ietf.org/html/rfc7239&quot;&gt;RFC 7239 - Forwarded HTTP Extension&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.nginx.com/nginx/admin-guide/load-balancer/using-proxy-protocol/&quot;&gt;NGINX Docs | Configuring NGINX to Accept the PROXY Protocol&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://roadrunner2.github.io/mod-proxy-protocol/mod_proxy_protocol.html&quot;&gt;mod_proxy_protocol - Apache HTTP Server Version 2.4&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[HTTP to HTTPS Redirection Investigation]]></title><description><![CDATA[The recent efforts related to Google and Mozilla are Deprecating Existing Symantec Certificates had me revisit another HTTPS topic:  HTTP to…]]></description><link>https://kevinhakanson.com/2018-03-13-http-to-https-redirection-investigation</link><guid isPermaLink="false">https://kevinhakanson.com/2018-03-13-http-to-https-redirection-investigation</guid><pubDate>Tue, 13 Mar 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The recent efforts related to &lt;a href=&quot;https://blog.qualys.com/ssllabs/2017/09/26/google-and-mozilla-deprecating-existing-symantec-certificates&quot;&gt;Google and Mozilla are Deprecating Existing Symantec Certificates&lt;/a&gt; had me revisit another HTTPS topic:  HTTP to HTTPS Redirection.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Redirection&lt;/strong&gt; is one of the items checked by &lt;a href=&quot;https://observatory.mozilla.org/&quot;&gt;Observatory by Mozilla&lt;/a&gt; and supported by the command line scanner.  Below is partial output from &lt;code class=&quot;language-text&quot;&gt;httpobs-local-scan app1.example.com&lt;/code&gt; containing the redirect flow:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;redirection&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;destination&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://app1.example.com/app/login?lastReqId=2362881&amp;amp;lkn=loginAllParms&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;expectation&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redirection-to-https&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;pass&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;redirects&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;result&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redirection-not-to-https-on-initial-redirection&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;route&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;http://app1.example.com/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;http://app1.example.com/app/setcookie?lastReqId=2309797&amp;amp;lkn=cookieSetMachine&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;http://app1.example.com/app/setcookie?lastReqId=22f4772&amp;amp;lkn=cookieSetMachine&amp;amp;noCookie=on&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;http://app1.example.com/app/login?lastReqId=23754c6&amp;amp;lkn=loginAllParms&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;https://app1.example.com/app/login?lastReqId=2362881&amp;amp;lkn=loginAllParms&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;score_description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Redirects to https eventually, but initial redirection is to another http URL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;score_modifier&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;-10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;status_code&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;App1 is hosted in a company data center behind an F5 BIG-IP VIP, so some of the redirect logic can be found in iRules.  Notice that this rule on VIP Port 80 does a redirect based on a valid hostname.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tcl&quot;&gt;&lt;pre class=&quot;language-tcl&quot;&gt;&lt;code class=&quot;language-tcl&quot;&gt;ltm rule app1.example.com_REDIR &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    when HTTP_REQUEST &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token builtin&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;HTTP::host&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;app1.example.com&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        HTTP::redirect &lt;span class=&quot;token string&quot;&gt;&quot;http://app1.example.com[HTTP::uri]&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This could always just do an initial HTTPS redirect (which adds an additional redirect), but at least the cookies would be secure.  There is probably some application work in App1 to minimize the redirect counts.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tcl&quot;&gt;&lt;pre class=&quot;language-tcl&quot;&gt;&lt;code class=&quot;language-tcl&quot;&gt;when HTTP_REQUEST &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    HTTP::redirect &lt;span class=&quot;token string&quot;&gt;&quot;https://app1.example.com[HTTP::uri]&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A scan of App2 passes.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;redirection&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;destination&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://app2.example.com/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;expectation&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redirection-to-https&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;pass&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;redirects&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;result&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redirection-to-https&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;route&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;http://app2.example.com/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;https://app2.example.com/&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;score_description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Initial redirection is to https on same host, final destination is https&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;score_modifier&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;status_code&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It has the expected iRule on VIP Port 80 that always redirects to HTTPS.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tcl&quot;&gt;&lt;pre class=&quot;language-tcl&quot;&gt;&lt;code class=&quot;language-tcl&quot;&gt;ltm rule APP2_REDIR_HTTP &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    when HTTP_REQUEST &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        HTTP::redirect &lt;span class=&quot;token string&quot;&gt;&quot;https://app2.example.com[HTTP::uri]&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A scan of App3 shows a failure.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;redirection&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;destination&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://app3.example.com/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;expectation&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redirection-to-https&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;pass&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;redirects&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;result&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redirection-missing&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;route&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;http://app3.example.com/&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;score_description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Does not redirect to an https site&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;score_modifier&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;-20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;status_code&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But the browser shows App3 is secure, which can be explained by looking at the network graph. The full site loads, then client-side JavaScript initiates a redirect (at the performance cost of about 1/2 second).&lt;/p&gt;
&lt;p&gt;In AWS, CloudFront supports a Redirect HTTP to HTTPS (see &lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/using-https-viewers-to-cloudfront.html&quot;&gt;Requiring HTTPS for Communication Between Viewers and CloudFront - Amazon CloudFront&lt;/a&gt; )&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 370px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/85a127e5b9286ea7408fb16ea1f38f72/04e89/pastedImage_27.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 19.189189189189186%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAvklEQVQY04WPXWvCQBRE8///VqulUFDZdSNi4yb7VdOYRK340GZPN/GlDy0dGAaGy+FOFkKgaRqCD8meun5n7Kw1tF0P8YvruUPrCmssPvU+vLHXmjL5p2KMZEII9kWBqQy5Umy3O8qyYpNvsKXGnuBRWpRYsRaStZQolbNcLO431pKn7PvTBM34RyY9+SAdL89PzGbzCfa6K+jaluOxndI5z+XycQcOw8CfThOIn9yuZw6HGu/cNHsE/KZx8jeiYC04bEBKPAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Viewer Protocol Policy&quot;
        title=&quot;Viewer Protocol Policy&quot;
        src=&quot;/static/85a127e5b9286ea7408fb16ea1f38f72/04e89/pastedImage_27.png&quot;
        srcset=&quot;/static/85a127e5b9286ea7408fb16ea1f38f72/cf440/pastedImage_27.png 148w,
/static/85a127e5b9286ea7408fb16ea1f38f72/d2d38/pastedImage_27.png 295w,
/static/85a127e5b9286ea7408fb16ea1f38f72/04e89/pastedImage_27.png 370w&quot;
        sizes=&quot;(max-width: 370px) 100vw, 370px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;AWS ELB requires you to configure this in your web server (see &lt;a href=&quot;https://aws.amazon.com/premiumsupport/knowledge-center/redirect-http-https-elb/&quot;&gt;Redirect HTTP Traffic to HTTPS Using ELB&lt;/a&gt; ) but ALB now supports redirects as an option on the HTTP listener.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5e9e4808e35ace6fe1f2819653449735/e7c6f/pastedImage_65.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 42.41645244215938%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAAA4ElEQVQoz6WS2w6DIAxA/f9v9GGCiSLeAUWjdm2VRZ3Zy0xOCr2XGumiAJmmkOc5TNOMTOC9Z0nM83y5B846Onu/+0Z930PTtKzsug7PDYzjeDjt0P2se0oYikfk6JzjgGVZYNs2+OeLFI4qEgFSSqjrGoZhAGsNGGO4EEnCWgvOOrav68rBVPwOjxzHMbyShBPSyM0h27b9QM9B76yUuiT76pCqCyH2RIjWmoMpucAiKS6M7AUuL9hCwseRHY6SZRk7B8IiaOTA/hSW+dkhOZRlCRXCsqo4+P6bEKHIrw7fQUVtJgawtswAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;ALB HTTP Listener settings&quot;
        title=&quot;ALB HTTP Listener settings&quot;
        src=&quot;/static/5e9e4808e35ace6fe1f2819653449735/b9e4f/pastedImage_65.png&quot;
        srcset=&quot;/static/5e9e4808e35ace6fe1f2819653449735/cf440/pastedImage_65.png 148w,
/static/5e9e4808e35ace6fe1f2819653449735/d2d38/pastedImage_65.png 295w,
/static/5e9e4808e35ace6fe1f2819653449735/b9e4f/pastedImage_65.png 590w,
/static/5e9e4808e35ace6fe1f2819653449735/e7c6f/pastedImage_65.png 778w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The Apache rewrite rule is below and would be the recommended approach for App3.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;RewriteEngine On
RewriteCond %{HTTP:X-Forwarded-Proto} =http
RewriteRule .* https://%{HTTP:Host}%{REQUEST_URI} [L,R=permanent]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, take a couple minutes and go read &lt;a href=&quot;https://scotthelme.co.uk/wifi-pineapple-karma-sslstrip/&quot;&gt;The WiFi Pineapple - Using Karma and SSLstrip to MiTM secure connections&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://www.troyhunt.com/content/images/2016/02/31233122are-you-my-network3.jpg&quot; alt=&quot;Karma saying it is the device&amp;#x27;s preferred network&quot;&gt;&lt;/p&gt;
&lt;p&gt;Let me highlight a key point of this attack:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;SSLstrip works by monitoring HTTP traffic and waiting for links or redirects that use HTTPS. Once it finds a link or redirect using HTTPS it will transparently re-write it to the HTTP equivalent and pass it along to the victim.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Given that HTTP to HTTPS redirection isn’t sufficient to protect our applications, what now? Make sure to leverage security focused HTTP headers, including &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security&quot;&gt;Strict-Transport-Security&lt;/a&gt; and &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy&quot;&gt;Content-Security-Policy&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Strict-Transport-Security: max-age=31536000;
Content-Security-Policy: upgrade-insecure-requests;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The iRule code to set these looks like&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tcl&quot;&gt;&lt;pre class=&quot;language-tcl&quot;&gt;&lt;code class=&quot;language-tcl&quot;&gt;when HTTP_RESPONSE &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     HTTP::header replace &lt;span class=&quot;token string&quot;&gt;&quot;Strict-Transport-Security&quot;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;max-age=31536000;&quot;&lt;/span&gt;
     HTTP::header replace &lt;span class=&quot;token string&quot;&gt;&quot;Content-Security-Policy&quot;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;upgrade-insecure-requests;&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And for use in an Apache config&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;IfModule&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;mod_headers.c&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
   Header set Strict-Transport-Security &quot;max-age=31536000;&quot;
   Header set Content-Security-Policy &quot;upgrade-insecure-requests;&quot;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;IfModule&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Because the browser “remembers” to always connect over HTTPS, there is both a security gain and a performance gain of skipping the first round-trip just for HTTP to HTTPS redirection.&lt;/p&gt;
&lt;p&gt;Later on, the Content-Security-Policy could be updated to ensure only https connections, but this has the side effect of not allowing inline scripts or styles.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;default-src https:; form-action https:; connect-src https: wss:; upgrade-insecure-requests&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA["Access Logs" from AWS Services]]></title><description><![CDATA[Some web facing AWS services that provide HTTP access, allow you to enable “Access Logs” written in a W3C extended log file format. Access…]]></description><link>https://kevinhakanson.com/2018-03-08-access-logs-from-aws-services</link><guid isPermaLink="false">https://kevinhakanson.com/2018-03-08-access-logs-from-aws-services</guid><pubDate>Thu, 08 Mar 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Some web facing AWS services that provide HTTP access, allow you to enable “Access Logs” written in a W3C extended log file format.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-access-logs.html&quot;&gt;Access Logs for Your Application Load Balancer - Elastic Load Balancing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/access-log-collection.html&quot;&gt;Access Logs for Your Classic Load Balancer - Elastic Load Balancing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/AccessLogs.html&quot;&gt;Access Logs - Amazon CloudFront&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/AmazonS3/latest/dev/ServerLogs.html&quot;&gt;Server Access Logging - Amazon Simple Storage Service&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/about-aws/whats-new/2017/11/amazon-api-gateway-supports-access-logging/&quot;&gt;Amazon API Gateway Supports Access Logging&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Adoption of HTTP Security Headers on the Web]]></title><description><![CDATA[Adoption of HTTP Security Headers on the Web looked at HTTP Archive data to do some analysis of the adoption of various HTTP security…]]></description><link>https://kevinhakanson.com/2018-03-06-adoption-of-http-security-headers-on-the-web</link><guid isPermaLink="false">https://kevinhakanson.com/2018-03-06-adoption-of-http-security-headers-on-the-web</guid><pubDate>Tue, 06 Mar 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://discuss.httparchive.org/t/adoption-of-http-security-headers-on-the-web/1259&quot;&gt;Adoption of HTTP Security Headers on the Web&lt;/a&gt; looked at HTTP Archive data to do some analysis of the adoption of various HTTP security headers.  Here is a summary table of usage.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fb21b9f9f477a744b824bb3d7d8b7185/36727/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 14.927536231884059%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAp0lEQVQI1z2OyxaDIAxE/f8PE3QLailwfECV6vGx8bicJiy6ymRyM0nxPA/u+0YMAc45eOfhvSdtc19XFaSUkFWNshSQooQQAsaYzFlLnHWZHYcRRasVBIF935MxQCmFeZ4RY0TXdQh0KC0LtNaYSHMIhy3ktU2Te36G2Rg/KN7mhYYGKSVs24aBQs/zxHEcOXRdV+z7nhdZszdOE67rQqCa0vfPMvcDrerYWU+X9rkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;% of Base Pages using HTTP Security Headers&quot;
        title=&quot;% of Base Pages using HTTP Security Headers&quot;
        src=&quot;/static/fb21b9f9f477a744b824bb3d7d8b7185/b9e4f/pastedImage_4.png&quot;
        srcset=&quot;/static/fb21b9f9f477a744b824bb3d7d8b7185/cf440/pastedImage_4.png 148w,
/static/fb21b9f9f477a744b824bb3d7d8b7185/d2d38/pastedImage_4.png 295w,
/static/fb21b9f9f477a744b824bb3d7d8b7185/b9e4f/pastedImage_4.png 590w,
/static/fb21b9f9f477a744b824bb3d7d8b7185/36727/pastedImage_4.png 690w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The analysis deep dives into each header, and which values are being sent, including misconfigured / invalid variations.  The author ends with this conclusion:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There’s a lot that we can do with these security headers - but based on the data in the HTTP Archive it’s pretty clear that they are not being used enough and sometimes are being used incorrectly.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For additional reading, take a look at:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;../2018-04-27-content-security-policy-http-header-braindump&quot;&gt;Content-Security-Policy HTTP Header Braindump&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;../2018-02-07-referrer-policy-http-header&quot;&gt;Referrer-Policy HTTP header&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Marking HTTP Pages as "Not Secure"]]></title><description><![CDATA[Chromium Blog: A secure web is here to stay put a deadline for marking HTTP as “Not Secure”: Beginning in July 2018 with the release of…]]></description><link>https://kevinhakanson.com/2018-02-09-marking-http-pages-as-not-secure</link><guid isPermaLink="false">https://kevinhakanson.com/2018-02-09-marking-http-pages-as-not-secure</guid><pubDate>Fri, 09 Feb 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://blog.chromium.org/2018/02/a-secure-web-is-here-to-stay.html&quot;&gt;Chromium Blog: A secure web is here to stay&lt;/a&gt; put a deadline for marking HTTP as “Not Secure”:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Beginning in July 2018 with the release of Chrome 68, Chrome will mark all HTTP sites as “not secure”.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;What if you want that behavior today?  Below are the configurations to change along with what it looks like accessing the intentionally “not secure” &lt;a href=&quot;http://neverssl.com/&quot;&gt;http://neverssl.com/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In Chrome go to &lt;code class=&quot;language-text&quot;&gt;chrome://flags&lt;/code&gt; and search for &lt;code class=&quot;language-text&quot;&gt;mark-non-secure-as&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0a7c028d84673a82740d81dfb2f46f14/60142/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 11.715481171548117%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAeUlEQVQI12XMMQ7CIBhA4V7duHkKF528gvEQXkGgP6QFTIEo6LNldXh52zeY+YVSGhHBmJGHUoi1aK1JKdFa+6vWBnx55g9qemPmip4qLjYGN4UVMtgVsdYRQiDGiPe+g1s5Z0op/VvLkjp4uyd2J+FwsezPwvHq+QE8AZY9e0uczwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Chrome settings&quot;
        title=&quot;Chrome settings&quot;
        src=&quot;/static/0a7c028d84673a82740d81dfb2f46f14/b9e4f/pastedImage_4.png&quot;
        srcset=&quot;/static/0a7c028d84673a82740d81dfb2f46f14/cf440/pastedImage_4.png 148w,
/static/0a7c028d84673a82740d81dfb2f46f14/d2d38/pastedImage_4.png 295w,
/static/0a7c028d84673a82740d81dfb2f46f14/b9e4f/pastedImage_4.png 590w,
/static/0a7c028d84673a82740d81dfb2f46f14/60142/pastedImage_4.png 717w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 337px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/634a76ae560682624647c1146f064423/3e757/pastedImage_6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 40.059347181008896%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABnklEQVQoz5WR2XLaQBBF+ey8JPmN/A5xFmJ2ScgYJAHaBQIkG21IcNJS7Kq8uqtu9dTU1O25p3t+GGIvVLbzGTtN+pvs1TNxHOM4Drbt4Hoerut2d2VZUhRFp/b8v3qO77MbDjB+9FkPfmEOfrP+3mcznRAEPrPpFEVRWK1WaJomph51XVNVVad341ZVJYazKOfW1CRZTlZWJK8X0izjnL5wuVzI85yyKLtz8daTNCFJEtI05Xq90jQ3xIRv6ple38vJTzGmZRFJ/K21wTQMLMPC9+T32x2ORDYtE9dxsQVBi2Ej7x1B0Jl1defTY0rvwctoslf2+wNhGEmPSc5n9lHI8XjsmB1PJxkWEUV7TseYQDC1w+LDQd7vcf0Amitfxy/0fgYFse8wHk9QhdFC1ZhMJh0vTVUYjUbMlTlL/YmFpjOfKzwtdIZ/RvKBsGOXCibuNV9GaWuYc/BcxjOV9dpgu7FZLpcYhsnqeSmmC0xziyURdTHSdR3PC7rF3G7vcf9F/jxsI7sXrhU4cU2UNPinho/U/X7nJpKtdIZ/ATcxUczvjZ53AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Chrome &amp;quot;Not Secure&amp;quot;&quot;
        title=&quot;Chrome &amp;quot;Not Secure&amp;quot;&quot;
        src=&quot;/static/634a76ae560682624647c1146f064423/3e757/pastedImage_6.png&quot;
        srcset=&quot;/static/634a76ae560682624647c1146f064423/cf440/pastedImage_6.png 148w,
/static/634a76ae560682624647c1146f064423/d2d38/pastedImage_6.png 295w,
/static/634a76ae560682624647c1146f064423/3e757/pastedImage_6.png 337w&quot;
        sizes=&quot;(max-width: 337px) 100vw, 337px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In Firefox go to &lt;code class=&quot;language-text&quot;&gt;about:config&lt;/code&gt; and search for &lt;code class=&quot;language-text&quot;&gt;security.insecure_connection&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cf178e7ce775a771f866b4f5fb91f10c/b6bc0/pastedImage_5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 15.49560853199498%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAApklEQVQI122Kyw7BQABF++e+wGqG77Dx6iMVQfdNPbYokajJTNNSKo4RkZBYnJzcnOuURnG/FFSFptAZpTlxzhU8bsA/6nf79MdvcwZxxjA+4iWKcGUIlto6x1uVDOY5/cR8kdONNa79+gtNz+7Aejg39mt7rHCElyLcNdJPab0Idkh3Q6Ozphka2tEVOb0gZ5Xl5SsiOCD8PTKqEd4WOdbISYEYKZ5N2dUhwplHFwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Firefox settings&quot;
        title=&quot;Firefox settings&quot;
        src=&quot;/static/cf178e7ce775a771f866b4f5fb91f10c/b9e4f/pastedImage_5.png&quot;
        srcset=&quot;/static/cf178e7ce775a771f866b4f5fb91f10c/cf440/pastedImage_5.png 148w,
/static/cf178e7ce775a771f866b4f5fb91f10c/d2d38/pastedImage_5.png 295w,
/static/cf178e7ce775a771f866b4f5fb91f10c/b9e4f/pastedImage_5.png 590w,
/static/cf178e7ce775a771f866b4f5fb91f10c/f9b6a/pastedImage_5.png 885w,
/static/cf178e7ce775a771f866b4f5fb91f10c/2d849/pastedImage_5.png 1180w,
/static/cf178e7ce775a771f866b4f5fb91f10c/b6bc0/pastedImage_5.png 1594w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f992e38f9c128dab4b030308a7f54c05/5e3e6/pastedImage_7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 28.235294117647058%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABOUlEQVQY042MS0sCARSF54ephVoRpdNjYW2EJK2MaNmioDb9oKBNQQlZmimY44M0xDLRorJRR52ZrK/xsUgh6MLHOfcc7hVcS8v43Ct4Fl1Mz8zidIiI4jxOp4jD8HbbBCaTBYt5DPOA3948kgt7+wcc7uyy7d3A7fHi39zCt+7Hs+rDu+ZHnFtg3GrHZp/Cap/8A6Oz9VWoPBWJZ+4IhCMELsOcB0OcXVwRvI729lAsTiyRIhqXiN4miXb9CBGjS6QynNxICKfHR2SzOSrlshEmyWSzxCWJh+IjyXSaZqvFf0ZvNXlRNITqc5nqh0y7VKKRy6Hc53raKBT6ez6PMlC1VkfvdNB1fQjNQH5/o/BaQ+h+1/RPVEVBlWXjqNZDazRQ6/U+3czotHa7/0DThrStqvD9RUlu8gMIQ3TWetUlLAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Firefox &amp;quot;Not Secure&amp;quot;&quot;
        title=&quot;Firefox &amp;quot;Not Secure&amp;quot;&quot;
        src=&quot;/static/f992e38f9c128dab4b030308a7f54c05/b9e4f/pastedImage_7.png&quot;
        srcset=&quot;/static/f992e38f9c128dab4b030308a7f54c05/cf440/pastedImage_7.png 148w,
/static/f992e38f9c128dab4b030308a7f54c05/d2d38/pastedImage_7.png 295w,
/static/f992e38f9c128dab4b030308a7f54c05/b9e4f/pastedImage_7.png 590w,
/static/f992e38f9c128dab4b030308a7f54c05/5e3e6/pastedImage_7.png 680w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[What defines a known open source vulnerability?]]></title><description><![CDATA[What defines a known open source vulnerability? is an excerpt from Securing Open Source Libraries by Guy Podjarny that contains some…]]></description><link>https://kevinhakanson.com/2018-02-08-what-defines-a-known-open-source-vulnerability</link><guid isPermaLink="false">https://kevinhakanson.com/2018-02-08-what-defines-a-known-open-source-vulnerability</guid><pubDate>Thu, 08 Feb 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://www.oreilly.com/ideas/what-defines-a-known-open-source-vulnerability&quot;&gt;What defines a known open source vulnerability?&lt;/a&gt; is an excerpt from &lt;a href=&quot;https://learning.oreilly.com/library/view/securing-open-source/9781491996980/&quot;&gt;Securing Open Source Libraries by Guy Podjarny&lt;/a&gt; that contains some interesting points I would like to highlight:&lt;/p&gt;
&lt;p&gt;A “known vulnerability” seems obvious…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;At the most basic level, a vulnerability is deemed known as soon as it’s publicly posted in a reasonably easy to find location.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;They get CVE ID…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The most well-known body of vulnerability information is Common Vulnerability and Exposures (CVE). CVE is a free dictionary of vulnerabilities…CVEs are used globally as a classification system.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;And appear in the NVD…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It’s important to note that CVE is not itself a database, but rather a dictionary of IDs…the National Vulnerability Database (NVD) is a database, and exposes the vulnerability information&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Unless they don’t get a ID…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Receiving a CVE number requires the author or reporter to know about it in the first place, and then go through a certain amount of paperwork and filing effort.&lt;/p&gt;
&lt;p&gt;CVEs are in especially bad shape when it comes to known vulnerabilities in OSS packages. Based on a Snyk’s database as of October, 2017…a meager 11% of npm package vulnerabilities have such an ID.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Or don’t get into the database…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Yet another lag takes place between the assignment of a CVE and posting it to NVD&lt;/p&gt;
&lt;p&gt;Known vulnerabilities that are not on NVD are still known, but harder to detect. Library vulnerabilities are likely to either have no CVE, not be listed on NVD&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As a summary:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Known vulnerabilities are not as simple as they initially appear. The definition of what’s considered known and the management of the vulnerability metadata are very hard to do well.&lt;/p&gt;
&lt;p&gt;CVE and NVD work well for curating vulnerabilities in commercial products, but do not scale to the volume and ownership model of open source projects. Over time, these standards may evolve to meet this demand, but right now their coverage and detail level are not enough to protect your libraries.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Referrer-Policy HTTP header]]></title><description><![CDATA[Referrer-Policy is one the security focused HTTP headers checked during Observatory by Mozilla scans.  Scott Helme talks about this in A new…]]></description><link>https://kevinhakanson.com/2018-02-07-referrer-policy-http-header</link><guid isPermaLink="false">https://kevinhakanson.com/2018-02-07-referrer-policy-http-header</guid><pubDate>Wed, 07 Feb 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy&quot;&gt;Referrer-Policy&lt;/a&gt; is one the security focused HTTP headers checked during &lt;a href=&quot;https://observatory.mozilla.org/&quot;&gt;Observatory by Mozilla&lt;/a&gt; scans.  Scott Helme talks about this in &lt;a href=&quot;https://scotthelme.co.uk/a-new-security-header-referrer-policy/&quot;&gt;A new security header: Referrer Policy&lt;/a&gt;, but his comment that you can set &lt;a href=&quot;https://scotthelme.co.uk/csp-cheat-sheet/#referrer&quot;&gt;Referrer Policy via the Content Security Policy&lt;/a&gt; is based on a &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/referrer&quot;&gt;CSP: referrer&lt;/a&gt; feature that had been deprecated.&lt;/p&gt;
&lt;p&gt;Using &lt;code class=&quot;language-text&quot;&gt;Referrer-Policy: no-referrer&lt;/code&gt; is effectively setting &lt;a href=&quot;https://blog.whatwg.org/tag/rel#rel-noreferrer&quot;&gt;rel=noreferrer&lt;/a&gt; on every link and protects the most against information leakage.&lt;/p&gt;
&lt;p&gt;Applications that need &lt;code class=&quot;language-text&quot;&gt;Referer&lt;/code&gt; header values sent to themselves should consider &lt;code class=&quot;language-text&quot;&gt;Referrer-Policy: same-origin&lt;/code&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[YAHOO! "Will be right back..." page]]></title><description><![CDATA[Today in an Architecture Strategy and Planning meeting, we were talking about a “Maintenance Mode” page that would indicate when our…]]></description><link>https://kevinhakanson.com/2018-02-05-yahoo-will-be-right-back-page</link><guid isPermaLink="false">https://kevinhakanson.com/2018-02-05-yahoo-will-be-right-back-page</guid><pubDate>Mon, 05 Feb 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Today in an Architecture Strategy and Planning meeting, we were talking about a “Maintenance Mode” page that would indicate when our application was down (for planned or unplanned outages).  As fate would have it, I happened to see the YAHOO! version of this page moments later and was able to take a screenshot.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/127f85c21a6cb426e638d542eec1b91b/9a22e/pastedImage_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.96610169491525%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAADQUlEQVQ4y52UW2/jRBTHC4EnEHh54JE3+A488CVQV+JT9GvwwEMlsqzUl63SNskWGgEFIbYXtbtbNtvdpklbJ2lz8SUXxxPHl9hxmsvYf46tthKwQoKRfh5pZvybM3OOvbBALXf0eyJ3oQgn2x0hX94SnhV3hVRqQ0g+fCA8ePidkEwmhW+Jra0tYWd3V8hl0sLjVEr4PvODsLm5KeTz+Xunp6fvLdy2Jz/++oX86tng+HJHf/28xk7z50xVFdbXGdN1esRNZ7VajVUqFdaQJNaUFeobrNls9orFokfSbVK9Ewuz6cyXnm2BGRpUVUPbYDBck7DQNw3oPYaerkPTeugPTOhlEY1Xx5ArbbRaLYzHPi4vL4uk+jAWrq2tLQ49D4495JZjBSbh+m7gT0eB49nBwDSIfjDyvWA6mwSuyQK93Q6svhM4jjMPwxAU/QmpPoqFq6uri6ZJERlGaFt26LpDaOoA9Yse2pIBVepBbepg3SH0jg1NcTGbzzGdTeH7Pgc1URQLpLp3K7xvWVYsjPB9D9JVF6lv/sDj5Al+enSGJ9lqTOGpiuMdmRQBrsfXdNxxLKS7fbOQjhfS0XB9PcbQia7Bpd7FfMZJMIfvTen1MHJgOp1iNpvFwmq1+lehSZdtO2ZYeH4V7uZKOHupolpoQ6kxlPISSi9a6DZN1M51iMcdKFcGgoAj4EEspKT8PUIbtm2F8lU3FAsK2g0TkjjAQBvh4mUHlRMdTn+MxvkAtSKL58dxtPinMJVK3R8OhyR0Qm/khpPpGIoqQWcdKpM+DJPBGg7Q7+voaiosZxAfOcou8W9CO4yI7rPRaKBRr0OWZXTaHbTUVky9VockKRh5I0wmk4g3JmWREhIlZU5wTdO4oihcajb5+dkZL4sir4hlXi5XaFzlsiRz+oI4bcyp3GaUaZRKpdd3wvX19a8457c7xtmbU51RBuFRwXueSxF5cF03HovmojXR2kh2k+XKXWEvLS19Th9+Lp1Ob9/wy8bGRkwmk7kjm83ejUdrbtb9TD+I32j+a1J9sLCyshI53yc+IT77n3xKfJxIJN6NI1xeXn6L/haJg4ODxP7+/n9ib28vcXR0lDg8PHw7cv0JGOqNFr3PcHwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;YAHOO! Will be right back...&quot;
        title=&quot;YAHOO! Will be right back...&quot;
        src=&quot;/static/127f85c21a6cb426e638d542eec1b91b/b9e4f/pastedImage_1.png&quot;
        srcset=&quot;/static/127f85c21a6cb426e638d542eec1b91b/cf440/pastedImage_1.png 148w,
/static/127f85c21a6cb426e638d542eec1b91b/d2d38/pastedImage_1.png 295w,
/static/127f85c21a6cb426e638d542eec1b91b/b9e4f/pastedImage_1.png 590w,
/static/127f85c21a6cb426e638d542eec1b91b/9a22e/pastedImage_1.png 649w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The corresponding HTML source is an “interesting” read as it supports multiple hostnames and languages (English, Spanish).  It also generates a dynamic image src, likely as a “ping” to track information about affected users.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;en-us&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;http-equiv&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;content-type&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text/html; charset=UTF-8&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;utf-8&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Yahoo&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;viewport&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;width=device-width,initial-scale=1,minimal-ui&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;http-equiv&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;X-UA-Compatible&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;IE=edge,chrome=1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token style&quot;&gt;&lt;span class=&quot;token language-css&quot;&gt;
&lt;span class=&quot;token selector&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fafafc &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;https://s.yimg.com/nn/img/sad-panda-201402200631.png&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; 50% 50%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cover&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 300 18px &lt;span class=&quot;token string&quot;&gt;&quot;helvetica neue&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; helvetica&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; verdana&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tahoma&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; arial&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sans-serif&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;table-layout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; fixed&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border-collapse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; collapse&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border-spacing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;h1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 42px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 400&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #400090&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #1A1A1A&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;#message-1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bold&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;#message-2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inline-block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    *&lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inline&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;zoom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 17em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;_width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 17em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;#spanishContent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;img src=&quot;//geo.yahoo.com/b?s=1197757129&amp;amp;t=&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;amp;err_url=&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;encodeURIComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;amp;err=502&amp;amp;test=&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;encodeURIComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;-&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&quot; width=&quot;0px&quot; height=&quot;0px&quot;/&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token style&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;//geo.yahoo.com/b?s=1197757129&lt;span class=&quot;token entity&quot; title=&quot;&amp;amp;&quot;&gt;&amp;amp;amp;&lt;/span&gt;t=1517852144181&lt;span class=&quot;token entity&quot; title=&quot;&amp;amp;&quot;&gt;&amp;amp;amp;&lt;/span&gt;err_url=https%3A%2F%2Fmail.yahoo.com%2F&lt;span class=&quot;token entity&quot; title=&quot;&amp;amp;&quot;&gt;&amp;amp;amp;&lt;/span&gt;err=502&lt;span class=&quot;token entity&quot; title=&quot;&amp;amp;&quot;&gt;&amp;amp;amp;&lt;/span&gt;test=-&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0px&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0px&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;hidden&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token style-attr language-css&quot;&gt;&lt;span class=&quot;token attr-name&quot;&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&quot;&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none &lt;span class=&quot;token important&quot;&gt;!important&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;


&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- status code : 502 --&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- Could Not Connect --&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- host machine: e11.ycpi.cha.yahoo.com --&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- timestamp: 1517852082.999 --&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- url: https://mail.yahoo.com/--&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;tbody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;tr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;td&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;englishContent&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text/javascript&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hostname&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;att.yahoo.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;img src=&quot;https://s1.yimg.com/rz/d/att_en-US_f_p_bestfit_2x.png&quot; alt=&quot;AT&amp;amp;T&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;img src=&quot;https://s.yimg.com/nn/img/yahoo-logo-201402200629.png&quot; alt=&quot;Yahoo Logo&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;    
        &lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://s.yimg.com/nn/img/yahoo-logo-201402200629.png&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;Yahoo Logo&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; 
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token style-attr language-css&quot;&gt;&lt;span class=&quot;token attr-name&quot;&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&quot;&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token property&quot;&gt;margin-top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Will be right back...&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;message-1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Thank you for your patience.&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;message-2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Our engineers are working quickly to resolve the issue.&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;spanishContent&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; 
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://s1.yimg.com/rz/d/att_es-US_f_p_bestfit_2x.png&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;AT&lt;span class=&quot;token entity&quot; title=&quot;&amp;amp;&quot;&gt;&amp;amp;amp;&lt;/span&gt;T En Vivo&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token style-attr language-css&quot;&gt;&lt;span class=&quot;token attr-name&quot;&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&quot;&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;310px&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token style-attr language-css&quot;&gt;&lt;span class=&quot;token attr-name&quot;&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&quot;&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token property&quot;&gt;margin-top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Volvemos enseguida…&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;message-1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Gracias por tu paciencia.&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;message-2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Nuestros ingenieros están trabajando rápidamente para resolver el problema.&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text/javascript&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hostname&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;espanol.att.yahoo.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;englishContent&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;display &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;none&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;spanishContent&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;display &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;   
    &lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;td&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;tr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;tbody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;



&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[GraphQL vs. REST APIs?]]></title><description><![CDATA[I ran across Understanding And Using REST APIs — Smashing Magazine, which is an entry level article explaining REST APIs and uses the GitHub…]]></description><link>https://kevinhakanson.com/2018-01-30-graphql-vs-rest-apis</link><guid isPermaLink="false">https://kevinhakanson.com/2018-01-30-graphql-vs-rest-apis</guid><pubDate>Tue, 30 Jan 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I ran across &lt;a href=&quot;https://www.smashingmagazine.com/2018/01/understanding-using-rest-api/&quot;&gt;Understanding And Using REST APIs — Smashing Magazine&lt;/a&gt;, which is an entry level article explaining REST APIs and uses the &lt;a href=&quot;https://developer.github.com/v3/&quot;&gt;GitHub API v3&lt;/a&gt; in its examples.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;By default, all requests to &lt;a href=&quot;https://api.github.com&quot;&gt;https://api.github.com&lt;/a&gt; receive the v3 version of the REST API. We encourage you to explicitly request this version via the Accept header.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;What is a bit ironic (to me) is that GitHub is &lt;a href=&quot;https://developer.github.com/v4/guides/migrating-from-rest/&quot;&gt;Migrating from REST to GraphQL&lt;/a&gt; and the &lt;a href=&quot;https://developer.github.com/v4/&quot;&gt;GitHub GraphQL API v4&lt;/a&gt; only mentions REST in this comment.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;GitHub chose GraphQL for our API v4 because it offers significantly more flexibility for our integrators. The ability to define precisely the data you want—and only the data you want—is a powerful advantage over the REST API v3 endpoints. GraphQL lets you replace multiple REST requests with a single call to fetch the data you specify.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Back in April 2015, I was curious about &lt;a href=&quot;../2015-04-01-facebook-graphqlrelay-and-netflix-falcor&quot;&gt;Facebook GraphQL/Relay and Netflix Falcor&lt;/a&gt; and knew it was a technology to watch.  Is now the time not to assume that API doesn’t always equal REST?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[CloudFront and Disaster Recovery]]></title><description><![CDATA[Note:  If you need a refresher on CloudFront, start with What Is Amazon CloudFront? After reading Lambda@Edge Now Supports Content-Based…]]></description><link>https://kevinhakanson.com/2017-12-12-cloudfront-and-disaster-recovery</link><guid isPermaLink="false">https://kevinhakanson.com/2017-12-12-cloudfront-and-disaster-recovery</guid><pubDate>Tue, 12 Dec 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;em&gt;Note:  If you need a refresher on CloudFront, start with &lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Introduction.html&quot;&gt;What Is Amazon CloudFront?&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;After reading &lt;a href=&quot;https://aws.amazon.com/about-aws/whats-new/2017/11/lambda-at-edge-now-supports-content-based-dynamic-origin-selection-network-calls-from-viewer-events-and-advanced-response-generation/&quot;&gt;Lambda@Edge Now Supports Content-Based Dynamic Origin Selection, Network Calls from Viewer Events, and Advanced Response Generation&lt;/a&gt; (Posted On: Nov 21, 2017), I thought it was time to take another look at this feature.  Reviewing &lt;a href=&quot;http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/lambda-at-the-edge.html&quot;&gt;Using CloudFront with Lambda@Edge&lt;/a&gt;, I saw this interesting note:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You can use a Lambda function to generate HTTP responses when CloudFront viewer request or origin request events occur.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;That reminded me of the &lt;a href=&quot;https://devcentral.f5.com/wiki/iRules.HomePage.ashx&quot;&gt;F5 BIG-IP iRule&lt;/a&gt; we wrote for WestlawNext that would return a custom “We’re Sorry” HTML page if no servers were available.  I’m not sure Lambda@Edge is the right fit or if &lt;a href=&quot;http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/custom-error-pages.html&quot;&gt;Customizing Error Responses&lt;/a&gt; is better.  Regardless, it got me thinking about CloudFront’s potential role in disaster recovery.&lt;/p&gt;
&lt;p&gt;Consider this active/passive solution where CloudFront sits in front of the “active” region:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a775e4d7d0e7c90e30e55b98670a98b0/04c1a/pastedImage_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.10987482614743%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAADK0lEQVQoz2NgQAP/yyQZ4ez//8H02XPnTM6dOxfJQCz4Mtlvys/ZYRd+tenLgvj1QZYsnp4eTKnpGSwg/qzpU5xmTJ1cAmL7BIQwBQcHMTlaWjPl50Yy/X9Qx/T//0Sm9NQQJicLayYGXVEGjudTIlPv9kbOnO+rqAPUw1KSG87u5OzK7uZgw+ZTP48Z2fJgVzt2R3sn9rD4aDYFeRNOBgYODgYGJg4+GXN2v+gwDoao0ko2oDrhXHXumO2xGrO67KR9lRgYxODefqDKuDpKM+tIlt78/50morCgkGZgYHMV5rFYFqQyYVeceqe/GI+xpqQiL4MAvxFnto64x/EsvT9fW8z/P6kxngkMRM1Ce2UOkObl4eoG2xK01h7O0NlyNkcvDWzgnliQqznm+yjNvFtu9P9No+nvlSEqiQwMrGIMYgJGXFlaoo4ns/V+/uqw+n+/0mgmULGhNB+HGpCWmhmoanaywHzFjWrb9deLTdLOM+gL3rC0VC1i4BVd6aW88GGlyf9PLeY/N4SrhgMdLcoQamAgoM/MqjbZTyn5YLr2nJ0pGsbaDKxqTiqSwKAQYdpdbsQ5N1i1cW+q1tpzRXrA0LjA8L+3mlmFgZnPTZLPYl2MetuZPN2acEV+fQM+EVmGEH19AX0WNpBrQDEMDBoGPisODk0TLRUWpLgABj6DHHLkOHNw8IszMGkDmTKgOOBjYFBylBCXZ/DV1+c3Z2NXF+ZkkRdiZzaX5mSVNOfkBClksA9WUYwps6hrXOyVDuJHFhpYpraZWYLY1mK8IsYcHDp87MzagpwsmibsbEpmwiIKDO4pyWyO7BwyWmxsNjIsLD76bOyWjmJ84Fh2DtOISmmy/F861+5r+3YntvAC4/UFk+12guRiFITZzTg49JVYWF0UWFg9rdnYNc21tbkZXF1cOKG+4AJiAZDzgZgHJOARoyNs46eUH1WhHwJ2cZBqdFiRfgySz3kZIEkMlPQYPP39WRnc3Nw43ZycOE0MDXl1tbT4tDU0+M2MTXg8vNw4u5IOgrKhJBCLQLOhEMjSksIqFidHBy4LExMeLQ0NAZBeD6AZQMdxAQArfMyPVS135gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AWS multi-region diagram&quot;
        title=&quot;AWS multi-region diagram&quot;
        src=&quot;/static/a775e4d7d0e7c90e30e55b98670a98b0/b9e4f/pastedImage_1.png&quot;
        srcset=&quot;/static/a775e4d7d0e7c90e30e55b98670a98b0/cf440/pastedImage_1.png 148w,
/static/a775e4d7d0e7c90e30e55b98670a98b0/d2d38/pastedImage_1.png 295w,
/static/a775e4d7d0e7c90e30e55b98670a98b0/b9e4f/pastedImage_1.png 590w,
/static/a775e4d7d0e7c90e30e55b98670a98b0/04c1a/pastedImage_1.png 719w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The product’s DNS name points at the CloudFront distribution, and there you specify the name of the load balancer as your origin server.  This solution uses an ELB for that Web Distribution in the primary region. In the event of a disaster recovery cutover, that Web Distribution is updated to the name of the load balancer in the DR region. Contrast this with updating the products DNS entry to load balancer and waiting for TTL to pass.&lt;/p&gt;
&lt;p&gt;For more background on CloudFront Custom Origins:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/distribution-web.html&quot;&gt;Working with Web Distributions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/CustomOriginBestPractices.html&quot;&gt;Requirements and Recommendations for Using Amazon EC2 and Other Custom Origins)&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/RequestAndResponseBehaviorCustomOrigin.html&quot;&gt;Request and Response Behavior for Custom Origins&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/distribution-web-awswaf.html&quot;&gt;Using AWS WAF to Control Access to Your Content&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/cnames-and-https-procedures.html&quot;&gt;Configuring Alternate Domain Names and HTTPS&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;However, you now might want to limit traffic flowing into the regional ELBs.  Luckily, &lt;a href=&quot;https://medium.com/cagataygurturk/restricting-elb-access-to-cloudfront-8b0990dea69f&quot;&gt;Restricting ELB access to CloudFront&lt;/a&gt; is possible.  Amazon publishes the &lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/LocationsOfEdgeServers.html&quot;&gt;Locations and IP Address Ranges of CloudFront Edge Servers&lt;/a&gt; in a JSON file and changes appear as an SNS topic.  This allows a Security Group created to restrict to CloudFront IP ranges to be updated whenever Amazon updates those ranges.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/de57a5e00e2055c8372f8d725f904190/5e3e6/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABdklEQVQY02NggILVLcbcMPb0cj3GDlsRRhj/UzqbLIw9M0ARLO6ko8N0XkhIeJWCgtguKSnRnVJSYmeEhNgZJhbq8C5vNKrY1Gn69N4qp7l3VzmJMiCBr/1uy/8uzfj/pUFvObL4JXl54U3S0gKrFRVZDomJsfdoa7Ntk5aWARnoeHCq1f/tveb/v+71/H9kulUOVA/HhnAJr//TvP//ubrz///pPv9PJss4AMWZGXiZ+BP5+dWfqqszI1uyRUZGgmF6qa7S1i7TfTv7zL7fX+104+w8Wx2wrHACU6Meg+KHGVH3/m8p/f9pftrd9VYMEmA5PgaWEkFBxf8aGizIBm6XlpaAscWbEpS86uKUXUGc////M/yfYwoOq2k+0iYL/CXmdNjxWYL4b+NUmED0DQUFEUNeXj4gkwdsBQMD+2YZGSmGAHtJkEZ2mMnVccootkLlhEBBAOKIMLCBBbcpKfHMFhRUzhIWVivi59coFhbW2CUpKQYAca1szcnDAdQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Amazon SNS topic data flow&quot;
        title=&quot;Amazon SNS topic data flow&quot;
        src=&quot;/static/de57a5e00e2055c8372f8d725f904190/b9e4f/pastedImage_3.png&quot;
        srcset=&quot;/static/de57a5e00e2055c8372f8d725f904190/cf440/pastedImage_3.png 148w,
/static/de57a5e00e2055c8372f8d725f904190/d2d38/pastedImage_3.png 295w,
/static/de57a5e00e2055c8372f8d725f904190/b9e4f/pastedImage_3.png 590w,
/static/de57a5e00e2055c8372f8d725f904190/5e3e6/pastedImage_3.png 680w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I’m sure that I am not the first person to consider this.  What do you think of using CloudFront as part of the Disaster Recovery cutover flow?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS Certificate Manager and Certificate Pinning]]></title><description><![CDATA[As a background, please review Out with HPKP, in with CAA? to re-familiarize yourself with HTTP Public Key Pinning (HPKP) and Certificate…]]></description><link>https://kevinhakanson.com/2017-10-30-aws-certificate-manager-and-certificate-pinning</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-30-aws-certificate-manager-and-certificate-pinning</guid><pubDate>Mon, 30 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;As a background, please review &lt;a href=&quot;../2017-08-30-out-with-hpkp-in-with-caa&quot;&gt;Out with HPKP, in with CAA?&lt;/a&gt; to re-familiarize yourself with HTTP Public Key Pinning (HPKP) and Certificate Authority Authorization (CAA).&lt;/p&gt;
&lt;p&gt;Today, I saw &lt;a href=&quot;https://aws.amazon.com/blogs/security/how-to-prepare-for-aws-move-to-its-own-certificate-authority/&quot;&gt;How to Prepare for AWS’s Move to Its Own Certificate Authority | AWS Security Blog&lt;/a&gt; and saw this comment about Certificate Pinning:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;AWS recommends against using certificate pinning because it introduces a potential availability risk. If the certificate to which you pin is replaced, your application will fail to connect. If your use case requires pinning, we recommend that you pin to a CA rather than to an individual certificate. If you are pinning to an Amazon Trust Services CA, you should pin to all CAs shown in the table earlier in this post.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It wasn’t mentioned in that blog posting, but AWS Certificate Manager works with CAA Records (see &lt;a href=&quot;http://docs.aws.amazon.com/acm/latest/userguide/setup-caa.html&quot;&gt;(Optional) Configure a CAA Record&lt;/a&gt;) and as of August 2017 &lt;a href=&quot;https://aws.amazon.com/about-aws/whats-new/2017/08/amazon-route-53-now-supports-caa-records/&quot;&gt;Amazon Route 53 now supports CAA records&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It Seems like we don’t want to &lt;a href=&quot;http://www.dictionary.com/browse/pin-one-s-hopes-on&quot;&gt;pin one’s hopes on&lt;/a&gt; HPKP.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Using the Virtual MFA Device with the AWS CLI]]></title><description><![CDATA[In Creating and Using an AWS Virtual MFA Device with the AWS SDK for Python, some Python code was used to add a Virtual MFA Device to IAM…]]></description><link>https://kevinhakanson.com/2017-10-22-using-the-virtual-mfa-device-with-the-aws-cli</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-22-using-the-virtual-mfa-device-with-the-aws-cli</guid><pubDate>Sun, 22 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In &lt;a href=&quot;../2017-10-21-creating-and-using-an-aws-virtual-mfa-device-with-python&quot;&gt;Creating and Using an AWS Virtual MFA Device with the AWS SDK for Python&lt;/a&gt;, some Python code was used to add a Virtual MFA Device to IAM User &lt;code class=&quot;language-text&quot;&gt;kjh-SuperDuperUser&lt;/code&gt; as well as use that to call &lt;a href=&quot;http://boto3.readthedocs.io/en/latest/reference/services/sts.html#STS.Client.assume_role&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;STS.Client.assume_role&lt;/code&gt;&lt;/a&gt;.  This document uses the AWS CLI to call &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/sts/assume-role.html&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;assume-role&lt;/code&gt;&lt;/a&gt; using the Virtual MFA Device.&lt;/p&gt;
&lt;p&gt;As background, recall that &lt;code class=&quot;language-text&quot;&gt;kjh-DuperRole&lt;/code&gt; has this Trust Policy which requires MFA to be present for &lt;code class=&quot;language-text&quot;&gt;sts:AssumeRole&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;AWS&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:user/service-user/kjh-SuperDuperUser&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;Bool&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;aws:MultiFactorAuthPresent&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;true&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;An attempt to assume role will fail (which is expected):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws --profile kjh-SuperDuperUser sts assume-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-arn arn:aws:iam::123456789012:role/kjh-DuperRole &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-session-name my-cli-session

An error occurred &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AccessDenied&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; when calling the AssumeRole operation: User: arn:aws:iam::123456789012:user/service-user/kjh-SuperDuperUser is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::123456789012:role/kjh-DuperRole&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, when the MFA serial number and token code are supplied, there is a success.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws --profile kjh-SuperDuperUser sts assume-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-arn arn:aws:iam::123456789012:role/kjh-DuperRole &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-session-name my-cli-session &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--serial-number arn:aws:iam::123456789012:mfa/service-user/kjh-SuperDuperUser &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--token-code 000000

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token string&quot;&gt;&quot;Credentials&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;AccessKeyId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ASIAXXXXXXXXXXXXXXXX&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;SecretAccessKey&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[redacted]&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;SessionToken&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[redacted]&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;Expiration&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2017-10-21T22:59:21Z&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;AssumedRoleUser&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;AssumedRoleId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:my-cli-session&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/kjh-DuperRole/my-cli-session&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Alternatively, a profile can be created in &lt;code class=&quot;language-text&quot;&gt;~/.aws/config&lt;/code&gt; which specifies both the &lt;code class=&quot;language-text&quot;&gt;role_arn&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;mfa_serial&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ini&quot;&gt;&lt;pre class=&quot;language-ini&quot;&gt;&lt;code class=&quot;language-ini&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;[profile kjh-DuperRole]&lt;/span&gt;
&lt;span class=&quot;token constant&quot;&gt;role_arn&lt;/span&gt; &lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; arn:aws:iam::123456789012:role/kjh-DuperRole&lt;/span&gt;
&lt;span class=&quot;token constant&quot;&gt;source_profile&lt;/span&gt; &lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; kjh-SuperDuperUser&lt;/span&gt;
&lt;span class=&quot;token constant&quot;&gt;mfa_serial&lt;/span&gt; &lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; arn:aws:iam::123456789012:mfa/service-user/kjh-SuperDuperUser&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This causes the AWS CLI to automatically assume-role and prompt for the MFA code (and store the temporary credentials in a file in the &lt;code class=&quot;language-text&quot;&gt;~/.aws/cache/&lt;/code&gt; directory).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws --profile kjh-DuperRole sts get-caller-identity
Enter MFA code: 000000
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;UserId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:AWS-CLI-session-1508622621&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;Account&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456789012&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/kjh-DuperRole/AWS-CLI-session-1508622621&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Creating and Using an AWS Virtual MFA Device with the AWS SDK for Python]]></title><description><![CDATA[Some scenarios, like on-premise servers that need access to AWS resources, require AWS IAM Users to be created.  These “service users” are…]]></description><link>https://kevinhakanson.com/2017-10-21-creating-and-using-an-aws-virtual-mfa-device-with-the-aws-sdk-for-python</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-21-creating-and-using-an-aws-virtual-mfa-device-with-the-aws-sdk-for-python</guid><pubDate>Sat, 21 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Some scenarios, like on-premise servers that need access to AWS resources, require AWS IAM Users to be created.  These “service users” are given Access Keys, which serve as long term credentials and needed to be protected.  An additional measure of protection could be to enable programmatic multifactor authentication for these users.&lt;/p&gt;
&lt;p&gt;This Python code creates a virtual MFA device with &lt;a href=&quot;http://boto3.readthedocs.io/en/latest/index.html&quot;&gt;Boto 3&lt;/a&gt; (AWS SDK for Python).  The  &lt;a href=&quot;https://boto3.readthedocs.io/en/latest/reference/services/iam.html#IAM.Client.create_virtual_mfa_device&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;create_virtual_mfa_device&lt;/code&gt;&lt;/a&gt; response includes a shared secret (saved in &lt;code class=&quot;language-text&quot;&gt;string_seed&lt;/code&gt;) and the bytes of a PNG image of a QR code that can be used with standard Authenticator apps.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;session &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Session&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;profile_name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;kjh-SuperDuperUser&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
iam_client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;iam&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; iam_client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create_virtual_mfa_device&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    Path&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/service-user/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    VirtualMFADeviceName&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;kjh-SuperDuperUser&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

string_seed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;VirtualMFADevice&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Base32StringSeed&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

qrbytes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;VirtualMFADevice&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;QRCodePNG&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;kjh-SuperDuperUser.png&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mode&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;wb&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;write&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;qrbytes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;close&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Using &lt;a href=&quot;https://github.com/pyotp/pyotp&quot;&gt;GitHub - pyotp/pyotp: Python One-Time Password Library&lt;/a&gt;, two consecutive codes are generated from the &lt;code class=&quot;language-text&quot;&gt;string_seed&lt;/code&gt; to enable the virtual mfa device for the user.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;totp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pyotp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;TOTP&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;string_seed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# the code from 30 seconds ago&lt;/span&gt;
code_1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; totp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;generate_otp&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;totp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;timecode&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;datetime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;datetime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;now&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; datetime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;timedelta&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;seconds&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# the current code&lt;/span&gt;
code_2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; totp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;generate_otp&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;totp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;timecode&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;datetime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;datetime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;now&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; iam_client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;enable_mfa_device&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    UserName&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;kjh-SuperDuperUser&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    SerialNumber&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;arn:aws:iam::123456789012:mfa/service-user/kjh-SuperDuperUser&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    AuthenticationCode1&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;code_1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    AuthenticationCode2&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;code_2
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Afterwards, looking at the AWS Console indicates &lt;code class=&quot;language-text&quot;&gt;kjh-SuperDuperUser&lt;/code&gt; now has an assigned MFA device.  Additionally, &lt;code class=&quot;language-text&quot;&gt;kjh-DuperRole&lt;/code&gt; has this Trust Policy, which requires MFA to be present for &lt;code class=&quot;language-text&quot;&gt;sts:AssumeRole&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;AWS&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:user/service-user/kjh-SuperDuperUser&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;Bool&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;aws:MultiFactorAuthPresent&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;true&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To use the Virtual MFA Device in an &lt;a href=&quot;http://boto3.readthedocs.io/en/latest/reference/services/sts.html#STS.Client.assume_role&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;assume_role&lt;/code&gt;&lt;/a&gt; API call, a TOTP code needs to be generated and passed as a parameter.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;sts_client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

totp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pyotp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;TOTP&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;string_seed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
token_code &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; totp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;now&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sts_client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;assume_role&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    RoleArn&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;arn:aws:iam::123456789012:role/kjh-DuperRole&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    RoleSessionName&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;my-python-session&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    SerialNumber&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;arn:aws:iam::123456789012:mfa/service-user/kjh-SuperDuperUser&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    TokenCode&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;token_code
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note:  This IAM Policy needed to be added to &lt;code class=&quot;language-text&quot;&gt;kjh-SuperDuperUser&lt;/code&gt; in order to allow the MFA related actions.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:CreateVirtualMFADevice&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:DeleteVirtualMFADevice&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:mfa/service-user/${aws:username}&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:EnableMFADevice&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:DeactivateMFADevice&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:ResyncMFADevice&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:user/service-user/${aws:username}&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:ListVirtualMFADevices&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:mfa/*&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;References:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa_enable_virtual.html&quot;&gt;Enabling a Virtual Multi-factor Authentication (MFA) Device - AWS Identity and Access Management&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa_enable_cliapi.html&quot;&gt;Enable and manage virtual MFA devices (AWS CLI, Tools for Windows PowerShell, or AWS API) - AWS Identity and Access Management&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa_configure-api-require.html&quot;&gt;Configuring MFA-Protected API Access - AWS Identity and Access Management&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[HashiCorp Vault supports AWS STS AssumeRole and TOTP]]></title><description><![CDATA[The working security model for on-premise servers to access AWS resources is an IAM User which should only assume an IAM Role.  This makes…]]></description><link>https://kevinhakanson.com/2017-10-21-hashicorp-vault-supports-aws-sts-assumerole-and-totp</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-21-hashicorp-vault-supports-aws-sts-assumerole-and-totp</guid><pubDate>Sat, 21 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The working security model for on-premise servers to access AWS resources is an IAM User which should only assume an IAM Role.  This makes the behavior similar to the Role-based permissions used by EC2 or Lambda.  This IAM User cannot log in onto the AWS Console, but uses an Access Key as long term credentials.  The call to &lt;code class=&quot;language-text&quot;&gt;sts:AssumeRole&lt;/code&gt; returns temporary security credentials that are valid for an hour. (see &lt;a href=&quot;http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_control-access.html&quot;&gt;Controlling Permissions for Temporary Security Credentials - AWS Identity and Access Management&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Reading about &lt;a href=&quot;https://www.vaultproject.io/&quot;&gt;Vault by HashiCorp&lt;/a&gt; highlighted two relevant features:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The &lt;a href=&quot;https://www.vaultproject.io/docs/secrets/aws/index.html#sts-assumerole&quot;&gt;AWS Secret Backend&lt;/a&gt; has built-in support for STS AssumeRole, which allows a &lt;code class=&quot;language-text&quot;&gt;POST /aws/sts/:name&lt;/code&gt; call to retrieve temporary credentials (see &lt;a href=&quot;https://www.vaultproject.io/api/secret/aws/index.html#generate-iam-with-sts&quot;&gt;AWS Secret Backend - HTTP API&lt;/a&gt; for full reference).  For internal teams that use Vault, this could allow the long term credentials (from the IAM User Access Key) to be securely stored once, and server instances request temporary security credentials as needed.&lt;/li&gt;
&lt;li&gt;The &lt;a href=&quot;https://www.vaultproject.io/docs/secrets/totp/index.html&quot;&gt;TOTP Secret Backend&lt;/a&gt; allows Vault users to store their multi-factor authentication keys in Vault and use the API to retrieve time-based one-time use passwords on demand.  The &lt;strong&gt;Using MFA with AssumeRole&lt;/strong&gt; section of &lt;a href=&quot;https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html&quot;&gt;AssumeRole - AWS Security Token Service&lt;/a&gt; explains how can optionally include multi-factor authentication (MFA) information when you call AssumeRole.  However, storage of the TOTP secret and generation of the TOTP code don’t have an implemented solution.  If the secret is stored alongside the long term credentials, then it is as easy to steal two secrets, as it is one.&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[API-First and the Customer Experience]]></title><description><![CDATA[Enabling distributed digital business with API-first architecture (Google Cloud Next ‘17) was a good, high-level overview of API strategies…]]></description><link>https://kevinhakanson.com/2017-10-17-api-first-and-the-customer-experience</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-17-api-first-and-the-customer-experience</guid><pubDate>Tue, 17 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=9SmXhbgYmbU&quot;&gt;Enabling distributed digital business with API-first architecture (Google Cloud Next ‘17)&lt;/a&gt; was a good, high-level overview of API strategies, and reminds me of our internal Customer Experience Model and Customer Experience Principles goals.&lt;/p&gt;
&lt;p&gt;The “Inside-out” vs. “Outside-in” perspective is analogous to how developers used to build UIs, but we now utilize a Central UX: Experience Design &amp;#x26; Research team to focus on the user (vs. the feature).&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d20d62956ab9b1628a5723c1e310eeb2/fa92b/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.14285714285714%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUElEQVQY00VQyU7DQAzN78If8AeIA9eIE/TCgXMlJCQWgbiABAhUFrEvpSUt0yYz9sQp+OEkIA5P9rxlxuOEiPEPaisbQkBReAQ7h9/+D957sHlq1Jm6xhibbELkEYNryDKayTuU3AZ87jB1WROS0sLFpPUwYTTKTJ8YH1FMHYbDrOGT9zHp1lmhNom6nK3P9fIl6ExYe89ej25ytct06EhP771mVn1gHTuvj4NCcx91dS/o+iHp+zhqcnwXsbAR8PQhuHipsLwZ0D2JyKYV1vYjlrqMgauw2ysx3wk4vI7ovQpWthmbZ4yr/gyL3RJznYiDK0Fy80aycxHkc0piL8teL8hdP4hNKEe3JNvn3ngS2488DIJM8rbvj0gKT2I/k5PHSjr70XSS5LviFODUdpPaDlIop1/GBbL+u9Vsn41We/98X8Jp5BrUQGec2hDpD9uRuTCJ3QT7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Inside-out&amp;quot; - service provider view&quot;
        title=&quot;&amp;quot;Inside-out&amp;quot; - service provider view&quot;
        src=&quot;/static/d20d62956ab9b1628a5723c1e310eeb2/b9e4f/pastedImage_2.png&quot;
        srcset=&quot;/static/d20d62956ab9b1628a5723c1e310eeb2/cf440/pastedImage_2.png 148w,
/static/d20d62956ab9b1628a5723c1e310eeb2/d2d38/pastedImage_2.png 295w,
/static/d20d62956ab9b1628a5723c1e310eeb2/b9e4f/pastedImage_2.png 590w,
/static/d20d62956ab9b1628a5723c1e310eeb2/f9b6a/pastedImage_2.png 885w,
/static/d20d62956ab9b1628a5723c1e310eeb2/2d849/pastedImage_2.png 1180w,
/static/d20d62956ab9b1628a5723c1e310eeb2/fa92b/pastedImage_2.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/fa92b/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.14285714285714%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABQElEQVQY001RXUvDQBDMX/VP+OKv8E0pPuiLoP4ABaWiaG2pUBDapg219MuGkjR3t3u3DYbxkkj14dhZZmcY5gJmC2sdysnM9fQ7EUFpDW2oxkpBa+Ofrl5555zba0oPay0C5xgqS2GZqgNHCtZsISJeqKDSGNqb7fzORoHJVHdJmiJNNpWJY40siZFlCsE0Fpw1Ldojb+bJj6nBe+QTeJxpQmuQVSlLYbQ0WCdUJ2KDeaxBHg9mBp1wiyInBI/9HAcNi0ZTMFwILp4Jpw8Go5VDJxIcXhr0Ph3GK8HRFeHknjBZC27aFudPhNFS8Bqy5zK8DL1hfy44vnO47dUddCNGK6wThQvG9ZvB5IurvT9jzOI64WJTYvb9WnznpY7QHRsE4jsU38lOymK5Iou8xrkwUNg9l8sf3v3D5ccUv7ofBITBTq2CRk0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Outside-in&amp;quot; - digital consumer view&quot;
        title=&quot;&amp;quot;Outside-in&amp;quot; - digital consumer view&quot;
        src=&quot;/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/b9e4f/pastedImage_3.png&quot;
        srcset=&quot;/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/cf440/pastedImage_3.png 148w,
/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/d2d38/pastedImage_3.png 295w,
/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/b9e4f/pastedImage_3.png 590w,
/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/f9b6a/pastedImage_3.png 885w,
/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/2d849/pastedImage_3.png 1180w,
/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/fa92b/pastedImage_3.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;APIs serve different purposes, and your internal APIs might not be the SDKs or “experience APIs” the external developer needs.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;APIs as services (e.g. Web)&lt;/li&gt;
&lt;li&gt;APIs as interactions (e.g. Mobile or Partners)&lt;/li&gt;
&lt;li&gt;APIs as products (e.g. Devices)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7c0a6179c17de40fc2b2c93735a93843/de411/pastedImage_6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.08060453400503%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABmklEQVQoz21RyW4VMRCc/79y5cofcACEkEAcEJAoCkIi8ICnl1k99ni8tGdhKbptPZJDDu2lVS5XVVfee0jFGHFTB5yGiHc3hFsVoWfChwPhy22E4bP1hOtjRG8iGk1wgbAshJRSLiJC1XUduq7FNE14fuVx+d3j9Wchj/jWBLy8jvh4CHh6EXFxiLx7fDoGPH7lcWiFdIW1M0IImbSSRS5EkVWWn/Y1sbpyNi6xspTVtDrBB8YLjtWoecNoE9q2gVLqjtBam22vS8K2MtASfnSEPzvhpAidIfzeCF8byrbWpdQw7zmKjgn7vodzDtU8z5iMwexC/nGw/KvbMPkNPZ8N79qVvg3bf4xUbXZWzHk2dVYooioZhpB6HxBJgi12TyplxQ3bHKZi/2fPltnuGdfbHdZxFExoWNSyLMVyIfT5kViZOLd6JM6SeKIEbYvF4yBkMlW+p3OGxfI4jmXKQiLMUufxL6moW3k4j15EPHkb8fdX6d3HyISVXWG0zg6zQmF+uDTUMODZ+xpvrhp+pHLvPkbrgtP6rv8Por6pg/cIsIQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;API layers&quot;
        title=&quot;API layers&quot;
        src=&quot;/static/7c0a6179c17de40fc2b2c93735a93843/b9e4f/pastedImage_6.png&quot;
        srcset=&quot;/static/7c0a6179c17de40fc2b2c93735a93843/cf440/pastedImage_6.png 148w,
/static/7c0a6179c17de40fc2b2c93735a93843/d2d38/pastedImage_6.png 295w,
/static/7c0a6179c17de40fc2b2c93735a93843/b9e4f/pastedImage_6.png 590w,
/static/7c0a6179c17de40fc2b2c93735a93843/f9b6a/pastedImage_6.png 885w,
/static/7c0a6179c17de40fc2b2c93735a93843/2d849/pastedImage_6.png 1180w,
/static/7c0a6179c17de40fc2b2c93735a93843/de411/pastedImage_6.png 1588w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The “mediation layer” above is where an API Gateway fits in, and where many of the non-functional requirements can be addressed.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Interesting Speculation about Blockchain and Future Society]]></title><description><![CDATA[I recently read The Blockchain Man (Or A Speculative Sociology of Our Blockchain Future) and still processing what it means and with what…]]></description><link>https://kevinhakanson.com/2017-10-12-interesting-speculation-about-blockchain-and-future-society</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-12-interesting-speculation-about-blockchain-and-future-society</guid><pubDate>Thu, 12 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I recently read &lt;a href=&quot;https://www.ribbonfarm.com/2017/10/10/the-blockchain-man/&quot;&gt;The Blockchain Man&lt;/a&gt; &lt;em&gt;(Or A Speculative Sociology of Our Blockchain Future)&lt;/em&gt; and still processing what it means and with what parts I agree or disagree.  Instead of trying to analyze or summarize the whole document, I will list some of the sections and call out a couple of specific points I found interesting.&lt;/p&gt;
&lt;p&gt;These sections had the most interesting names.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The Anatomy of our Blockchain Future&lt;/li&gt;
&lt;li&gt;The Balkanization of Everything: City States are The New Nation States&lt;/li&gt;
&lt;li&gt;The Hollywood Model is the New Career Ladder&lt;/li&gt;
&lt;li&gt;Probabilism is the New Determinism&lt;/li&gt;
&lt;li&gt;Protocolism is the New Nationalism&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;One of the sections introduces the “self-owning car” and how commuting could be market driven.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A car that pays for its lease, its insurance, and its gas, by giving people rides. A car that is not owned by a corporation. It is a corporation. The car exists as an autonomous financial entity, potentially with no human ownership.&lt;/p&gt;
&lt;p&gt;When the Blockchain Man gets in the car, he will see a sliding scale offering him the ability to set an arrival time and calculate the cost of the ride. If he wants to arrive quickly, the car will make a flurry of micropayments to other cars allowing it to pass. If he’s not in a hurry, he may choose a later arrival time and lower fare, allowing other cars fly past in return for the lower fare.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The “The Hollywood Model is the New Career Ladder” section reminded me of the task based scenarios from &lt;a href=&quot;https://www.linkedin.com/pulse/four-futures-work-america-anne-marie-slaughter&quot;&gt;Four Futures for Work in America&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In two of these scenarios, we will continue to work mostly in jobs, one where there’s less work available in total (what we called the King of the Castle Economy, a winner-take-all game) and one where there’s more work available (the Go Economy, where you can keep building as long as you want).  &lt;/p&gt;
&lt;p&gt;In the two scenarios where work evolves mostly into tasks, one has less work for us to do (the Rock-Paper-Scissors Economy, where we continue to compete in short spurts), and one more (the Jump Rope Economy, where individual workers can control the pace and pattern of their own careers, as long as they keep jumping).&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Comparing Brandon Sanderson's Legion and Mixed Reality]]></title><description><![CDATA[At some point, I received a free copy of the Legion audiobook from Audible.  Legion is a novella, so the unabridged audio is just over…]]></description><link>https://kevinhakanson.com/2017-10-05-comparing-brandon-sandersons-legion-and-mixed-reality</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-05-comparing-brandon-sandersons-legion-and-mixed-reality</guid><pubDate>Thu, 05 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;At some point, I received a free copy of the &lt;a href=&quot;https://www.audible.com/pd/Sci-Fi-Fantasy/Legion-Audiobook/B009GJVJC4/ref=a_search_c4_1_2_srTtl?qid=1507206788&amp;#x26;sr=1-2&quot;&gt;Legion audiobook&lt;/a&gt; from Audible.  &lt;a href=&quot;https://brandonsanderson.com/books/legion/legion/&quot;&gt;Legion is a novella&lt;/a&gt;, so the unabridged audio is just over 2 hours. It was released in 2012, but I finally listened to it on a recent road trip.  The main character is a private investigator.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Stephen Leeds, AKA ‘Legion,’ is a man whose unique mental condition allows him to generate a multitude of personae: hallucinatory entities with a wide variety of personal characteristics and a vast array of highly specialized skills.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Put another way, the character is aware of their mental state and fully functional.  He interacts with entities that no one else either sees or hears, and whose expertise helps him gain knowledge and solve problems.  It seems like a great bit of fiction and does work well in this story.&lt;/p&gt;
&lt;p&gt;Now, look again at the blog header, which is an image from &lt;a href=&quot;https://blogs.windows.com/windowsexperience/2017/10/03/the-era-of-windows-mixed-reality-begins-october-17/&quot;&gt;The era of Windows Mixed Reality begins October 17&lt;/a&gt; and review how Microsoft describes mixed reality.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;With mixed reality, our ideas move beyond the boundaries of paper, beyond the boundaries of screens, and beyond the boundaries of description. This is the fundamental promise of mixed reality. The barrier that exists between our physical and digital worlds will disappear.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Also, recall &lt;a href=&quot;https://blogs.microsoft.com/blog/2017/08/30/hey-cortana-open-alexa-microsoft-amazons-first-kind-collaboration/&quot;&gt;Hey Cortana, open Alexa: Microsoft and Amazon’s first-of-its-kind collaboration&lt;/a&gt;.  How long until we are walking around with mixed reality headsets, talking to multiple virtual assistants that can also see what we are seeing, have specialized domain skills, and we can also “see” them as part of the augmented reality functionality?  These could even be a virtual network of lawyers, accountants, and financial professionals.&lt;/p&gt;
&lt;p&gt;Now compare these two scenarios.  To the observer, they may appear the same (if you don’t factor in the huge headset).&lt;/p&gt;
&lt;p&gt;p.s.  I just realized that interacting with a virtual professional isn’t new - Star Trek has already thought of everything.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 350px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d8eba2abd798ef55aa79ebc0c0210066/3a2a3/89986-6390166Bk.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 71.71428571428571%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAMBAgQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAHlaJZlqJJ//8QAGRABAQADAQAAAAAAAAAAAAAAAQIAAxAh/9oACAEBAAEFAmsjZRLtXAOPj//EABcRAQADAAAAAAAAAAAAAAAAAAABETH/2gAIAQMBAT8Bxcv/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8BZH//xAAZEAABBQAAAAAAAAAAAAAAAAAQAAERIXH/2gAIAQEABj8CpQGw/wD/xAAaEAADAAMBAAAAAAAAAAAAAAAAAREhMUFR/9oACAEBAAE/IWLESc6YivjGVsNYhpY0LVI//9oADAMBAAIAAwAAABAv7//EABcRAQEBAQAAAAAAAAAAAAAAAAEAIWH/2gAIAQMBAT8QFWXa/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARYf/aAAgBAgEBPxBxLhf/xAAcEAEAAgMAAwAAAAAAAAAAAAABABEhMVFhcbH/2gAIAQEAAT8QyFQCxWm3zMmQFcCX4MNGZTQiheOZ6XEIRQV8n//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;The Doctor from Star Trek: Voyager&quot;
        title=&quot;The Doctor from Star Trek: Voyager&quot;
        src=&quot;/static/d8eba2abd798ef55aa79ebc0c0210066/3a2a3/89986-6390166Bk.jpg&quot;
        srcset=&quot;/static/d8eba2abd798ef55aa79ebc0c0210066/8ee9c/89986-6390166Bk.jpg 148w,
/static/d8eba2abd798ef55aa79ebc0c0210066/ebbe7/89986-6390166Bk.jpg 295w,
/static/d8eba2abd798ef55aa79ebc0c0210066/3a2a3/89986-6390166Bk.jpg 350w&quot;
        sizes=&quot;(max-width: 350px) 100vw, 350px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[IAM Roles: "trust policy" == "assume role policy"]]></title><description><![CDATA[Take a look at the screenshot below.  What’s the name of this policy?  If you said “trust relationships policy” or “trusted entities policy…]]></description><link>https://kevinhakanson.com/2017-10-04-iam-roles-trust-policy-assume-role-policy</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-04-iam-roles-trust-policy-assume-role-policy</guid><pubDate>Wed, 04 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Take a look at the screenshot below.  What’s the name of this policy?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8791b68ca023594f85bdda6dbc4c2010/2d15a/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 16.035353535353536%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAqUlEQVQI122MUQqCQABEPXRfBd0miOganSAiykQlzDV319UyKnf3ZVZ/fTzmDQwTiDznEIaUheAqjxTJhixaY4oUIQRRFBHHMWVZkiTJ0NM0pes6vPc97psfgmt7IysUp7Mmlw3ZuUIqTWUatNYopYb8+ftYSkldG0zdby4PVHNH1nea9kmw2leMZlsmix3j+Zbpco9pH+AtnbU45wZs7/ZPt873Ozfw9hdkW+GHMWbN4AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Trust relationships&amp;quot; tab&quot;
        title=&quot;&amp;quot;Trust relationships&amp;quot; tab&quot;
        src=&quot;/static/8791b68ca023594f85bdda6dbc4c2010/b9e4f/pastedImage_4.png&quot;
        srcset=&quot;/static/8791b68ca023594f85bdda6dbc4c2010/cf440/pastedImage_4.png 148w,
/static/8791b68ca023594f85bdda6dbc4c2010/d2d38/pastedImage_4.png 295w,
/static/8791b68ca023594f85bdda6dbc4c2010/b9e4f/pastedImage_4.png 590w,
/static/8791b68ca023594f85bdda6dbc4c2010/f9b6a/pastedImage_4.png 885w,
/static/8791b68ca023594f85bdda6dbc4c2010/2d849/pastedImage_4.png 1180w,
/static/8791b68ca023594f85bdda6dbc4c2010/2d15a/pastedImage_4.png 1584w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If you said “trust relationships policy” or “trusted entities policy” then good luck finding the API to update it, where it is called the “assume role policy” document. Just to show how confusing the terms are, take this example from &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/iam/update-assume-role-policy.html&quot;&gt;update-assume-role-policy — AWS CLI 1.11.164 Command Reference&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;To update the trust policy for an IAM role&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The followingupdate-assume-role-policycommand updates the trust policy for the role namedTest-Role:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;aws iam update-assume-role-policy —role-name Test-Role —policy-document file://Test-Role-Trust-Policy.json&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The trust policy is defined as a JSON document in the&lt;em&gt;Test-Role-Trust-Policy.json&lt;/em&gt;file. (The file name and extension do not have significance.) The trust policy must specify a principal.&lt;/p&gt;
&lt;p&gt;To update the permissions policy for a role, use theput-role-policycommand.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It not only calls it a “trust policy”, but the example policy document as “Trust-Policy” in the filename.  Maybe “assume role policy” was the legacy name, and no one wanted to rename the API?&lt;/p&gt;
&lt;p&gt;Naming is hard!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Searching CloudTrail using Amazon Athena SQL]]></title><description><![CDATA[I was querying CloudTrail event history for a specific user, , and it only listed two events when I knew there were more. The AWS Console…]]></description><link>https://kevinhakanson.com/2017-10-02-searching-cloudtrail-using-amazon-athena-sql</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-02-searching-cloudtrail-using-amazon-athena-sql</guid><pubDate>Mon, 02 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was querying CloudTrail event history for a specific user, &lt;code class=&quot;language-text&quot;&gt;projectID-AppUser&lt;/code&gt;, and it only listed two events when I knew there were more. The AWS Console had a message explaining why:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Your event history contains the create, modify, and delete activities for supported services taken by people, groups, or AWS services in your AWS account. To view a complete log of your CloudTrail events, create a trail and then go to your Amazon S3 bucket or CloudWatch Logs.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;How do I find all the events?  I know the exact day and time (if I can convert to UTC), but didn’t want to download 300 .gz files from an S3 bucket and search through them.  Then I remembered Amazon Athena (serverless, interactive query service) and found exactly the blog post that could help me:  &lt;a href=&quot;https://aws.amazon.com/blogs/big-data/aws-cloudtrail-and-amazon-athena-dive-deep-to-analyze-security-compliance-and-operational-activity/&quot;&gt;Analyze Security, Compliance, and Operational Activity Using AWS CloudTrail and Amazon Athena | AWS Big Data Blog&lt;/a&gt;.  I followed the instructions, but because I only cared about a specific day of CloudTrail logs for a specific region, I created a smaller table using that restriction.  The lines from the “create table” SQL I changed were:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;CREATE&lt;/span&gt; EXTERNAL &lt;span class=&quot;token keyword&quot;&gt;TABLE&lt;/span&gt; cloudtrail_logs_useast1_20170928

LOCATION &lt;span class=&quot;token string&quot;&gt;&apos;s3://123456789012-cloudtrail-acct-logs/localadmin/AWSLogs/123456789012/CloudTrail/us-east-1/2017/09/28/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, my “User name” of “projectID-AppUser” query would find 15 events (Run time: 6.15 seconds, Data scanned: 28.85MB).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt; useridentity&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;username&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; eventid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; eventtime&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; eventname 
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; sampledb&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cloudtrail_logs_useast1_20170928
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; useridentity&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;username &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;projectID-AppUser&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;by&lt;/span&gt; eventtime&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I could even get the full details on the two &lt;code class=&quot;language-text&quot;&gt;eventid&lt;/code&gt; entries I saw from the AWS Console CloudTrail Event history.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; sampledb&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cloudtrail_logs_useast1_20170928
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; eventid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;bbc83507-e7a0-4464-8684-51d32757d3c8&apos;&lt;/span&gt; 
   &lt;span class=&quot;token operator&quot;&gt;or&lt;/span&gt; eventid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;5a602970-f337-4441-be78-0470e827b28f&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If I wanted everything related to &lt;code class=&quot;language-text&quot;&gt;projectID-AppUser&lt;/code&gt;, my query would find 40 events (Run time: 20.94 seconds, Data scanned: 28.87MB)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt; eventid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; eventtime&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; eventname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; requestparameters
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; sampledb&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cloudtrail_logs_useast1_20170928
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; requestparameters &lt;span class=&quot;token operator&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;%projectID-AppUser%&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;by&lt;/span&gt; eventtime&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I used the web console for my interactive queries, but &lt;a href=&quot;http://docs.aws.amazon.com/athena/latest/ug/connect-with-jdbc.html&quot;&gt;Accessing Amazon Athena with JDBC&lt;/a&gt; is also possible.&lt;/p&gt;
&lt;p&gt;This seems like we should “turn on” for the whole account — more work to add to the backlog.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Customer Data Encryption-At-Rest Options]]></title><description><![CDATA[This post is going to enumerate some customer data encryption-at-rest options for those customers asking about specific key management…]]></description><link>https://kevinhakanson.com/2017-09-27-customer-data-encryption-at-rest-options</link><guid isPermaLink="false">https://kevinhakanson.com/2017-09-27-customer-data-encryption-at-rest-options</guid><pubDate>Wed, 27 Sep 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;This post is going to enumerate some customer data encryption-at-rest options for those customers asking about specific key management choices.  Examples below will refer to AWS specific technologies.&lt;/p&gt;
&lt;h2&gt;No Encryption&lt;/h2&gt;
&lt;p&gt;Although this option may have been used in the past, it is no longer acceptable for applications.  Listed here for completeness.&lt;/p&gt;
&lt;h2&gt;Transparent&lt;/h2&gt;
&lt;p&gt;This leverages software like disk encryption (e.g. BitLocker or Vormetric), database encryption (e.g. &lt;a href=&quot;https://docs.microsoft.com/en-us/sql/relational-databases/security/encryption/transparent-data-encryption&quot;&gt;Transparent Data Encryption (TDE)&lt;/a&gt; ), or Amazon managed keys (see &lt;a href=&quot;https://aws.amazon.com/about-aws/whats-new/2015/01/06/amazon-rds-encryption-with-kms-mysql-postgresql/&quot;&gt;Encryption for Amazon RDS using keys managed in AWS Key Management Service&lt;/a&gt; or &lt;a href=&quot;http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingServerSideEncryption.html&quot;&gt;Protecting Data Using Server-Side Encryption with Amazon S3-Managed Encryption Keys (SSE-S3)&lt;/a&gt;) to transparently encrypt data being stored.  This “checks the box” when customers ask about encryption.&lt;/p&gt;
&lt;h2&gt;Managed Keys&lt;/h2&gt;
&lt;p&gt;A Key Management Service (KMS) is used to handle encryption keys for the application.  These keys may be both region and data store specific.  The application team is responsible for safeguarding, managing, and rotating these keys.  This can be used along with &lt;a href=&quot;http://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#enveloping&quot;&gt;envelope encryption&lt;/a&gt; to protect data at the object or field level further.&lt;/p&gt;
&lt;h2&gt;Customer Specific, Managed Keys&lt;/h2&gt;
&lt;p&gt;The features of Managed Keys apply, but these keys are customer specific.  This may also imply that data is not able to be stored in a multi-tenant database (which the application code would need to support).  Separate keys could allow customers to monitor an event stream for key rotation and encryption/decryption operations.  Costs for extra keys and separate hardware could be passed on to the customer.&lt;/p&gt;
&lt;h2&gt;Customer Specific, Customer Managed Keys&lt;/h2&gt;
&lt;p&gt;Similar to Managed Keys, the customer manages these keys in their AWS account (e.g., &lt;a href=&quot;https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user_externalid.html&quot;&gt;How to Use an External ID When Granting Access to Your AWS Resources to a Third Party&lt;/a&gt;).  This also introduces an operational dependency between our application the customer managed key, which could result in loss of functionality or data and would affect support and contractual agreements like service level agreement (SLA).  Customers would also need to understand that the application has access to the unencrypted data, and this does not imply separate application servers or processing engines.&lt;/p&gt;
&lt;h2&gt;Pre Encryption&lt;/h2&gt;
&lt;p&gt;With this option, applications never sees unencrypted versions of data. However, this results in significant functionality loss and treats applications like a raw data store.  Since no processing nor business value can be applied to the data, this has limited customer value as well.  This is an unlikely option.&lt;/p&gt;
&lt;h2&gt;Diagram&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9959745c13b0c5549e992d5b4df49f37/82cb8/EncryptionOptions.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.620253164556964%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABibAAAYmwFJdYOUAAACB0lEQVQozz2R7U/TABDG9x8aP/tfGE1M8IshJosag4hbmGwGDBoi4SWCQZFhBoPRDbbChA3W8mJb1m3t2Njatev6syDxkucu91zuubtciMDcvo9lWTiOG2T+DXXr6/U6qqqh6zre4I73/0W338e27QA9LMfDC/IbC+H3MbRK0Khy3WreCvkDD9+u80dRkaUKiqIE7OD/IOwGTdPADFC7VKjJeXrunaBTK4IYplpKcZhL0jMknKsL/L3n2PJPiltfqR+tkt9ew1QOcbsGg8JLnMoSxfQi5YNNzsRZUpksFbVGyJJSsDvCuTDDdHSY9vk2lroPuVEa2TgTrx5zmhonPhbmJLtEv3mOl31LR5zk85tHLK/MsXzm8SIS5/uOSKhTTmJG76FvxSj9eE1XzQU4oBG9jy1E4HIRTmfp7MWw5DXspoIRf0B7PQz6AldSkvyhSKqsINevCXU1kV7uHXOJMM+GHtK5ELANmfZOhMbOBMkvI1wKU2yufKJ+vIHTUmnvxjGFGOn5UTZ/fSSTiQSbfqNQOQ5OVrJQTnCSHGN9aghXE+hWS1D6wHU+wXxsCDU9zsz4MJKwgNtS8I+m6P2eZDXxlJnl94TzAk+io0xvJAnZVxpGJY1X28er5nDbGr2OiSFt4VQL0BBx9QItOR08V8LtdTDlDLa2F9QK6MHwlFxm7bjIiVHjL+4rMXyVM24EAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Encryption Options&quot;
        title=&quot;Encryption Options&quot;
        src=&quot;/static/9959745c13b0c5549e992d5b4df49f37/b9e4f/EncryptionOptions.png&quot;
        srcset=&quot;/static/9959745c13b0c5549e992d5b4df49f37/cf440/EncryptionOptions.png 148w,
/static/9959745c13b0c5549e992d5b4df49f37/d2d38/EncryptionOptions.png 295w,
/static/9959745c13b0c5549e992d5b4df49f37/b9e4f/EncryptionOptions.png 590w,
/static/9959745c13b0c5549e992d5b4df49f37/f9b6a/EncryptionOptions.png 885w,
/static/9959745c13b0c5549e992d5b4df49f37/2d849/EncryptionOptions.png 1180w,
/static/9959745c13b0c5549e992d5b4df49f37/82cb8/EncryptionOptions.png 1580w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Out with HPKP, in with CAA?]]></title><description><![CDATA[I hadn’t looked at HTTP Public Key Pinning (HPKP) in detail at until Pokemon Go vs. Certificate Pinning, and later realized how bad things…]]></description><link>https://kevinhakanson.com/2017-08-30-out-with-hpkp-in-with-caa</link><guid isPermaLink="false">https://kevinhakanson.com/2017-08-30-out-with-hpkp-in-with-caa</guid><pubDate>Wed, 30 Aug 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I hadn’t looked at HTTP Public Key Pinning (HPKP) in detail at until &lt;a href=&quot;../2016-07-11-pokemon-go-vs-certificate-pinning&quot;&gt;Pokemon Go vs. Certificate Pinning&lt;/a&gt;, and later realized how bad things could get with &lt;a href=&quot;../2016-09-06-hpkp-and-ransompkp&quot;&gt;HPKP and RansomPKP&lt;/a&gt;.  Now, as I read &lt;a href=&quot;https://scotthelme.co.uk/im-giving-up-on-hpkp/&quot;&gt;I’m giving up on HPKP&lt;/a&gt; from Scott Helme (&lt;a href=&quot;https://twitter.com/Scott_Helme&quot;&gt;@Scott_Helme&lt;/a&gt;) I think I agree with this statement:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The problem with HPKP is that it can be quite a complex idea to get your head around and requires a perfect deployment otherwise things can go wrong.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So, what instead?  Maybe use &lt;a href=&quot;https://scotthelme.co.uk/certificate-authority-authorization/&quot;&gt;Certificate Authority Authorization&lt;/a&gt; (CAA), which is a DNS record that lists the Certificate Authorities (CAs) which are permitted to issue certificates for your domain.  Luckily for our AWS based projects, &lt;a href=&quot;https://aws.amazon.com/about-aws/whats-new/2017/08/amazon-route-53-now-supports-caa-records/&quot;&gt;Amazon Route 53 now supports CAA records&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Amazon RDS and IAM Policy Notes]]></title><description><![CDATA[As a follow up to Amazon RDS and Tag-Based Permissions, this document digs into an IAM policy that restricts by tag value. Took a look at…]]></description><link>https://kevinhakanson.com/2017-08-24-amazon-rds-and-iam-policy-notes</link><guid isPermaLink="false">https://kevinhakanson.com/2017-08-24-amazon-rds-and-iam-policy-notes</guid><pubDate>Thu, 24 Aug 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;As a follow up to &lt;a href=&quot;../2017-04-27-amazon-rds-and-tag-based-permissions&quot;&gt;Amazon RDS and Tag-Based Permissions&lt;/a&gt;, this document digs into an IAM policy that restricts by tag value.&lt;/p&gt;
&lt;p&gt;Took a look at the AWS Managed (Predefined) Policies for Amazon RDS, including &lt;code class=&quot;language-text&quot;&gt;AmazonRDSFullAccess&lt;/code&gt; (see &lt;a href=&quot;http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAM.AccessControl.IdentityBased.html&quot;&gt;Using Identity-Based Policies (IAM Policies) for Amazon RDS&lt;/a&gt;), which includes &lt;code class=&quot;language-text&quot;&gt;Action&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;rds:*&lt;/code&gt; for &lt;code class=&quot;language-text&quot;&gt;Resource&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;*&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The following are the general formats for ARNs; the specific components and values used depend on the AWS service. (see &lt;a href=&quot;http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html#genref-arns&quot;&gt;Amazon Resource Names (ARNs) and AWS Service Namespaces&lt;/a&gt; )&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;arn:partition:service:region:account-id:resource&lt;br&gt;
arn:partition:service:region:account-id:resourcetype/resource&lt;br&gt;
arn:partition:service:region:account-id:resourcetype:resource&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;RDS has 11 ARN resource types (see &lt;a href=&quot;http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html#arn-syntax-rds&quot;&gt;Amazon Resource Names (ARNs) and AWS Service Namespaces&lt;/a&gt;).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;arn:aws:rds:region:account-id:db:db-instance-name&lt;br&gt;
arn:aws:rds:region:account-id:snapshot:snapshot-name&lt;br&gt;
arn:aws:rds:region:account-id:cluster:db-cluster-name&lt;br&gt;
arn:aws:rds:region:account-id:cluster-snapshot:cluster-snapshot-name&lt;br&gt;
arn:aws:rds:region:account-id:og:option-group-name&lt;br&gt;
arn:aws:rds:region:account-id:pg:parameter-group-name&lt;br&gt;
arn:aws:rds:region:account-id:cluster-pg:cluster-parameter-group-name&lt;br&gt;
arn:aws:rds:region:account-id:secgrp:security-group-name&lt;br&gt;
arn:aws:rds:region:account-id:subgrp:subnet-group-name&lt;br&gt;
arn:aws:rds:region:account-id:es:subscription-name&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Each RDS resource type has its own tag name, like &lt;code class=&quot;language-text&quot;&gt;db-tag&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;cluster-tag&lt;/code&gt; (see &lt;a href=&quot;http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAM.ResourcePermissions.html&quot;&gt;Amazon RDS API Permissions: Actions, Resources, and Conditions Reference&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;I tried to add &lt;code class=&quot;language-text&quot;&gt;StringEqualsIfExists&lt;/code&gt; for each RDS tag type, but fails with duplicate keys for &lt;code class=&quot;language-text&quot;&gt;StringEqualsIfExists&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;StringEqualsIfExists&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;rds:db-tag/xx:project-id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;StringEqualsIfExists&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;rds:cluster-tag/xx:project-id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Note&lt;/em&gt;: “You cannot use a wildcard in the portion of the ARN that specifies the resource type” (see &lt;a href=&quot;http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html#arns-paths&quot;&gt;Amazon Resource Names (ARNs) and AWS Service Namespaces&lt;/a&gt; ).  Since &lt;code class=&quot;language-text&quot;&gt;rds&lt;/code&gt; is service namespace and &lt;code class=&quot;language-text&quot;&gt;db&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;snapshot&lt;/code&gt; is the resource type, this syntax won’t work.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:*:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Therefore, you need to wildcard on resource name prefix (assuming all RDS resources are customer nameable vs. generated).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:db:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:cluster:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:es:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:og:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:pg:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:cluster-pg:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:secgrp:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:subgrp:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:snapshot:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:cluster-snapshot:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:ri:123456-*&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Note&lt;/em&gt;:  “Policies have a maximum size between 2048 characters and 10,240 characters, depending on what entity the policy is attached to.” (see &lt;a href=&quot;http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_grammar.html&quot;&gt;Grammar of the IAM Policy Language&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;rds:*&quot;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:123456789012:db:*&quot;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;StringEqualsIfExists&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;rds:db-tag/xx:project-id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456&quot;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;rds:*&quot;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:123456789012:cluster:*&quot;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;StringEqualsIfExists&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;rds:cluster-tag/xx:project-id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456&quot;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[AWS Chalice, Amazon API Gateway, and AWS IAM Authorization]]></title><description><![CDATA[I’ve wanted to take a hands-on look at Amazon API Gateway and the recent 1.0 release of aws/chalice: Python Serverless Microframework for…]]></description><link>https://kevinhakanson.com/2017-08-15-aws-chalice-amazon-api-gateway-and-aws-iam-authorization</link><guid isPermaLink="false">https://kevinhakanson.com/2017-08-15-aws-chalice-amazon-api-gateway-and-aws-iam-authorization</guid><pubDate>Tue, 15 Aug 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I’ve wanted to take a hands-on look at &lt;a href=&quot;https://aws.amazon.com/api-gateway/&quot;&gt;Amazon API Gateway&lt;/a&gt; and the recent 1.0 release of &lt;a href=&quot;https://github.com/aws/chalice&quot;&gt;aws/chalice: Python Serverless Microframework for AWS&lt;/a&gt; pushed me over the edge.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The python serverless microframework for AWS allows you to quickly create and deploy applications that use Amazon API Gateway and AWS Lambda.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Since I am using the &lt;a href=&quot;https://docs.continuum.io/anaconda/&quot;&gt;Anaconda Distribution&lt;/a&gt; of Python, I needed to consult &lt;a href=&quot;https://conda.io/docs/using/envs.html&quot;&gt;Managing environments — Conda documentation&lt;/a&gt; for setting things up without using &lt;a href=&quot;https://virtualenv.pypa.io/en/stable/&quot;&gt;virtualenv&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ conda create --name chalice &lt;span class=&quot;token assign-left variable&quot;&gt;python&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
$ &lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; activate chalice
$ pip &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; chalice
$ chalice new-project helloworld&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A simple &lt;code class=&quot;language-text&quot;&gt;app.py&lt;/code&gt; file was created for me…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; chalice &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Chalice

app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Chalice&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;app_name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;helloworld&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

@app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;route&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hello&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;world&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;…which I was able to easily deploy to our AWS account.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ chalice deploy
Initial creation of lambda function.
Creating role
Creating deployment package.
Initiating first &lt;span class=&quot;token function&quot;&gt;time&lt;/span&gt; deployment&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
Deploying to: api
https://fw7xjo57bc.execute-api.us-east-1.amazonaws.com/api/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I tested with curl and got the result I was expecting.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; https://fw7xjo57bc.execute-api.us-east-1.amazonaws.com/api/
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;world&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, this was now publicly exposed and I don’t want everyone to know about “Hello World”.  It was time to consult the documentation on how to secure my new API:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/apigateway/&quot;&gt;apigateway — AWS CLI 1.11.134 Command Reference&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://botocore.readthedocs.io/en/latest/reference/services/apigateway.html&quot;&gt;APIGateway — botocore 1.6.2 documentation&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I needed the &lt;code class=&quot;language-text&quot;&gt;resource-id&lt;/code&gt; of my GET method to add an authorizationType of &lt;code class=&quot;language-text&quot;&gt;AWS_IAM&lt;/code&gt; so only a valid AWS user in this account could call my API.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws apigateway get-resources --rest-api-id fw7xjo57bc
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;items&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;9y11coidb1&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;path&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;resourceMethods&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;GET&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

$ aws apigateway update-method &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --rest-api-id fw7xjo57bc &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --resource-id 9y11coidb1 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --http-method GET &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --patch-operations &lt;span class=&quot;token assign-left variable&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;replace&quot;&lt;/span&gt;,path&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/authorizationType&quot;&lt;/span&gt;,value&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;AWS_IAM&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But this didn’t work right away, so I had to deploy my changes before my curl was rejected.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws apigateway create-deployment --rest-api-id fw7xjo57bc --stage-name api
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;5pr2ed&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;createdDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1502815254&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; https://fw7xjo57bc.execute-api.us-east-1.amazonaws.com/api/
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Missing Authentication Token&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The docs for &lt;a href=&quot;http://docs.aws.amazon.com/general/latest/gr/signing_aws_api_requests.html&quot;&gt;Signing AWS API Requests&lt;/a&gt; had &lt;a href=&quot;http://docs.aws.amazon.com/general/latest/gr/sigv4-signed-request-examples.html#sig-v4-examples-get-auth-header&quot;&gt;Examples of the Complete Version 4 Signing Process (Python)&lt;/a&gt; but they weren’t working for me, so I used &lt;a href=&quot;https://github.com/jmenga/requests-aws-sign&quot;&gt;jmenga/requests-aws-sign: This package allows for AWS V4 request signing using the Python requests library&lt;/a&gt; instead.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ pip &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; requests
$ pip &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; requests_aws_sign&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Since naming things is hard, I created &lt;code class=&quot;language-text&quot;&gt;fw7xjo57bc.py&lt;/code&gt; to make the signed request.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; requests
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; requests_aws_sign &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; AWSV4Sign
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; boto3 &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; session

session &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Session&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
credentials &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_credentials&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
region &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;region_name &lt;span class=&quot;token keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;us-east-1&apos;&lt;/span&gt;
service &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;execute-api&apos;&lt;/span&gt;

url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://fw7xjo57bc.execute-api.us-east-1.amazonaws.com/api/&quot;&lt;/span&gt;
auth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; AWSV4Sign&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;credentials&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; region&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; service&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; requests&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; auth&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;auth&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It works!&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ python3 fw7xjo57bc.py 
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;world&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I then set authorizationType back to NONE, deployed, and tested again.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws apigateway update-method &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --rest-api-id fw7xjo57bc &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --resource-id 9y11coidb1 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --http-method GET &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --patch-operations &lt;span class=&quot;token assign-left variable&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;replace&quot;&lt;/span&gt;,path&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/authorizationType&quot;&lt;/span&gt;,value&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;NONE&quot;&lt;/span&gt;

$ aws apigateway create-deployment --rest-api-id fw7xjo57bc --stage-name api
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;xxtj1w&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;createdDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1502816441&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; https://fw7xjo57bc.execute-api.us-east-1.amazonaws.com/api/
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;world&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Using an &lt;code class=&quot;language-text&quot;&gt;authorizationType&lt;/code&gt; of &lt;code class=&quot;language-text&quot;&gt;AWS_IAM&lt;/code&gt; is only interesting for more “internal” or “infrastructure” APIs.  Most cases where API Gateway come up is for customer-facing, external API which needs either API Keys for &lt;a href=&quot;http://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-api-usage-plans.html&quot;&gt;Usage Plans&lt;/a&gt; or &lt;a href=&quot;http://docs.aws.amazon.com/apigateway/latest/developerguide/use-custom-authorizer.html&quot;&gt;Custom Authorizers&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Lastly, it was also just as easy to clean up after myself&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ chalice delete
Deleting rest API fw7xjo57bc
Deleting lambda &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; helloworld-dev
Delete the role helloworld-dev? &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;y/N&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;: y
Deleting role name helloworld-dev&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[The Frozen Caveman Antipattern]]></title><description><![CDATA[That “clickbait” headline is a reference to Unfrozen Caveman Lawyer and based on my favorite part of nealford.com • Knowledge Breadth versus…]]></description><link>https://kevinhakanson.com/2017-08-08-the-frozen-caveman-antipattern</link><guid isPermaLink="false">https://kevinhakanson.com/2017-08-08-the-frozen-caveman-antipattern</guid><pubDate>Tue, 08 Aug 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;That “clickbait” headline is a reference to &lt;a href=&quot;https://en.wikipedia.org/wiki/Unfrozen_Caveman_Lawyer&quot;&gt;Unfrozen Caveman Lawyer&lt;/a&gt; and based on my favorite part of &lt;a href=&quot;http://nealford.com/memeagora/2015/09/08/knowledge-breadth-versus-depth.html&quot;&gt;nealford.com • Knowledge Breadth versus Depth&lt;/a&gt;.  However, the most relevant part is the lead up to this pyramid, which illustrates “enhanced breadth and shrinking depth for the architect role.”&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 430px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2200bc78dda47d73e5987a2fc66a1b2c/e82b9/pastedImage_5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.62790697674419%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC0ElEQVQ4y5WT+0uTYRTHXwpLJbyUmUT9EpimUUleKCVT7JfAoPy5PyBmbspEU6cxuw1sKRjdiGxOMFIpaPOXwKCL1g+W6dTwOtkKlWyXtr17b9+e93nXmHazB76c85xzng/nfZ7zMggtSZJW2cWVJYxMj2LGOYtpxwwcS06Mz01gbNaGifnJ356RFxMZYIMsLG/6MfdlHpP2TxidGQtD5P0Y2dvmxqkWFhfw7LUVbq97FXQVMBAIwOVxgeM5KkEQwAs8REkkkn2Bxmhe4ODxeuDz+f4MZFkWXJDD2vXVzeLzsu+XOM/xtIm/AmXJSwzFRFHAO9siXr53kisRQjElFwwG1w9U4iIswxw6X4lUJqIgTzP/Bwy9Hfo/cGjoEWCwSGixitB0iegeEmlOWi/Q71c6nHAKUBOA/ilwzQLo+oD6XkDVCQxN/3zEfwD9ARYCx8LtBxr7RKjNPCo7vkHX7YLa9B2ahx5UmllUP5LgWJEvM0heeQ1QdiLHhiOzeHsAKDcD2i4/ym/N4lz7FM7fsUN1cwoVdxdQYRZhsAJeXxBswB8GygoDlYfj0fs2AJVJIl2IqOpiSVcuaEiXlSYvsYpf3c2TT5dwf4Bcj8jR+wwDZQzHK+Pw5PkIYo4akFTSisQiI+IKryOhiPjFbcTeoL4iI5JPtCEq7yruPR5EJIMRBJE6dscyEvObwOytApOhxYZDtdhacBFb8nSIzq6jNja3AXFHdNicXQ9mnxZMuhZRWbUYttmVQSd/EROaOBScbQeTqsWmbB2Yg3WIzWvCnpMtyDjdiv1lbcg804q0U0aklhqRUKCnNVGHSW1aNdJLDeHpoEBVcw+YXRVgDlwg3dWAyayhhRuzGhCfr6eKzmlEnGxzG2mO1si18pndapRpHihA64uPiCefkVJ8GSlFl7AjJNlPPt6Mbcf0VEmFir+d2Mg6WTtLriAmpx4dfYP4AX/LFdcY8pAIAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;knowledge pyramid&quot;
        title=&quot;knowledge pyramid&quot;
        src=&quot;/static/2200bc78dda47d73e5987a2fc66a1b2c/e82b9/pastedImage_5.png&quot;
        srcset=&quot;/static/2200bc78dda47d73e5987a2fc66a1b2c/cf440/pastedImage_5.png 148w,
/static/2200bc78dda47d73e5987a2fc66a1b2c/d2d38/pastedImage_5.png 295w,
/static/2200bc78dda47d73e5987a2fc66a1b2c/e82b9/pastedImage_5.png 430w&quot;
        sizes=&quot;(max-width: 430px) 100vw, 430px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;From the article (slightly reformatted):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Mark’s pyramid illustrates how fundamentally different the role of &lt;em&gt;architect&lt;/em&gt; compares to &lt;em&gt;developer&lt;/em&gt;. Developers spend their whole career honing expertise, and transitioning to the architect role means a shift in that perspective, which many architects find difficult. This in turn leads to two common dysfunctions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;First, an architect tries to maintain expertise in a wide variety of areas, succeeding in none of them and working themselves ragged in the process.&lt;/li&gt;
&lt;li&gt;Second, it manifests as &lt;em&gt;stale expertise&lt;/em&gt;–the mistaken sensation that your outdated information is still cutting edge. I see this often in large companies where the developers who founded the company have moved into leadership roles yet still make technology decisions using ancient criteria (I refer to this as the &lt;em&gt;Frozen Caveman Antipattern&lt;/em&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;As I have been spending more time on “cloud” and “security” topics, I feel my “front-end” and “JavaScript” skills have atrophied a bit.  That’s OK for my projects because there are experts to fill the void, but it is an uneasy feeling for me.&lt;/p&gt;
&lt;p&gt;Anyone else concerned with being classified a “Frozen Caveman?”&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ffb375f1a023bf11611143b6fccd4bb3/e2288/1238985.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAIBAwQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAWnl3wxlK//EABoQAQADAAMAAAAAAAAAAAAAAAIAAQMREzH/2gAIAQEAAQUCA68gyC9K5q4vVP/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AUf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAdEAABAgcAAAAAAAAAAAAAAAABAAISICEiMkGh/9oACAEBAAY/An3ZBQnaoeSf/8QAGxAAAgMBAQEAAAAAAAAAAAAAAAERITFBUXH/2gAIAQEAAT8hRIlRmDMxxa+Hn0dDIVsen00f/9oADAMBAAIAAwAAABBr3//EABYRAQEBAAAAAAAAAAAAAAAAAAEREP/aAAgBAwEBPxAKNz//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPxBn/8QAHBAAAgICAwAAAAAAAAAAAAAAAREAITFBcZHw/9oACAEBAAE/ED0qAF43CBSnREM91CQwAdl7hIKjSeoYAoilh0ph4n//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Frozen Caveman Lawyer&quot;
        title=&quot;Frozen Caveman Lawyer&quot;
        src=&quot;/static/ffb375f1a023bf11611143b6fccd4bb3/c739e/1238985.jpg&quot;
        srcset=&quot;/static/ffb375f1a023bf11611143b6fccd4bb3/8ee9c/1238985.jpg 148w,
/static/ffb375f1a023bf11611143b6fccd4bb3/ebbe7/1238985.jpg 295w,
/static/ffb375f1a023bf11611143b6fccd4bb3/c739e/1238985.jpg 590w,
/static/ffb375f1a023bf11611143b6fccd4bb3/e2288/1238985.jpg 640w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[DataDog APM Tracing HTTP Headers]]></title><description><![CDATA[Update: Might be obsolete based on Datadog + OpenTracing: Embracing the open standard for APM from December 6, 2017 Do the DataDog APM…]]></description><link>https://kevinhakanson.com/2017-08-07-datadog-apm-tracing-http-headers</link><guid isPermaLink="false">https://kevinhakanson.com/2017-08-07-datadog-apm-tracing-http-headers</guid><pubDate>Mon, 07 Aug 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; Might be obsolete based on &lt;a href=&quot;https://www.datadoghq.com/blog/opentracing-datadog-cncf/&quot;&gt;Datadog + OpenTracing: Embracing the open standard for APM&lt;/a&gt; from December 6, 2017&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Do the &lt;a href=&quot;https://www.datadoghq.com/apm/&quot;&gt;DataDog APM&lt;/a&gt; tracing headers to see if they match &lt;a href=&quot;https://github.com/openzipkin/b3-propagation&quot;&gt;Zipkin&lt;/a&gt; (&lt;code class=&quot;language-text&quot;&gt;X-B3-*&lt;/code&gt;) or OpenTracing or &lt;a href=&quot;http://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-tracingheader&quot;&gt;AWS X-Ray&lt;/a&gt; (&lt;code class=&quot;language-text&quot;&gt;X-Amzn-Trace-Id&lt;/code&gt;) or anything else? Of course not, they use &lt;code class=&quot;language-text&quot;&gt;x-ddtrace-*&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;It’s hard to find the docs, but look in the &lt;a href=&quot;https://github.com/DataDog/dd-trace-py/blob/bb4812f13f8bb5b28f3c3f4d7aa5ee2b7d319db6/docs/index.rst&quot;&gt;official Python source&lt;/a&gt; and find them:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;parent_trace_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;‘x&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ddtrace&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;parent_trace_id‘&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
parent_span_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;‘x&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ddtrace&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;parent_span_id‘&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Also, the &lt;a href=&quot;https://github.com/chonton/apm-client/blob/19adc8e6c442cb463d0422d05574348042ba68ee/README.md&quot;&gt;unofficial Java&lt;/a&gt; documents them:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The TraceServletFilter traces every incoming request. If the client request includes the &lt;strong&gt;x-ddtrace-parent_trace_id&lt;/strong&gt; and &lt;strong&gt;x-ddtrace-parent_span_id&lt;/strong&gt; headers, that indicated span is used as the parent trace and span. Otherwise, a new trace is created. Once the request is complete, the new span or trace is closed and sent to Datadog APM.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Could the Bitcoin "SegWit 2x" fork be the start of a "51% Attack"?]]></title><description><![CDATA[Update:  Bitcoin Segwit2x hard fork suspended | ZDNet First read The ultimate, 3500-word, plain English guide to blockchain all the way to…]]></description><link>https://kevinhakanson.com/2017-07-24-could-the-bitcoin-segwit-2x-fork-be-the-start-of-a-51-attack</link><guid isPermaLink="false">https://kevinhakanson.com/2017-07-24-could-the-bitcoin-segwit-2x-fork-be-the-start-of-a-51-attack</guid><pubDate>Mon, 24 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt;  &lt;a href=&quot;http://www.zdnet.com/article/bitcoin-segwit2x-hard-fork-suspended/&quot;&gt;Bitcoin Segwit2x hard fork suspended | ZDNet&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;First read &lt;a href=&quot;https://thenextweb.com/evergreen/2017/07/04/ultimate-3500-word-plain-english-guide-blockchain/&quot;&gt;The ultimate, 3500-word, plain English guide to blockchain&lt;/a&gt; all the way to the end where the author talks about a “51% Attack.”&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The ability of someone controlling a majority of network hash rate to revise transaction history and prevent new transactions from confirming.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Then read &lt;a href=&quot;https://thenextweb.com/contributors/2017/07/24/ultimate-guide-upcoming-fork-thats-splitting-bitcoin-community/&quot;&gt;Your ultimate guide to the upcoming fork that’s splitting the Bitcoin community&lt;/a&gt; and compare the SegWit fork (favored by users) against the SegWit2 fork (favored by miners).&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/13a9d6f499cd7ba2c271390af8413cf9/ccfda/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.69346733668342%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAABZUlEQVQoz6VSTWvCQBDd//8LpNCTFA9Ce/HmwR5S0IPgocWiRmhiYmKaz80m2S/bl2xJSw8K7UCGmfd2Mm9ml3z8w8hlWknV1E1d10opzkVVVUIIKSSQpmmuFOc0K8oMNXmeRXFAKS2KIkrCktGyLC8Un/HFRfDmbwRXSstjaqMtQPe0DSIPEEFuxGitjRgESBFzznEUAfxs9jgY3Nx2lqYpKBwjUIICaMjzvKS0DwAyxloB505CHDuu43me67pSiq+FBbtd6DjoKxh73+/PHXp4fkmiSEh5ZdvojiUorbebzWI+Xy6X69c1VEECaLBSSnj0x5JhCLB5AxKjCn46nd4/tDaZTECbSgyMjeBH8IxhmnYuk2Jy0k/1y9AM/ugnpzCTkldV4x0yw+x3QZK0t/Z9VeqH9WBdS98/aa3CMHyyFqvVyrbtomBpmrWyr75Bo8uyrNHobjweD4dDXIfByR+edD/lJxFZ6183inOJAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Bitcoin fork&quot;
        title=&quot;Bitcoin fork&quot;
        src=&quot;/static/13a9d6f499cd7ba2c271390af8413cf9/b9e4f/pastedImage_3.png&quot;
        srcset=&quot;/static/13a9d6f499cd7ba2c271390af8413cf9/cf440/pastedImage_3.png 148w,
/static/13a9d6f499cd7ba2c271390af8413cf9/d2d38/pastedImage_3.png 295w,
/static/13a9d6f499cd7ba2c271390af8413cf9/b9e4f/pastedImage_3.png 590w,
/static/13a9d6f499cd7ba2c271390af8413cf9/ccfda/pastedImage_3.png 796w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If you buy into the argument that only those “with enough money to upgrade their computation power” will survive, then it seems like this could be the first step for a “51% Attack” on Bitcoin by state-level actors?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/63978a0418d57ebb74899a06d046fada/b0c45/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAAB5ElEQVQ4y6VU23LTMBD1J/IRPPMXvMM70D4yXNoBmumkmaHQ9oW0dIa4t0BCLN9qO1bd2Iol2ZZUJbKdS2kyHfbBs5L2rI7O7loT/2HaP3cJpYyx2ZIQzvmD4PkzLniz+QmAXpUIN3Y+hKFfhfEFcI1UTpbh04PPrnmhNscoOt7fgoGhAqpgXoIlQwOAPC/qlHRCm8/RphPMFBaG4S+9M7s5juH221fh0F3iv2Tq6PdFu/nxNaWoBEti/c5Rim5UyP0U88uMjJPboSKuPbY8mFDTsDJKa7U5IXgF4fL+afH01tbmsyd2Vy/BEtlq7cbxSPppmpqm6fu+ZVkQQs/zXNeVS9u2KCEyYGTpo8MXOE1K8G3kff+yEUG7YMxxbBkNgJQfSEemkI7jOP1+3zAMlheNy97LvTeX/rCus0CYrWNdGiLUCYOsYBWYZSIdCJ49urdxLnK3ne4/FVFHybJGNlEXVGgJwtC9+vtjM4mMuqQr6hzHcfvkpJgqr1EUHwD/+Ve9fR1NWnVdhzlmd297AyE4Actxw5TeRKOigmFM/CCYh117XoJQ2fZ4HLoDzvLleVa5e3/Od3feczF7fLPx7vzs+P5zFuZZfQOn1z39xlgpPmM5uPoJvcFMqBV/koV5f2BH2R3UBYQz7ZlKmwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;RIP&quot;
        title=&quot;RIP&quot;
        src=&quot;/static/63978a0418d57ebb74899a06d046fada/b9e4f/pastedImage_2.png&quot;
        srcset=&quot;/static/63978a0418d57ebb74899a06d046fada/cf440/pastedImage_2.png 148w,
/static/63978a0418d57ebb74899a06d046fada/d2d38/pastedImage_2.png 295w,
/static/63978a0418d57ebb74899a06d046fada/b9e4f/pastedImage_2.png 590w,
/static/63978a0418d57ebb74899a06d046fada/b0c45/pastedImage_2.png 820w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Alternatively, maybe I watched too much &lt;a href=&quot;http://www.imdb.com/title/tt0243069/&quot;&gt;The Lone Gunmen&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b48b0714554dc960e9f54830749e348d/e2288/1220268.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 57.8125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAMA/9oADAMBAAIQAxAAAAHMsjNLECD/xAAaEAEAAgMBAAAAAAAAAAAAAAABAAIQERIi/9oACAEBAAEFAvLL8wsYWVDX/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAECESH/2gAIAQMBAT8BU8oZ/8QAFREBAQAAAAAAAAAAAAAAAAAAEBL/2gAIAQIBAT8Bk//EABoQAAICAwAAAAAAAAAAAAAAAAABECERUYH/2gAIAQEABj8CplMxqOR//8QAHBAAAQQDAQAAAAAAAAAAAAAAAQARIVExYXHB/9oACAEBAAE/IRsaPVIQ5XqbSiANomOI4wwcn2jnnK//2gAMAwEAAgADAAAAEJ//AP/EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8QU4EDb//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAgEBPxBGyF//xAAdEAEBAAIDAAMAAAAAAAAAAAABEQAxIUFhgZGh/9oACAEBAAE/EKlFcnYq18TC9a99zZ83hWKRgkbH9xAx2Z94JCgEHMN5yaFS1vuf/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;The Lone Gunmen&quot;
        title=&quot;The Lone Gunmen&quot;
        src=&quot;/static/b48b0714554dc960e9f54830749e348d/c739e/1220268.jpg&quot;
        srcset=&quot;/static/b48b0714554dc960e9f54830749e348d/8ee9c/1220268.jpg 148w,
/static/b48b0714554dc960e9f54830749e348d/ebbe7/1220268.jpg 295w,
/static/b48b0714554dc960e9f54830749e348d/c739e/1220268.jpg 590w,
/static/b48b0714554dc960e9f54830749e348d/e2288/1220268.jpg 640w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Blockchain Programming vs. Web Development]]></title><description><![CDATA[Have a read through A hacker stole $31M of Ether — how it happened, and what it means for Ethereum, but make sure to get to section 3 where…]]></description><link>https://kevinhakanson.com/2017-07-21-blockchain-programming-vs-web-development</link><guid isPermaLink="false">https://kevinhakanson.com/2017-07-21-blockchain-programming-vs-web-development</guid><pubDate>Fri, 21 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Have a read through &lt;a href=&quot;https://medium.freecodecamp.org/a-hacker-stole-31m-of-ether-how-it-happened-and-what-it-means-for-ethereum-9e5dc29e33ce&quot;&gt;A hacker stole $31M of Ether — how it happened, and what it means for Ethereum&lt;/a&gt;, but make sure to get to section 3 where it compares the mantra of “move fast and break things” vs. the irrevertible code in a smart contact.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The problem is, &lt;strong&gt;blockchain programming is fundamentally different from web development&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Web development is far more forgiving. When you push bad code to a web server, it’s not a big deal if there’s a critical mistake — you can just roll back the code, or roll forward with a fix, and all is well because you control the server. Or if the worst happens and there’s an active breach or a data leak, you can always stop the bleeding by shutting off your servers and disconnecting yourself from the network.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;And before you think “our developers are better, this wouldn’t happen to us”, read this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.parity.io/the-multi-sig-hack-a-postmortem/&quot;&gt;The developers here&lt;/a&gt; were a cross-collaboration between the Ethereum foundation (literally the creators of Ethereum), the Parity core team, and members of the open-source community. It underwent extensive peer review. This is basically the highest standard of [programming] that exists in the Ethereum ecosystem.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Not sure the takeaway here, other than to be cautious about over-committing on any blockchain / smart contract initiatives.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Application Security Testing: SAST, DAST, and IAST]]></title><description><![CDATA[Definitions from Magic Quadrant for Application Security Testing  Gartner defines the application security testing (AST) market as the…]]></description><link>https://kevinhakanson.com/2017-07-20-application-security-testing-sast-dast-and-iast</link><guid isPermaLink="false">https://kevinhakanson.com/2017-07-20-application-security-testing-sast-dast-and-iast</guid><pubDate>Thu, 20 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Definitions from &lt;a href=&quot;https://www.utest.com/articles/magic-quadrant-for-application-security-testing&quot;&gt;Magic Quadrant for Application Security Testing&lt;/a&gt; &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Gartner defines the application security testing (AST) market as the buyers and sellers of products and services designed to analyze and test applications for security vulnerabilities. Gartner identifies three main styles of AST:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Static AST (SAST) technology analyzes an application’s source, bytecode or binary code for security vulnerabilities, typically at the programming and/or testing phases of the software development life cycle (SDLC).&lt;/li&gt;
&lt;li&gt;Dynamic AST (DAST) technology analyzes applications in their dynamic running state during testing or operational phases. It simulates attacks against an application (typically web-enabled applications and services) and analyzes the application’s reactions to determine whether it is vulnerable.&lt;/li&gt;
&lt;li&gt;Interactive AST (IAST) technology combines inside-out observation of a running application being tested with DAST simultaneously. It is typically implemented as an agent within the test runtime environment (for example, instrumenting the Java Virtual Machine [JVM] or .NET CLR) that observes operation or attacks from within the application and identifies vulnerabilities.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;How is Veracode?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Veracode is a well-established global AST provider with a strong presence in the North American market as well as presence in the European market. Veracode’s offering includes SAST, DAST and SCA cloud services, as well as IAST (and RASP).&lt;br&gt;
In the last 12 months, Veracode launched Greenlight, a SAST service to be used early on in the development process by integrating into the IDE to scan an individual class or file. In addition to Greenlight, Veracode provides the Developer Sandbox, which can statically scan an application or component and measure results without impacting or penalizing developer metrics. Veracode focused some of its recent efforts on extending its language and framework support, as well as SDLC integration, and most recently it announced a single instrumentation agent to provide IAST and RASP capabilities.&lt;br&gt;
Veracode will meet the requirements of organizations looking for a broad set of AST services and that want support for their AST and SCA from a third-party expert with a comprehensive AST solution.&lt;/p&gt;
&lt;p&gt;STRENGTHS&lt;br&gt;
Gartner clients highly rate the ease of use of the solution, as well as the vendor’s support and willingness to work with customer requirements.&lt;br&gt;
Veracode provides a comprehensive AST-as-a-cloud service. The results of all types of testing can be integrated into a single dashboard to simplify vulnerability management and remediation.&lt;br&gt;
For integration into SDLC processes, Veracode offers built-in integration with multiple IDEs, bug-tracking systems and build servers, as well as APIs for integration, Greenlight and the Developer Sandbox.&lt;/p&gt;
&lt;p&gt;CAUTIONS&lt;br&gt;
Veracode does not offer AST tools, only AST as a service, though it provides a virtual scan appliance that can be located on the client’s network to support discovery and testing of internal applications, with scanning configured and controlled via the cloud service.&lt;br&gt;
Veracode SAST requires byte/binary code for analysis of compiled languages, such as Java, C/C# and Objective-C. This requires the application to be compiled before being shipped to Veracode for analysis.&lt;br&gt;
Veracode’s IAST is still on early availability and needs to establish itself in the market.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Penetration Testing, Secure Code Review, and Secure Design Review (Threat Modeling)]]></title><description><![CDATA[Software Security Initiative Capabilities: Getting Started mentions three common security capabilities: Penetration testing Code review Some…]]></description><link>https://kevinhakanson.com/2017-07-20-penetration-testing-secure-code-review-and-secure-design-review-threat-modeling</link><guid isPermaLink="false">https://kevinhakanson.com/2017-07-20-penetration-testing-secure-code-review-and-secure-design-review-threat-modeling</guid><pubDate>Thu, 20 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://www.synopsys.com/blogs/software-security/software-security-initiative-capabilities/&quot;&gt;Software Security Initiative Capabilities: Getting Started&lt;/a&gt; mentions three common security capabilities:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Penetration testing&lt;/li&gt;
&lt;li&gt;Code review&lt;/li&gt;
&lt;li&gt;Some sort of secure design review (e.g., threat modeling)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Tools can help some - Dynamic Analysis (DAST) for pen testing and Static Analysis (SAST) for code review - but don’t catch everything.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/63436e44aa7881034a56e05efc83b43d/c0b12/pastedImage_12.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.07836990595611%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEDAgT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAAB7M0aMsF//8QAFxABAQEBAAAAAAAAAAAAAAAAAgMBBP/aAAgBAQABBQJzgdU+c4OeCNSaJkIz0gf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPwGH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAwEBAQAAAAAAAAAAAAAAAAERAhIx/9oACAEBAAY/ApBPkTWS0Svgs0//xAAcEAACAgIDAAAAAAAAAAAAAAABEQAhMUFRYXH/2gAIAQEAAT8hd6lczESQ9yhqezBxWFbgxYlbmmD2f//aAAwDAQACAAMAAAAQJ/8A/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8QpH//xAAWEQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QoX//xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhMUFxwVH/2gAIAQEAAT8QNnQNK13cY6pBtYdcyxKNil7D4qcT1ogjkFlGDWj7BMcawLyf/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;SAST vs DAST&quot;
        title=&quot;SAST vs DAST&quot;
        src=&quot;/static/63436e44aa7881034a56e05efc83b43d/c739e/pastedImage_12.jpg&quot;
        srcset=&quot;/static/63436e44aa7881034a56e05efc83b43d/8ee9c/pastedImage_12.jpg 148w,
/static/63436e44aa7881034a56e05efc83b43d/ebbe7/pastedImage_12.jpg 295w,
/static/63436e44aa7881034a56e05efc83b43d/c739e/pastedImage_12.jpg 590w,
/static/63436e44aa7881034a56e05efc83b43d/c0b12/pastedImage_12.jpg 638w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/82d16e58557a5e252de1e0fb339376d5/c0b12/6-most-common-threat-modeling-misconceptions-4-638.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.07836990595611%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMCBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB2U2IksAa/8QAGRAAAwEBAQAAAAAAAAAAAAAAAQIRAAMS/9oACAEBAAEFAm91WdstgKvl5w0b/8QAFREBAQAAAAAAAAAAAAAAAAAAEHH/2gAIAQMBAT8Bh//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EAB4QAAEEAQUAAAAAAAAAAAAAAAEAAhARISIxMnGS/9oACAEBAAY/AsOAHS5t8rUbMb3H/8QAHRABAAIBBQEAAAAAAAAAAAAAAQARIUFRYXGB4f/aAAgBAQABPyE3PPLRKj0+pTgbgVBEMwLldoaU/9oADAMBAAIAAwAAABC8z//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAwEBPxBVyP/EABgRAQADAQAAAAAAAAAAAAAAAAEQEWHB/9oACAECAQE/EBtzsf/EABsQAQEAAwADAAAAAAAAAAAAAAERACExUWFx/9oACAEBAAE/EIAUsdHndxKc9KFMEJSPEnyuJjxvUTPVAHGJouM5n//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Security Defects Uncovered in Practice&quot;
        title=&quot;Security Defects Uncovered in Practice&quot;
        src=&quot;/static/82d16e58557a5e252de1e0fb339376d5/c739e/6-most-common-threat-modeling-misconceptions-4-638.jpg&quot;
        srcset=&quot;/static/82d16e58557a5e252de1e0fb339376d5/8ee9c/6-most-common-threat-modeling-misconceptions-4-638.jpg 148w,
/static/82d16e58557a5e252de1e0fb339376d5/ebbe7/6-most-common-threat-modeling-misconceptions-4-638.jpg 295w,
/static/82d16e58557a5e252de1e0fb339376d5/c739e/6-most-common-threat-modeling-misconceptions-4-638.jpg 590w,
/static/82d16e58557a5e252de1e0fb339376d5/c0b12/6-most-common-threat-modeling-misconceptions-4-638.jpg 638w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;However, there aren’t tools for secure design reviews, and this requires a subject matter expert (SME).  The threat modeling process involves documenting the architecture and diagraming the application to help to identify threats.  This same information would be needed by both secure code reviews and penetration testing later in the SDLC.&lt;/p&gt;
&lt;p&gt;Related Links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.safaribooksonline.com/library/view/agile-application-security/9781491938836/ch08.html#threat_assessments&quot;&gt;8. Threat Assessments and Understanding Attacks - Agile Application Security, 1st Edition [Book]&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.safaribooksonline.com/library/view/threat-modeling-designing/9781118810057/&quot;&gt;Threat Modeling: Designing for Security [Book]&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.slideshare.net/cisoplatform7/application-security-architecture-and-threat-modelling&quot;&gt;Application Security Architecture and Threat Modelling&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.slideshare.net/Cigital/6-most-common-threat-modeling-misconceptions&quot;&gt;Shedding Light Onto the 6 Top Threat Modeling Misconceptions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Finding Publicly Exposed Amazon S3 Buckets]]></title><description><![CDATA[You may have read recent news about millions of Verizon customers having their data exposed (see Experts Warn Too Often AWS S3 Buckets Are…]]></description><link>https://kevinhakanson.com/2017-07-19-finding-publicly-exposed-amazon-s3-buckets</link><guid isPermaLink="false">https://kevinhakanson.com/2017-07-19-finding-publicly-exposed-amazon-s3-buckets</guid><pubDate>Wed, 19 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;You may have read recent news about millions of Verizon customers having their data exposed (see &lt;a href=&quot;https://threatpost.com/experts-warn-too-often-aws-s3-buckets-are-misconfigured-leak-data/126826/&quot;&gt;Experts Warn Too Often AWS S3 Buckets Are Misconfigured, Leak Data&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Possibly, people are confused about what the &lt;strong&gt;Authenticated Users group&lt;/strong&gt; means. From &lt;a href=&quot;http://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html&quot;&gt;Access Control List (ACL) Overview - Amazon Simple Storage Service&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Represented by &lt;a href=&quot;http://acs.amazonaws.com/groups/global/AuthenticatedUsers&quot;&gt;http://acs.amazonaws.com/groups/global/AuthenticatedUsers&lt;/a&gt;.&lt;br&gt;
This group represents all AWS accounts. Access permission to this group allows any AWS account to access the resource. However, all requests must be signed (authenticated).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This doesn’t just mean IAM Users from their account, but &lt;em&gt;any&lt;/em&gt; user from &lt;em&gt;any&lt;/em&gt; AWS account.&lt;/p&gt;
&lt;p&gt;How do we check this on our accounts?  There are a couple of options.&lt;/p&gt;
&lt;p&gt;Use a &lt;a href=&quot;http://www.capitalone.io/cloud-custodian/docs/policy/resources/s3.html&quot;&gt;Cloud Custodian S3 filter &lt;/a&gt; with a &lt;code class=&quot;language-text&quot;&gt;policy.yml&lt;/code&gt; like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;policies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; s3&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;global
  &lt;span class=&quot;token key atrule&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; s3
  &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Publicly Exposed S3 Buckets
  &lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; global&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;grants&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then run the &lt;a href=&quot;https://github.com/capitalone/cloud-custodian&quot;&gt;custodian&lt;/a&gt; tool and use &lt;a href=&quot;https://stedolan.github.io/jq/&quot;&gt;jq&lt;/a&gt; to filter the output, I find a bucket (names changed to protect the innocent).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ custodian run --output-dir&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;. policy.yml --region&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;us-west-2

$ jq &lt;span class=&quot;token string&quot;&gt;&apos;.[].Name&apos;&lt;/span&gt; s3-global/resources.json
&lt;span class=&quot;token string&quot;&gt;&quot;project1-test-bucket1&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Amazon also has a utility called &lt;a href=&quot;https://aws.amazon.com/premiumsupport/trustedadvisor/&quot;&gt;Trusted Advisor&lt;/a&gt; that can report on several items, including &lt;strong&gt;Amazon S3 Bucket Permissions&lt;/strong&gt;.  That has both a Console UI and is callable via API or CLI (via &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/support/describe-trusted-advisor-check-result.html&quot;&gt;describe-trusted-advisor-check-result&lt;/a&gt;):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws support describe-trusted-advisor-check-result &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--check-id Pfx0RwqBli &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--query &lt;span class=&quot;token string&quot;&gt;&apos;result.flaggedResources[*].metadata[2]&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;project1-portal-ui&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;project1-test-bucket1&quot;&lt;/span&gt;,
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, that list has 2 items vs. the 1 which Cloud Custodian found using its global-grants filter.  It appears that Cloud Custodian is filtering out buckets set up for website hosting (see &lt;a href=&quot;https://docs.aws.amazon.com/AmazonS3/latest/dev/WebsiteHosting.html&quot;&gt;Hosting a Static Website on Amazon S3&lt;/a&gt;), which seems like a valid result.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 309px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c00af066905dc9e6e25efbdc3e7f3902/002e9/pastedImage_140.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.75728155339807%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACOklEQVQ4y51U23aaUBD19/srfepTH3tZiSYWVJSIgBqjiEgQUEDlvjtzbI0mvaz2rLU5hznDnpk9s2gEYYgkSQTiOEa43WK72wnwOYqi8138w0+8X3zD++FwwJb8G/zR71aNf1tBEKCxoQcvSZZxe9tEt9uFqj7AWlro9BTcNFvo9xXI0jd0lQE0bUTQMBiokCQZKu3zhSU4fN9Hw6MHL3ZqtVpot9voEKk5meDzl6/4RGiSXZYltKUOJmTv0X2zdQ9tqOGe7m6ady+EnOExy65SL+saeVWJkuv/KZkJdyRuxCCBQ2pIwM2hhvjctH2CNE2RkR+Lz+fj8SjAtizLLwgpzaws8bRYYKAOMCM9DMOApo/w+DTHw3Ao5JjOZljaK2h0t7QWGI+nME2TtLaF/Vwyj82BoxcFETwJ/XRjAt0ciwBj0sykszYyiGQszjoRjUYaetQkPwivS+Y5qkizI5HG+72YPd4TKq2kIGVZIM9zFMUJeV7QXpxLLqm6uq6vCcXMkbG+agwwXCXQnD3sMIVqJ3Cj/NfzekUYUYZVLSJdoihKRIcMyTFHmhVIUtrzknyrN2D/s4Zxcsqwqss/z0RdifK53NdgSTjL0xw++3j/7iPc+YaGWaeO6lCUPh4nU+q0gb6iwNB1Gp39izSvwFmeM9yFEe4+KEj8AzUkwHrtYrVyxE/B22zguvRu29SA9K+DLX4OztrBNg7x7LnYEEFAUVhcz/MoIr0HvojMxI7jUMD1G/y0W5aF78yvcluWQ5PnAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;S3 Static website hosting&quot;
        title=&quot;S3 Static website hosting&quot;
        src=&quot;/static/c00af066905dc9e6e25efbdc3e7f3902/002e9/pastedImage_140.png&quot;
        srcset=&quot;/static/c00af066905dc9e6e25efbdc3e7f3902/cf440/pastedImage_140.png 148w,
/static/c00af066905dc9e6e25efbdc3e7f3902/d2d38/pastedImage_140.png 295w,
/static/c00af066905dc9e6e25efbdc3e7f3902/002e9/pastedImage_140.png 309w&quot;
        sizes=&quot;(max-width: 309px) 100vw, 309px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[The Geographical Center of the United States and IP Addresses]]></title><description><![CDATA[Do you remember Internet mapping turned a remote farm into a digital hell | Fusion? Some summary points from the article: When MaxMind was…]]></description><link>https://kevinhakanson.com/2017-07-06-the-geographical-center-of-the-united-states-and-ip-addresses</link><guid isPermaLink="false">https://kevinhakanson.com/2017-07-06-the-geographical-center-of-the-united-states-and-ip-addresses</guid><pubDate>Thu, 06 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Do you remember &lt;a href=&quot;http://fusion.net/story/287592/internet-mapping-glitch-kansas-farm/&quot;&gt;Internet mapping turned a remote farm into a digital hell | Fusion&lt;/a&gt;? Some summary points from the article:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;When MaxMind was first choosing the default point on its digital map for the center of the U.S., it decided to clean up the measurements and go with a simpler, nearby latitude and longitude: 38°N 97°W or 38.0000,-97.0000.&lt;/li&gt;
&lt;li&gt;Every time MaxMind’s database has been queried about the location of an IP address in the United States it can’t identify, it has spit out the default location of a spot two hours away from the geographic center of the country.&lt;/li&gt;
&lt;li&gt;There are now over 600 million IP addresses associated with that default coordinate.&lt;/li&gt;
&lt;li&gt;This happens to be in the front yard of Joyce Taylor’s house.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Well, it looks like that is no longer the case: &lt;a href=&quot;http://fusion.kinja.com/this-is-the-new-digital-center-of-the-united-states-1793856143&quot;&gt;This is the new digital center of the United States&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 429px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4b7dfa19c42bf7009539d97111812f2b/8b59c/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 140.32634032634033%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAAsSAAALEgHS3X78AAAE6ElEQVRIx4VVZ3PbRhTU//8J+ZBvmYyduKiZVLfHcUviotiyGitIAgQBEoWoV7DZOzBxEpdo5ukeruztvnLcCnOBs0GMp6MEv4wTPBkmeOtm9vu5k9q100EEb13D/DVNY+1rf1tKN0hLYS2rJNKixrqo6Atra1ohNITSnwA34xcBtdaIVisswwBpHGPueZg4DjzXxWw6hT+fm9Ofsfsa0y3zL89zLBYLrAi8WATo9/twCHpze4NRf4LEDTYgn4N+EbCua4RhiCiK7DgnKwNufHOR53p2zphRhG9JVtwQhktMZy58slsEAQbDIRlOMKNsdzaDxzCMx2PLOuD6/zDkpKyhRQkoAWiJht/G1xwrshdCoKoqq8SM/43jP20rLiXeuDnO5wU++AXeeTkuFiVLKIWbii/K+kbVYKuUCpOkwDQp4UQFnLiAv67QXzJRWcXTinFTBNHWB32jynz/21TLEE2FMp1B1cxks2hN08BvOUe9GkDKBZT0KdlF5l+iSMZQKmBUPJrLdZ/rcwIWrENVYOFPkaY+pJjSuEHMIJUHuepDZiMe5kHposgnzP4tlpNziNzhHPfVE44e6nLMC2MDWLKw50hiszi2N2oyFEkf6fIDweabS1x7sGl85OshgtE71PnIriuCCgKKOsFW09QoiwnqamYPVXGfmZwiW14hyi4px7NA2jAWGzOhKAkSXkASyCqigkZnLWCj5+0hxi8Ne5he/w6XVhWMrXZR5mMU2djKsxLNKCZk+Rpr7yOk9lleE15KhoqSi2xIutyUMwFpD3XITQGNslXaR1Y4SDIHovoUYxPTcnWDijFVDJGZs4BCFFgtB6gLxkPyAKXIX48gt+9Abd+D6uyieXrI5F9BIWizajPL2JK5jK8ZRxP/EQHjVrImfaUYdMpS3YfQu9tQBx3IR7uQ3X3IPY4//Qg1fAs2KrJ0xDbtoWS8ZdKz8ZO10zJsdEkpvInxU08PoPb2oM6O0ZweQp8cEfgRpLFHewT9gYz6NmZZNkERMYFRD4qZl1SnddoCyoaZC0h95z7BTqGPuygOjghogI8tsH58wvWHEC+7qEoHceLw7bxCMLuwsRfrG+h6RUAmRYJZHp9DPzCAJ2iOO0gOznD73ffI9nYISqYnXegO2T/rsqgpN7xGNn2P+R+nWE1+Y+yHfEziFlARUE/eQ28/IJMzMjxAc3YI/2EHaeeI/jHU6Ql0twP1nD58JP5HxKNzJOPnWAcvUfpvoKplCyioP59fQty/0yZhf5sx2yHAns2y3N/hPP17dyFen7Au+8h7r+Devsai9wJi+gp5/xml+y1gxRYK4wGKJx2yfGiToo4OII8oj6ZMcniR2vkZcs14sUSEKRf/AuXlY8avZ6tE603rtT3KiYoNf8qDBvTwkKAb2zdzdyHdC8o1L8yMquaIFzeIhy9ZJVe8ZMCyiUyWq7Y/axa1qUXzCFy8IBAldndZNjtQr04go+u2GrjPEKjY+8myB3/4DqvFR4LNNoWt6xbEtJOY2nfNdgT7W7LlbJuBNapMD7dgf/U9qMh0Sp3esmQcvgmp+V2ubJWbp8u0zyffgPFbtL7iWl17yCvXsivKGXIWdh5eIcv5OkU3vGhtYih5+4oWsY7Cv32lltwQbvyIr3+IpEgxWsVYRQF/CSf8eXUwcwbwgjkmUYxaVPgTljlBykDpZnEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Geolocation map&quot;
        title=&quot;Geolocation map&quot;
        src=&quot;/static/4b7dfa19c42bf7009539d97111812f2b/8b59c/pastedImage_4.png&quot;
        srcset=&quot;/static/4b7dfa19c42bf7009539d97111812f2b/cf440/pastedImage_4.png 148w,
/static/4b7dfa19c42bf7009539d97111812f2b/d2d38/pastedImage_4.png 295w,
/static/4b7dfa19c42bf7009539d97111812f2b/8b59c/pastedImage_4.png 429w&quot;
        sizes=&quot;(max-width: 429px) 100vw, 429px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Maybe it was the result of a sign like this in Joyce Taylor’s front yard.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 380px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/44c7b56d5e24dafd1cd8881d2be9162d/622bd/pastedImage_1.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 38.94736842105263%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIB/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAG8KzgH/8QAGBAAAgMAAAAAAAAAAAAAAAAAABECISL/2gAIAQEAAQUCyqJJ/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAXEAEBAQEAAAAAAAAAAAAAAAAAMQEh/9oACAEBAAY/AquOP//EABsQAAIBBQAAAAAAAAAAAAAAAAERACExQYGh/9oACAEBAAE/IUbI1ZwA8W4YVOz/2gAMAwEAAgADAAAAEHQv/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qp//EABoQAQADAAMAAAAAAAAAAAAAAAEAESFBUdH/2gAIAQEAAT8QKEAthrUKbwCYLz3JQbQ5B2z/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Go Jump in the Lake!&quot;
        title=&quot;Go Jump in the Lake!&quot;
        src=&quot;/static/44c7b56d5e24dafd1cd8881d2be9162d/622bd/pastedImage_1.jpg&quot;
        srcset=&quot;/static/44c7b56d5e24dafd1cd8881d2be9162d/8ee9c/pastedImage_1.jpg 148w,
/static/44c7b56d5e24dafd1cd8881d2be9162d/ebbe7/pastedImage_1.jpg 295w,
/static/44c7b56d5e24dafd1cd8881d2be9162d/622bd/pastedImage_1.jpg 380w&quot;
        sizes=&quot;(max-width: 380px) 100vw, 380px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Capital One Cloud Custodian "Test Drive"]]></title><description><![CDATA[I’ve mentioned capitalone/cloud-custodian: Rules engine for AWS management before but hadn’t taken it for a “test drive” yet. However…]]></description><link>https://kevinhakanson.com/2017-07-05-capital-one-cloud-custodian-test-drive</link><guid isPermaLink="false">https://kevinhakanson.com/2017-07-05-capital-one-cloud-custodian-test-drive</guid><pubDate>Wed, 05 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I’ve mentioned &lt;a href=&quot;https://github.com/capitalone/cloud-custodian&quot;&gt;capitalone/cloud-custodian: Rules engine for AWS management&lt;/a&gt; before but hadn’t taken it for a “test drive” yet.&lt;/p&gt;
&lt;p&gt;However, instead of following the instructions, I wanted to use the &lt;a href=&quot;https://www.continuum.io/what-is-anaconda&quot;&gt;Anaconda&lt;/a&gt; distribution of Python, so I used these install commands.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ conda create --name custodian &lt;span class=&quot;token assign-left variable&quot;&gt;python&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2.7&lt;/span&gt;
$ &lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; activate custodian
$ pip &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; c7n&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I wanted something simple to test, and easy to verify, so I created this &lt;code class=&quot;language-text&quot;&gt;policy.yml&lt;/code&gt; to find any running ec2 instances without the &lt;code class=&quot;language-text&quot;&gt;xx:financial-identifier&lt;/code&gt; tag:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;policies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; tag&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;compliance
  &lt;span class=&quot;token key atrule&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ec2
  &lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;State.Name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; running
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;&quot;tag:xx:financial-identifier&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; absent&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I ran &lt;code class=&quot;language-text&quot;&gt;custodian&lt;/code&gt; using the command line to first validate the &lt;code class=&quot;language-text&quot;&gt;policy.yml&lt;/code&gt; and the execute a dry run:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ custodian validate policy.yml 
&lt;span class=&quot;token number&quot;&gt;2017&lt;/span&gt;-07-05 &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;:31:35,651: custodian.commands:INFO Configuration valid: policy.yml

$ custodian run --dryrun -s out policy.yml
&lt;span class=&quot;token number&quot;&gt;2017&lt;/span&gt;-07-05 &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;:31:41,651: custodian.policy:INFO policy: tag-compliance resource:ec2 region:us-east-1 count:24 time:0.01&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It found 24 instances!  If I look in &lt;code class=&quot;language-text&quot;&gt;out/tag-compliance/resources.json&lt;/code&gt; I can see the full details, or I can just grep for the &lt;code class=&quot;language-text&quot;&gt;InstanceId&lt;/code&gt; values and see something like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;grep&lt;/span&gt; InstanceId out/tag-compliance/resources.json
    &lt;span class=&quot;token string&quot;&gt;&quot;InstanceId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;i-01234567890123456&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;InstanceId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;i-01234567&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I chose this filter because I can use the AWS Console Tag Editor to verify that count.&lt;/p&gt;
&lt;p&gt;Now that I know it works, time to start crafting some interesting policies.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Authenticated Encryption with the AWS CLI]]></title><description><![CDATA[I wanted to understand Authenticated Encryption better as a follow up to my research on Encrypted Properties and AWS IAM Roles.  I decide to…]]></description><link>https://kevinhakanson.com/2017-06-28-authenticated-encryption-with-the-aws-cli</link><guid isPermaLink="false">https://kevinhakanson.com/2017-06-28-authenticated-encryption-with-the-aws-cli</guid><pubDate>Wed, 28 Jun 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I wanted to understand &lt;a href=&quot;http://docs.aws.amazon.com/kms/latest/developerguide/crypto_authen.html&quot;&gt;Authenticated Encryption&lt;/a&gt; better as a follow up to my research on &lt;a href=&quot;../2017-06-26-encrypted-properties-and-aws-iam-roles&quot;&gt;Encrypted Properties and AWS IAM Roles&lt;/a&gt;.  I decide to try and learn interactively, so I saved some “sensitive” data into a file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; -n &lt;span class=&quot;token string&quot;&gt;&quot;P@ssword1&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; pw1.txt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then using &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/kms/encrypt.html&quot;&gt;aws kms encrypt&lt;/a&gt; from the AWS CLI, I tried to encrypt one of the values.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms encrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--key-id arn:aws:kms:us-west-2:123456789012:key/79cce4f6-7e4d-42ab-9942-9e6bb05b6121 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--plaintext fileb://pw1.txt

An error occurred &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;NotFoundException&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; when calling the Encrypt operation: Invalid arn&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hmm, that didn’t work despite using the full ARN (which includes the region). I need to set the AWS region explicitly and &lt;code class=&quot;language-text&quot;&gt;--region&lt;/code&gt; is one of the general options for the AWS CLI (see &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/topic/config-vars.html?highlight=region&quot;&gt;AWS CLI Configuration Variables&lt;/a&gt;).  If you didn’t know about the region restriction, that error message wouldn’t be very helpful.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms encrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--region us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--key-id 79cce4f6-7e4d-42ab-9942-9e6bb05b6121 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--plaintext fileb://pw1.txt

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;CiphertextBlob&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AQECAHizfom2LowDtrU53mpnuTkvNGUC8c+nPE8dtp40x+QLMAAAAGcwZQYJKoZIhvcNAQcGoFgwVgIBADBRBgkqhkiG9w0BBwEwHgYJYIZIAWUDBAEuMBEEDEubUtCeZ5dJiDjQ4QIBEIAkhYDNKHuwbu5FSxP1sknpWa5K0lOVnXBLIXg6K+ekvSyrOW+M&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;KeyId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:kms:us-west-2:123456789012:key/79cce4f6-7e4d-42ab-9942-9e6bb05b6121&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If I encrypt it again, the &lt;code class=&quot;language-text&quot;&gt;CiphertextBlob&lt;/code&gt; value is different (but starts with many of the same characters).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms encrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--region us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--key-id 79cce4f6-7e4d-42ab-9942-9e6bb05b6121 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--plaintext fileb://pw1.txt

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;CiphertextBlob&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AQECAHizfom2LowDtrU53mpnuTkvNGUC8c+nPE8dtp40x+QLMAAAAGcwZQYJKoZIhvcNAQcGoFgwVgIBADBRBgkqhkiG9w0BBwEwHgYJYIZIAWUDBAEuMBEEDJyjJV/HtiuS0S8pFAIBEIAkMe2atLnrx1L2/TtuGx4hS+9bN/76AgaEkK5lvUbiCA+xhC+Y&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;KeyId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:kms:us-west-2:123456789012:key/79cce4f6-7e4d-42ab-9942-9e6bb05b6121&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I went back to the original example from the AWS CLI documentation, and saved the binary, encrypted data to a file:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms encrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--region us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--key-id 79cce4f6-7e4d-42ab-9942-9e6bb05b6121 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--plaintext fileb://pw1.txt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--output text &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--query CiphertextBlob &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; base64 --decode &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; ExampleEncryptedFile&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then it was time to decrypt and verify I could get my original data back.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms decrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--ciphertext-blob fileb://ExampleEncryptedFile &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--output text &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--query Plaintext

An error occurred &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AccessDeniedException&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; when calling the Decrypt operation: The ciphertext refers to a customer master key that does not exist, does not exist &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; this region, or you are not allowed to access.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice I didn’t need to provide the KMS key id. However, I have the same region problem - but this time, I had an error message that gives me a hint.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms decrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--region us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--ciphertext-blob fileb://ExampleEncryptedFile &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--output text &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--query Plaintext

UEBzc3dvcmQx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That worked but didn’t look like my password.  I needed to base64 decode the value.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms decrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--region us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--ciphertext-blob fileb://ExampleEncryptedFile &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--output text &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--query Plaintext &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; base64 --decode

P@ssword1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Back to Authenticated Encryption, where I need to provide a name-value pair that specifies the encryption context using the &lt;code class=&quot;language-text&quot;&gt;--encryption-context&lt;/code&gt; parameter.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms encrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--region us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--key-id 79cce4f6-7e4d-42ab-9942-9e6bb05b6121 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--encryption-context &lt;span class=&quot;token assign-left variable&quot;&gt;database_username&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;service1 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--plaintext fileb://pw1.txt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--output text &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--query CiphertextBlob &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; base64 --decode &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; ExampleAuthenticatedEncryptedFile&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And for the decrypt, I need to provide the same &lt;code class=&quot;language-text&quot;&gt;--encryption-context&lt;/code&gt; parameter.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms decrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--region us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--encryption-context &lt;span class=&quot;token assign-left variable&quot;&gt;database_username&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;service1 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--ciphertext-blob fileb://ExampleAuthenticatedEncryptedFile &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--output text &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--query Plaintext &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; base64 --decode

P@ssword1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With an incorrect context, I get an &lt;code class=&quot;language-text&quot;&gt;InvalidCiphertextException&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms decrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--region us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--encryption-context &lt;span class=&quot;token assign-left variable&quot;&gt;database_username&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;service2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--ciphertext-blob fileb://ExampleAuthenticatedEncryptedFile &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--output text &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--query Plaintext &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; base64 --decode

An error occurred &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;InvalidCiphertextException&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; when calling the Decrypt operation:&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Encrypted Properties and AWS IAM Roles]]></title><description><![CDATA[I was working on a pattern for application teams to secure and encrypt sensitive properties like database passwords.  Below is an…]]></description><link>https://kevinhakanson.com/2017-06-26-encrypted-properties-and-aws-iam-roles</link><guid isPermaLink="false">https://kevinhakanson.com/2017-06-26-encrypted-properties-and-aws-iam-roles</guid><pubDate>Mon, 26 Jun 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was working on a pattern for application teams to secure and encrypt sensitive properties like database passwords.  Below is an interaction flow where the DBA for project 204503 can encrypt a property that only the intended microservice can decrypt.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c56e51dc5ffbee4a74ed930c080f7812/2d849/pastedImage_14.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 45.42372881355932%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABibAAAYmwFJdYOUAAAB80lEQVQoz12SW08TURSF+z999YdofDMafIJoDGrxydgYkRItxQiFllun0HZa2tLpBWfodQot07l0Zj5nzoBBV7KTs0/OWXutvXfM933CCLFYLLBMC8dxME0Ty7LwPA9FaaFqmnhnGAa+K57jBSF+3nGEEbsnc12XTqdDqVwSBLJcQa7I4u7J02csr7xmMpkwGgw5bebpHqxxvbUiCtxxCvwlDBWFykI4ro29MLlHNpdDkiRxNqYGe8cpSoffMN48YlbdwRSKXeEmFlYNVdTqdXq9Hl7A+Wlric3cqjjblsNwMIosuh66Psa1PJEfbic43/3IsPiFTDLO7ahNTNd1VFXFnJtMpmNawwrZk68USmnawyq54k9SmQ2aWoWZcYPv+diOJfpb3YnT2HpJP7uMnHzO9KpCLPIf2db0NvnTFEpNolDdJ1vcptDa5fOvVdY2Vig2jhn0IrW3gfrbica4W0ZTShiDOo45/ZfwatLmqJZEVjLkat9ZD+xIl2k28u/ZlOIU6yd0Wh1a4xrDH6+wLo75H7Fo3FFP1LESTDnNZSPPWS3LXiFN6fc+6wcfeJtY4truM7+Zksol0JIvmL17jGfPo5Xx3GhtHiq8MXQuNJluv4kS9KOungV5mXNVotw+wrBnwbIGxRfBgIKwA8u+u+Ahxx8g3ZVfVvIe2QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;DBA interaction&quot;
        title=&quot;DBA interaction&quot;
        src=&quot;/static/c56e51dc5ffbee4a74ed930c080f7812/b9e4f/pastedImage_14.png&quot;
        srcset=&quot;/static/c56e51dc5ffbee4a74ed930c080f7812/cf440/pastedImage_14.png 148w,
/static/c56e51dc5ffbee4a74ed930c080f7812/d2d38/pastedImage_14.png 295w,
/static/c56e51dc5ffbee4a74ed930c080f7812/b9e4f/pastedImage_14.png 590w,
/static/c56e51dc5ffbee4a74ed930c080f7812/f9b6a/pastedImage_14.png 885w,
/static/c56e51dc5ffbee4a74ed930c080f7812/2d849/pastedImage_14.png 1180w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In the diagram:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A DBA human creates separate database users for service1 and service2&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Assuming the &lt;code class=&quot;language-text&quot;&gt;204503-DBA&lt;/code&gt; IAM Role, the DBA encrypts the service1 user’s password (P@ssword1) and encrypts with CMK 1&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pre-condition: CMK 1 was created with a Resource Policy that allows &lt;code class=&quot;language-text&quot;&gt;204503-DBA&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;kms:Encrypt&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Assuming the &lt;code class=&quot;language-text&quot;&gt;204503-DBA&lt;/code&gt; IAM Role, the DBA encrypts the service2 user’s password (P@ssword2) and encrypts with CMK 2&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pre-condition: CMK 2 was created with a Resource Policy that allows &lt;code class=&quot;language-text&quot;&gt;204503-DBA&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;kms:Encrypt&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The DBA puts the encrypted data into the location that deploys to the Config Server&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Later, in the diagram:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Instances of service1 are running with the &lt;code class=&quot;language-text&quot;&gt;204503-service1&lt;/code&gt; IAM Role&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;They retrieve the encrypted property from the Config Server&lt;/li&gt;
&lt;li&gt;They decrypt the property using CMK 1&lt;/li&gt;
&lt;li&gt;Pre-condition: CMK 1 was created with a Resource Policy that allows &lt;code class=&quot;language-text&quot;&gt;204503-service1&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;kms:Decrypt&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;They connect to the database&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Instances of service2 are running with the &lt;code class=&quot;language-text&quot;&gt;204503-service2&lt;/code&gt; IAM Role&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;They retrieve the encrypted property from the Config Server&lt;/li&gt;
&lt;li&gt;They decrypt the property using CMK 2&lt;/li&gt;
&lt;li&gt;Pre-condition: CMK 2 was created with a Resource Policy that allows &lt;code class=&quot;language-text&quot;&gt;204503-service2&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;kms:Decrypt&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;They connect to the database&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Potentially, this could be altered to support an EncryptionContext with the service name as part of the key-value map.  See &lt;a href=&quot;https://aws.amazon.com/blogs/security/how-to-protect-the-integrity-of-your-encrypted-data-by-using-aws-key-management-service-and-encryptioncontext/&quot;&gt;How to Protect the Integrity of Your Encrypted Data by Using AWS Key Management Service and EncryptionContext&lt;/a&gt;) for more details and look for an upcoming post on the topic.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Amazon Elasticsearch Service and IAM Policies on HTTP Methods]]></title><description><![CDATA[The Creating and Configuring Amazon Elasticsearch Service Domains documentation shows the Elasticsearch HTTP methods could be controlled…]]></description><link>https://kevinhakanson.com/2017-06-25-amazon-elasticsearch-service-and-iam-policies-on-http-methods</link><guid isPermaLink="false">https://kevinhakanson.com/2017-06-25-amazon-elasticsearch-service-and-iam-policies-on-http-methods</guid><pubDate>Sun, 25 Jun 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The &lt;a href=&quot;http://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/es-createupdatedomains.html#es-createdomain-configure-access-policies&quot;&gt;Creating and Configuring Amazon Elasticsearch Service Domains&lt;/a&gt; documentation shows the Elasticsearch HTTP methods could be controlled using IAM policies:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Amazon ES supports the following actions for HTTP methods. You can attach a separate access policy to each HTTP method:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;es:ESHttpDelete&lt;/li&gt;
&lt;li&gt;es:ESHttpGet&lt;/li&gt;
&lt;li&gt;es:ESHttpHead&lt;/li&gt;
&lt;li&gt;es:ESHttpPost&lt;/li&gt;
&lt;li&gt;es:ESHttpPut&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Since this is an open source interface and not an Amazon solution, it may be initially confusing to understand how this could work. The &lt;a href=&quot;https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-elasticsearch/src/main/java/com/amazonaws/services/elasticsearch/AWSElasticsearchClient.java&quot;&gt;aws-sdk-java/AWSElasticsearchClient.java&lt;/a&gt; source in GitHub shows an AWSCredentialsProvider implementing the &lt;a href=&quot;http://docs.aws.amazon.com/general/latest/gr/signature-version-4.html&quot;&gt;Signature Version 4 Signing Process&lt;/a&gt; on the HTTP requests.  Unfortunately, this means not all &lt;a href=&quot;https://www.elastic.co/guide/en/elasticsearch/client/index.html&quot;&gt;Elasticsearch Clients&lt;/a&gt; will be compatible with this security configuration.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Creating an AWS IAM Role for sts:AssumedRole]]></title><description><![CDATA[This post is a research summary of tasks relating to creating an IAM role via the CLI: The “trust policy” only included an explicit single…]]></description><link>https://kevinhakanson.com/2017-05-15-creating-an-aws-iam-role-for-stsassumedrole</link><guid isPermaLink="false">https://kevinhakanson.com/2017-05-15-creating-an-aws-iam-role-for-stsassumedrole</guid><pubDate>Mon, 15 May 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;This post is a research summary of tasks relating to creating an IAM role via the CLI:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws iam create-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-name kjh-wildcard-test-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--assume-role-policy-document file://kjh-wildcard-test-role.iam.policy.json&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The “trust policy” only included an explicit single member of the &lt;code class=&quot;language-text&quot;&gt;204503-PowerUser&lt;/code&gt; role: kevin.hakanson@example.com&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;AWS&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/204503-PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Test if it works via the CLI, and it does.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws sts assume-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-arn arn:aws:iam::123456789012:role/kjh-wildcard-test-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-session-name cli-kjh-wildcard-test-role&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Update &lt;code class=&quot;language-text&quot;&gt;~/.aws/config&lt;/code&gt; to enable the &lt;code class=&quot;language-text&quot;&gt;--profile&lt;/code&gt; CLI option:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ini&quot;&gt;&lt;pre class=&quot;language-ini&quot;&gt;&lt;code class=&quot;language-ini&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;[profile kjh-wildcard-test-role]&lt;/span&gt;
&lt;span class=&quot;token constant&quot;&gt;role_arn&lt;/span&gt; &lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; arn:aws:iam::123456789012:role/kjh-wildcard-test-role&lt;/span&gt;
&lt;span class=&quot;token constant&quot;&gt;source_profile&lt;/span&gt; &lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; xx-sandbox&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Try something “easy”, like &lt;code class=&quot;language-text&quot;&gt;get-role&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws iam --profile kjh-wildcard-test-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
get-role --role-name kjh-wildcard-test-role

An error occurred &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AccessDenied&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; when calling the GetRole operation: User: arn:aws:sts::123456789012:assumed-role/kjh-wildcard-test-role/AWS-CLI-session-1494616606 is not authorized to perform: iam:GetRole on resource: role kjh-wildcard-test-role&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It didn’t work because that new role has no permissions. Add an inline policy document via the console which lets this role get itself:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Sid&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Stmt1494616662000&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:GetRole&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:GetRolePolicy&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:role/kjh-wildcard-test-role&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Try again and see a result. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws iam --profile kjh-wildcard-test-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
get-role --role-name kjh-wildcard-test-role

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Role&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;AssumeRolePolicyDocument&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;AWS&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/204503-PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAZZZZZZZZZZZZZZZZZ&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;CreateDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2017-05-12T19:09:07Z&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kjh-wildcard-test-role&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Path&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:role/kjh-wildcard-test-role&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Since this only applies to kevin.hakanson@example.com, I’ll try and expand to “everyone” in &lt;code class=&quot;language-text&quot;&gt;204503-PowerUser&lt;/code&gt;, but wildcards don’t work here.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;An error occurred: Invalid principal in policy: “AWS”:“arn:aws:sts::123456789012:assumed-role/204503-PowerUser/*”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Instead, find the &lt;code class=&quot;language-text&quot;&gt;RoleId&lt;/code&gt; for &lt;code class=&quot;language-text&quot;&gt;204503-PowerUser&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws iam get-role --role-name &lt;span class=&quot;token number&quot;&gt;204503&lt;/span&gt;-PowerUser

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Role&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;AssumeRolePolicyDocument&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRoleWithSAML&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;StringEquals&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                            &lt;span class=&quot;token string&quot;&gt;&quot;SAML:aud&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://signin.aws.amazon.com/saml&quot;&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;Federated&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:saml-provider/ADFS&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;Service&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;lambda.amazonaws.com&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;CreateDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2017-04-05T14:28:24Z&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;204503-PowerUser&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Path&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/204503/&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:role/204503/204503-PowerUser&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then add a &lt;code class=&quot;language-text&quot;&gt;Condition&lt;/code&gt; that uses &lt;code class=&quot;language-text&quot;&gt;aws:userId&lt;/code&gt;, which is based on &lt;code class=&quot;language-text&quot;&gt;RoleId&lt;/code&gt; mentioned above.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;AWS&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:root&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;StringLike&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;aws:userId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:*&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Try again and see a result that includes the new &lt;code class=&quot;language-text&quot;&gt;AssumeRolePolicyDocument&lt;/code&gt; section.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws iam --profile kjh-wildcard-test-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
get-role --role-name kjh-wildcard-test-role

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Role&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;AssumeRolePolicyDocument&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;StringLike&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                            &lt;span class=&quot;token string&quot;&gt;&quot;aws:userId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:*&quot;&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;AWS&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:root&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAZZZZZZZZZZZZZZZZZ&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;CreateDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2017-05-12T19:09:07Z&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kjh-wildcard-test-role&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Path&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:role/kjh-wildcard-test-role&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next steps are probably to automate as part of a Python script or CloudFormation template that creates these service roles, looking up the &lt;code class=&quot;language-text&quot;&gt;RoleId&lt;/code&gt; and building the trust policy there.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Amazon RDS and Tag-Based Permissions]]></title><description><![CDATA[AWS Identity-Based, Resource-Based, Resource-Level, and Tag-Based Permissions contains a link to AWS Services That Work with IAM - AWS…]]></description><link>https://kevinhakanson.com/2017-04-27-amazon-rds-and-tag-based-permissions</link><guid isPermaLink="false">https://kevinhakanson.com/2017-04-27-amazon-rds-and-tag-based-permissions</guid><pubDate>Thu, 27 Apr 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;../2017-04-25-aws-identity-based-resource-based-resource-level-and-tag-based-permissions&quot;&gt;AWS Identity-Based, Resource-Based, Resource-Level, and Tag-Based Permissions&lt;/a&gt; contains a link to &lt;a href=&quot;https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html&quot;&gt;AWS Services That Work with IAM - AWS Identity and Access Management&lt;/a&gt;, which has the table of services supporting tag-based permissions.&lt;/p&gt;
&lt;p&gt;Amazon RDS is one of those services. See &lt;a href=&quot;http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAM.Conditions.html&quot;&gt;Using IAM Policy Conditions for Fine-Grained Access Control - Amazon Relational Database Service&lt;/a&gt; for some example policies using condition keys with custom tags.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;StringEquals&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;rds:db-tag/stage&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;development&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;test&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In the above example, the RDS tag identifier &lt;code class=&quot;language-text&quot;&gt;db-tag&lt;/code&gt; applies to “DB instances, including Read Replicas.” The link above also has a table that lists the RDS tag identifiers that you can use in a &lt;code class=&quot;language-text&quot;&gt;Condition&lt;/code&gt; element.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS Identity-Based, Resource-Based, Resource-Level, and Tag-Based Permissions]]></title><description><![CDATA[In Overview of AWS IAM Permissions - AWS Identity and Access Management, they introduce identity-based and resource-based permissions…]]></description><link>https://kevinhakanson.com/2017-04-25-aws-identity-based-resource-based-resource-level-and-tag-based-permissions</link><guid isPermaLink="false">https://kevinhakanson.com/2017-04-25-aws-identity-based-resource-based-resource-level-and-tag-based-permissions</guid><pubDate>Tue, 25 Apr 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In &lt;a href=&quot;https://docs.aws.amazon.com/IAM/latest/UserGuide/access_permissions.html&quot;&gt;Overview of AWS IAM Permissions - AWS Identity and Access Management&lt;/a&gt;, they introduce identity-based and resource-based permissions:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Permissions can be assigned in two ways: as &lt;em&gt;identity-based&lt;/em&gt; or as &lt;em&gt;resource-based&lt;/em&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;They also introduce the concept of resource-level permissions.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There’s a difference between &lt;em&gt;resource-based&lt;/em&gt; permissions and &lt;em&gt;resource-level&lt;/em&gt; permissions. Resource-based permissions are permissions you can attach directly to a resource, as described in this topic. Resource-level permissions refers to the ability to specify not just what actions users can perform, but which resources they’re allowed to perform those actions on.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Resource-based permissions are being looked at to secure S3 and KMS, but not all services support these inline policies.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Resource-based permissions are supported only by some AWS services. For a list of which services support resource-level permissions, see &lt;a href=&quot;https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html&quot;&gt;AWS Services That Work with IAM&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There is also the concept of tag-based permissions for those services that support testing resource tags in a &lt;code class=&quot;language-text&quot;&gt;Condition&lt;/code&gt; element.  However, in the list linked above, hardly any of the services support this.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS sts:AssumeRole and Condition Keys]]></title><description><![CDATA[In wondering how to restrict roles to only allowed to be assumed from specific EC2 instances, I found Actions and Condition Context Keys for…]]></description><link>https://kevinhakanson.com/2017-04-19-aws-stsassumerole-and-condition-keys</link><guid isPermaLink="false">https://kevinhakanson.com/2017-04-19-aws-stsassumerole-and-condition-keys</guid><pubDate>Wed, 19 Apr 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In wondering how to restrict roles to only allowed to be assumed from specific EC2 instances, I found &lt;a href=&quot;http://docs.aws.amazon.com/IAM/latest/UserGuide/list_sts.html&quot;&gt;Actions and Condition Context Keys for AWS Security Token Service - AWS Identity and Access Management&lt;/a&gt;, which lists the &lt;code class=&quot;language-text&quot;&gt;Action&lt;/code&gt; key that is used to assume role:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html&quot;&gt;sts:AssumeRole&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here is an example of a trust policy:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;Service&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ec2.amazonaws.com&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It doesn’t look like any &lt;code class=&quot;language-text&quot;&gt;Condition&lt;/code&gt; keys can be applied here based on:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Condition context keys for AWS Security Token Service&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;AWS Security Token Service has no service-specific context keys that can be used in an IAM policy. For the list of the global condition context keys that are available to all services, see &lt;a href=&quot;http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#AvailableKeys&quot;&gt;Available Global Condition Keys&lt;/a&gt; in the &lt;em&gt;IAM Policy Elements Reference&lt;/em&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Maybe some of these Global Condition Keys could be used?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;aws:SourceArn&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;aws:userid&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[AmazonS3EncryptionClient example]]></title><description><![CDATA[The following code uses the  from the  to put an encrypted object into an S3 bucket. Note: When you view this object in the S3 console, it…]]></description><link>https://kevinhakanson.com/2017-04-14-amazons3encryptionclient-example</link><guid isPermaLink="false">https://kevinhakanson.com/2017-04-14-amazons3encryptionclient-example</guid><pubDate>Fri, 14 Apr 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The following code uses the &lt;code class=&quot;language-text&quot;&gt;AmazonS3EncryptionClient&lt;/code&gt; from the &lt;code class=&quot;language-text&quot;&gt;aws-java-sdk&lt;/code&gt; to put an encrypted object into an S3 bucket.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; bucketName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kjh-encryption-test1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; objectKey  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sdk-s3/ExampleKMSEncryptedObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; kms_cmk_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;79cce4f6-7e4d-42ab-9942-9e6bb05b6121&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//  &quot;kjh-encryption-s3&quot;;&lt;/span&gt;

&lt;span class=&quot;token class-name&quot;&gt;KMSEncryptionMaterialsProvider&lt;/span&gt; materialProvider &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KMSEncryptionMaterialsProvider&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;kms_cmk_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

encryptionClient &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AmazonS3EncryptionClient&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ProfileCredentialsProvider&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; materialProvider&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CryptoConfiguration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withKmsRegion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Regions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;US_WEST_2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withRegion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Region&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getRegion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Regions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;US_WEST_2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Upload object using the encryption client.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; plaintext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hello World, S3 Client-side Encryption Using KMS!&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBytes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;plaintext&apos;s length: &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; plaintext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
encryptionClient&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;putObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PutObjectRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bucketName&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; objectKey&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ByteArrayInputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;plaintext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ObjectMetadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: When you view this object in the S3 console, it shows “Encryption” as “None” because it was client-side encryption and not server-side.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Object&lt;/strong&gt;&lt;br&gt;
Key: ExampleKMSEncryptedObject&lt;br&gt;
Link: &lt;a href=&quot;https://s3-us-west-2.amazonaws.com/kjh-encryption-test1/sdk-s3/ExampleKMSEncryptedObject&quot;&gt;https://s3-us-west-2.amazonaws.com/kjh-encryption-test1/sdk-s3/ExampleKMSEncryptedObject&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Properties&lt;/strong&gt;&lt;br&gt;
Encryption: None&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;When you view the Metadata, you will see the tags the SDK uses to indicate client-side encryption (see &lt;a href=&quot;https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/package-summary.html&quot;&gt;Appendix: Amazon S3 client-side encryption meta information&lt;/a&gt;).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;x-amz-meta-x-amz-cek-alg&lt;/strong&gt;: AES/CBC/PKCS5Padding&lt;br&gt;
&lt;strong&gt;x-amz-meta-x-amz-iv&lt;/strong&gt;: VeF05slNCyQ1jvAHXDyQyw==&lt;br&gt;
&lt;strong&gt;x-amz-meta-x-amz-key-v2&lt;/strong&gt;: AQEDAHizfom2LowDtrU53mpnuTkvNGUC8c+nPE8dtp40x+QLMAAAAH4wfAYJKoZIhvcNAQcGoG8wbQIBADBoBgkqhkiG9w0BBwEwHgYJYIZIAWUDBAEuMBEEDGsVDhAswrMNCD2PkwIBEIA7rka2dnMOLtAcqNRAShf4iXULv95cqPEjwrf9zEwjPraTfxUN9LFX8EyS3YajUe7N6flxORd0Ybs3ilg=&lt;br&gt;
&lt;strong&gt;x-amz-meta-x-amz-matdesc&lt;/strong&gt;: {“kms_cmk_id”:“79cce4f6-7e4d-42ab-9942-9e6bb05b6121”}&lt;br&gt;
&lt;strong&gt;x-amz-meta-x-amz-wrap-alg&lt;/strong&gt;: kms&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This uses a single KMS key, from a single AWS region.  The &lt;a href=&quot;https://github.com/awslabs/aws-encryption-sdk-java&quot;&gt;aws-encryption-sdk-java&lt;/a&gt; now allows for multiple KMS keys (see also &lt;a href=&quot;https://aws.amazon.com/blogs/security/new-aws-encryption-sdk-for-python-simplifies-multiple-master-key-encryption/&quot;&gt;New AWS Encryption SDK for Python Simplifies Multiple Master Key Encryption | AWS Security Blog&lt;/a&gt; )&lt;/p&gt;
&lt;p&gt;However, check the &lt;a href=&quot;https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/faq.html#s3-encryption-client&quot;&gt;Frequently Asked Questions - AWS Encryption SDK&lt;/a&gt; about the difference between this and the S3 encryption client.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;How is the AWS Encryption SDK different from the Amazon S3 encryption client?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The Amazon S3 encryption client in the &lt;a href=&quot;http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html?com/amazonaws/services/s3/AmazonS3EncryptionClient.html&quot;&gt;AWS SDK for Java&lt;/a&gt;, &lt;a href=&quot;http://docs.aws.amazon.com/sdkforruby/api/Aws/S3/Encryption/Client.html&quot;&gt;AWS SDK for Ruby&lt;/a&gt;, and &lt;a href=&quot;http://docs.aws.amazon.com/sdkfornet/v3/apidocs/index.html?page=S3/TS3EncryptionS3EncryptionClient.html&quot;&gt;AWS SDK for .NET&lt;/a&gt; provides encryption and decryption for data that you store in Amazon Simple Storage Service (Amazon S3). These clients are tightly coupled to Amazon S3 and are intended for use only with data stored there.&lt;/p&gt;
&lt;p&gt;The AWS Encryption SDK provides encryption and decryption for data that you can store anywhere. The AWS Encryption SDK and the Amazon S3 encryption client are not compatible because they produce ciphertexts with different data formats.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Open Question&lt;/strong&gt;: What is the right pattern for multi-region client-side encryption of S3 objects using KMS?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Thou shalt not depend on me: analysing the use of outdated JavaScript libraries on the web]]></title><description><![CDATA[If you aren’t scared about JavaScript libraries and security, you will be after reading Thou shalt not depend on me: analysing the use of…]]></description><link>https://kevinhakanson.com/2017-03-09-thou-shalt-not-depend-on-me-analysing-the-use-of-outdated-javascript-libraries-on-the-web</link><guid isPermaLink="false">https://kevinhakanson.com/2017-03-09-thou-shalt-not-depend-on-me-analysing-the-use-of-outdated-javascript-libraries-on-the-web</guid><pubDate>Thu, 09 Mar 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;If you aren’t scared about JavaScript libraries and security, you will be after reading &lt;a href=&quot;https://blog.acolyer.org/2017/03/07/thou-shalt-not-depend-on-me-analysing-the-use-of-outdated-javascript-libraries-on-the-web/&quot;&gt;Thou shalt not depend on me: analysing the use of outdated JavaScript libraries on the web&lt;/a&gt;, which is a summary of &lt;a href=&quot;http://www.ccs.neu.edu/home/arshad/publications/ndss2017jslibs.pdf&quot;&gt;http://www.ccs.neu.edu/home/arshad/publications/ndss2017jslibs.pdf&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Some excerpts to get you interested:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In this paper, we conduct the first comprehensive study of client-side JavaScript library usage and the resulting security implications across the Web.&lt;/p&gt;
&lt;p&gt;Perhaps our most sobering finding is practical evidence that the JavaScript library ecosystem is complex, unorganised, and quite “ad hoc” with respect to security. There are no reliable vulnerability databases, no security mailing lists maintained by library vendors, few or no details on security issues in release notes, and often, it is difficult to determine which versions of a library are affected by a specific reported vulnerability.&lt;/p&gt;
&lt;p&gt;Unfortunately, security does not appear to be a priority in the JavaScript library ecosystem. Popular vulnerability databases contain nearly no entries regarding JavaScript libraries.&lt;/p&gt;
&lt;p&gt;The results of this work highlight the need for more thorough and systematic approaches to JavaScript library inclusion and dependency management on the Web.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[AWS Request IDs]]></title><description><![CDATA[I was reading Techniques and Tools for Better Serverless API Logging with Amazon API Gateway and AWS Lambda when I came across a reference…]]></description><link>https://kevinhakanson.com/2017-03-08-aws-request-ids</link><guid isPermaLink="false">https://kevinhakanson.com/2017-03-08-aws-request-ids</guid><pubDate>Wed, 08 Mar 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was reading &lt;a href=&quot;https://aws.amazon.com/blogs/compute/techniques-and-tools-for-better-serverless-api-logging-with-amazon-api-gateway-and-aws-lambda/&quot;&gt;Techniques and Tools for Better Serverless API Logging with Amazon API Gateway and AWS Lambda&lt;/a&gt; when I came across a reference to the &lt;strong&gt;x-amzn-RequestId&lt;/strong&gt; HTTP response header.  This appears to be a common way for Amazon services to return a unique request id. Each service has documentation similar to this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;x-amzn-RequestId&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A value created by Amazon {service} that uniquely identifies your request. If you have a problem with Amazon {service}, AWS can use this value to troubleshoot the problem. We recommend that you log these values.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;(&lt;em&gt;Note&lt;/em&gt;: S3 is an exception using &lt;strong&gt;x-amz-request-id&lt;/strong&gt; (and optionally &lt;strong&gt;x-amz-id-2 )&lt;/strong&gt;, and CloudFront adds an &lt;strong&gt;X-Amz-Cf-Id&lt;/strong&gt; request header before forwarding to your origin.)&lt;/p&gt;
&lt;p&gt;Assuming you are not making raw HTTP requests and are using an AWS SDK, this value becomes easy to access using the &lt;strong&gt;requestId&lt;/strong&gt; property of the response.&lt;/p&gt;
&lt;p&gt;I started to wonder how this relates to the &lt;strong&gt;X-Amzn-Trace-Id&lt;/strong&gt; &lt;a href=&quot;http://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-tracingheader&quot;&gt;Tracing Header&lt;/a&gt; from AWS X-Ray, which uses an extendable &lt;strong&gt;Field=version-time-id&lt;/strong&gt; format.  Here is an example:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;X-Amzn-Trace-Id: Root=1-5759e988-bd862e3fe1be46a994272793; Parent=53995c3f42cd8ad8; Sampled=1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The answer is probably as simple as request tracing vs. response logging, but does the AWS X-Ray SDK take advantage of this common request id?  Looking at the Node.js SDK source code, I see that &lt;code class=&quot;language-text&quot;&gt;patchers/aws_p.js&lt;/code&gt; uses &lt;code class=&quot;language-text&quot;&gt;segments/attributes/aws.js&lt;/code&gt; which has this line of code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;request_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;extendedRequestId &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;requestId &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It is logged as an attribute of subsegments related to AWS services. However, I could have found this by looking at the example from &lt;a href=&quot;http://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-awssdkclients.html&quot;&gt;Tracing AWS SDK Calls with the X-Ray SDK for Node.js&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In the end, it looks like Amazon’s advice to “log these values” ourselves s what we should do. That will give us the best option to log other important data alongside the request id and not have to worry if our tracing request was sampled.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[CLI SAML Authentication and AWS STS assume-role]]></title><description><![CDATA[When I run a CLI based SAML log in (using an internal tool), I can select from the roles available to my account (e.g., PowerUser or…]]></description><link>https://kevinhakanson.com/2017-03-02-cli-saml-authentication-and-aws-sts-assume-role</link><guid isPermaLink="false">https://kevinhakanson.com/2017-03-02-cli-saml-authentication-and-aws-sts-assume-role</guid><pubDate>Thu, 02 Mar 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;When I run a CLI based SAML log in (using an internal tool), I can select from the roles available to my account (e.g., PowerUser or ReadOnly).  I think of these as user roles.  However, IAM roles can also be created and assigned to EC2 instances or Lambda functions.  I was trying to understand how local code could run under one of those specific IAM roles.  I decided to try out &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/sts/assume-role.html&quot;&gt;assume-role — AWS CLI 1.11.56 Command Reference&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws sts assume-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-arn arn:aws:iam::123456789012:role/kjh-s3-encryption-test1-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-session-name cli-kjh-s3-encryption-test1-role

An error occurred &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AccessDenied&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; when calling the AssumeRole operation: User: arn:aws:sts::123456789012:assumed-role/PowerUser/kevin.hakanson@example.com is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::123456789012:role/kjh-s3-encryption-test1-role&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can see, that didn’t work.  &lt;code class=&quot;language-text&quot;&gt;PowerUser&lt;/code&gt; has the authority to &lt;code class=&quot;language-text&quot;&gt;sts:AssumeRole&lt;/code&gt;, but I had to add myself to that role policy so my specific &lt;code class=&quot;language-text&quot;&gt;Principal&lt;/code&gt; could assume &lt;code class=&quot;language-text&quot;&gt;kjh-s3-encryption-test1-role&lt;/code&gt;.  The default was to only allow the EC2 service to do this.  You can see the full policy below.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws iam get-role --role kjh-s3-encryption-test1-role

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Role&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;AssumeRolePolicyDocument&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;Service&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ec2.amazonaws.com&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;AWS&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;CreateDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2016-08-13T16:31:08Z&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kjh-s3-encryption-test1-role&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Path&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:role/kjh-s3-encryption-test1-role&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After that change, I was able to perform an &lt;code class=&quot;language-text&quot;&gt;AssumeRole&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws sts assume-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-arn arn:aws:iam::123456789012:role/kjh-s3-encryption-test1-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-session-name cli-kjh-s3-encryption-test1-role

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;AssumedRoleUser&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;AssumedRoleId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:cli-kjh-s3-encryption-test1-role&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/kjh-s3-encryption-test1-role/cli-kjh-s3-encryption-test1-role&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;Credentials&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;SecretAccessKey&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;secret&gt;&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;SessionToken&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;token&gt;&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Expiration&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2017-03-01T22:41:37Z&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;AccessKeyId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ASIAXXXXXXXXXXXXXXXX&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, this wasn’t as useful as I thought, since I would also need to create a profile and copy those credentials into my  &lt;code class=&quot;language-text&quot;&gt;~/.aws/credentials&lt;/code&gt; file.  Luckily, I discovered &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/userguide/cli-roles.html&quot;&gt;Assuming a Role - AWS Command Line Interface&lt;/a&gt; and just added a new profile section to my &lt;code class=&quot;language-text&quot;&gt;~/.aws/config&lt;/code&gt; that referenced that role ARN and my &lt;code class=&quot;language-text&quot;&gt;saml&lt;/code&gt; profile.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ini&quot;&gt;&lt;pre class=&quot;language-ini&quot;&gt;&lt;code class=&quot;language-ini&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;[profile kjh-s3-encryption-test1-role]&lt;/span&gt;
&lt;span class=&quot;token constant&quot;&gt;role_arn&lt;/span&gt; &lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; arn:aws:iam::123456789012:role/kjh-s3-encryption-test1-role&lt;/span&gt;
&lt;span class=&quot;token constant&quot;&gt;source_profile&lt;/span&gt; &lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; saml&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After that, I was able to automatically assume that role with the CLI by specifying my new profile.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws s3api --profile kjh-s3-encryption-test1-role list-objects &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--bucket kjh-encryption-test1 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--prefix cli-s3api-kms/

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Contents&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;LastModified&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2016-12-06T21:02:16.000Z&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;ETag&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;f3a07b31bc1cee5e70b6f0bbd9c5bf09&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;StorageClass&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STANDARD&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Key&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cli-s3api-kms/QBF.txt.enc&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Size&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;45&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Interestingly, when I run that same command with my &lt;code class=&quot;language-text&quot;&gt;saml&lt;/code&gt; profile, I got a different result:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws s3api --profile saml list-objects &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--bucket kjh-encryption-test1 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--prefix cli-s3api-kms/

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Contents&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;LastModified&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2016-12-06T21:02:16.000Z&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;ETag&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;f3a07b31bc1cee5e70b6f0bbd9c5bf09&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;StorageClass&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STANDARD&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Key&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cli-s3api-kms/QBF.txt.enc&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Owner&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;DisplayName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redacted&quot;&lt;/span&gt;,
                &lt;span class=&quot;token string&quot;&gt;&quot;ID&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redacted&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Size&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;45&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Seeing the difference was the &lt;code class=&quot;language-text&quot;&gt;Owner&lt;/code&gt;, I added &lt;code class=&quot;language-text&quot;&gt;s3:GetObjectAcl&lt;/code&gt; to my policy using the AWS Console UI.  After that, I got the same result using either profile.  I also learned that if you want to see the policy document from the CLI, &lt;code class=&quot;language-text&quot;&gt;get-policy&lt;/code&gt; doesn’t give you that information…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws iam get-policy --policy-arn arn:aws:iam::123456789012:policy/kjh-s3-encryption-test1

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Policy&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;PolicyName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kjh-s3-encryption-test1&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;CreateDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2016-08-12T22:55:52Z&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;AttachmentCount&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;IsAttachable&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; true,
        &lt;span class=&quot;token string&quot;&gt;&quot;PolicyId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ANPAXXXXXXXXXXXXXXXXX&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;DefaultVersionId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;v5&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Path&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:policy/kjh-s3-encryption-test1&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;UpdateDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2017-03-01T22:15:36Z&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;. so you need to use &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;get-policy-version&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt; with the version &lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt; to get that policy document.

```console
$ aws iam get-policy-version &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--policy-arn arn:aws:iam::123456789012:policy/kjh-s3-encryption-test1 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--version-id v5

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;PolicyVersion&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;CreateDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2017-03-01T22:15:36Z&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;VersionId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;v5&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Document&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;s3:DeleteObject&quot;&lt;/span&gt;,
                        &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;,
                        &lt;span class=&quot;token string&quot;&gt;&quot;s3:PutObject&quot;&lt;/span&gt;,
                        &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObjectAcl&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::kjh-encryption-test1/*&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;s3:ListBucket&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::kjh-encryption-test1&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;IsDefaultVersion&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hopefully, this will allow me to better understand and change IAM policies in order to apply the &lt;a href=&quot;https://en.wikipedia.org/wiki/Principle_of_least_privilege&quot;&gt;Principle of least privilege&lt;/a&gt; and only grant the specific actions required.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Monotonic Time in JavaScript]]></title><description><![CDATA[I was looking at the source code for The AWS X-Ray SDK for Node.js and saw these code snippets: Whenever I see  in JavaScript for…]]></description><link>https://kevinhakanson.com/2017-02-15-monotonic-time-in-javascript</link><guid isPermaLink="false">https://kevinhakanson.com/2017-02-15-monotonic-time-in-javascript</guid><pubDate>Wed, 15 Feb 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was looking at the source code for &lt;a href=&quot;http://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs.html&quot;&gt;The AWS X-Ray SDK for Node.js&lt;/a&gt; and saw these code snippets:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;Segment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;init&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; rootId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; parentId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; traceId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; rootId &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;1-&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;-&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    crypto&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;randomBytes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hex&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; crypto&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;randomBytes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hex&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; startTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ... stuff removed ...&lt;/span&gt;

&lt;span class=&quot;token class-name&quot;&gt;Segment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;close&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;end_time&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;end_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Whenever I see &lt;code class=&quot;language-text&quot;&gt;new Date()&lt;/code&gt; in JavaScript for performance timings, my &lt;a href=&quot;http://marvelanimated.wikia.com/wiki/Spider-Sense&quot;&gt;Spider-Sense&lt;/a&gt; tingles. Browsers have &lt;code class=&quot;language-text&quot;&gt;performance.now()&lt;/code&gt; for this, which always returns values that increase at a constant rate. Other terms you see relating to this concept are monotonically increasing, monotonic clock, and monotonic time. For more info:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/web/updates/2012/08/When-milliseconds-are-not-enough-performance-now&quot;&gt;When milliseconds are not enough: performance.now  |  Web  |  Google Developers&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Performance/now&quot;&gt;performance.now() - Web APIs | MDN&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://w3c.github.io/hr-time/&quot;&gt;High Resolution Time Level 3&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now, the X-Ray SDK is running in Node.js and not in the browser, but &lt;a href=&quot;https://nodejs.org/api/process.html#process_process_hrtime_time&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;process.hrtime()&lt;/code&gt;&lt;/a&gt; and NPM packages like &lt;a href=&quot;https://www.npmjs.com/package/performance-now&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;performance-now&lt;/code&gt;&lt;/a&gt; ensure the reported time will be monotonically increasing.&lt;/p&gt;
&lt;p&gt;Do you remember the leap second earlier this year? Do you also remember that this caused some problems? From &lt;a href=&quot;https://blog.cloudflare.com/how-and-why-the-leap-second-affected-cloudflare-dns/&quot;&gt;How and why the leap second affected Cloudflare DNS&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;h2&gt;A falsehood programmers believe about time&lt;/h2&gt;
&lt;p&gt;The root cause of the bug that affected our DNS service was the belief that &lt;em&gt;time cannot go backwards&lt;/em&gt;. In our case, some code assumed that the &lt;em&gt;difference&lt;/em&gt; between two times would always be, at worst, zero.&lt;/p&gt;
&lt;p&gt;RRDNS is written in Go and uses Go’s &lt;a href=&quot;https://golang.org/pkg/time/#Now&quot;&gt;time.Now()&lt;/a&gt; function to get the time. Unfortunately, this function does not guarantee monotonicity. Go currently doesn’t offer a monotonic time source (see issue &lt;a href=&quot;https://github.com/golang/go/issues/12914&quot;&gt;12914&lt;/a&gt; for discussion).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So, not understanding that computer time can go backward causes bigger problems than invalid performance metrics. It makes me glad &lt;a href=&quot;http://www.bbc.co.uk/programmes/profiles/5Dp7g7b0dSVhD2TM1xNlf7c/the-tardis&quot;&gt;The TARDIS&lt;/a&gt; is a living consciousness and not written in either JavaScript or Go.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 192px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d0e5bc67c970355861eadd34a4f92cd2/5bcd3/pastedImage_1.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwABBf/EABUBAQEAAAAAAAAAAAAAAAAAAAIE/9oADAMBAAIQAxAAAAEtAmGulT0f/8QAGRAAAwADAAAAAAAAAAAAAAAAAAECAxNC/9oACAEBAAEFAljp25pzrZJ0f//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ARn/xAAVEQEBAAAAAAAAAAAAAAAAAAAQMf/aAAgBAgEBPwGn/8QAHhAAAAQHAAAAAAAAAAAAAAAAAAECEAMRI2FxcoH/2gAIAQEABj8CpqIriaonGVqCy3//xAAdEAACAgEFAAAAAAAAAAAAAAAAARExECFBYZGx/9oACAEBAAE/IagC1EYr2xqcW9RPWGlLP//aAAwDAQACAAMAAAAQ7w//xAAVEQEBAAAAAAAAAAAAAAAAAAABAP/aAAgBAwEBPxBAIC//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QQ0yt/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARITFBYfD/2gAIAQEAAT8QLqJKc61AKykW1Rqp4R2zqoXphb7OYLLtn//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;TARDIS&quot;
        title=&quot;TARDIS&quot;
        src=&quot;/static/d0e5bc67c970355861eadd34a4f92cd2/5bcd3/pastedImage_1.jpg&quot;
        srcset=&quot;/static/d0e5bc67c970355861eadd34a4f92cd2/8ee9c/pastedImage_1.jpg 148w,
/static/d0e5bc67c970355861eadd34a4f92cd2/5bcd3/pastedImage_1.jpg 192w&quot;
        sizes=&quot;(max-width: 192px) 100vw, 192px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Web Browser Secure Contexts]]></title><description><![CDATA[HTTPS - it isn’t just for breakfast authentication anymore. Yeah, I stole that from a Florida Orange Juice 1979 TV commercial.  So, what are…]]></description><link>https://kevinhakanson.com/2017-02-14-web-browser-secure-contexts</link><guid isPermaLink="false">https://kevinhakanson.com/2017-02-14-web-browser-secure-contexts</guid><pubDate>Tue, 14 Feb 2017 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;HTTPS - it isn’t just for &lt;del&gt;breakfast&lt;/del&gt; authentication anymore.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Yeah, I stole that from a &lt;a href=&quot;https://www.youtube.com/watch?v=7lhFNAYfxNg&quot;&gt;Florida Orange Juice 1979 TV commercial&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 267px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2bb7cf43b448e5243f38b877ae45d280/6d610/pastedImage_3.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.90636704119851%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIEAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAH/2gAMAwEAAhADEAAAAeY+VQcgpb//xAAaEAADAAMBAAAAAAAAAAAAAAABAhEAEiEi/9oACAEBAAEFAtOBJhXqCox8W5//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwEn/8QAFhEBAQEAAAAAAAAAAAAAAAAAACEB/9oACAECAQE/Adqv/8QAGBAAAwEBAAAAAAAAAAAAAAAAABARIUH/2gAIAQEABj8CynTVav/EABkQAQEBAQEBAAAAAAAAAAAAAAERACExYf/aAAgBAQABPyH1Wr83IynEukcHBiPuEHSfM2u//9oADAMBAAIAAwAAABBP3//EABcRAAMBAAAAAAAAAAAAAAAAAAABEVH/2gAIAQMBAT8QlIqw/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARUf/aAAgBAgEBPxBqs6v/xAAaEAEBAQEBAQEAAAAAAAAAAAABEQAxIWHh/9oACAEBAAE/ED30miC/O5yECeEM4UnF5jil2C2ZyKkr+tcQN3//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Florida Orange Juice&quot;
        title=&quot;Florida Orange Juice&quot;
        src=&quot;/static/2bb7cf43b448e5243f38b877ae45d280/6d610/pastedImage_3.jpg&quot;
        srcset=&quot;/static/2bb7cf43b448e5243f38b877ae45d280/8ee9c/pastedImage_3.jpg 148w,
/static/2bb7cf43b448e5243f38b877ae45d280/6d610/pastedImage_3.jpg 267w&quot;
        sizes=&quot;(max-width: 267px) 100vw, 267px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So, what are &lt;a href=&quot;https://www.w3.org/TR/secure-contexts/&quot;&gt;Secure Contexts&lt;/a&gt; anyway? &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts&quot;&gt;Secure Contexts - Web security | MDN&lt;/a&gt; provides full info, but some key points:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A context will be considered secure when it’s delivered securely or locally.&lt;/li&gt;
&lt;li&gt;Secure contexts allow the browser to expose APIs that should only be permitted when transferred securely to the user.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some APIs (Service Workers, Web Bluetooth, Encrypted Media Extensions) require secure contexts per specification, while other APIs (getUserMedia, Geolocation, etc) have been disabled in non-secure contexts due to browser vendor decisions (see &lt;a href=&quot;https://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features&quot;&gt;Prefer Secure Origins For Powerful New Features - The Chromium Projects&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;That means for some browser features even to work, you need to have full session HTTPS.  Lots of web applications do this today and have been doing so for years.  I’m personally proud that WestlawNext launched this way, starting with our User Acceptance Testing (UAT) pre-release environment in 2009.  That predates both Gmail (&lt;a href=&quot;https://gmail.googleblog.com/2010/01/default-https-access-for-gmail.html&quot;&gt;Official Gmail Blog: Default https access for Gmail&lt;/a&gt; ) and Google Search (&lt;a href=&quot;https://googleblog.blogspot.com/2010/05/search-more-securely-with-encrypted.html&quot;&gt;Official Google Blog: Search more securely with encrypted Google web search&lt;/a&gt;).&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Production-Ready Microservices by Susan J. Fowler]]></title><description><![CDATA[I saw this book review on Twitter today:  Production-Ready Microservices: Building Standardized Systems Across An Engineering Organization…]]></description><link>https://kevinhakanson.com/2017-02-06-production-ready-microservices-by-susan-j-fowler</link><guid isPermaLink="false">https://kevinhakanson.com/2017-02-06-production-ready-microservices-by-susan-j-fowler</guid><pubDate>Mon, 06 Feb 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I saw this book review on Twitter today:  &lt;a href=&quot;https://www.bennadel.com/blog/3222-production-ready-microservices-building-standardized-systems-across-an-engineering-organization-by-susan-j-fowler.htm&quot;&gt;Production-Ready Microservices: Building Standardized Systems Across An Engineering Organization By Susan J. Fowler&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 145px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cdad84b9496eff30ba0a94c6eb668365/14ac2/pastedImage_3.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 131.0344827586207%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAaABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAQCAwUG/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAdK7LXuuhFCJuXfCBMP/xAAdEAACAgEFAAAAAAAAAAAAAAABAgADMwQQERIT/9oACAEBAAEFAmHNvlXFAUW5DNNjNSErSO6qEG//xAAVEQEBAAAAAAAAAAAAAAAAAAARIP/aAAgBAwEBPwEj/8QAFhEBAQEAAAAAAAAAAAAAAAAAEBES/9oACAECAQE/AclP/8QAHxAAAQMDBQAAAAAAAAAAAAAAAAECERIhQSAiMlFx/9oACAEBAAY/AooRUOLTakDvTBbsmkdUy2CG6P/EAB0QAAICAgMBAAAAAAAAAAAAAAABESEQQTFRYfH/2gAIAQEAAT8htTXcbPjEMQnmEk6CbqD80m/R9CuwjpCw7FXB/9oADAMBAAIAAwAAABDP+vD/xAAZEQEAAgMAAAAAAAAAAAAAAAABABARMVH/2gAIAQMBAT8QH2O5lr//xAAZEQACAwEAAAAAAAAAAAAAAAAAARARMVH/2gAIAQIBAT8QTVo9Ldj/xAAfEAEBAAMAAQUBAAAAAAAAAAABEQAhMWEQQVFx0fH/2gAIAQEAAT8QODurFPLe8/nM2mWwauI3ooyMwEiB46uOMiEcvsYI5dWtuRyKIKCfHe/ud5ey3foAbB+8AIAPGf/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Production-Ready Microservices book cover&quot;
        title=&quot;Production-Ready Microservices book cover&quot;
        src=&quot;/static/cdad84b9496eff30ba0a94c6eb668365/14ac2/pastedImage_3.jpg&quot;
        srcset=&quot;/static/cdad84b9496eff30ba0a94c6eb668365/14ac2/pastedImage_3.jpg 145w&quot;
        sizes=&quot;(max-width: 145px) 100vw, 145px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;And when I saw it was an O’Reilly book, I knew I was be able to access it through Safari Books Online.  If the overview below looks interesting, check it out at &lt;a href=&quot;http://techbus.safaribooksonline.com/book/software-engineering-and-development/9781491965962&quot;&gt;Production-Ready Microservices: Safari Books Online - Premium&lt;/a&gt; &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;One of the biggest challenges for organizations that have adopted microservice architecture is the lack of architectural, operational, and organizational standardization. After splitting a monolithic application or building a microservice ecosystem from scratch, many engineers are left wondering what’s next. In this practical book, author Susan Fowler presents a set of microservice standards in depth, drawing from her experience standardizing over a thousand microservices at Uber. You’ll learn how to design microservices that are stable, reliable, scalable, fault tolerant, performant, monitored, documented, and prepared for any catastrophe.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Profile Picture Performance Problems Pondered]]></title><description><![CDATA[In researching browser component UX timings for a project, I found some a slow requests. Here is the likely culprit:  Well, not Kevin…]]></description><link>https://kevinhakanson.com/2017-01-28-profile-picture-performance-problems-pondered</link><guid isPermaLink="false">https://kevinhakanson.com/2017-01-28-profile-picture-performance-problems-pondered</guid><pubDate>Sat, 28 Jan 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In researching browser component UX timings for a project, I found some a slow requests. Here is the likely culprit:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 200px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9b7fa4f27929efeffc3355705d598182/9ec3c/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAFi0lEQVQ4yyWUfVDThxnHf+5uvd3+6M293FrtWq1CFRQERHwJICICCTQJQhJCyKsxEI1CIiSm4T0iYEQrhrcCUpAQqLwplglMr3i+1DqUdqJ12K1bu63b7ub+2N3+++x33R/fP5675/nc83yf5x5h5ckif3i6xO+/eMTK8hJ/WnnG8+Vlbt9forl3mmN1HVjcAWyueiqqmilt6MXkD3GofgDbqcscaQpR3hLC0zqCP3gFYfTaLUKTNwn0XaM2OIbrzDCWhsvI7Y1s3S5h/55E0iWJ7N8Zhyo7FZ1ajtnZQMnpMLbGQY42DeE8E+bk+VEaxHpB7mxH7uoQ1Ymyogu17xKKI42s+eXPEQQB4QeiVokSVn0fv/LKKjatfx2doxZP2yTucyM4A2FRw7hbwwiFvj60vl70NZfQVfdiO3OF7QcK+NkPBRI2buDt19aw+sev8s4b65BsiiIxIpJNa9eQGJ9Aa88VOsOz+Lsnabl0nc6RWYT2D6/gOBNCKwKN/kF0Vd3EREXheHc/HSfs+A8bsUpzOCqX4zyYh1tTgMdQSEpCDIdKyvjqxdf8/S/f8J9//ZOX332DcC5wlt7QFMcDId7rmMB1Kkjsutc55zDQX13BQLWb80dtnLIYOXXISJPdSltlOUalArVax+LSMp8+eMj8J3eZW7iL4Drhpel0C5PTN5iaXaD98iQ5acmc1OZiz3+XY3l5VGn1VBebsMvzsCpy8FrNlGiLqak7zb3F3xG6Ok//xBzh6ZsIVb46Kt1VXL86Rc/YHM6WfkrUBagku8iITSJpQzSWjGzsuUp2RWwjLSYJVWY2hwuLOHc+yMjMAo29E4zN3OLjm7cRpsfH8JysJngxyJfPn9LR3IY9M5PSXBn7ouNJ2RhNk0WHt0hLWlQC+7btpkgElhn1NNjL6Bu9zgdjM9y6c5/LV+cQvnh4j4vvtzE9Nc5/X37Ho9s3qVQpaT9+hIDNhkehoNtZToPJgl2WS0W+Bo/OREWxmdryKgam5ugKXxU3PE3f+K8R5mau8fzz3/Lti2e8WP4cf/MFbCo1fpOBgKUU+34ZupQcCiVSLMmZvFegx6O3ijnFBBsDLD64/339v//2NS//+keE1tazPH5wh2+/esbKk8ecbrqARqHGIVdgSpeiS04nPy4FZWwqBTvSKJUVUFZowKa3oNGWoNKJpyWCB/oHqPEHEGqqa+nr6eLxZ3f5x59XeLr0kN5gOwZpLoUpGeREJqBan0TB+l3IInej2ZuNSanBqLPi9TbQebGLnu5exkc/wuWuQzjhclNX+3/ovYXfMBIaovuDbirtDnIT92A7II66W0pRfAaGtCxUaZloclSMDQ/zpTjq4qd3RP8nmBWte/LoM4SSEgfl5Sfw+XwMDfYRHhzE462hMN9IWuxOrOK5ePJ12DMKUKcrUGQokKYfJBwa5ZP5Gerr/TjFpioqvbS3tyOYzTbMlhJKSx18PPUR89fG0R+pJl6iJvZXkSRE7yJrZxZSSS7JSZlkJR8gLvYAh70dPFyYZWJkkOPHXSKjFL3RilCk0aFRaynWm+no7qf+wijJhia2K0+yZV0cUWujiXp7B9s2S4iPlhD9xmbeSihE6R2lbeg2/cOTVFZ4sJqt6IsNCIeO1WCuvIDJ9yGKsh4kliAxijq2HmwgTlpJQmQKki1ppG7PJTYilTWb89ioaETqCiGrGKWwdpKys+M46zuxlYtLsZ+dx9R4g3zPMFlHu9ljeJ8NmT5e232Mn0aYWL1WRVKMlB0x2WxMKuEtSSURec3IK0aQOYdQukfQiFBN9RTWlhsI2qoxZI4+0q0d7DVfJEXscIuyiXX7vPzkTR0/WmvmzWgjW9+R8Yt4F6sjLMRoziMtD5HhGCC7bJBUazd7LV3iP53gfyNvsiYXZ9+qAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Kevin Hakanson profile picture&quot;
        title=&quot;Kevin Hakanson profile picture&quot;
        src=&quot;/static/9b7fa4f27929efeffc3355705d598182/9ec3c/pastedImage_4.png&quot;
        srcset=&quot;/static/9b7fa4f27929efeffc3355705d598182/cf440/pastedImage_4.png 148w,
/static/9b7fa4f27929efeffc3355705d598182/9ec3c/pastedImage_4.png 200w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Well, not &lt;strong&gt;Kevin Hakanson&lt;/strong&gt; the person, but his profile photo which is base64 encoded and included in the body of the JSON response, bloating the size to 105KB and likely adding extra time as well.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d7793201a9c07bc0f0474f84018d176a/2f8d2/pastedImage_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 9.705882352941178%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAe0lEQVQI1z2NzQ6DIBCEff/Xq0Jbq1UQexCoGgWCJKPLwcOXzGZ+tnhUHBV7oiQuXTIOxl9QaoQxFs45aG2QUkLdtJkYI0II8N7j/WmwbTus/aO+dCHkADX+0PUC7bcD3XJQmCaNZV1zaZ4XpOPIXi/kPUhQl55SRkiJE6UVlPaJCdIiAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Chrome Developer Tools network requests&quot;
        title=&quot;Chrome Developer Tools network requests&quot;
        src=&quot;/static/d7793201a9c07bc0f0474f84018d176a/b9e4f/pastedImage_1.png&quot;
        srcset=&quot;/static/d7793201a9c07bc0f0474f84018d176a/cf440/pastedImage_1.png 148w,
/static/d7793201a9c07bc0f0474f84018d176a/d2d38/pastedImage_1.png 295w,
/static/d7793201a9c07bc0f0474f84018d176a/b9e4f/pastedImage_1.png 590w,
/static/d7793201a9c07bc0f0474f84018d176a/f9b6a/pastedImage_1.png 885w,
/static/d7793201a9c07bc0f0474f84018d176a/2d849/pastedImage_1.png 1180w,
/static/d7793201a9c07bc0f0474f84018d176a/2f8d2/pastedImage_1.png 1360w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;That exact same image data is included in multiple responses; both from different endpoints and repeated calls to the same endpoint.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/api/profiles/v1/users/F4EB32BB5B1D4F86B126FE07E65CB2D3&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 313px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0950e5b348f17c9d1ba4eff481d42f0f/10448/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.47923322683706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABvElEQVQoz52S3XKjMAyF8/4vtVd7sZluJmmTDSGk4c9gY0wgBNuQwKlwdtrbTjWjEbLGB+mzFkopJGkCljPUTQ2lKiRZhrKqkHGONOfIiwJhkjifcy6lc0Z1dblAlKXL27bFYhgGSCERrAOorMKtVsh3r5Dv7+CnE5LNBmy7RbhcIn55QbxaUX0L7nlI12uo8xkiCFDs/6E3BguQTcOEi1/TYQXhKVxDjj6JYOiS9Q8YaYqpaTDVFxfHOXbd84xEoLXLZ3OCj/6BC2twTQqUyz3U9gjDUrSvG9zoz5Yx6PCMoa6howhWiGfMc1czhMykKaZx/BIUe4kmllCbI65+AB0c0VGHHXV4J7YmDDFQp4aEesFhYhIk1rOoSWIXp2n6LziMkDRq9Jsh+pPj1moY38OV+GniM5QS37HPDu/2gWInka04zr8iiGMFS910Bw+9LDDOnL5pTnDQd/CNQEFdVqcC8q+PK417I4b6FLjxusPB+Zw7JyQ3b+8mmL9NFELTZnwKircCYku7VDXQuzU6egwTx08+BN1mDJb20OaZO7f0CDPPZy1Dz3Ny/sXQ1Ba6MjCtxZ0WdOx7/MQ+AL9d9FckDYqGAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Chrome Developer Tools&quot;
        title=&quot;Chrome Developer Tools&quot;
        src=&quot;/static/0950e5b348f17c9d1ba4eff481d42f0f/10448/pastedImage_3.png&quot;
        srcset=&quot;/static/0950e5b348f17c9d1ba4eff481d42f0f/cf440/pastedImage_3.png 148w,
/static/0950e5b348f17c9d1ba4eff481d42f0f/d2d38/pastedImage_3.png 295w,
/static/0950e5b348f17c9d1ba4eff481d42f0f/10448/pastedImage_3.png 313w&quot;
        sizes=&quot;(max-width: 313px) 100vw, 313px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/api/profiles/v1/staff-availability/0D08931CA24D498DB6CD6800194B463B&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 338px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/034cec88132160c2c967e417f1be88e2/308c1/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.95857988165681%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAB2UlEQVQoz51Saa+bMBDk//+vpq3ea8hFQjhCEmHCaYMBJy8c08VpXlOpX9qVRst6rfHuDEaapZCNxBT92H9imPJA6HuM44hnvNZd1+n6NQwWMPBAgHsC1UmiOkrU5wZ11KApW8RJjCRJYNs2HMeBUgphGOJwOOhvKSV834dlWfrckKVE6mWIwwTn4Ax7s4f5ZiJlCY6HEzabtSZkjGG1WmE+nyMIAl0vl0s4+z1sQhRFWFPfmMbvux78KJA4GSEGcyModgb/NkP+4x2t66DZWuDvb0i/ziDMOerVEunsC/hiAUHnzW4LVZYwpr3HYUSyzpC7HFdRQfkHXM8hlOdBEZHyPdQLE2pvU73FlVZUrkvZw/1Cj5MUw8fHQ8Mn4URW+AK5zyHjEpUVozlyDLcb9QeMZMBIBgy/8h+gvuahbT8JKyaRWBnC7xEEK3E9+mhI6BsJ/S9hPJmn6S4miW9eUGcV6p2Lam2hdWwiD3DnhUZXS9yLQqMjzSbcOX9AiAfh0A3InQL8JFDYlN2S1r6hre/oiWASvLE2qNcrMshFS65OdetQJk0ffXrc3v1eOSOi1M3RJERALnc8R1fkeqr/WrnN6SdlNa7tjUbPtXYaLHwYQne0Oa/5L/gJ51VCTkkSF9oAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Chrome Developer Tools&quot;
        title=&quot;Chrome Developer Tools&quot;
        src=&quot;/static/034cec88132160c2c967e417f1be88e2/308c1/pastedImage_2.png&quot;
        srcset=&quot;/static/034cec88132160c2c967e417f1be88e2/cf440/pastedImage_2.png 148w,
/static/034cec88132160c2c967e417f1be88e2/d2d38/pastedImage_2.png 295w,
/static/034cec88132160c2c967e417f1be88e2/308c1/pastedImage_2.png 338w&quot;
        sizes=&quot;(max-width: 338px) 100vw, 338px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;On the surface, this redundancy seems easy to fix: replace &lt;code class=&quot;language-text&quot;&gt;photo&lt;/code&gt; / &lt;code class=&quot;language-text&quot;&gt;profilePicture&lt;/code&gt; with &lt;code class=&quot;language-text&quot;&gt;photoURL&lt;/code&gt; / &lt;code class=&quot;language-text&quot;&gt;profilePictureURL&lt;/code&gt; and add some HTTP caching headers.  After that, the image request will only be made once.  However, if the profile picture image data is being sourced from another system (like an identity provider), there may still be a problem.  There might not be direct URL access to the image and even then, the caching headers may not be set to ensure that any profile picture updates take effect immediately.  It may still be necessary to proxy the image data request.&lt;/p&gt;
&lt;p&gt;With any caching solution, there is a trade-off between performance and stale data.  One solution to this problem is to generate a unique image URL for every photo.  A new image would get a new URL.  Something like:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/api/profiles/v1/users/F4EB32BB5B1D4F86B126FE07E65CB2D3/photo/{hash-of-image-data}&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This URL will uniquely and deterministically map to that exact image data so the HTTP response can be cached “forever” by the browser.  Also, since the image response can now be binary data instead of a base64 string, there will be about a 25% savings in bytes transmitted.&lt;/p&gt;
&lt;p&gt;With the browser performance problem solved, the server can decide it’s caching strategy, including how often it wants to consult the source of truth and if it wants to cache the image data or just store the hash value.  Profile picture changes don’t happen that often, and if they primarily happen in the UI, they are easy to track and manage the cache.  As few as 1 trip to get the image data might be needed for most sessions.&lt;/p&gt;
&lt;p&gt;There are certainly edge cases, and this isn’t intended to be a full design, but a topic worth investigating.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Yahoo Maps?]]></title><description><![CDATA[The other day, I was having a Slack conversation with a co-worker when he replied “true” in agreement with a statement I was making.  My…]]></description><link>https://kevinhakanson.com/2017-01-27-yahoo-maps</link><guid isPermaLink="false">https://kevinhakanson.com/2017-01-27-yahoo-maps</guid><pubDate>Fri, 27 Jan 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The other day, I was having a Slack conversation with a co-worker when he replied “true” in agreement with a statement I was making.  My first instinct was to respond “Double True!” due to the &lt;a href=&quot;http://www.nbc.com/saturday-night-live/video/snl-digital-short-lazy-sunday/n12003?snl=1&quot;&gt;SNL Digital Short: Lazy Sunday&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 306px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d77954cb6bca3e4393643e16e8387b2d/66332/pastedImage_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.92156862745098%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAADFklEQVQozx2S3U8aVhiHccZtIhVQBIoOqHUNgkim1rp0a3W1H65bWosWBCxQFBGK8iUKgoKUimYY161Ns3TLSrbpmnXtli3Z3bItWbKLZf/DbrubJr3a0jw78eLkvTrP+Z33+UnSy1Hya0sU19LE4gFC807iNybJLrjJxDyspq9xMx/kVmGe0sEMs7kRZKsYpFKYFWeOUtZPNBZg/7tvkGSyi6ytpymXsiQSs9wITRAKXGLKdZFUxE067sEzfZFwyE4pN8NGflZAvWwW/Gyvz7CzLqA5P7Pz03z+aA9JNhenUMxQLGVYEK9EFlyMjY9QSfrYzkQYOXuc4eE++getJJN+Pq4us70RZnczwk4pRLUgUq8GCEZ8fPnDIySppTC5fJpSKcdyNkok6uDq5LusiFQz9vO0HGklMDnKTXHhkttJ5XaVKx4nbp+TpbibajlEOXNdfDnI3o/fIllKhSkWV1lMx3nz1BB3s0k+WIkx2G/B4RzHMX6FLoMWt2OYWxMTfHGvhnPOi9qgw2A5JtYQpJwNEl4I8OCJSJhIRsnks1gFTKqUc9JixmTpottmYVfIqk1No5XpUBo7uKDXYz1iob27G41Rj6SpiWvuMTazPvKZIA8e7yMpflTl3JSdBpWcZq2KeoUUqUqBXKdm9O0+cj4XKsNRXmrroE73Gg0aNXVSGfXyQ3SajaQWHVTWfFQ2Inz6UADfv+7k6EAvr7QcQqZW0ihgjS1KXpY3U9dUj1wpRdamRiESKjvUSNtUnDg3jMt/+aA+ZWG5sOJlq7zI/a8+Q/LW2AgDZ0/T1dvD4Z4TdPUNYe5qZ/CUjYHz72HtM6Fp1dB/2swb7wxhOG4jMucRnQ2RSniIRq+SiLnEdPFJ7T6SrQ93KN3e5YLdjvSwHq3RcCCh9+Qx+s+MYu55nVZVGy16Fe0mEyqrmWnXJHfu3uHn33/jj7/+FIV+yL7o4NffCyn3ajWimRUahBCFXofaYkLaoaVB0USjTMarzXI6RfpOm41GtUbIMXLZ62XvyWOePnvG8//+5e9/nvL8xQt++vUX/gdwkcGznHnL/wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Double True!&quot;
        title=&quot;Double True!&quot;
        src=&quot;/static/d77954cb6bca3e4393643e16e8387b2d/66332/pastedImage_1.png&quot;
        srcset=&quot;/static/d77954cb6bca3e4393643e16e8387b2d/cf440/pastedImage_1.png 148w,
/static/d77954cb6bca3e4393643e16e8387b2d/d2d38/pastedImage_1.png 295w,
/static/d77954cb6bca3e4393643e16e8387b2d/66332/pastedImage_1.png 306w&quot;
        sizes=&quot;(max-width: 306px) 100vw, 306px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Full lyrics for this December 2005 masterpiece can be found at &lt;a href=&quot;http://www.azlyrics.com/lyrics/lonelyisland/lazysunday.html&quot;&gt;THE LONELY ISLAND LYRICS - Lazy Sunday&lt;/a&gt;, but the relevant lines are these:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(Well let’s hit up Yahoo Maps to find the dopest route!)&lt;br&gt;
I prefer MapQuest (that’s a good one too)&lt;br&gt;
Google Maps is the best (true dat) DOUBLE TRUE!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I had totally forgotten about Yahoo Maps, which made me wonder what happened to that service. The URL no longer works and &lt;a href=&quot;https://en.wikipedia.org/wiki/Yahoo!_Maps&quot;&gt;Yahoo! Maps - Wikipedia&lt;/a&gt; gave me this timeline:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Shutdown&lt;/strong&gt;&lt;br&gt;
On June 4, 2015, Yahoo! announced that Yahoo! Maps would be shut down, along with Yahoo! Pipes, at the end of the month.&lt;/p&gt;
&lt;p&gt;As of 28 April 2016, Yahoo! Maps can still be accessed at &lt;a href=&quot;https://maps.yahoo.com/b/&quot;&gt;https://maps.yahoo.com/b/&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;As of 24 October 2016, Yahoo! Maps is no longer showing any data.&lt;/p&gt;
&lt;p&gt;As of 6 November 2016, Yahoo! Maps (maps.yahoo.com) redirects to a Yahoo! Search for the word “maps”.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As much as I like to say “double true,” my favorite line from &lt;a href=&quot;https://en.wikipedia.org/wiki/Lazy_Sunday_(The_Lonely_Island_song)&quot;&gt;Lazy Sunday&lt;/a&gt; is this one:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(You can call us Aaron Burr) from the way we’re droppin Hamiltons&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Interestingly, “Hamiltons” almost had the same fate as Yahoo Maps (see &lt;a href=&quot;http://money.cnn.com/2016/04/16/news/economy/jack-lew-hamilton-10-bill/&quot;&gt;Jack Lew nears decision to keep Hamilton on front of $10 bill, put a woman on the $20 - Apr. 16, 2016&lt;/a&gt; ), but I don’t think a hit Broadway musical would have made any difference for Yahoo Maps.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS X-Ray Investigation]]></title><description><![CDATA[In Zipkin JS Investigation and Zipkin JS Investigation (Part 2), I took a simple Express (Node.js) based web application and added zipkin…]]></description><link>https://kevinhakanson.com/2017-01-15-aws-x-ray-investigation</link><guid isPermaLink="false">https://kevinhakanson.com/2017-01-15-aws-x-ray-investigation</guid><pubDate>Sun, 15 Jan 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In &lt;a href=&quot;../2016-06-10-zipkin-js-investigation&quot;&gt;Zipkin JS Investigation&lt;/a&gt; and &lt;a href=&quot;../2016-07-20-zipkin-js-investigation-part-2&quot;&gt;Zipkin JS Investigation (Part 2)&lt;/a&gt;, I took a simple &lt;a href=&quot;http://expressjs.com/&quot;&gt;Express&lt;/a&gt; (Node.js) based web application and added &lt;a href=&quot;http://zipkin.io/&quot;&gt;zipkin&lt;/a&gt; tracing. I updated that application with support for &lt;a href=&quot;https://aws.amazon.com/xray/&quot;&gt;AWS X-Ray&lt;/a&gt; (Preview).   The code snippet below was based on instructions found at &lt;a href=&quot;http://docs.aws.amazon.com/xray-sdk-for-nodejs/latest/reference/&quot;&gt;http://docs.aws.amazon.com/xray-sdk-for-nodejs/latest/reference/&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; http &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;http&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; AWSXRay &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;aws-xray-sdk&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;AWS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;captureAWS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;aws-sdk&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;port&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PORT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;servicename&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;helloservice&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;plugins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ElasticBeanstalk&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;captureHTTPs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;http&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// below not working, need to start with: XRAY_TRACING_NAME=helloservice node index.js&lt;/span&gt;
AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setDefaultName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;helloservice&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;express&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;openSegment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;// handler code here uses http.request()&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;express&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;closeSegment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Looking on the X-Ray Console, here is a screenshot of the result of calling: &lt;code class=&quot;language-text&quot;&gt;http://dev-env.3tp23hiz9p.us-east-1.elasticbeanstalk.com/?count=3&lt;/code&gt;.  I have also included the &lt;a href=&quot;/97dd5d29efde57b873a6260d0fb6ec77/1-587c35e2-c21cf7e73003b660d10e33ea.json.zip&quot;&gt;raw JSON data&lt;/a&gt; for this trace.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/051de3e72ec3003848485fd3f8d71ffa/a987b/pastedImage_6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25.3125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAA8klEQVQY03WQ22rDMAyG8/5vsruN7QnGyi5WdoJSVtbuUBLHdmI5sh3IofnnuN1VN8GHkBGfJGeVriDyPYQQ8N7DWovaGBBZjOMBc0z/8FdksixQihxFFEopoZQCW0JggqMaTBUacyLWv3l+t2TSAjNElMiU0iijiJlhuUETGKt9jdu1wGJTYvFW4mGrsdwdefw45ruNxLeyCN7BOZeuCyEga9v2ZI9TXJQODtyO2GqPz6rFTgfcvApcPQtcPhW4WOa4fhFpqDSMvuvQDwOmaUpks92YOq3NwaPp/dm/UOiisMD9u8aXtFA29owdDuNw1vsDjYB7NuLQBGQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;X-Ray Trace Timeline&quot;
        title=&quot;X-Ray Trace Timeline&quot;
        src=&quot;/static/051de3e72ec3003848485fd3f8d71ffa/b9e4f/pastedImage_6.png&quot;
        srcset=&quot;/static/051de3e72ec3003848485fd3f8d71ffa/cf440/pastedImage_6.png 148w,
/static/051de3e72ec3003848485fd3f8d71ffa/d2d38/pastedImage_6.png 295w,
/static/051de3e72ec3003848485fd3f8d71ffa/b9e4f/pastedImage_6.png 590w,
/static/051de3e72ec3003848485fd3f8d71ffa/f9b6a/pastedImage_6.png 885w,
/static/051de3e72ec3003848485fd3f8d71ffa/2d849/pastedImage_6.png 1180w,
/static/051de3e72ec3003848485fd3f8d71ffa/a987b/pastedImage_6.png 1920w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Amazon uses the &lt;strong&gt;X-Amzn-Trace-Id&lt;/strong&gt; HTTP header with &lt;strong&gt;Root&lt;/strong&gt; and &lt;strong&gt;Parent&lt;/strong&gt; segments for carrying trace ids (see &lt;a href=&quot;http://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-request-tracing.html&quot;&gt;Request Tracing for Your Application Load Balancer&lt;/a&gt; for syntax).  For example:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;X-Amzn-Trace-Id: Root=1-587c35e2-c21cf7e73003b660d10e33ea; Parent=06b7ad9dfdae682a; Sampled=1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;To learn more about AWS X-Ray, you can watch &lt;a href=&quot;https://www.youtube.com/watch?v=s8tB3YhZd9U&quot;&gt;AWS re:Invent 2016: NEW LAUNCH! Introduction to AWS X-Ray (DEV316) - YouTube&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA["Hacked" by Baiduspider and YandexMetrika]]></title><description><![CDATA[Earlier this week, I was investigating the preview of AWS X-Ray – Distributed Tracing System and got quite a scare.  After I deployed my…]]></description><link>https://kevinhakanson.com/2017-01-13-hacked-by-baiduspider-and-yandexmetrika</link><guid isPermaLink="false">https://kevinhakanson.com/2017-01-13-hacked-by-baiduspider-and-yandexmetrika</guid><pubDate>Fri, 13 Jan 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Earlier this week, I was investigating the preview of &lt;a href=&quot;https://aws.amazon.com/xray/&quot;&gt;AWS X-Ray – Distributed Tracing System&lt;/a&gt; and got quite a scare.  After I deployed my sample app to &lt;a href=&quot;https://aws.amazon.com/elasticbeanstalk/&quot;&gt;AWS Elastic Beanstalk&lt;/a&gt;, I went into the AWS X-Ray Console to look at my trace data and saw more domain names listed than just the &lt;code class=&quot;language-text&quot;&gt;dev-env.3tp23hiz9p.us-east-1.elasticbeanstalk.com&lt;/code&gt; I was expecting - including at least one domain that is NSFW!&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e528eb03fa8c0a7a13cc49446f8dd57b/990db/Screen%2BShot%2B2017-01-13%2Bat%2B7.45.41%2BAM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.76404494382022%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABaUlEQVQ4y52S63KCMBCFef/H6o/aGae1OvVWS2nx0gIJSQQE5XKaRWHAor0ss7Ow2SxfTtZ4ns/gWWNEbA3OORhj8DwPjuOU0XVdMI8dIztGco/8VEffFJVSMGzbhmAO8kOCpX63LKtclFJiqwu48MEEh5IKUskyXzk1EEJol2WMogjG9GmIxYsJ3xfYJ3vEcYw0TVHZ0J3h4XOCgp7iuud5DoNzhiAIkGUZmkYFZBNngdFmVueO+aJebzYkM6oG1L3ZrCrQezs3X3KjuTnUpGEYtgjPia/lvzVUdBHbbU0WpTF6myHs4ONvhGRNDfOKOIlw89qH5a866bqsRSil0KOhak3zNEN2SHXU70V+8WbJptzEnT6N0Vzc7Xbl2NTHQ336y6NygjH5O/rL0ZmGmk6dNKQ/VwQ/zV5J6Jno2YM2IdElSfLrC2jCvMkV7jfjcw1lS8PfNKsI59zC7XLQpeH/CC2+wuN6gi9fQkTEwRjwFwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;X-Ray Service Map&quot;
        title=&quot;X-Ray Service Map&quot;
        src=&quot;/static/e528eb03fa8c0a7a13cc49446f8dd57b/b9e4f/Screen%2BShot%2B2017-01-13%2Bat%2B7.45.41%2BAM.png&quot;
        srcset=&quot;/static/e528eb03fa8c0a7a13cc49446f8dd57b/cf440/Screen%2BShot%2B2017-01-13%2Bat%2B7.45.41%2BAM.png 148w,
/static/e528eb03fa8c0a7a13cc49446f8dd57b/d2d38/Screen%2BShot%2B2017-01-13%2Bat%2B7.45.41%2BAM.png 295w,
/static/e528eb03fa8c0a7a13cc49446f8dd57b/b9e4f/Screen%2BShot%2B2017-01-13%2Bat%2B7.45.41%2BAM.png 590w,
/static/e528eb03fa8c0a7a13cc49446f8dd57b/f9b6a/Screen%2BShot%2B2017-01-13%2Bat%2B7.45.41%2BAM.png 885w,
/static/e528eb03fa8c0a7a13cc49446f8dd57b/990db/Screen%2BShot%2B2017-01-13%2Bat%2B7.45.41%2BAM.png 890w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I got scared we had been hacked!  I started doing a nslookup on those domain names, trying to track down the IP address so I could find the EC2 instance and kill it.  All of these domains pointed to the same set of IPs and looked to be hosted by a company named wix.com that also uses AWS.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;www.allbione.com canonical name = www18.wixdns.net.  
www18.wixdns.net canonical name = premium.42.wix.com.  
premium.42.wix.com canonical name = dispatchers-premium-693024781.us-east-1.elb.amazonaws.com.  
Name: dispatchers-premium-693024781.us-east-1.elb.amazonaws.com  
Address: 52.21.74.6  
Name: dispatchers-premium-693024781.us-east-1.elb.amazonaws.com  
Address: 52.72.254.231  
Name: dispatchers-premium-693024781.us-east-1.elb.amazonaws.com  
Address: 107.23.215.71&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I couldn’t find the servers; I couldn’t figure out what was going on; I needed some help.  Luckily, I saw my boss was also working late so I started a online conversation.  We looked at the API activity history in Cloud Trail and didn’t find any evidence.  Eventually, he noticed the incoming IPs and we looked at the access logs. In addition to my Mac, we saw traffic from Baiduspider and YandexMetrika.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;172.31.11.216 - - \[11/Jan/2017:23:51:11 +0000\] &amp;quot;GET / HTTP/1.1&amp;quot; 200 13 &amp;quot;-&amp;quot; &amp;quot;Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)&amp;quot; &amp;quot;180.76.15.7&amp;quot;  
172.31.11.216 - - \[11/Jan/2017:23:51:27 +0000\] &amp;quot;GET /?count=7 HTTP/1.1&amp;quot; 304 0 &amp;quot;-&amp;quot; &amp;quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10\_10\_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36&amp;quot; &amp;quot;198.179.137.210&amp;quot;  
172.31.11.216 - - \[11/Jan/2017:23:58:51 +0000\] &amp;quot;GET / HTTP/1.1&amp;quot; 200 13 &amp;quot;-&amp;quot; &amp;quot;Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)&amp;quot; &amp;quot;220.181.108.113&amp;quot;  
172.31.11.216 - - \[12/Jan/2017:00:01:45 +0000\] &amp;quot;GET / HTTP/1.1&amp;quot; 200 13 &amp;quot;-&amp;quot; &amp;quot;Mozilla/5.0 (compatible; YandexMetrika/2.0; +http://yandex.com/bots mtmon01i.yandex.ru)&amp;quot; &amp;quot;37.9.118.28&amp;quot;  
172.31.11.216 - - \[12/Jan/2017:00:06:47 +0000\] &amp;quot;GET / HTTP/1.1&amp;quot; 200 13 &amp;quot;-&amp;quot; &amp;quot;Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)&amp;quot; &amp;quot;123.125.71.97&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mystery solved. It appears that these spiders and bots didn’t have updated DNS records, and the external IP that AWS assigned my web app must have previously been used by the wix.com hosting platform.  They were just trying to reindex the web based on outdated info.  My web app was a victim of mistaken identity, not elite hackers from China and Russia.&lt;/p&gt;
&lt;p&gt;Because this was for a simple test, I had used &lt;a href=&quot;http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3.html&quot;&gt;The Elastic Beanstalk Command Line Interface (EB CLI)&lt;/a&gt; to make things easy and let it pick the defaults. This created a security group that allowed anyone to connect to port 80 - as you would expect for a public web site.  However, since this was only a test for me, I updated the incoming rule only to allow my IP range.  This stopped the extra log entries from being created.&lt;/p&gt;
&lt;p&gt;So, why am I posting this since getting “hacked” by a web spider doesn’t contribute to my “street cred” very much?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A reminder that you can’t control external traffic and as soon as something appears on the internet, it will be found.  Everything from our sandbox testing to our production systems needs to understand this and plan for it.&lt;/li&gt;
&lt;li&gt;A realization that at the time I was a bit unclear of what to do next if this had been hackers.  I am going to follow up internally on this topic.&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[My First Published Alexa Skill: Mars Rover Mission]]></title><description><![CDATA[While attending AWS re:Invent 2016, I participated in the AWS re:Invent Alexa Skill Contest.  I didn’t win the $10,000 grand prize but was…]]></description><link>https://kevinhakanson.com/2016-12-21-my-first-published-alexa-skill-mars-rover-mission</link><guid isPermaLink="false">https://kevinhakanson.com/2016-12-21-my-first-published-alexa-skill-mars-rover-mission</guid><pubDate>Wed, 21 Dec 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;While attending AWS re:Invent 2016, I participated in the &lt;a href=&quot;https://www.hackster.io/contests/alexa-reinvent&quot;&gt;AWS re:Invent Alexa Skill Contest&lt;/a&gt;.  I didn’t win the $10,000 grand prize but was one of the finalists. See &lt;a href=&quot;https://medium.com/capital-one-developers/crowning-the-new-amazon-alexa-champ-at-aws-re-invent-85a55479fabf#.w1oqsrnyf&quot;&gt;Crowning the New Amazon Alexa Champ at AWS re:Invent&lt;/a&gt; for a recap of the contest.  Mars Rover Mission is an adventure game where you control a Mars exploration rover. It is slow-paced in that you can only take one turn per day exploring the Martian surface.&lt;/p&gt;
&lt;p&gt;At this point, I know you must be too excited to keep reading, so turn to your Echo and say:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“Alexa, enable Mars Rover Mission”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Alternatively, enable Mars Rover Mission via the Alexa app or at &lt;a href=&quot;https://www.amazon.com/dp/B01N002EZY&quot;&gt;Amazon.com: Mars Rover Mission: Alexa Skills&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://images-na.ssl-images-amazon.com/images/I/71k2KOc15YL.png&quot; alt=&quot;Mars Rover&quot;&gt;&lt;/p&gt;
&lt;p&gt;If you want more of the technical details (including links to the JavaScript &lt;a href=&quot;https://github.com/kjhsoftware/mars-rover-mission&quot;&gt;code&lt;/a&gt;, how to cheat, and the &lt;a href=&quot;https://youtu.be/P4A-EMxqtuk&quot;&gt;demo video&lt;/a&gt; I recorded at 4 am), take a look at the project writeup:  &lt;a href=&quot;https://www.hackster.io/kevin-hakanson/mars-rover-mission-a-slow-paced-adventure-game-971ae2&quot;&gt;Mars Rover Mission: A slow paced adventure game. - Hackster.io&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;If you don’t own an Amazon Echo, and can’t buy one because they are out of stock, try out the browser based &lt;a href=&quot;https://echosim.io/&quot;&gt;Alexa Skill Testing Tool - Echosim.io&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 494px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5c485fb3b190da6c2d583d771941c7e8/00171/Screen%2BShot%2B2016-12-20%2Bat%2B16.19.45%2BPM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.35627530364373%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABlElEQVQoz5WSy27bQAxF9fVdddE/6K5/0EU2XRRFUKBNCtsxKtsoFMmCHtZbM9JIiqRT2nLSVRGEwAXJedwhecc67A9s1g+sV1t29p77Hz+Jo5DNZs3t7XdqpVhs5jWb5xnrjxewFdI8i+i6DiUESrcXpFmB6Qb6p0kwMo4Tph/ph8UPst5d8zPZhVC7N9T7T3TeZ55KB7mPn7QEqcE7tbhxI77hVMgjbc9R4jiXPVkPUtmPNJHk87UBq/32gebre9SXd7R3HylqQ5g2F/gnJRek4na4tDzP09XPL/lzZdO0xFbTaM5ojaFSEkvbb7flgTOpVZUlnn8k8j2c1T2hvUXnCWVZoKqSqqqpdSOzrVF1TVkUVOK11nKmJM9zCtWRq34hPPMbqU4XGbF7xDt42LtHVrbLw87F3v7G+XVH5LlkWU4URSRJSiFEcRwThqHMVEaUtSLaiJWmKac0p8wSEudRSH0SUV6bmV5GNoq6k2l4mforZnVlgg4c2sRnkNjEHl0a0BfyjZIjJguuYgjn9E+E/+Evgu6wu2j+MiEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Amazon Echo - Black&quot;
        title=&quot;Amazon Echo - Black&quot;
        src=&quot;/static/5c485fb3b190da6c2d583d771941c7e8/00171/Screen%2BShot%2B2016-12-20%2Bat%2B16.19.45%2BPM.png&quot;
        srcset=&quot;/static/5c485fb3b190da6c2d583d771941c7e8/cf440/Screen%2BShot%2B2016-12-20%2Bat%2B16.19.45%2BPM.png 148w,
/static/5c485fb3b190da6c2d583d771941c7e8/d2d38/Screen%2BShot%2B2016-12-20%2Bat%2B16.19.45%2BPM.png 295w,
/static/5c485fb3b190da6c2d583d771941c7e8/00171/Screen%2BShot%2B2016-12-20%2Bat%2B16.19.45%2BPM.png 494w&quot;
        sizes=&quot;(max-width: 494px) 100vw, 494px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let me know what you think, and if you like it - how about a 5 star review on Amazon.com?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Wolfram|Alpha and Pokémon Answers]]></title><description><![CDATA[The other day, my daughter had me search for zigzagoon on Wolfram|Alpha: Computational Knowledge Engine.  Apparently, there is a full…]]></description><link>https://kevinhakanson.com/2016-11-03-wolframalpha-and-pokmon-answers</link><guid isPermaLink="false">https://kevinhakanson.com/2016-11-03-wolframalpha-and-pokmon-answers</guid><pubDate>Thu, 03 Nov 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The other day, my daughter had me search for &lt;a href=&quot;https://www.wolframalpha.com/input/?i=zigzagoon&quot;&gt;zigzagoon&lt;/a&gt; on &lt;a href=&quot;https://www.wolframalpha.com/&quot;&gt;Wolfram|Alpha: Computational Knowledge Engine&lt;/a&gt;.  Apparently, there is a full Pokédex loaded because it knew details like number, type, size, and generation.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 350px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/03dd1b11447860ddc0de24a04dd2a714/1bae2/pastedImage_6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 106%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAACIElEQVQ4y51U2W6kMBDk//9sX/Mw0kizcwkYrsGY+zB0XJ1tByZkpQSpMbTtcnW5bC/XNUW5prQoKcwK8lNFgY1xMoRnWRb6yeMN40SFLqmsairKyrYNdcNI8z8gAP4kPLyu1ysdDgc6nU4UhiEZY+i3j7ebtYvM8/yr8BKlrXaKEmU1ZP1yarphU+7rpP+WDL3KpqW2H6lqO9J1Qz00tBPNbHbL5z6bXy+CfwbEADNNpPKcSq2lZscEAx+PB91uN/J9n6IoonEcHbAwkwV4U4ZhIG3B6rr+KHGZ3YQJiykrRRAw8PP5ZMDXUiczfQL2fU9JnPDgNE2pKAqeXFUVD0bufr+zCxAYhz6MA5HS2g6knG0AiA4MatuW//GNFgybpmH2XddxIIcWYxH4BiAzRGlIwn9hEFKSJJRlGTMGS0y+XC6c/3TVsrtRGw2FGfTBPwLfiDUTER+thGjtGKKkwA84ufX3wjnR8Hw+O3vIDq/dsNkUFrcsnVZoZWXk0Q+W4s9XsztAMAFAHMfsMVgEgX8BBEN4MLde3dNtAygMhR1aMFmfCKVy3qinBcTmABiWWZt7wxAaggWYiQ9FcDDU9mqLk5TNjZCxayC3KcIQIOtNcafAfh/f/lDs/925lBZnoS+2AUskvmgzL3Q5vpHKIu57vRS+3RRolNqy0IKpWMLYM4rbfDLz7lW2axswRMk4o7CH6CHXF05R17XfAq4ZvgNpTWemzViclAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Input Interpretation: Zigzagoon&quot;
        title=&quot;Input Interpretation: Zigzagoon&quot;
        src=&quot;/static/03dd1b11447860ddc0de24a04dd2a714/1bae2/pastedImage_6.png&quot;
        srcset=&quot;/static/03dd1b11447860ddc0de24a04dd2a714/cf440/pastedImage_6.png 148w,
/static/03dd1b11447860ddc0de24a04dd2a714/d2d38/pastedImage_6.png 295w,
/static/03dd1b11447860ddc0de24a04dd2a714/1bae2/pastedImage_6.png 350w&quot;
        sizes=&quot;(max-width: 350px) 100vw, 350px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So, I tried this computation…&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b55710b47e53c748d3c5c2577b1f2b9d/be18a/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 7.7039274924471295%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAXUlEQVQI143JQQtAMAAFYP//J8m4uG+TZXZxwUbSsChlz0o5yuHrvd6LnGHYNIXT7HWMRUiKfeC4rARWBf9TpCVBLxOYOkUr4tAJ5iZHV4VNZTgnDiwC3paB+PD8N72gk7Up3GgTAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;average height of generation iii pokemon&quot;
        title=&quot;average height of generation iii pokemon&quot;
        src=&quot;/static/b55710b47e53c748d3c5c2577b1f2b9d/b9e4f/pastedImage_4.png&quot;
        srcset=&quot;/static/b55710b47e53c748d3c5c2577b1f2b9d/cf440/pastedImage_4.png 148w,
/static/b55710b47e53c748d3c5c2577b1f2b9d/d2d38/pastedImage_4.png 295w,
/static/b55710b47e53c748d3c5c2577b1f2b9d/b9e4f/pastedImage_4.png 590w,
/static/b55710b47e53c748d3c5c2577b1f2b9d/be18a/pastedImage_4.png 662w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and it worked as expected!&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 283px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bf0a345159bf4130edf866d768e6b1c0/0ac15/pastedImage_5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 97.87985865724382%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACL0lEQVQ4y41Ui27aQBD0//8VUtWG0iSgpJWolEq8jG1s/H6Cme4cLNgQUFas7ny3Nzc7u4dV1Q28MEEQZ/CjBM42hivfKz8y37v9Hjgc5PfYaRytptkZkDArxHOZJ/AFfC1jmOb4qimoZT7aFqG/RRrGKAWEYx6nyMTXqzVc24W39hAGIWLZS2U9SRIURYE4ltg87wM2kvb0z1/8+PaE8fMEv4bPePn5gunvKd7H73gbv2H4fYjR0wivo1fMPmZwHAeTyQSDwQCLxeKSMietMLznZ40Ol7i96Ho9PzPkgok2Czx8DNJAnXe9u34dY+VlhX/2BqvNFh8yaiH0Rp13q/nIrLY9IC9rFFWNtChRip48+GnaJ/BH8pw0POkg3jQNdrsd9u0lnSzLUJalqWxd1z3tNI5nOFpE5SJbIPADuK6LMAx7Qruea8C4d9QcN42tFxiGRNcbutWj101tRjKnk6HJ4KpI3Dsz5IQpea5nWCZx0hN6Pp9jNpsZ5kEQoCyOsVEYmcaOouhMpMeQoFVVmdv0dmXVTcswlzU64/XMGZABlbRPLm+ZWhJYmdP4KpaLpTkYR8enpk9OraehAjIoTVMDqkwI7Ps+bNtGkRcGkDGURd9wr8qa8nXT6jf3mE537YBLTyqzXttoUSgu24MM2HuUgLbxAmFX3rygrvWKoiKnSWrSIJDxk0b20oHn+J8+Qx1v+vCR+ZtA/qJWou2laCTQvaAHqBrc8+tmv+cE/g8R0BmWnuRVTwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Input Interpretation: Generation III Pokémon height&quot;
        title=&quot;Input Interpretation: Generation III Pokémon height&quot;
        src=&quot;/static/bf0a345159bf4130edf866d768e6b1c0/0ac15/pastedImage_5.png&quot;
        srcset=&quot;/static/bf0a345159bf4130edf866d768e6b1c0/cf440/pastedImage_5.png 148w,
/static/bf0a345159bf4130edf866d768e6b1c0/0ac15/pastedImage_5.png 283w&quot;
        sizes=&quot;(max-width: 283px) 100vw, 283px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;How is this relevant to the capabilities we are developing around how knowledge workers &lt;strong&gt;Find&lt;/strong&gt;, &lt;strong&gt;Analyze&lt;/strong&gt;, and &lt;strong&gt;Decide&lt;/strong&gt; about &lt;strong&gt;Content&lt;/strong&gt;?  Now think again about the Wolfram|Alpha Pokémon example and how that combines natural language input and content to recommend an answer.  Then go to &lt;a href=&quot;https://www.wolframalpha.com/&quot;&gt;https://www.wolframalpha.com/&lt;/a&gt; and try some queries out yourself.  How does the user experience compare to more traditional research products?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[UX Issues with Authenticator Apps]]></title><description><![CDATA[I recently got a new personal iPhone and realized that none of my accounts stored in Google Authenticator were restored via the iCloud…]]></description><link>https://kevinhakanson.com/2016-10-17-ux-issues-with-authenticator-apps</link><guid isPermaLink="false">https://kevinhakanson.com/2016-10-17-ux-issues-with-authenticator-apps</guid><pubDate>Mon, 17 Oct 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I recently got a new personal iPhone and realized that none of my accounts stored in Google Authenticator were restored via the iCloud backup restore process.  I thought it might be time to switch authenticator apps to something like &lt;a href=&quot;https://www.authy.com/app/&quot;&gt;Authy&lt;/a&gt;, which supports encrypted backups and multiple devices (including desktop). &lt;/p&gt;
&lt;p&gt;So, I decided to try out some iOS Authenticator Apps using a stand-alone, in-browser, MFA demo website (&lt;a href=&quot;https://daplie.github.io/browser-authenticator/&quot;&gt;https://daplie.github.io/browser-authenticator/&lt;/a&gt;).  I was surprised by some fundamental UX issues I uncovered.&lt;/p&gt;
&lt;p&gt;To test, I generated a “secret” for fake Issuer (&lt;code class=&quot;language-text&quot;&gt;Example Corporation&lt;/code&gt;) and fake Account &lt;code class=&quot;language-text&quot;&gt;firstname.lastname@corporation.example.com&lt;/code&gt;.  Here’s the URI and QR code (feel free to steal my “secret”):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;otpauth://totp/Example%20Corporation:firstname.lastname@corporation.example.com?secret=XOJ4YXLNDHB7OLQFIIYW6E3NEXA5IEIE&amp;#x26;issuer=Example%20Corporation&amp;#x26;algorithm=SHA1&amp;#x26;digits=6&amp;#x26;period=30 &lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 166px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5c703823188a0b4a7cb9c4f8d3835a28/b8261/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAADNklEQVQ4y02TWUuqURSG+yf9BLtNL4qSCEs0G8iokxYOzZwmi0abLMkss7msNMgoGyACzQsJb+q6H1FJlA00QHqeTz/jbHCzXHu9a3jf9WUlk8nn5+e7u7u3tzfsl5eXx8dHjK+vr9fXV55isRiej4+P9/d3/IQRTBh2Fs+Tk5Ojo6MjIyMbGxuHh4dLS0urq6udnZ3Ly8v7+/ttbW1Go3Fzc9PtdmPPz89bLBYgAvjh4aG/v1+pVDqdTrPZbDAYxsbGrFZrRUUFeJ78fn9PTw/+iYkJ7Lm5OYVCQSUBTG/uzJmdnSW6sbGxvb19eHiYFnp7eylOoj+pE4lEzs7OSE0BARyPx2traxcXF0l/dXU1MDBgMpnAcMvl8srKypKSEkJBTk1NXVxcbG9vOxyOlZUVAQwxBwcHNptNo9GMj4+XlpYyMLlDoVBDQwOdk7Srq4ubtumru7ubGKgRwPxmZmbKysqo1tzcbEodjPLy8unpaTDQU1hYSDoq5+Xl4dRqtScnJyKYZPn5+QSRBS8ABqNaQUEB46yvr+NhfpVK9Td1aI3mBXAikQgEAoODgwCQCpuHhYUFwEVFRdQnlMlbW1urqqqqq6tRi5v6Avjp6cnr9UIAAtbV1UWjUbgZGhoiqKmpiRSIRE0U4lar1UyH8/T0VGwbeSUSCTzDxN7eHs9QdXx8XF9fD0Cv1zPt2toaIkulUmakBW4RTG66QlgwJGJCFu7y8pK2s7OzSYo2dMdugIF/tgCPKFVubi6tbm1tIWNLSwuCsX1HR0eQx7QdHR3BYPD29lan08HW7u4ukaQWwJ+fnxAAYTRGenSSyWQsBtuqzRwU6uvroyNWkBFQQWSbH9LzkCaJmzjIhHm2guVjqPTYkMpK87e4uPjm5kYEU3ZnZ4eloSUMtCUdXfh8PpIyc05ODh3hCYfDZERzaghgvky73U4d+sSLGChkTx1aYG0YirH5JFGBRWQFEIVEAvj+/j69gHy97AOsgHe5XHxbsAVz+GtqalgB8CiMwfLyKlYmgjZYA/igOGRgs8yMAOfsA2CmPT8/93g819fX+MXvmV/iv5NMne/v77Tx6/y9f35+kpnzDynJt5gSSQ/lAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;TOTP QR code&quot;
        title=&quot;TOTP QR code&quot;
        src=&quot;/static/5c703823188a0b4a7cb9c4f8d3835a28/b8261/pastedImage_4.png&quot;
        srcset=&quot;/static/5c703823188a0b4a7cb9c4f8d3835a28/cf440/pastedImage_4.png 148w,
/static/5c703823188a0b4a7cb9c4f8d3835a28/b8261/pastedImage_4.png 166w&quot;
        sizes=&quot;(max-width: 166px) 100vw, 166px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now for the UX problems I found with these apps since my iOS device set to a larger font and I used longer than “normal” Issuer and Account values.&lt;/p&gt;
&lt;p&gt;First the &lt;a href=&quot;https://itunes.apple.com/us/app/authy/id494168017?mt=8&quot;&gt;Authy iOS app&lt;/a&gt;, which uses a small square box for the truncated &lt;code class=&quot;language-text&quot;&gt;Example Corp...&lt;/code&gt; issuer and even more truncated &lt;code class=&quot;language-text&quot;&gt;firstname.lastname@...&lt;/code&gt; account.  There is no excuse since Authy has so much white space to work with here.  Also, notice how unreadable that light grey text is on a white background.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 200px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8a9345888636dd331c9a14aa6c35d5a5/9ec3c/pastedImage_7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 177.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsSAAALEgHS3X78AAADvElEQVRIx61WTU8bRxheqcceeunPyKH5EUj9AVXOySHqr+ghUqXeGqmH5tIIkUaV0ihRqnItUiEIUhIgrgkGhGzWxjZr47W93i+vx0/eZ+zZ2LBYBmWk1zOej2ef93PGWlpawvr6OkqlEo6OjtBut7G3twfXdWHbNqrVKvb397G9va2FbTAY6L2FQgGO4+h+eXkZi4uLsHio1Wqh1+vpPggCPe73+4iiCGEYanAjbMPhUO/zPA9xHOu+Xq+jWCzCwjUbwShs/Giz2USn09GgnLeUUummiyI/GKiRKBknslcmU8AkSbQ2ZEtQamRdxYJNjfvx7NTccGrtU7tSZbJiy5+6uPP0HRZ++w9/50+n1rK0mskwiGLceriGr356jRcfGlh4vIV39vmIqRpmnrFmsqu6+PLBCn74p4hSK8DtX7fw+E1pZD91DZXN17wwxt1nu7j/qoAvHvyLr39cQanpZdh3DhsalexzD9+/yOHe8/fYOmlmqjs3wywWc3n5qjikkE2iTDwqHZuZMTvGsa760k0yKGXIFGK0Twqjnj1z2fS+7+vCwDVmiMl1ZkzK0KQQD3Ezk52bmJIGgHMcc95UG86RiNLpiMsqc4FliDnJgyxZnGMFYQnTgS4fZTGo1Wo4OTnRBSGfz+tKcwmQPWvb7u4uDg8PcXx8rEHJZnNzU6+zvHHMtrOzg263m+41pFJAHlxdXUWlUsHBwYHeyCJKBrlcLq0uXOP8JLBRe4ohjcyKTJVpL6pPoxPMqMyPkhXXaArakfsveXme0MnaE2knDbOdMgpiNRHQaqq/CMy7p1w7QxAn8BOVZlAKSPrcRHWpvlHd3B1UlcL/DBc60O6ISRoR3hQdRP1kGpA9bURGlItjI8YB/GC57qDRaqPhnI0xrmHDrBaIBp6wzvTyrAIxnFEQDDM1q2LP4+3JajRZ2qzPUWEi8bIbJjdjeBEsFLD7fxXw3bM8juXesW5iO63qGLDRi/Ht7+/xzaO32Cx3yHCYXuM3rbUHzQDr9igFrVBABuJ+JH1BVIjiPkKRaELCGRJEck4N6BKEMrY6rzfw9pcn+CNXx8v/a/ACeU35IfoJi2hf9wStNds4dVxUG5el4rRQFuHYij8UsJaz8fNGGQ/XiuiItwikq0vJlugNtTnOzjv6AIFniUWyG6ceHm2U8GeuKoCiijxBdFz5wSglReYG7AURkjhCpVzWD0r9mCQg33siYGpJ4Thzu/MBul0ffhih7jTQE9v58vxoe3LL9eT28+Tt58m6zNfnZPgRCCnX+ERSVAEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Authy iOS app&quot;
        title=&quot;Authy iOS app&quot;
        src=&quot;/static/8a9345888636dd331c9a14aa6c35d5a5/9ec3c/pastedImage_7.png&quot;
        srcset=&quot;/static/8a9345888636dd331c9a14aa6c35d5a5/cf440/pastedImage_7.png 148w,
/static/8a9345888636dd331c9a14aa6c35d5a5/9ec3c/pastedImage_7.png 200w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Next was the &lt;a href=&quot;https://itunes.apple.com/us/app/microsoft-authenticator/id983156458?mt=8&quot;&gt;Microsoft Authenticator iOS app&lt;/a&gt;, which showed the full &lt;code class=&quot;language-text&quot;&gt;Example Corporation&lt;/code&gt; issuer, but truncated the &lt;code class=&quot;language-text&quot;&gt;firstname.lastname@corporatio...&lt;/code&gt; account.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 200px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/addcba2ec2ff3c4530c534b40413585e/9ec3c/pastedImage_10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 177.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsSAAALEgHS3X78AAAB5ElEQVRIx+1S24raUBTN/3+CX+CbL0IfFDpgFavivUYHUrUimsSY+1XjmrMOxs60DO1A35oNi53ss/Y6+3IUVVWhqguYhoH5fI7VaoX1ei19kiQw7vF+v49er4coiuB5HmazGSaTCbbbrfS1Wg2VSgWKZVkwTyc4rgtd13E8HsHY+XyWyUEQyP+T4BBxHMsYv3kZzw4i57umQV0soKRJjE+qjS+agzxLEIkECjHRcRwsl0tZ8WazAbs5HA7yvODQZ2mCH3YMK8ighOI2zQiwswIkcYTwTi6qY9X7/V4K7XY7WVkYhvB9/45A8HycHA9n14NyvV7h2hZ814Er2rZt++E5K4oykbE0TUE+fZZlP3G54HqHAmGr52cx9IEcLgfPhbC94XCI8XiMwWAg46zyTyYFF2KY7XZbCnCbnBvFu92uFORGW60WvgrR6XSK0Wj0OOdSbrfbA1Kw2GQBbpgb5Lz4TW8aOizhi5dgmqbkcCwX0SrtIcgKGo0GOp2OrIhVsuJ6vY5v4g3SNPuGMM3fbfVNhRSsVquyLbbUbDZl+5+fnuQltLmeQfcypr5p8bcZcmvEaxJbeJ2Qi/M8J3IU/PegcH58V/QFfv3/CJS/IX3kAoXkf4lSsBQsBUvBUrAU/H8EXwAuH8RCHNryRgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Microsoft Authenticator iOS app&quot;
        title=&quot;Microsoft Authenticator iOS app&quot;
        src=&quot;/static/addcba2ec2ff3c4530c534b40413585e/9ec3c/pastedImage_10.png&quot;
        srcset=&quot;/static/addcba2ec2ff3c4530c534b40413585e/cf440/pastedImage_10.png 148w,
/static/addcba2ec2ff3c4530c534b40413585e/9ec3c/pastedImage_10.png 200w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Then was the &lt;a href=&quot;https://itunes.apple.com/us/app/lastpass-authenticator/id1079110004?mt=8&quot;&gt;LastPass Authenticator iOS app&lt;/a&gt;, which shows a larger and full &lt;code class=&quot;language-text&quot;&gt;Example Corporation&lt;/code&gt; issuer and a  truncated &lt;code class=&quot;language-text&quot;&gt;firstname.lastname@corporation...&lt;/code&gt; account.  However, they could have moved the countdown timer up to make room for the full issuer and avoided that grey text.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 200px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0d077cf0d1c7e5b05023241c903d1189/9ec3c/pastedImage_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 177.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsSAAALEgHS3X78AAADNElEQVRIx+1WWUtbURC+v6bValeX7lprq2L3HUqhFNo+lBbpLxL0RURBqEUEW8ENtCb35t7crGYxcaEmZtNsZvk6M5rUl74YXwoOfMy5kznf+eaccM4oju4uOHq6oF9ugaO3B+bdTtg72uHougPtXCNsTRfhevQA7pfP4X7+dD928TyclOu8fw/2m9dpfjf8nz8h8LUPit7SBL35kiQZVy8LKjG1/jS0hvr9bwaRq3WnoDVSrLUZ+pVWyTPImySCodjOn4Xvw3tRyQQ2UqCdbYB+6QJ8H9/D9fghPK9eine/eAbvm9eSqx3KZTGuJ49IcS8UlRQY7W3QaHULrW49UwcrJbM3bndAv3ENetsNGt+C0dkB41abKLNSLs9VKU8lxQblGdevQtmyWJDQVKTsBlIOB3YYTgfiuo6ESnHySd2GpE2TPPZRqwVRGkfVv4gsLxN+QSkA8K+vwx0MwrO6CrvXC6fPh7WtiMRcgYB4htMfgDcURg7/NiWfzSIcCsEgJW6nE4bNBtMwENvehtfjwa+lJThMU37z00IrXg8yu7syuVwsolwqVVGibyVLhGz5fF58NBqV8TqpLlIC28bGBvb29rBNi6RSKYnFYrF90nJZwFYiUqVQKEjiyMgILLSf/f390Ent5OQklkgdk87Pz2NoaAhTU1OYnp6G3W7H2NhYlaRiQlhRyJMnJiYwMzODubk5GFQ2j9kWFhbkm+MDAwOy6ODgYLWC8gEp66wShsNhRCIRUWPSns3OzkqpXOLo6CiCdCiLi4uinolcLhfXiyIhQxWm6V9SpK0SQk5guYzKfrDn74oK3pqKVWJsuUxGlGV9K8iSKIUPgElZCSOZTIpPJBIy3tnZkQM4/Bv73YOT5kXzdGA5qq6Uy0HhBCY8CjKkjpFOp5EhsgzFlHg8LgpqwiEOhUs7TojC48TxKzwhPCE8IfyvCPkiqPg4XVuCoxJWyRhElKSLNUkXbbyW+1BIGUT0m1qTLW5VaHxkhXF66ZL0HoWHh6UD06gDWxv/ViMhPVDmu7cwr12BSR2Zs+9LDYS8d/QwBb+Pw0rdr0rtXOjnjxr2kP3BHm5SA7VJjRSP/wBqah01RTIZEwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;LastPass Authenticator iOS app&quot;
        title=&quot;LastPass Authenticator iOS app&quot;
        src=&quot;/static/0d077cf0d1c7e5b05023241c903d1189/9ec3c/pastedImage_1.png&quot;
        srcset=&quot;/static/0d077cf0d1c7e5b05023241c903d1189/cf440/pastedImage_1.png 148w,
/static/0d077cf0d1c7e5b05023241c903d1189/9ec3c/pastedImage_1.png 200w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Last was the &lt;a href=&quot;https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8&quot;&gt;Google Authenticator iOS app&lt;/a&gt;, which showed the most information with the full &lt;code class=&quot;language-text&quot;&gt;Example Corporation&lt;/code&gt; issuer and a less truncated &lt;code class=&quot;language-text&quot;&gt;firstname.lastname@corporation.ex...&lt;/code&gt; account.  However, why are there two entries for a single QR code camera scan?  Before you answer “user error,” I tried this twice and got the same result.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 200px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/95e5673c1e7363a7a73368edf6a1dc94/9ec3c/pastedImage_14.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 177.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsSAAALEgHS3X78AAAEB0lEQVRIx+1U62scVRSfP0oQEWNtQhpKY0TUpA/7RUT8oKIErVab1lKjLS2YpFY/VPCFX4WCKGJFyZrSdLONzW5mX7Mz+5rsex47u/P+ee6dJM2jNIKCX3Lgt+fcc8/93XPn/u4Ko6dSGHs3hYHX7mHsvRSOvJPEyGQSLP/Iy3cp/xeeOZ3C+FkR41Mizz36yjKepjUv0HjwzRVak8IbM3lMfalAGD5bxeCZKg68X8Hh8ypGPlRx8AM2ruLxU2UMnK7g0DkVw+t4ksZPUS1bx/JDU1WMkB+brmH8ch3C0LSOY1dNPPepgYMXdIxdMXDiMxMnPze5f/GaiednDEzMRRi9bODQJzqGP9b5msMXdQx+pFOtgSOXdAhPnGvjpS90TMxoeOxMG89e0TD5rYnXvzK4f+sbE69eN/D2dyYmCaOXNAzQmgPnOzg2R2QXOhie7vC5IYoFxnycOmQ4eS3q6uiciYlZ6mjW5DhK8fiMzsFITlyNMDGr07ooZnPHaU6wXR+6YaFr2TDMHjSKjW4PVt+BafV5bDs+PB9w/RCutw6KPT/czG3Egu95EFeTiN+5jT9j8xSnOBZv38JSPE64g3q9hshC7GUC+7E9IAgjz4zFjne/yA+Arh11oFlRR5w+DHeBEyYKHn5adrCQcfHLPRc/JhyeYxaXPCzmPfyecnnM5qW6v75x+OAO78pskYtlxcOvKw6+j9mIpV0YvQDXf+vj5kq0Wanp41bWRRDc72jDtnW4kANEFYhlAaUJpCkuNKLCtgUkK8B8BqibEbbaTmLB9320GiqajRq0dgOdTguddhPtVh2NRoP7TpPNNSnfRqOu8nyr1YLjOJtEnU4HlmVBCIIASrGIfF5CLpdHuVyGLCuQCgUUCLl8nueZVxSF+yLVM5imudnd0tISEokEhDDcWwoPM9YQw8bxBY90yDuSCkhnMijIMoqlEnUn8w5Z55qmcwX6pB8GRhCGwYNlw75hfa2CkiKhkE9TXEVNLaMgZfkmRUWG1dV3CXvnybbdckUDambkW12gSWj3okKHTlM3gKzqo6YHECt0iWbwcGEnS966mF38sGjj6z/6XG+soxtxGwsUx9IeEjLTqYtKO9glmW2ErCguubiZdDjRjbiDedGF2Q9oAwc/0ytiL6nS9vlrYRv5O8QdfdcwuuU1LRKwSp+qS9LS+5HfMIPGazTXo6b98B8IW6YLyGfT/FKKCulPyiGfyyCTzUIUV5FJr/IaRZawmkrRzTNt5rgON0wURa4KLmzL6sEwTPpfNDZjg4q73S7FBslGg64bPMfGLM9g2/amBpnQOSF7GdVqFaqqcmyN9wKrZetLpNtarcYhMFZJkv4VtnIIMr2M/xL7hPuE+4T/C+HfJewdn+EyuQ8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Google Authenticator iOS app&quot;
        title=&quot;Google Authenticator iOS app&quot;
        src=&quot;/static/95e5673c1e7363a7a73368edf6a1dc94/9ec3c/pastedImage_14.png&quot;
        srcset=&quot;/static/95e5673c1e7363a7a73368edf6a1dc94/cf440/pastedImage_14.png 148w,
/static/95e5673c1e7363a7a73368edf6a1dc94/9ec3c/pastedImage_14.png 200w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I was surprised they all had issues.  I even rotated the device for each app, hoping for more screen space, but no effect.&lt;/p&gt;
&lt;p&gt;I guess you get what you pay for.  It looks like the market could use an Authenticator app built by a UX team.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[\""I have people skills"\"]]></title><description><![CDATA[The other day, I ran across Why “Relationship Workers” will replace “Knowledge Workers”.  After only reading the title, my first humorous…]]></description><link>https://kevinhakanson.com/2016-10-11-i-have-people-skills</link><guid isPermaLink="false">https://kevinhakanson.com/2016-10-11-i-have-people-skills</guid><pubDate>Tue, 11 Oct 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The other day, I ran across &lt;a href=&quot;https://www.linkedin.com/pulse/why-relationship-workers-replace-knowledge-abhijit-bhaduri&quot;&gt;Why “Relationship Workers” will replace “Knowledge Workers”&lt;/a&gt;.  After only reading the title, my first humorous thought was this scene in Office Space.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ac67cc127ccc27e091eb7e726eb91016/34e8a/pastedImage_13.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAADm0lEQVQ4yx2Sa0zbVRiH/0ZnonEuOs1c1LCN6Bc/ODUz84OXTE3mzD6Y6IyJ4Q5V7hcZXe8ttKXtACu9/FvaUlp6QVYKLZM2mxAzCRsJE9kyE0CFbQItU5IlxkvIHv9ykifnfDm/8573fYTZC0M4NMV0GhowGFrpNKvo7jYSj4W4Mj3JzPQUk1NZ0ufHGJlI448NI4oitZ+VUV9dRkNNKbrGIt449Dj2ThPC3PcZnLbTOHsNBIN9RKMhQuF+xr9JMXUxzcV0nJHEIIODA6QTUaKxCMGBIH1ekf5AH4OREIq6Up4UBHqtVoSpbBKbqYVehxmH04Lo7cYlMTqRpMfVRaddjdjdzJBbi9OlxuJU4Qt7+KKlHqW8iTMSmqZSil49SDbajxAKeGiqL8Ll6cLr66F/wIXTa2c0m6IzMIDc3EFYWcRMQInZpsHosCIG3LS01KGQN0uBzSibZahPvkSm34UwMuhD3/gxFmMLPV0KvpKq7HLbiYzGOZdNEx+LYa05RcZaw0RykK9TSUwWgxRYT0OtDJmsBINOTtimZF7qt/Cl9SzHXn6R6qL3MCs+wGaQYbe10WFR4Qn38e3sd1i7DLRrGsjOXmJ6YRa3z0WdFFZV8inZTIq7f27xz71/yd3ZRLB2WNm/Zx9HD7/CW0eOcPzoYU69/gJqbSuesSS9iSHM/V7KVWqGL03iSY0wNjuDxWbi2vU5/r73F7/fvcP6H2vc/O0mQoeunUcf3M3zzxZyaH+BxAGeKyhErzstTd2OvsuIokODXisnfmGcIami+GiEy1dnmL82x9WFOX76+QaLq4v8svorgk6tZZewiwP7Cnh671M88sBDPLF7D7ITr2ErPYax8n10ZScZ66wm5dPj01WScGtIjI8wlIyRncow+8MV6YHLLC4vIRi0OgTJofuF+9j78GNUlFTwyYcfUVNehl7Vhlreil4tTVjVit2owWG3SSb4CYYH0LZrOCt2M3z+HIlMkoUb1xEaaxspfOYglWXlvPvm2yjOKPi8ogqdRoPf34focUkiB/B63Yh9IpF4DE/Aj02SWKmUY5eM8IX8uINe5n6cR4iEIpx457jUIy2yqioqyisoLi6mqrIKi+TgTpDbiVfsJeAXcbhcmMwmDBolqrZWXKKbUDSMPxyUvryMgLTW19dZXlpiZWVlh9XV1Z19Y2ODzc08uVyO3P/nfI58Ps/62hq3b92WuLVzN7+5ydbWFtvb2/wHL/q+CNqCagsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Office Space meme&quot;
        title=&quot;Office Space meme&quot;
        src=&quot;/static/ac67cc127ccc27e091eb7e726eb91016/b9e4f/pastedImage_13.png&quot;
        srcset=&quot;/static/ac67cc127ccc27e091eb7e726eb91016/cf440/pastedImage_13.png 148w,
/static/ac67cc127ccc27e091eb7e726eb91016/d2d38/pastedImage_13.png 295w,
/static/ac67cc127ccc27e091eb7e726eb91016/b9e4f/pastedImage_13.png 590w,
/static/ac67cc127ccc27e091eb7e726eb91016/34e8a/pastedImage_13.png 600w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;But as I read the article, I understood the core premise. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There are two factors today that are dramatically shaping the future of work. Technology is reshaping what can be done by machines. … The second factor is the increasing complexity in our world&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The author continues to talk about “transdisciplinary teams” and the value of “creative people who are skilled in working with others to solve complex problems.”  He author ends the article with this comment and image.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Those who can navigate complex human relationships with &lt;em&gt;empathy&lt;/em&gt; will be the most valuable workers in future.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d59da9986d2eefb8437940f4e673210e/e49a9/pastedImage_5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.78125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACw0lEQVQoz3WSWXPqRhBG+f//IQ9Jyqnr2A62rx0MF7ODhJEBgcQiVgMSIIMQArPDyYCf01X9MD3TZ3r5fMFYAkVOkJfC6G+vtPQEvUaZ4aeN7XqUtArmcIxTabE0x+zXG852Op3Y7/cXPxwOl/NyucAXCjyRDF4RfbkiGb+nWMrSLKWZmxqmNeD+7hrlLUPztxuav9+xGNk4rst2u2W1WqFpGvl8nvF4LGIbfC8PV7wGH3ny3/Dy85ZEJEj7o8/XZ5uxaaAWC/j9twT+uhb3j6SkNH9f/yni+Qswk8mgKAqz2UxUu8P36/kfkrEfRCJXvL//pFgMMpxYeGaVribhfvYZjSxS8Sdi4TukuJ9o8A9UJYA3n5GVZQEvYts2290Z+PKAHL8lErtBlv28Fx4Y9HKsJ3U267VIcpjaJpViGkOXMHsG7bpKr1Nmd9iw+FqzOL9bLNifgaFEgmImKBKeKKv3NOsJFuY729mI427NZNTFamucxCJWQ5Nlt8F60MSrlVl06mynfeZ6kZmqsPGmYobROCW9Rj2fZtRSWXtDllaLTiUp4Bkaoiq7X2QzH7FffTGrlrHiceycIjavMxXtWtGUUIDFUXzrC4ajZJ9DaCmFQWsgZuaxtCtUNIW3TBwp+YquK6LiBsfjnpU9E4AsE7WGLbwbk3E6/UsHx+PxGyg/BijH05hdE8eosPIaqKrQZ+6Zei2KM+tx2E7ZuGJZtoOl6oyrBpZWxW53OZyOFx1+A4Nhsv/+Qo+k6BdqTKpiLvMmjZaEJAUwGjKu22E9bcB+y/+Z4H0DQ5HYBahF0/TLdVzzk3m3zcIusPRqeG5LxAqc1i7xREpoTmYwaPHxUaf3YdBsarTF0pZL9wL1hcIRCpk3jFIVq9rGaZ9F7bATMti4Nhunz148PlsulxPJOv1eRsw1jGEkaQjvdiWm0/al7f8ADRZZhPuNvf8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Knowledge Worker sketch&quot;
        title=&quot;Knowledge Worker sketch&quot;
        src=&quot;/static/d59da9986d2eefb8437940f4e673210e/b9e4f/pastedImage_5.png&quot;
        srcset=&quot;/static/d59da9986d2eefb8437940f4e673210e/cf440/pastedImage_5.png 148w,
/static/d59da9986d2eefb8437940f4e673210e/d2d38/pastedImage_5.png 295w,
/static/d59da9986d2eefb8437940f4e673210e/b9e4f/pastedImage_5.png 590w,
/static/d59da9986d2eefb8437940f4e673210e/e49a9/pastedImage_5.png 640w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Yesterday, I attended an internal DevOps Conference where the keynote covered similar topic areas of automation, complexity, and empathy.  At one point, he said that “purpose of [middle] management is communication” and highlighted that ability to connect people.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[HPKP and RansomPKP]]></title><description><![CDATA[In Pokemon Go vs. Certificate Pinning I explored RFC 7469 - Public Key Pinning Extension for HTTP and the HPKP header.  This looked like…]]></description><link>https://kevinhakanson.com/2016-09-06-hpkp-and-ransompkp</link><guid isPermaLink="false">https://kevinhakanson.com/2016-09-06-hpkp-and-ransompkp</guid><pubDate>Tue, 06 Sep 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In &lt;a href=&quot;../2016-07-11-pokemon-go-vs-certificate-pinning&quot;&gt;Pokemon Go vs. Certificate Pinning&lt;/a&gt; I explored &lt;a href=&quot;https://tools.ietf.org/html/rfc7469&quot;&gt;RFC 7469 - Public Key Pinning Extension for HTTP&lt;/a&gt; and the HPKP header.  This looked like something that was complicated to implement if you didn’t have a very mature key management process that already knew about future certificates’ public keys.  I was a little scared, since I could see a scenario where someone sets this header without completely thinking it through - and locks out paying customers from accessing our products.&lt;/p&gt;
&lt;p&gt;Today, I read &lt;a href=&quot;https://blog.qualys.com/ssllabs/2016/09/06/is-http-public-key-pinning-dead&quot;&gt;Is HTTP Public Key Pinning Dead?&lt;/a&gt; and was introduced to the concept of &lt;strong&gt;RansomPKP&lt;/strong&gt; and I am even more scared.  In &lt;a href=&quot;https://scotthelme.co.uk/using-security-features-to-do-bad-things/&quot;&gt;Using security features to do bad things&lt;/a&gt;, Scott Helme explains how an attacker who has access to your server’s HTTP response headers could generate a public key that you don’t have access to, lock your customers out of your website for the next 60 days, and then ransom that key back to you.&lt;/p&gt;
&lt;p&gt;It gets worse since HPKP has the &lt;code class=&quot;language-text&quot;&gt;includeSubDomains&lt;/code&gt; feature:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If this optional parameter is specified, this rule applies to all of the site’s subdomains as well.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now suppose somebody applies RansomPKP to our naked domain server (e.g., example.com) and includes the includeSubDomains option?  Could they ransom multiple company products all at once?  Our public facing website is now an attack vector for other unrelated properties.&lt;/p&gt;
&lt;p&gt;All hope is not lost.  &lt;a href=&quot;https://blog.qualys.com/ssllabs/2016/09/06/is-http-public-key-pinning-dead&quot;&gt;Is HTTP Public Key Pinning Dead?&lt;/a&gt; did have some ideas in a “What can you do today?” section, including just stripping that header in your reverse proxy / load balancer. Alternatively, you can implement HPKP yourself (and only be a little scared).&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Smaller and faster data compression with Zstandard]]></title><description><![CDATA[I saw this post from Facebook on their new open source compression algorithm: Smaller and faster data compression with Zstandard…]]></description><link>https://kevinhakanson.com/2016-09-01-smaller-and-faster-data-compression-with-zstandard</link><guid isPermaLink="false">https://kevinhakanson.com/2016-09-01-smaller-and-faster-data-compression-with-zstandard</guid><pubDate>Thu, 01 Sep 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I saw this post from Facebook on their new open source compression algorithm: &lt;a href=&quot;https://code.facebook.com/posts/1658392934479273&quot;&gt;Smaller and faster data compression with Zstandard | Engineering Blog | Facebook Code&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We’re thrilled to announce &lt;a href=&quot;https://github.com/facebook/zstd&quot;&gt;Zstandard 1.0&lt;/a&gt;, a new compression algorithm and implementation designed to scale with modern hardware and compress smaller and faster. Zstandard combines recent compression breakthroughs, like &lt;a href=&quot;https://github.com/Cyan4973/FiniteStateEntropy&quot;&gt;Finite State Entropy&lt;/a&gt;, with a performance-first design — and then optimizes the implementation for the unique properties of modern CPUs. As a result, it improves upon the trade-offs made by other compression algorithms and has a wide range of applicability with very high decompression speed. Zstandard, available now under the BSD license, is designed to be used in nearly every lossless compression [1] scenario, including many where current algorithms aren’t applicable.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The “internet standard” today is Deflate, which is used by zip, gzip, and zlib. When compared to zlib, Facebook shows that zstandard scales much better:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;At the same compression ratio, it compresses substantially faster: ~3-5x.&lt;/li&gt;
&lt;li&gt;At the same compression speed, it is substantially smaller: 10-15 percent smaller.&lt;/li&gt;
&lt;li&gt;It is almost 2x faster at decompression, regardless of compression ratio; the command line tooling numbers show an even bigger difference: more than 3x faster.&lt;/li&gt;
&lt;li&gt;It scales to much higher compression ratios, while sustaining lightning-fast decompression speeds.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;The article continues with an “under the hood” section talking about “parallel execution” and “branchless design” and how those are important to today’s CPU architectures.  Good reading for those propeller-heads out there.&lt;/p&gt;
&lt;p&gt;One of their highlighted use cases is storing “small data”; some examples are pages in a database or JSON documents.  They also mention that compressed data stored on SSDs help with both IOPs and the write endurance of the hardware.  Facebook stores a lot of data and buys a lot of SSDs, so I can see how this will save them money.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Investigating CloudTrail for S3 PutBucketNotification]]></title><description><![CDATA[I was investigating the types of CloudTrail events that are available for S3.  However, when I was comparing Services Supported by…]]></description><link>https://kevinhakanson.com/2016-08-22-investigating-cloudtrail-for-s3-putbucketnotification</link><guid isPermaLink="false">https://kevinhakanson.com/2016-08-22-investigating-cloudtrail-for-s3-putbucketnotification</guid><pubDate>Mon, 22 Aug 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was investigating the types of CloudTrail events that are available for S3.  However, when I was comparing &lt;a href=&quot;http://docs.aws.amazon.com/awscloudtrail/latest/userguide/view-cloudtrail-events-supported-services.html#view-cloudtrail-events-supported-apis-s3&quot;&gt;Services Supported by CloudTrail API Activity History&lt;/a&gt; against the &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/s3api/&quot;&gt;s3api — AWS CLI 1.10.58 Command Reference&lt;/a&gt;, I noticed something that confused me.&lt;/p&gt;
&lt;p&gt;CloudTrail will log a bucket level API event for PutBucketNotification, but the CLI has &lt;code class=&quot;language-text&quot;&gt;s3api&lt;/code&gt; commands for both &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/s3api/put-bucket-notification.html&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;put-bucket-notification&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/s3api/put-bucket-notification-configuration.html&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;put-bucket-notification-configuration&lt;/code&gt;&lt;/a&gt;.  What is the difference?  Is the later not logged to CloudTrail? Digging into the documentation, I saw this description for &lt;code class=&quot;language-text&quot;&gt;put-bucket-notification&lt;/code&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Deprecated, see the PutBucketNotificationConfiguraiton operation.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I tried it out and see what got logged.  First, I created a blank bucket notification configuration file:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;TopicConfigurations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;QueueConfigurations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;LambdaFunctionConfigurations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then I used the s3api CLI to put this configuration onto my S3 bucket:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws --profile saml s3api put-bucket-notification-configuration --bucket kjh-encryption-test1 --notification-configuration file://bucket-notification-configuration-blank.json&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After a couple minutes, the event appears in CloudTrail as a &lt;code class=&quot;language-text&quot;&gt;PutBucketNotification&lt;/code&gt;. Here’s the raw JSON you see if you click “View event”:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;eventVersion&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1.03&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;userIdentity&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;AssumedRole&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;principalId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:kevin.hakanson@example.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;arn&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;accountId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;123456789012&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;accessKeyId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ASIAXXXXXXXXXXXXXXXX&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;sessionContext&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
         &lt;span class=&quot;token property&quot;&gt;&quot;attributes&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;mfaAuthenticated&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;false&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;creationDate&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;2016-08-23T01:58:41Z&quot;&lt;/span&gt;  
         &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
         &lt;span class=&quot;token property&quot;&gt;&quot;sessionIssuer&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Role&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;principalId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;arn&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:role/PowerUser&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;accountId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;123456789012&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;userName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;PowerUser&quot;&lt;/span&gt;  
         &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;eventTime&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;2016-08-23T02:24:27Z&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;eventSource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;s3.amazonaws.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;eventName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;PutBucketNotification&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;awsRegion&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;us-west-2&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;sourceIPAddress&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;198.179.137.232&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;userAgent&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;[aws-cli/1.10.43 Python/2.7.10 Darwin/14.5.0 botocore/1.4.33]&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;requestParameters&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;bucketName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;kjh-encryption-test1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;NotificationConfiguration&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
         &lt;span class=&quot;token property&quot;&gt;&quot;xmlns&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;responseElements&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token null keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;requestID&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;BABEFFD87216E573&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;eventID&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;3fb71544-ab01-433b-94df-651b808348fe&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;eventType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;AwsApiCall&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;recipientAccountId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;123456789012&quot;&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Bonus:  If you noticed the typo above from the AWS CLI documentation, I created &lt;a href=&quot;https://github.com/aws/aws-cli/issues/2127&quot;&gt;Issue #2127 · aws/aws-cli · GitHub&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[How IAM Roles Become Credentials on EC2]]></title><description><![CDATA[While investigating how to secure S3 buckets using IAM Roles, I was curious how the IAM Role assigned to my EC2 instance became the…]]></description><link>https://kevinhakanson.com/2016-08-15-how-iam-roles-become-credentials-on-ec2</link><guid isPermaLink="false">https://kevinhakanson.com/2016-08-15-how-iam-roles-become-credentials-on-ec2</guid><pubDate>Mon, 15 Aug 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;While investigating how to secure S3 buckets using IAM Roles, I was curious how the IAM Role assigned to my EC2 instance became the credentials an AWS based application could use.  IAM Roles for EC2 are the recommended practices, but how they worked was “magic” to me.&lt;/p&gt;
&lt;p&gt;First, I created an IAM Role with a policy that allowed Get, Put, and Delete access to my S3 bucket.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;Sid&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Stmt1471042403000&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
                &lt;span class=&quot;token string&quot;&gt;&quot;s3:DeleteObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
                &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
                &lt;span class=&quot;token string&quot;&gt;&quot;s3:PutObject&quot;&lt;/span&gt;  
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
                &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::kjh-encryption-test1/*&quot;&lt;/span&gt;  
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then, I created an EC2 instance and assigned that IAM role:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 290px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/39b7f5e5d755fe4bf85cec837cb0618c/bb113/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 18.965517241379313%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAA0UlEQVQY022Q226DMBBE+f+fq/qQNIE2AQdsU8DB5hKghVPjRupLR1qN9mhXO9poXVfYNvrOYYzBOYe1jl3dMGPaB3e314TtpsAaz1w/03Zz4P24BJ+WbyKeKrXk+HYkSzNOcRKYaibOmSNTAxc5cBYdp9RyuFg+cufd8JrU6KrnJa6p7EQkxA1zv6O1pm13V3xW1e8RJdEyR5clTV2hVYG4CZTnX8vMf4oSnyYTgjiO/bIkeU/8Uv5MrZBFEXpZSK7XlDRNg4/jI8ys6+Y/9lc/PTEu7ZPf9fcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;IAM role and Key pair name&quot;
        title=&quot;IAM role and Key pair name&quot;
        src=&quot;/static/39b7f5e5d755fe4bf85cec837cb0618c/bb113/pastedImage_2.png&quot;
        srcset=&quot;/static/39b7f5e5d755fe4bf85cec837cb0618c/cf440/pastedImage_2.png 148w,
/static/39b7f5e5d755fe4bf85cec837cb0618c/bb113/pastedImage_2.png 290w&quot;
        sizes=&quot;(max-width: 290px) 100vw, 290px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I connected to my instance over SSH…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;ssh&lt;/span&gt; -i kjh-tax-sandbox.pem ec2-user@54.200.155.114&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;…and on that instance, I followed the instruction from &lt;a href=&quot;http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html#instance-metadata-security-credentials&quot;&gt;IAM Roles for Amazon EC2 - Amazon Elastic Compute Cloud&lt;/a&gt; to get the credentials the same way the AWS SDK does:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; http://169.254.169.254/latest/meta-data/iam/security-credentials/kjh-s3-encryption-test1-role  
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  &lt;span class=&quot;token string&quot;&gt;&quot;Code&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Success&quot;&lt;/span&gt;,  
  &lt;span class=&quot;token string&quot;&gt;&quot;LastUpdated&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2016-08-13T16:36:13Z&quot;&lt;/span&gt;,  
  &lt;span class=&quot;token string&quot;&gt;&quot;Type&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AWS-HMAC&quot;&lt;/span&gt;,  
  &lt;span class=&quot;token string&quot;&gt;&quot;AccessKeyId&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ASIAJ27C6XNOZEXAMPLE&quot;&lt;/span&gt;,  
  &lt;span class=&quot;token string&quot;&gt;&quot;SecretAccessKey&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;rrGyOOa3TPLJQIIedUfW5hbCzPXb+EXAMPLEKEY&quot;&lt;/span&gt;,  
  &lt;span class=&quot;token string&quot;&gt;&quot;Token&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;TOKEN&quot;&lt;/span&gt;,  
  &lt;span class=&quot;token string&quot;&gt;&quot;Expiration&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2016-08-13T23:09:05Z&quot;&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For a test, I edited my local &lt;code class=&quot;language-text&quot;&gt;.aws/credentials&lt;/code&gt; to add a new profile to match that ec2role&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ini&quot;&gt;&lt;pre class=&quot;language-ini&quot;&gt;&lt;code class=&quot;language-ini&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;[ec2role]&lt;/span&gt;  
&lt;span class=&quot;token constant&quot;&gt;aws_access_key_id&lt;/span&gt; &lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; ASIAJ27C6XNOZEXAMPLE  &lt;/span&gt;
&lt;span class=&quot;token constant&quot;&gt;aws_secret_access_key&lt;/span&gt; &lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; rrGyOOa3TPLJQIIedUfW5hbCzPXb+EXAMPLEKEY  &lt;/span&gt;
&lt;span class=&quot;token constant&quot;&gt;aws_session_token&lt;/span&gt; &lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; TOKEN&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then, from my local machine, I did an upload using the AWS CLI S3 command and specifying that new &lt;code class=&quot;language-text&quot;&gt;ec2role&lt;/code&gt; profile.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws --profile ec2role s3 &lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; quickbrownfox.txt s3://kjh-encryption-test1/cli-s3-sse/ --sse  
upload: ./quickbrownfox.txt to s3://kjh-encryption-test1/cli-s3-sse/quickbrownfox.txt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Back on the EC2 instance, I downloaded that same file, but using the default profile&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws s3 &lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; s3://kjh-encryption-test1/cli-s3-sse/quickbrownfox.txt quickbrownfox.txt  
download: s3://kjh-encryption-test1/cli-s3-sse/quickbrownfox.txt to ./quickbrownfox.txt  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Everything worked as expected.  AWS took care of supplying IAM credentials to an EC2 instance in a way the AWS SDK could find them.  However, since I had root access via SSH, it was also easy for me to “steal” my own credentials and access that S3 bucket from outside the VPC.  For protecting customer data stored in S3, additional controls like &lt;a href=&quot;http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-endpoints.html&quot;&gt;VPC Endpoints&lt;/a&gt; or &lt;a href=&quot;https://docs.aws.amazon.com/AmazonS3/latest/dev/ServerSideEncryptionCustomerKeys.html&quot;&gt;Using Server-Side Encryption with Customer-Provided Encryption Keys (SSE-C)&lt;/a&gt; should be considered.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[.NET Zipkin Investigation (Medidata.ZipkinTracerModule)]]></title><description><![CDATA[Medidata.ZipkinTracerModule is a “A .NET implementation of the Zipkin Tracer client.”  I built a simple Web Api 2 service, similar to the…]]></description><link>https://kevinhakanson.com/2016-07-29-net-zipkin-investigation-medidatazipkintracermodule</link><guid isPermaLink="false">https://kevinhakanson.com/2016-07-29-net-zipkin-investigation-medidatazipkintracermodule</guid><pubDate>Fri, 29 Jul 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/mdsol/Medidata.ZipkinTracerModule&quot;&gt;Medidata.ZipkinTracerModule&lt;/a&gt; is a “A .NET implementation of the Zipkin Tracer client.”  I built a simple Web Api 2 service, similar to the code from the &lt;a href=&quot;../2016-06-10-zipkin-js-investigation&quot;&gt;Zipkin JS Investigation&lt;/a&gt;.  The service recursively calls itself base on the count parameter:  (e.g., &lt;code class=&quot;language-text&quot;&gt;http://localhost:52399/api/hello?count=3&lt;/code&gt;).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Hello World! (x3)
Hello World! (x2)
Hello World!&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ZipkinTracerModule&lt;/code&gt; is implemented as a OWIN Middleware and required an &lt;code class=&quot;language-text&quot;&gt;OwinStartup&lt;/code&gt; class to configure &lt;code class=&quot;language-text&quot;&gt;Zipkin&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;csharp&quot;&gt;&lt;pre class=&quot;language-csharp&quot;&gt;&lt;code class=&quot;language-csharp&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OwinStartup&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ZipkinConfig&lt;/span&gt; _zipkinConfig&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;IAppBuilder&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; zipkinConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ZipkinConfig&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
            Domain &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; request &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            ZipkinBaseUri &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://10.194.52.207:9411&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            SpanProcessorBatchSize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            SampleRate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        &lt;span class=&quot;token comment&quot;&gt;// TODO: how can I register this with Unity and inject into Controller?  &lt;/span&gt;
        _zipkinConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; zipkinConfig&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;UseZipkin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;zipkinConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;HelloController&lt;/code&gt; uses the &lt;code class=&quot;language-text&quot;&gt;ZipkinConfig&lt;/code&gt; and the &lt;code class=&quot;language-text&quot;&gt;OwinContext&lt;/code&gt; to configure a &lt;code class=&quot;language-text&quot;&gt;ZipkinClient&lt;/code&gt; which plugs into the .NET provided &lt;code class=&quot;language-text&quot;&gt;HttpClient&lt;/code&gt;.  This is what propagates the trace, parent, and span ID values.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;csharp&quot;&gt;&lt;pre class=&quot;language-csharp&quot;&gt;&lt;code class=&quot;language-csharp&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HelloController&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ApiController&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IZipkinConfig&lt;/span&gt; _zipkinConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; OwinStartup&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_zipkinConfig&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token comment&quot;&gt;// TODO: how can I inject _zipkinConfig using Unity?  &lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; System&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Threading&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Tasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Task&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;HttpResponseMessage&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token keyword&quot;&gt;string&lt;/span&gt; msg &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hello World!\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
            &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; context &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; System&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Web&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;HttpContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;GetOwinContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
            &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ZipkinClient&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_zipkinConfig&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  

            &lt;span class=&quot;token keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; httpClient &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpClient&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ZipkinMessageHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
                httpClient&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;BaseAddress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;RequestUri&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; RequestContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;VirtualPathRoot&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
                &lt;span class=&quot;token class-name&quot;&gt;HttpResponseMessage&lt;/span&gt; httpClientResponse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; httpClient&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;GetAsync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$&lt;span class=&quot;token string&quot;&gt;&quot;api/hello?count={count - 1}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
                &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;httpClientResponse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;IsSuccessStatusCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
                    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; httpClientResponse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Content&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ReadAsStringAsync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
                    msg &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; $&lt;span class=&quot;token string&quot;&gt;&quot;Hello World! (x{count})\n&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; text&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  

        &lt;span class=&quot;token class-name&quot;&gt;HttpResponseMessage&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;CreateResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;HttpStatusCode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;OK&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Content &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StringContent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;msg&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Encoding&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;UTF8&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;text/plain&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  

        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;There was a bug with the NuGet version, so needed to compile from source and make a fix (see &lt;a href=&quot;https://github.com/mdsol/Medidata.ZipkinTracerModule/pull/91&quot;&gt;Pull Request #91&lt;/a&gt;).  Also, C# code may look a bit ugly, and wasn’t able to get Unity working to dependency inject the &lt;code class=&quot;language-text&quot;&gt;ZipkinConfig&lt;/code&gt; data.&lt;/p&gt;
&lt;p&gt;The final result from &lt;code class=&quot;language-text&quot;&gt;http://10.194.52.207:9411/traces/4e3c247d68677a1e?serviceName=localhost&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;traceId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4e3c247d68677a1e&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;get&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4e3c247d68677a1e&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966269543&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;duration&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;210907&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;annotations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966269543&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sr&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966480450&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ss&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;binaryAnnotations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http.path&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/api/hello&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;traceId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4e3c247d68677a1e&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;get&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4c3c03caf1337298&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;parentId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4e3c247d68677a1e&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966361425&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;duration&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100997&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;annotations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966361425&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cs&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966383550&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sr&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966449422&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cr&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966462422&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ss&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;binaryAnnotations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http.path&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/api/hello&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http.status&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;200&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sa&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;traceId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4e3c247d68677a1e&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;get&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4f18dc0c1c6745e0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;parentId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4c3c03caf1337298&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966398553&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;duration&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;63869&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;annotations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966398553&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cs&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966417424&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sr&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966445425&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cr&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966462422&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ss&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;binaryAnnotations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http.path&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/api/hello&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http.status&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;200&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sa&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Zipkin JS Investigation (Part 2)]]></title><description><![CDATA[The continuing story from my Zipkin JS Investigation My zipkin-js issue was fixed a couple days ago when zipkin-js/packages/zipkin-transport…]]></description><link>https://kevinhakanson.com/2016-07-20-zipkin-js-investigation-part-2</link><guid isPermaLink="false">https://kevinhakanson.com/2016-07-20-zipkin-js-investigation-part-2</guid><pubDate>Wed, 20 Jul 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The continuing story from my &lt;a href=&quot;../2016-06-10-zipkin-js-investigation&quot;&gt;Zipkin JS Investigation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;My zipkin-js &lt;a href=&quot;https://github.com/openzipkin/zipkin-js/issues/15&quot;&gt;issue&lt;/a&gt; was fixed a couple days ago when &lt;a href=&quot;https://github.com/openzipkin/zipkin-js/tree/master/packages/zipkin-transport-http&quot;&gt;zipkin-js/packages/zipkin-transport-http&lt;/a&gt; landed, so I decided to revisit my test project and see how it works.&lt;/p&gt;
&lt;p&gt;I updated my &lt;code class=&quot;language-text&quot;&gt;app.js&lt;/code&gt; to use &lt;code class=&quot;language-text&quot;&gt;BatchRecorder&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;HttpLogger&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Tracer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ExplicitContext&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; BatchRecorder&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;zipkin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;HttpLogger&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;zipkin-transport-http&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ctxImpl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ExplicitContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; recorder &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BatchRecorder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  logger&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpLogger&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    endpoint&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;http://localhost:9411/api/v1/spans&apos;&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tracer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Tracer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;ctxImpl&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; recorder&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then using instructions from &lt;a href=&quot;http://zipkin.io/pages/quickstart.html&quot;&gt;Quickstart · OpenZipkin&lt;/a&gt;, I ran a docker command to get started, …&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ docker run -d -p &lt;span class=&quot;token number&quot;&gt;9411&lt;/span&gt;:9411 openzipkin/zipkin&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;… ran my recursive service code, …&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 343px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/97a0de583cde0bb7d4a2f0bbb764e199/f2ae8/pastedImage_24.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 19.24198250728863%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAA4ElEQVQY0z2Q226DMAyGef83o8vWUSHCISEJOdCuQl0nDkJ0+ufkYheWLfv350PWdR2apkmW5zmcc7jfv2CMBuccbdtCCAGlFKTsMQwDvPdJN4aA5/MHy7Jgnufks7rmKMsSVVWBMZaE0zQRoEdRFCkvhIR1NkHHccRgLeksAoG3bcNxHNj3Heu6Ioti7x3ipnGyJ2AUxpzRBtfb7X+zK8GiOarFvhB88kLKdNHj8Y3sdGLUqFHzCpfiQgVDAAnZS7A3ho5g8R2f5zO00hA0WBLknX3QOxoo0sdLYvx6/eIPA74iJB+VlTEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;browser screenshot&quot;
        title=&quot;browser screenshot&quot;
        src=&quot;/static/97a0de583cde0bb7d4a2f0bbb764e199/f2ae8/pastedImage_24.png&quot;
        srcset=&quot;/static/97a0de583cde0bb7d4a2f0bbb764e199/cf440/pastedImage_24.png 148w,
/static/97a0de583cde0bb7d4a2f0bbb764e199/d2d38/pastedImage_24.png 295w,
/static/97a0de583cde0bb7d4a2f0bbb764e199/f2ae8/pastedImage_24.png 343w&quot;
        sizes=&quot;(max-width: 343px) 100vw, 343px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;… and looked in zipkin to see the result:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0c58787a957cd5b96305f3f20441aec8/b5f89/pastedImage_0.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 12.895662368112543%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAw0lEQVQI1z2OQU7DMBBFcxbOyI5bgMQpEAdAcAAQYoXS0kKEoDRO08TUsXEzsf0wWTDS18z8J/2Z4qZquVrUvDTfGDNgnMdLQLUdzo9IhF3XZ2nyiEyBfa+xP37ezWBp9j3HKWXvSHFycUdxds3l/StMQvles/xo+Ows28PIRvu5KyOslOF5o/Nxy2rnWKiBdetmrp0gIVGcP1Sc3pY81Qf+SkJgFGHKn8SUiDExhTizN6V5XH/l0J5lDitrQ9Xafw6JX46q35nQqEhgAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Zipkin trace&quot;
        title=&quot;Zipkin trace&quot;
        src=&quot;/static/0c58787a957cd5b96305f3f20441aec8/b9e4f/pastedImage_0.png&quot;
        srcset=&quot;/static/0c58787a957cd5b96305f3f20441aec8/cf440/pastedImage_0.png 148w,
/static/0c58787a957cd5b96305f3f20441aec8/d2d38/pastedImage_0.png 295w,
/static/0c58787a957cd5b96305f3f20441aec8/b9e4f/pastedImage_0.png 590w,
/static/0c58787a957cd5b96305f3f20441aec8/b5f89/pastedImage_0.png 853w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Categorizing Information Security Topics]]></title><description><![CDATA[“Security” as a topic or category can be confusing without additional context. This document attempts to categorize information security…]]></description><link>https://kevinhakanson.com/2016-07-20-categorizing-information-security-topics</link><guid isPermaLink="false">https://kevinhakanson.com/2016-07-20-categorizing-information-security-topics</guid><pubDate>Wed, 20 Jul 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;“Security” as a topic or category can be confusing without additional context. This document attempts to categorize information security topics using industry standard groupings.&lt;/p&gt;
&lt;p&gt;My internal cloud security group has created a plan which lists cloud security controls required, along with their ISO 27001 mappings. &lt;a href=&quot;http://www.iso27001security.com/html/27002.html&quot;&gt;ISO 27001&lt;/a&gt; groups security controls into various sections that we use in our policy framework as categories.  This list appears more Enterprise IT focused and includes:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;5: Information security policies&lt;br&gt;
6: Organization of information security&lt;br&gt;
7: Human resource security&lt;br&gt;
8: Asset management&lt;br&gt;
9: Access control&lt;br&gt;
10: Cryptography&lt;br&gt;
11: Physical and environmental security&lt;br&gt;
12: Operations management&lt;br&gt;
13: Communications security&lt;br&gt;
14: System acquisition, development and maintenance&lt;br&gt;
15: Supplier relationships&lt;br&gt;
16: Information security incident management&lt;br&gt;
17: Information security aspects of business continuity management&lt;br&gt;
18: Compliance  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Another way to classify information security topics is with the 8 &lt;a href=&quot;https://www.isc2.org/cissp-domains/default.aspx&quot;&gt;CISSP Domains&lt;/a&gt;, which are standard knowledge groupings for Information Security professionals.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Security and Risk Management&lt;/li&gt;
&lt;li&gt;Asset Security&lt;/li&gt;
&lt;li&gt;Security Architecture and Engineering&lt;/li&gt;
&lt;li&gt;Communications and Network Security&lt;/li&gt;
&lt;li&gt;Identity and Access Management&lt;/li&gt;
&lt;li&gt;Security Assessment and Testing&lt;/li&gt;
&lt;li&gt;Security Operations&lt;/li&gt;
&lt;li&gt;Software Development Security&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;A web application developer might think more in terms of the &lt;a href=&quot;https://www.owasp.org/images/d/d8/OpenSAMM_Core_V1-1-Final.pdf&quot;&gt;Software Assurance Maturity Model (SAMM)&lt;/a&gt; from OWASP when thinking about security related to building products for customers.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;SAMM is built upon a collection of Security Practices that are tied back into the core Business Functions involved in software development.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Governance (Strategy &amp;#x26; Metrics; Policy &amp;#x26; Compliance; Education &amp;#x26; Guidance)&lt;/li&gt;
&lt;li&gt;Construction (Threat Assessment; Security Requirements; Secure Architecture)&lt;/li&gt;
&lt;li&gt;Verification (Design Review; Implementation Review; Security Testing)&lt;/li&gt;
&lt;li&gt;Operations (Issue Management; Environment Hardening; Operational Enablement)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;The SAMM groupings might be the best mental modal for product teams.  However, these is still work in understanding how ISO 27001 controls fit into the responsibility matrix.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Pokemon Go vs. Certificate Pinning]]></title><description><![CDATA[Saw this Tweet from @notdan about the Pokémon Go video game and their lack of certificate pinning:  At first, I thought “duh, of course…]]></description><link>https://kevinhakanson.com/2016-07-11-pokemon-go-vs-certificate-pinning</link><guid isPermaLink="false">https://kevinhakanson.com/2016-07-11-pokemon-go-vs-certificate-pinning</guid><pubDate>Mon, 11 Jul 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Saw this Tweet from &lt;a href=&quot;https://twitter.com/notdan&quot;&gt;@notdan&lt;/a&gt; about the &lt;a href=&quot;http://www.pokemon.com/us/pokemon-video-games/pokemon-go/&quot;&gt;Pokémon Go&lt;/a&gt; video game and their lack of certificate pinning:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 576px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/75420e960ee1f202ea382dc034510785/9b31d/pastedImage_9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 30.03472222222222%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABDElEQVQY06VOO0vEQBjMH5Zr7cUHVlZeY2GlYG+tbQpBzeViXnd5bB7rkexedsN54mX8soJ2IjgwMHzzMTPW7c0VpqeHWPEa8WIJpRRGDMPwK3fEXiucPSjs3XWY3Csc2QrW9cU5TvYnYFkK14+g+x5/xft2i8tZjwNb49juMH2kQClaiGYFIaUJ01pDCIGOlrat+LmNvu4h5dpoZfwWHxuN3Zv+LrHKqobjzhFGEZZJQtrFk+OQTvHszLBYJmCsMHr0X/wA7tz7ouchiGJ4dFt3ChtaTIEVhcUoyhJ+GCJnzIRx/orRS7McTdOgouIszw1rzs3fOKauOVhRmj9Jy60kTanBhx+Epv2/+ASFML7UDYQJUQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;@notdan Pokemon Go Tweet&quot;
        title=&quot;@notdan Pokemon Go Tweet&quot;
        src=&quot;/static/75420e960ee1f202ea382dc034510785/9b31d/pastedImage_9.png&quot;
        srcset=&quot;/static/75420e960ee1f202ea382dc034510785/cf440/pastedImage_9.png 148w,
/static/75420e960ee1f202ea382dc034510785/d2d38/pastedImage_9.png 295w,
/static/75420e960ee1f202ea382dc034510785/9b31d/pastedImage_9.png 576w&quot;
        sizes=&quot;(max-width: 576px) 100vw, 576px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;At first, I thought “duh, of course, they should have” but then I realized that I need to understand &lt;a href=&quot;https://www.owasp.org/index.php/Certificate_and_Public_Key_Pinning&quot;&gt;Certificate and Public Key Pinning&lt;/a&gt; better.  I’ve known about &lt;a href=&quot;https://tools.ietf.org/html/rfc7469&quot;&gt;RFC 7469 - Public Key Pinning Extension for HTTP&lt;/a&gt; and the HPKP header for a while, but never implemented it for any web applications (where the browser does the check) nor for any mobile/desktop applications (where you need to code the check yourself).&lt;/p&gt;
&lt;p&gt;I read though &lt;a href=&quot;https://scotthelme.co.uk/hpkp-http-public-key-pinning/&quot;&gt;HPKP: HTTP Public Key Pinning&lt;/a&gt; to see how these pins work.  I grabbed the &lt;code class=&quot;language-text&quot;&gt;Public-Key-Pins&lt;/code&gt; header from that blog post using a curl command:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -sI &lt;span class=&quot;token string&quot;&gt;&quot;https://scotthelme.co.uk/hpkp-http-public-key-pinning/&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;grep&lt;/span&gt; -Fi public-key-pins

Public-Key-Pins: pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;X3pGTSOuJeEVw989IJ/cEtXUEmy52zs1TZQrU06KUKg=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;MHJYVThihUrJcxW6wcqyOISTXIsInsdj3xK8QrZbHec=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;isi41AizREkLvvft0IRW4u3XMFR2Yg7bvrF7padyCJg=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;I/bAACUzdYEFNw2ZKRaypOyYvvOtqBzg21g9a5WVClg=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Y4/Gxyck5JLLnC/zWHtSHfNljuMbOJi6dRQuRJTgYdo=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/oCVQg3nP3DroGpFdAbaiYzenycUftqrH3LAyaIal2g=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0PiItvsnLZy1slbsVPGky8YnDsJavMNtxD0TPwsCdC8=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;t3EPvqF+7XoKypCPHyN1b5uey7zTfIGDHn4oBWz2pds=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;zqbcEslrpiH0bA9uhNyl2ovpLEfGJQM/QvZSVumMFJ8=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;V+J+7lHvE6X0pqGKVqLtxuvk+0f+xowyr3obtq8tbSw=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Myokb3mG16eRkVBE+ZmFSKSpYQzWHKMY1MZbXgA8BkQ=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;WSg/oQliyMYyP6yZ0CzDdQ8PHmtUkoUsOsa5svxxXxo=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;9lBW+k9EF6yyG9413/fPiHhQy5Ok4UI5sBpBTuOaa/U=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ipMu2Xu72A086/35thucbjLfrPaSjuw4HIjSWsxqkb8=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;6OnjvIKf0SxyerXzg9N0RvQ2sgaL6niV+MLn9wBrh+s=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;9dNiZZueNZmyaf3pTkXxDgOzLkjKvI+Nza0ACF5IDwg=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; max-age&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2592000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; includeSubDomains&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; report-uri&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://scotthelme.report-uri.io/r/default/hpkp/enforce&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I generated the same value as one of the pins (thanks to the example from &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Security/Public_Key_Pinning&quot;&gt;Public Key Pinning - Web security | MDN&lt;/a&gt; ):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ openssl s_client -servername scotthelme.co.uk -connect scotthelme.co.uk:443 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; openssl x509 -pubkey -noout &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; openssl rsa -pubin -outform der &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; openssl dgst -sha256 -binary &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; openssl enc -base64
&lt;span class=&quot;token assign-left variable&quot;&gt;depth&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; /C&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;US/O&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;Let&lt;span class=&quot;token string&quot;&gt;&apos;s Encrypt/CN=Let&apos;&lt;/span&gt;s Encrypt Authority X3
verify error:num&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;:unable to get &lt;span class=&quot;token builtin class-name&quot;&gt;local&lt;/span&gt; issuer certificate
verify return:0
writing RSA key
X3pGTSOuJeEVw989IJ/cEtXUEmy52zs1TZQrU06KUKg&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now that I’ve leveled up my InfoSec skills, maybe I should go learn more about Pokemon?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;: I was a little scared to login with my Google Account and give the app “Full Account Access” (see &lt;a href=&quot;http://arstechnica.com/gaming/2016/07/pokemon-go-on-ios-gets-full-access-to-your-google-account/&quot;&gt;iOS version of Pokémon Go is a possible privacy trainwreck | Ars Technica&lt;/a&gt; ) but after reading
&lt;a href=&quot;https://www.theguardian.com/technology/2016/jul/11/pokemon-go-privacy-security-full-access-google-account&quot;&gt;Have you given Pokémon Go full access to everything in your Google account? | Technology | The Guardian&lt;/a&gt;  things might not be that bad.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Zipkin JS Investigation]]></title><description><![CDATA[To better understand the concepts behind Zipkin, I took a look at Zipkin JS (a Zipkin instrumentation implementation for Node.js), including…]]></description><link>https://kevinhakanson.com/2016-06-10-zipkin-js-investigation</link><guid isPermaLink="false">https://kevinhakanson.com/2016-06-10-zipkin-js-investigation</guid><pubDate>Fri, 10 Jun 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;To better understand the concepts behind &lt;a href=&quot;http://zipkin.io/&quot;&gt;Zipkin&lt;/a&gt;, I took a look at &lt;a href=&quot;https://github.com/openzipkin/zipkin-js&quot;&gt;Zipkin JS&lt;/a&gt; (a Zipkin instrumentation implementation for Node.js), including submitting &lt;a href=&quot;https://github.com/openzipkin/zipkin-js/pull/10&quot;&gt;Pull Request #10&lt;/a&gt; and &lt;a href=&quot;https://github.com/openzipkin/zipkin-js/issues/11&quot;&gt;Issue #11&lt;/a&gt; to that project.&lt;/p&gt;
&lt;p&gt;I wrote this (ugly but) simple Node.js Express app that recursively calls itself after decrementing a count value.  I thought this was an easy way to generate a distributed trace tree of arbitrary depth.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Tracer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ExplicitContext&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ConsoleRecorder&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;zipkin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; zipkinMiddleware &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;zipkin-instrumentation-express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expressMiddleware&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fetch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;node-fetch&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; wrapFetch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;zipkin-instrumentation-fetch&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ctxImpl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ExplicitContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; recorder &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ConsoleRecorder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tracer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Tracer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;ctxImpl&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; recorder&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// configure your tracer properly here  &lt;/span&gt;
  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;port&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PORT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;servicename&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;helloservice&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
&lt;span class=&quot;token comment&quot;&gt;// Add the Zipkin middleware  &lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;zipkinMiddleware&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  tracer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
  serviceName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;servicename&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// name of this application  &lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; zipkinFetch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wrapFetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fetch&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tracer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; serviceName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;servicename&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;log&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;warn&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; oldMethod &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;method&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;console&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    console&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;method&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        arguments&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;tracer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;arguments&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        &lt;span class=&quot;token function&quot;&gt;oldMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;  
            console&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            arguments  
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;count = &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;count&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;http://localhost:&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;port&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/?count=&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;calling &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;url&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token function&quot;&gt;zipkinFetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fetchres&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; fetchres&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Hello World! (x&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;count&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;)\n&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;result&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;ex&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ex&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Hello World!\n&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;    
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;port&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Example app listening on port &apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;port&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When I call it like this (explicitly passing in a TraceId and SpanId)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -H &amp;quot;X-B3-TraceId: 1234567890abcdef&amp;quot; -H &amp;quot;X-B3-SpanId: 1234567890abcdef&amp;quot; http://localhost:8001/?count=3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I get this result&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Hello World! (x3)
Hello World! (x2)
Hello World!&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and see this on the Node.js console as a result of my both &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt; calls and the configured &lt;code class=&quot;language-text&quot;&gt;ConsoleRecorder&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;TraceId(spanId=977a88d5c9febc13, parentId=977a88d5c9febc13, traceId=977a88d5c9febc13) Example app listening on port 8001  
Record at (spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef): ServiceName(&amp;quot;myservice1&amp;quot;)  
Record at (spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef): Rpc(&amp;quot;GET&amp;quot;)  
Record at (spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef): BinaryAnnotation(http.url=&amp;quot;http://localhost:8001/%3Fcount=3&amp;quot;)  
Record at (spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef): ServerRecv()  
Record at (spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef): LocalAddr(host=&amp;quot;InetAddress(10.212.146.110)&amp;quot;, port=0)  
TraceId(spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef) count = 3  
TraceId(spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef) calling http://localhost:8001/?count=2  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): ServiceName(&amp;quot;myservice1&amp;quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): Rpc(&amp;quot;GET&amp;quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): BinaryAnnotation(http.url=&amp;quot;http://localhost:8001/?count=2&amp;quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): ClientSend()  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): ServiceName(&amp;quot;myservice1&amp;quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): Rpc(&amp;quot;GET&amp;quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): BinaryAnnotation(http.url=&amp;quot;http://localhost:8001/%3Fcount=2&amp;quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): ServerRecv()  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): LocalAddr(host=&amp;quot;InetAddress(10.212.146.110)&amp;quot;, port=0)  
TraceId(spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef) count = 2  
TraceId(spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef) calling http://localhost:8001/?count=1  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): ServiceName(&amp;quot;myservice1&amp;quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): Rpc(&amp;quot;GET&amp;quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): BinaryAnnotation(http.url=&amp;quot;http://localhost:8001/?count=1&amp;quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): ClientSend()  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): ServiceName(&amp;quot;myservice1&amp;quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): Rpc(&amp;quot;GET&amp;quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): BinaryAnnotation(http.url=&amp;quot;http://localhost:8001/%3Fcount=1&amp;quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): ServerRecv()  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): LocalAddr(host=&amp;quot;InetAddress(10.212.146.110)&amp;quot;, port=0)  
TraceId(spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef) count = 1  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): BinaryAnnotation(http.status_code=&amp;quot;200&amp;quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): ServerSend()  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): BinaryAnnotation(http.status_code=&amp;quot;200&amp;quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): ClientRecv()  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): BinaryAnnotation(http.status_code=&amp;quot;200&amp;quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): ServerSend()  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): BinaryAnnotation(http.status_code=&amp;quot;200&amp;quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): ClientRecv()  
Record at (spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef): BinaryAnnotation(http.status_code=&amp;quot;200&amp;quot;)  
Record at (spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef): ServerSend()  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can see the consistent TraceId for the request (&lt;code class=&quot;language-text&quot;&gt;1234567890abcdef&lt;/code&gt;) as well as the &lt;code class=&quot;language-text&quot;&gt;1234567890abcdef&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;94a8246c4c298188&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;9b550ac514a4af5&lt;/code&gt; lineage.  The &lt;code class=&quot;language-text&quot;&gt;ConsoleRecorder&lt;/code&gt; emitted the lines starting with “Record at” and I overloaded console methods to add the TraceId information.&lt;/p&gt;
&lt;p&gt;Instead of outputting to the console, I wanted to write to a Zipkin UI instance that could take reports over HTTP.  However, zipkin-js does not include a version of the Spring Cloud Slueth &lt;a href=&quot;https://github.com/spring-cloud/spring-cloud-sleuth/blob/2e2c8b3e17cbef809abf350f4960acdf14618d16/spring-cloud-sleuth-zipkin/src/main/java/org/springframework/cloud/sleuth/zipkin/HttpZipkinSpanReporter.java&quot;&gt;HttpZipkinSpanReporter.java&lt;/a&gt; or the Zipkin &lt;a href=&quot;https://github.com/openzipkin/zipkin/blob/680170cf5ccce96d31cc3b6e1c1d430edf70e070/zipkin/src/main/java/zipkin/internal/JsonCodec.java&quot;&gt;JsonCodec.java&lt;/a&gt; I need.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Introduction to Speech Interfaces for Web Applications]]></title><description><![CDATA[Since the 2025 Customer Challenge last fall, I have been interested in the current state of speech interfaces, especially how they could be…]]></description><link>https://kevinhakanson.com/2016-05-03-introduction-to-speech-interfaces-for-web-applications</link><guid isPermaLink="false">https://kevinhakanson.com/2016-05-03-introduction-to-speech-interfaces-for-web-applications</guid><pubDate>Tue, 03 May 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Since the &lt;a href=&quot;../2015-09-21-2025-customer-challenge&quot;&gt;2025 Customer Challenge&lt;/a&gt; last fall, I have been interested in the current state of speech interfaces, especially how they could be exposed to browser-based web applications.  I put some of my research into presentation format and presented &lt;a href=&quot;http://www.slideshare.net/kevinhakanson/introduction-to-speech-interfaces-for-web-applications&quot;&gt;Introduction to Speech Interfaces for Web Applications&lt;/a&gt; at both &lt;a href=&quot;http://twincitiescodecamp.com/&quot;&gt;Twin Cities Code Camp&lt;/a&gt; and &lt;a href=&quot;http://minnestar.org/minnebar/&quot;&gt;MinneBar&lt;/a&gt; in April.  Here’s the abstract:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Speaking with your computing device is becoming commonplace. Most of us have used Apple’s Siri, Google Now, Microsoft’s Cortana, or Amazon’s Alexa - but how can you speak with your web application? The Web Speech API can enable a voice interface by adding both Speech Synthesis (Text to Speech) and Speech Recognition (Speech to Text) functionality.  &lt;/p&gt;
&lt;p&gt;This session will introduce the core concepts of Speech Synthesis and Speech Recognition. We will evaluate the current browser support and review alternative options. See the JavaScript code and UX design considerations required to add a speech interface to your web application. Come hear if it’s as easy as it sounds?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I thought it came together quite well, and I even have the &lt;a href=&quot;https://twitter.com/kboeckman/status/723957969176535040&quot;&gt;tweet&lt;/a&gt; from Kate Boeckman (&lt;a href=&quot;https://twitter.com/kboeckman&quot;&gt;@kboeckman&lt;/a&gt;) to prove it.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9b2d3f0cf340e129a532acfe504f2d04/16bf3/Screen%2BShot%2B2016-05-03%2Bat%2B9.17.47%2BAM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 29.93311036789298%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABPklEQVQY05WRTU7DQAxGc14Em26QuAJX4AgcgBUsWFAJBG1oaNKU/EInSdt0mskkDaJ9TEGwQSz4JEuWLfmzny2MVmFAOZ+TFQUiy8jyHCEyNptu32a32/2K7XaLVDWnDw3HNw2H15qLuMPK0pSz3hH9yyv8KMV2XMIoQeSCt/evgX+p0i0nfU3PDDy4bjiftljLxQL7/o48z9Btg6oVSiv0qqMqWupyg5YduurMxhuqqkLKNSspP3PeWlq1plmvPk2sWte47jOeEzIZhzhDn6eRx/M4xXtIcW4DvEFC4L7i+T6Doc3QfsQejXCexqY2JYxjc1XM1qCw5FoS+AnJpCByBf7gFREtKWXJLJ8RxKFhm5HPc+IkJUlfmAlBUcxZliVRnBieux/WllIKbzIxLiFBFBIlEXuT/+j7UXt9AJkkwBNfV/1dAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Screen Shot 2016-05-03 at 9.17.47 AM.png&quot;
        title=&quot;Screen Shot 2016-05-03 at 9.17.47 AM.png&quot;
        src=&quot;/static/9b2d3f0cf340e129a532acfe504f2d04/b9e4f/Screen%2BShot%2B2016-05-03%2Bat%2B9.17.47%2BAM.png&quot;
        srcset=&quot;/static/9b2d3f0cf340e129a532acfe504f2d04/cf440/Screen%2BShot%2B2016-05-03%2Bat%2B9.17.47%2BAM.png 148w,
/static/9b2d3f0cf340e129a532acfe504f2d04/d2d38/Screen%2BShot%2B2016-05-03%2Bat%2B9.17.47%2BAM.png 295w,
/static/9b2d3f0cf340e129a532acfe504f2d04/b9e4f/Screen%2BShot%2B2016-05-03%2Bat%2B9.17.47%2BAM.png 590w,
/static/9b2d3f0cf340e129a532acfe504f2d04/16bf3/Screen%2BShot%2B2016-05-03%2Bat%2B9.17.47%2BAM.png 598w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS WAF vs. ModSecurity]]></title><description><![CDATA[In a recent meeting with the corporate security team, it was mentioned that a Web Application Firewall (WAF) might be the recommendation for…]]></description><link>https://kevinhakanson.com/2016-04-25-aws-waf-vs-modsecurity</link><guid isPermaLink="false">https://kevinhakanson.com/2016-04-25-aws-waf-vs-modsecurity</guid><pubDate>Mon, 25 Apr 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In a recent meeting with the corporate security team, it was mentioned that a Web Application Firewall (WAF) might be the recommendation for cloud projects to protect against XSS and SQL Injection.  The Cloud Security Workstream has done some research, including WAF options.  As I dug into what an AWS WAF solution might look like, I came up with this diagram:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7157823f3bdb46f3be99ca89a554e0d7/fea0e/AWS%2BStatic%2BContent%2B-%2BAWS%2BWAF.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABibAAAYmwFJdYOUAAACSklEQVQoz51Ty27TQBT1V/AHLPgcxB4JsWGFBIhNF0iskGDHY9NWlC4qAQsEAgmViqKqQvQllSp9JKRpGidOYs84tsdxxuPEPtwZkhCprBjp2iPP3HPvPefYKooCkzCryFFIhv9d1t9tgZye0v4OfLkG6ZYQDzLEsUC/3wfjPt7vnuPMYQh8DsY4uN8D58xEFEXI8xyW7izLMgyHQ6hsiMhvY8R+QsUe1Kgwl2TSx0GljhuLO3i7UYIIA7TbHXjtFjwC7nRdOE4LQghYGkymKZRS5t1uOvjx7ClK8y8QMReaiDDoQaohsP8O2eoTGiMwMyWv7yDdfGn2rusiDENYUkocHR+jUqmA0QiHu9vYeXAfJ48f4uxgHy3qpNm0KVqIPj6CXL4J8WsLXEjwrwvgc1egTtbh9oQpbOU08uHhkQFMqUOXMRytr+F08xsiGkFz43OOJM3Ayrsof15GPhr96VAq2BtvMOQ25fkEGMyKAsOX4zgo1xsoVWvwfd9Q4XkeYgJP9fiE5VOi57kIej0o+qa5dt2uKW7NWkbzGQQhIrcJQZGmasrPQPO7t42TlSXwbpdUZgZwQILJwcAIEkw6nAAqLZDKUF28jdOlexg709im02lj7/pVrFy+hNbqpwv+S5LkH4CpNCOUPzxHd21hwgO0cAl1UX01j627txA36lOKJrlxHF8EzIgvXanZOEe9Vp1W12JFkUBPxGRiThyGOKvVzF3dvQbT/BkfzgKOSD1zoC/QoRiHTrBt24A0Gg1E5Dcxcy7GbtA/x29QoIJdQva/ZgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AWS Static Content - AWS WAF.png&quot;
        title=&quot;AWS Static Content - AWS WAF.png&quot;
        src=&quot;/static/7157823f3bdb46f3be99ca89a554e0d7/b9e4f/AWS%2BStatic%2BContent%2B-%2BAWS%2BWAF.png&quot;
        srcset=&quot;/static/7157823f3bdb46f3be99ca89a554e0d7/cf440/AWS%2BStatic%2BContent%2B-%2BAWS%2BWAF.png 148w,
/static/7157823f3bdb46f3be99ca89a554e0d7/d2d38/AWS%2BStatic%2BContent%2B-%2BAWS%2BWAF.png 295w,
/static/7157823f3bdb46f3be99ca89a554e0d7/b9e4f/AWS%2BStatic%2BContent%2B-%2BAWS%2BWAF.png 590w,
/static/7157823f3bdb46f3be99ca89a554e0d7/f9b6a/AWS%2BStatic%2BContent%2B-%2BAWS%2BWAF.png 885w,
/static/7157823f3bdb46f3be99ca89a554e0d7/fea0e/AWS%2BStatic%2BContent%2B-%2BAWS%2BWAF.png 900w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Since &lt;a href=&quot;https://aws.amazon.com/waf/&quot;&gt;AWS WAF&lt;/a&gt; and its &lt;a href=&quot;http://docs.aws.amazon.com/waf/latest/developerguide/web-acl.html&quot;&gt;Web ACL&lt;/a&gt; rules are a feature of the &lt;a href=&quot;https://aws.amazon.com/cloudfront/&quot;&gt;Amazon CloudFront CDN&lt;/a&gt;, a full solution would pull in other Amazon functionality.  CloudFront is most useful as a CDN, if you host your static content assets in S3.  You can configure both an S3 Origin for your static content and a Custom Origin for your dynamic content.  In the diagram above, a “behavior” with the “path prefix” of &lt;code class=&quot;language-text&quot;&gt;api/*&lt;/code&gt; was used to route application requests to the ELB.&lt;/p&gt;
&lt;p&gt;However, this solution requires some DNS changes.  CloudFront will now be configured for application hostname, and the ELB needs a new hostname.  This is where things become interesting.  In the classic &lt;code class=&quot;language-text&quot;&gt;www.example.com&lt;/code&gt; scenario, you make CloudFront respond to &lt;code class=&quot;language-text&quot;&gt;www.example.com&lt;/code&gt;, and your original ELB becomes something like &lt;code class=&quot;language-text&quot;&gt;origin-www.example.com&lt;/code&gt;, reflecting the fact it is the “Origin” server.  Our products use “naked” domains meaning &lt;code class=&quot;language-text&quot;&gt;example.com&lt;/code&gt; is the hostname instead of the more traditional &lt;code class=&quot;language-text&quot;&gt;www.example.com&lt;/code&gt;.  This makes the naming of &lt;code class=&quot;language-text&quot;&gt;origin.example.com&lt;/code&gt; harder (since &lt;code class=&quot;language-text&quot;&gt;origin-example.com&lt;/code&gt; would be a new domain).  It also may require us to use Route 53 for DNS because the requirement for an ALIAS record for the zone apex (see &lt;a href=&quot;http://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resource-record-sets-choosing-alias-non-alias.html&quot;&gt;Choosing Between Alias and Non-Alias Resource Record Sets - Amazon Route 53&lt;/a&gt;).  This topic needs more investigation.&lt;/p&gt;
&lt;p&gt;Earlier, I investigated putting Apache HTTP in front of Zuul and use the ProxyPass directive to pass any &lt;code class=&quot;language-text&quot;&gt;/api&lt;/code&gt; URIs.  This was for HTTP/2 protocol support, but could also be used if we use the &lt;a href=&quot;https://www.modsecurity.org/&quot;&gt;ModSecurity&lt;/a&gt; Apache module as a WAF.  This solution means no new hostnames, less new infrastructure and could also be used by the deployments in the corporate data center until they can move to AWS.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f749210300bc0c5cd0f4930b0586f413/89b07/AWS%2BStatic%2BContent%2B-%2BModSecurity.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 35.29411764705882%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABibAAAYmwFJdYOUAAABf0lEQVQoz02SvW7UQBDH/W48QB4gD0BBmypFJEpS0NDQolSJQiiIkOgoAF2qUOTryIVTuDvH3Pnr9tNr+/xj1ybASH/PaL07O/ObjbquI9ijv19JlHV0m5a2aWjboJbGx4P+xLX7t+bjsC9YFD6NPxDMWsvO2zHvvv1i4wy5qiiEQog1WutBSqFthfVHtLG9Qqy8d84R1XXNoAalJHJ0iLsbYWRJfrqPnp6j3XD7X1vdoT68CH2BSFAfX1IXDz5pRSSEYDwe83O+YD69Rb55inv/nMUiJjvaRbzaYjn7QZaXlHnOWhnS2YR0/wnrkz2Kck3xeht58MxXWw0VXlxckiRJX/706ynJ1RnVBpZJTPz5GF1mbAbEPdsQitkN6urTwP36nPmXkx5Z9H8nWntetqFqOsqy4HYy4ft9zCpNMcYQugm+8UU4zy2AaP1AZosHlqXq/0Vhuo8TDlCtB19Z43nqPmmRZ0gpSX3SOPYYsqyvxPh9Rg9JnPNDMrp/Db8BktoPx79rE7sAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AWS Static Content - ModSecurity.png&quot;
        title=&quot;AWS Static Content - ModSecurity.png&quot;
        src=&quot;/static/f749210300bc0c5cd0f4930b0586f413/b9e4f/AWS%2BStatic%2BContent%2B-%2BModSecurity.png&quot;
        srcset=&quot;/static/f749210300bc0c5cd0f4930b0586f413/cf440/AWS%2BStatic%2BContent%2B-%2BModSecurity.png 148w,
/static/f749210300bc0c5cd0f4930b0586f413/d2d38/AWS%2BStatic%2BContent%2B-%2BModSecurity.png 295w,
/static/f749210300bc0c5cd0f4930b0586f413/b9e4f/AWS%2BStatic%2BContent%2B-%2BModSecurity.png 590w,
/static/f749210300bc0c5cd0f4930b0586f413/f9b6a/AWS%2BStatic%2BContent%2B-%2BModSecurity.png 885w,
/static/f749210300bc0c5cd0f4930b0586f413/89b07/AWS%2BStatic%2BContent%2B-%2BModSecurity.png 1020w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;CloudFront will be an important feature for the United States, but for the South America and Australia deployments, there are fewer edge locations (see &lt;a href=&quot;http://aws.amazon.com/cloudfront/details/&quot;&gt;Amazon CloudFront Product Details&lt;/a&gt; ) and will be less customer traffic.  An alternate solution to AWS WAF may be the best solution for now.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Graph Encryption: Going Beyond Encrypted Keyword Search]]></title><description><![CDATA[I have a decent understanding of keyword search from developing research applications for professionals and building a simple RSS search…]]></description><link>https://kevinhakanson.com/2016-03-28-graph-encryption-going-beyond-encrypted-keyword-search</link><guid isPermaLink="false">https://kevinhakanson.com/2016-03-28-graph-encryption-going-beyond-encrypted-keyword-search</guid><pubDate>Mon, 28 Mar 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I have a decent understanding of keyword search from developing research applications for professionals and building a simple RSS search engine for an Information Retrieval course in graduate school.  I’v heard of encrypted keyword search, but haven’t allocated the brain cycles to comprehend it fully.  Recently, I saw a link to &lt;a href=&quot;http://outsourcedbits.org/2016/03/02/graph-encryption-going-beyond-encrypted-keyword-search/&quot;&gt;Graph Encryption: Going Beyond Encrypted Keyword Search&lt;/a&gt;, which piqued my interest.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Graph Encryption&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Previous work in encrypted search has focused on how to search encrypted documents, e.g., doing keyword search, conjunctive queries, etc. Graph encryption, on the other hand, focuses on performing graph queries on encrypted graphs rather than keyword search on encrypted documents.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In my current role, many of our products house customer data and that data’s interrelationships.  However, sometimes it would be nice to graft this customer data onto the corporate Knowledge Graph.  Maybe this is something that others inside my company are already aware of and/or looking at?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Microservices: An application revolution powered by the cloud]]></title><description><![CDATA[Good article and video interview explaining microservices and container technologies by Mark Russinovich, the CTO of Azure.  Most of the…]]></description><link>https://kevinhakanson.com/2016-03-25-microservices-an-application-revolution-powered-by-the-cloud</link><guid isPermaLink="false">https://kevinhakanson.com/2016-03-25-microservices-an-application-revolution-powered-by-the-cloud</guid><pubDate>Fri, 25 Mar 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Good article and video interview explaining microservices and container technologies by Mark Russinovich, the CTO of Azure.  Most of the information is cloud provider neutral and explains the transition from a monolithic application model to microservices architecture.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://azure.microsoft.com/en-us/blog/microservices-an-application-revolution-powered-by-the-cloud/&quot;&gt;Microservices: An application revolution powered by the cloud | Blog | Microsoft Azure&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;These business realities are driving developers to adopt an application architecture model called “microservices,” a term popularized by &lt;a href=&quot;http://martinfowler.com/articles/microservices.html&quot;&gt;James Lewis and Martin Fowler&lt;/a&gt;. In this post, I’ll talk about how and why a microservices architecture can help with application development and lifecycle tasks, and describe the capabilities that platforms can provide to support those architectures.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Disaster Recovery Taken Meme]]></title><description><![CDATA[In a review of the technology goals, it was reinforced that products “will test DR” which triggered a flashback to Liam Neeson’s speech from…]]></description><link>https://kevinhakanson.com/2016-03-03-disaster-recovery-taken-meme</link><guid isPermaLink="false">https://kevinhakanson.com/2016-03-03-disaster-recovery-taken-meme</guid><pubDate>Thu, 03 Mar 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In a review of the technology goals, it was reinforced that products “will test DR” which triggered a flashback to Liam Neeson’s speech from the 2008 movie &lt;a href=&quot;http://www.imdb.com/title/tt0936501/&quot;&gt;Taken&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;“I don’t know who you are. I don’t know what you want. If you are looking for ransom I can tell you I don’t have money, but what I do have are a very particular set of skills. Skills I have acquired over a very long career. Skills that make me a nightmare for people like you. If you let my daughter go now that’ll be the end of it. I will not look for you, I will not pursue you, but if you don’t, I will look for you, I will find you and I will kill you.”&lt;br&gt;
&lt;a href=&quot;https://www.youtube.com/watch?v=jZOywn1qArI&quot;&gt;—Liam Neeson, Taken&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So I created a internet style meme to represent that if we don’t test DR, someone will do it for us. Enjoy!&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 513px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/21c0e7b0ddccfd5d71c0e9bd2dbd2540/e5f70/DR%2BTaken%2BMeme.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 99.80506822612085%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAEuElEQVQ4y21Ua09UVxS9HZjXvfPmzuvO4w4zCOMAgoPDu0FIDI8WWgoEJBbDs6ZVtBUYaUPD04IDGsThIVgoGGiiBtQaDDHhg5/9Tav7HFvTD/2wcs6++5611z6PJQSDQXR1daGtrQ3Nzc2oqqpCeXk5Ghoa0NLSwuPGxka0t7djYGAATU1N6Onp4XFZWRkf6+rq0Nraing8DiEajWJqagrHx8d4+vQpxsfHMT09jc3NTRwcHPD54eEhNjY2kE6nsbKygr29PWxvb+Pq1at8fv36dSwtLSGRSEDQ6XRYW1vDixcv8ObNG67o2rVrePfuHU5OTnix5eVl7OzsYGJiAvPz83jy5AmePXuGwcFBXnhychLd3d3weDwQCgsL+YJUKoXFxUUMDQ2ht7cXMzPTHKOjo+jr68PC/AJXMjs7i7m5Oa5wZmYGN24MY2xsjJNHIhEIP/9yB+/fv8fz58+5/NevX+Po6Aizc3cx8eskNh4/RvLOGF69esm7YLl7qXtILaZ4F6NjI3xrDg728dU3zRBkxQI1R0Eg7IaT5tYsG8xWK2TZjIiaBdlphsPpgMtng5dijypDViivmOH0WaFQ7As54fCYkH8+F4LDI8HqNMDqIjiN0IkGeCmuiFrR9bmKS3EXbHYjJLue8nr+r8MtwuESYXcZOVhsdmiRlx/6SGh3U8JjhM0pQTQbEQtJaCx24IsSN+qKZYR8EmSXGb6ABU5SwuGV4PKa4FZMUOi7i9afKw5DyCL2f+EgQsligJNUnA9bUJdvR3W+jNpCB2rO+9FeewYh1QI3kSk+IvKbEAhIUIMm+BQ9SuLZtIduVp1Ao5OplUVEfEZcyLHhp4Y8jNSHURczo7M6gtutcSRiWVAUIwJ+6R8yCdmqCX4ivMAIXV6R5BJodCsEGs8EROT59KgvVvBtlYIYLcgLZKHnUgG+rlYR9BuIRERYlRAmdRHKBxUDEnFqWfWLUP1GsDFEVbOJLOj7SHox6kR3pQ/Z1NpnBi3KCtwYaIohT7XSTTDQDZAQIYW52SbaZx1KmcIYBbGwBD4SzuWYOUJEWn3WjoqYDC8dms1OXdB2dLCTTwSgFU0EM+z0PTfbzAkTcRVCWdSC0qgJpXkmJHJNKAgIcNkzoNHSFbFo4bYKkM0C9PoMCIKADI0Ao6jlcwaNzoCAz4KcgAFlJXRt6ottqC+y0BWRMZn8Hovzk/iL3nQ6vYrHZAh/7m5hYz1NLyJJLySF2bu/oa2jE0v37+N3ZhC9/dAbNDhL3ZWXUMsdlTI6KtxoKBTR1dGKldUNrK+vo5+s6uatH/HwURpzRHJjeBhbZArMbX6gN80KrpKpfEkWx5QGvDrUVtKhtFapWJhK4mB3Ex8+fODOM0MGsE3uwlT09fdzJXtkbbdHRnD/wQOcnp5SkbtYfvgQf+zu4vDoJa5c6UQ83wtBNIqoqbmI4Zu3uFV1dnain9xliiyJOQ8zU+YuzBdZ7jv6lkwmuWUxOxulItO0rqioiA7IAUGj0Xza4P+CufXbt2+xtbXFXYiBuc3+/j5f/H9rFEWBkJGRgczMTGi12k9gyYKCAu7IzDiZysuXL1NbV7jvVVRU8H/0ej3/n5k0i71eL/4GJkPR6NHaYQ4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;DR Taken Meme&quot;
        title=&quot;DR Taken Meme&quot;
        src=&quot;/static/21c0e7b0ddccfd5d71c0e9bd2dbd2540/e5f70/DR%2BTaken%2BMeme.png&quot;
        srcset=&quot;/static/21c0e7b0ddccfd5d71c0e9bd2dbd2540/cf440/DR%2BTaken%2BMeme.png 148w,
/static/21c0e7b0ddccfd5d71c0e9bd2dbd2540/d2d38/DR%2BTaken%2BMeme.png 295w,
/static/21c0e7b0ddccfd5d71c0e9bd2dbd2540/e5f70/DR%2BTaken%2BMeme.png 513w&quot;
        sizes=&quot;(max-width: 513px) 100vw, 513px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[WebSequenceDiagrams Notation]]></title><description><![CDATA[https://www.websequencediagrams.com/ supports notation for synchronous calls, asynchronous calls, return calls and activations.  These…]]></description><link>https://kevinhakanson.com/2016-03-01-websequencediagrams-notation</link><guid isPermaLink="false">https://kevinhakanson.com/2016-03-01-websequencediagrams-notation</guid><pubDate>Tue, 01 Mar 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://www.websequencediagrams.com/&quot;&gt;https://www.websequencediagrams.com/&lt;/a&gt; supports notation for synchronous calls, asynchronous calls, return calls and activations.  These features are useful for documenting complex interactions with some of the operations happening in the background.  The example below illustrates these interactions (see &lt;a href=&quot;https://www.websequencediagrams.com/examples.html&quot;&gt;https://www.websequencediagrams.com/examples.html&lt;/a&gt; for full documentation).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Image:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 476px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d365f5445aaba7bd779fad3543c91dc1/c6717/call%2Bflows.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 89.28571428571428%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAABzUlEQVQ4y42U164CMQxE9/8/jEd4QfS29N6W3oxOpAnZwJWupSiJyY7HY5vEAnu9XhbbeDy2er1ujUbD0jS12+32863uyfP5tPv9buz6Ibz3+31rtVpWqVTcul6v/h3r8Xi4JV9yOp1ssVgYO3Y+n20+n1uWZTkG3AkUsgFotVrZer3+APKw2+16QD4itfARQWC63W6/AEejkVseECcPN5uNAyEiSwEw0ue3mCF2OBx8Ng6QA4CDwcCGw6E1m00rFoseSFoej8ccmHaKdLlc8oCwo5qTycSWy6UTv1wu236/92kCGILpDBiS5AChHdpsNnNpwxh9CMj6N2CoFzadTl3qtAv9x44kccv8CYjgLFJU1Wu1mrvDVsUSYGj4vgBLpZJ1Oh3Xf2jJHhuASEOlKQRAnMnuC1AVlPFAbFRlisUIUjDkQAruhULhd1HoR+lC1HhmKYrAY+ZkB6ndbvdhGD4mogDlR1cqTmAVgjMaAygtExggvgZcjMNmxUhT2uoPgWBkExYrgR2FkI4AwQT6MnyAxe0FIH5Yeg1hw+CrufmYntOEqDUIQiahDFRZEyZ/ghMQpYxTLREyISBaEZz02+229Xo9N6LVatVNFcBvUddyGsva16gAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;call flows&quot;
        title=&quot;call flows&quot;
        src=&quot;/static/d365f5445aaba7bd779fad3543c91dc1/c6717/call%2Bflows.png&quot;
        srcset=&quot;/static/d365f5445aaba7bd779fad3543c91dc1/cf440/call%2Bflows.png 148w,
/static/d365f5445aaba7bd779fad3543c91dc1/d2d38/call%2Bflows.png 295w,
/static/d365f5445aaba7bd779fad3543c91dc1/c6717/call%2Bflows.png 476w&quot;
        sizes=&quot;(max-width: 476px) 100vw, 476px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Source:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;title call flows  
  
a-&amp;gt;+b: sync call  
b-&amp;gt;b: in process call  
b-&amp;gt;&amp;gt;+c: async call  
c--&amp;gt;b: 202 Accepted  
b--&amp;gt;-a: return value  
c-&amp;gt;d: background process  
d-&amp;gt;d:  
d--&amp;gt;-c:  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[AWS DynamoDB and Disaster Recovery]]></title><description><![CDATA[AWS DynamoDB (managed NoSQL database) appears to lag behind AWS RDS (managed relational database) w.r.t. some disaster recovery features…]]></description><link>https://kevinhakanson.com/2016-02-29-aws-dynamodb-and-disaster-recovery</link><guid isPermaLink="false">https://kevinhakanson.com/2016-02-29-aws-dynamodb-and-disaster-recovery</guid><pubDate>Mon, 29 Feb 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;AWS DynamoDB (managed NoSQL database) appears to lag behind AWS RDS (managed relational database) w.r.t. some disaster recovery features:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Backup/Restore&lt;/li&gt;
&lt;li&gt;Cross Region Replication&lt;/li&gt;
&lt;li&gt;Encryption at Rest&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Related Videos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=yHSuK_k3dxU&quot;&gt;AWS re:Invent 2014 | (SDD424) Simplifying Scalable Distributed Applications Using DynamoDB Streams - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://youtu.be/ggDIat_FZtA?list=PLhr1KZpdzukeMbjRqGswHX38DCqOHZ5GA&quot;&gt;AWS re:Invent 2015 | (DAT401) Amazon DynamoDB Deep Dive - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Backup/Restore&lt;/h2&gt;
&lt;p&gt;There is no “checkbox” for backup/restore and seems to require either using Data Pipeline and/or DynamoDB Streams to orchestrate.  See &lt;a href=&quot;http://www.datahack.it/aws-dynamodb-backup-recovery/&quot;&gt;DynamoDB: Backup &amp;#x26; Recovery Solution&lt;/a&gt; for a potential solution.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Cross Region Replication&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There is no “checkbox” for replication.  The official documentation has a “how to” article (&lt;a href=&quot;http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Streams.CrossRegionRepl.html&quot;&gt;Cross-Region Replication Using DynamoDB Streams - Amazon DynamoDB&lt;/a&gt; ) on using an awslabs open source solution: &lt;a href=&quot;https://github.com/awslabs/dynamodb-cross-region-library&quot;&gt;GitHub - awslabs/dynamodb-cross-region-library: A library to facilitate cross-region replication with Amazon DynamoDB Streams&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Other replication options are discussed at &lt;a href=&quot;http://blog.sungardas.com/CTOLabs/2015/09/planning-for-failures-with-amazon-dynamodb-2/&quot;&gt;Planning for failures with Amazon DynamoDB | Sungard AS CTO Labs Blog&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 474px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/76f096d6e958e2d2202568554d56a253/37e1f/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.64978902953586%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACfUlEQVQoz0VT204TURRtkM7l3GbmzLTTMq1CStsEKJZiDQ2JeEtMkdqoJRJNeDOp0Q8wPJD4Fzz7N/wCT/zJcu/TFh/OzMnZ++y99lrrlDzPhxI+EhNCKwHJS4aQIqC1iEkpoJREUt9EbCtIkhiJtYjiGEFSQyhCBCGtIEBJSIVWI8HrfoY3BxnGz3M861qMh1VMRzlOehaHvW2cfZji/PMnnJ6OMZudYzqdYjAYoFx+BG0MNVTQWqPEnyiKqItwSAwhFNQtSxQeFxlspN1ZlqVIU4uYcvO8imazSf8c1qYIl+gkTVFSy4KDdgOxClH2AhcMQglGX+scot7qIRAKoUkhjIWOU+S1GiqViisqCAwXZZQlRpZR57/X39HbbiJJM2zU6yiKwp13Pv7GztkvHJ28w/tvP/Dy7AIvxjNITfz5vhvT0MhcVApCyJWTJMHlbIL+/j4UBY3jREMRBY2dI9S2n2Jr8wmGwyEGB33HXZamRJFETMJY2jM6LlriQ94oZdzoERU3kXlIEIEHGQY0Zrwcs+oa8uK7hs4jUj2Ko4UofJEDLIikvdKKLJFRQrJoREmM1ide2+02qVqG53kPdzhuK7kr5jjkj1nKzuObKEbr9Ce6by9hyI8xFV5bW8NkMsHt7S2urq5QI6RaE8LQR7a5i92LPyg6fYR+mWxjFqNyh5BQCOraGc/RffXVmZob+ET+zc0N7u7ucH9/j/l8jnVCqqlh+riL3pdr5Fu7CLz1hW0Y3Wp0SxwWjQY2Ngqn9GqCvb09HB8fYzQaodVqLXlXzpNFo+mcwTZyovznUTpyjdFYGV7Qs7L0zOp0gT2XkqLVavVBNEM5rPSKtn/Sdzpi2iLNbwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Cross Region Replication&quot;
        title=&quot;Cross Region Replication&quot;
        src=&quot;/static/76f096d6e958e2d2202568554d56a253/37e1f/pastedImage_2.png&quot;
        srcset=&quot;/static/76f096d6e958e2d2202568554d56a253/cf440/pastedImage_2.png 148w,
/static/76f096d6e958e2d2202568554d56a253/d2d38/pastedImage_2.png 295w,
/static/76f096d6e958e2d2202568554d56a253/37e1f/pastedImage_2.png 474w&quot;
        sizes=&quot;(max-width: 474px) 100vw, 474px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Encryption at Rest&lt;/h2&gt;
&lt;p&gt;There is no “checkbox” for server-side encryption at rest and any solution requires client-side encryption.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://java.awsblog.com/post/TxI32GE4IG2SNS/Client-side-Encryption-for-Amazon-DynamoDB&quot;&gt;Client-side Encryption for Amazon DynamoDB - AWS Developer Blog - Java&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blogs.aws.amazon.com/security/post/Tx2LZ6WBJJANTNW/How-to-Protect-the-Integrity-of-Your-Encrypted-Data-by-Using-AWS-Key-Management&quot;&gt;How to Protect the Integrity of Your Encrypted Data by Using AWS Key Management Service and EncryptionContext - AWS Security Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/awslabs/aws-dynamodb-encryption-java&quot;&gt;GitHub - awslabs/aws-dynamodb-encryption-java: Amazon DynamoDB Encryption Client for Java&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;RDS, S3, and EBS all support server-side encryption.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/AmazonS3/latest/dev/serv-side-encryption.html&quot;&gt;Protecting Data Using Server-Side Encryption - Amazon Simple Storage Service&lt;/a&gt;[&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/blogs/aws/new-amazon-s3-server-side-encryption/&quot;&gt;New – Amazon S3 Server Side Encryption for Data at Rest&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/blogs/aws/new-encryption-options-for-amazon-rds/&quot;&gt;Data Encryption Made Easier – New Encryption Options for Amazon RDS | AWS Official Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSEncryption.html&quot;&gt;Amazon EBS Encryption - Amazon Elastic Compute Cloud&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;AWS DynamoDB does not have the same “checkbox” features related to disaster recovery that other AWS PaaS solutions include. Therefore, any solution that is looking at this managed NoSQL offering needs to manage these features as part of the application infrastructure.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Visual Studio Code: Find, Search and Command Palette]]></title><description><![CDATA[I’ve started using Visual Studio Code for my web projects because it is the right balance between IDE features and lightweight text editor…]]></description><link>https://kevinhakanson.com/2016-02-04-visual-studio-code-find-search-and-command-palette</link><guid isPermaLink="false">https://kevinhakanson.com/2016-02-04-visual-studio-code-find-search-and-command-palette</guid><pubDate>Thu, 04 Feb 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I’ve started using &lt;a href=&quot;https://code.visualstudio.com/&quot;&gt;Visual Studio Code&lt;/a&gt; for my web projects because it is the right balance between IDE features and lightweight text editor, multi-platform, and &lt;a href=&quot;https://github.com/Microsoft/vscode/&quot;&gt;open source&lt;/a&gt;. One interesting feature of Code is the lightweight program menu structure with many features exposed via a &lt;strong&gt;Command Palette&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 428px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/da940b827f5eff4723d319d7506782de/22403/VS%2BCode%2B-%2Bmenu.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 10.74766355140187%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAnElEQVQI1w3OTw+BYADA4b6YT+F7Obuwaa7MpolmSmmLVZJmkrfJ35Y5MONkP92fwyPdxYrAHJDHLo7W5S5CEtekEBGZqyGrMZXah2r9zdrzuEQOz2OMcGels3idYtKlTZGE/B5npMxsk+oyh2mbndZETGT24xZiLJMMG2z1HuF8gT1SWet9tqbCxlAItA55aPPNIq6BhV9mbr7BH6GchmaR2q1tAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - menu.png&quot;
        title=&quot;VS Code - menu.png&quot;
        src=&quot;/static/da940b827f5eff4723d319d7506782de/22403/VS%2BCode%2B-%2Bmenu.png&quot;
        srcset=&quot;/static/da940b827f5eff4723d319d7506782de/cf440/VS%2BCode%2B-%2Bmenu.png 148w,
/static/da940b827f5eff4723d319d7506782de/d2d38/VS%2BCode%2B-%2Bmenu.png 295w,
/static/da940b827f5eff4723d319d7506782de/22403/VS%2BCode%2B-%2Bmenu.png 428w&quot;
        sizes=&quot;(max-width: 428px) 100vw, 428px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;When you open the Command Palette, you are presented with a &lt;code class=&quot;language-text&quot;&gt;&amp;gt;&lt;/code&gt; prompt and a list of commands along with their keyboard shortcuts.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bc4a4f9c63b94cfd34c818cda081c206/34e8a/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bnew.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABPklEQVQoz52S3U6DQBCFeQTTWzWpwPLTFlpYtsDCLlhoSvRKjb7/mxx3tmp6Y1u9OJlsZuabM5N1Cl6Ac25VFAXKrfiXhBBYpykcv39DNLwjHj/gdq+Y5RNmfDrGa2Rqb7ID5voFrnyCU6gBcjdB7Z8h1IhblljdBQnuw/Q6BSmE3mORV3DqsoRWCo2s0UqJZLnAOllhGcdgnofA98+KahZRiL7TSFcrA5QNxnGPrn+E7npo3ZlbCmQZh+cz+Cw4K8ZCzB9cbMvK9OQGWEv0BtY0LdpWWRHQ83z4Bsio8Sv+JspHUYwgCOEQaBxH62y3G1CaSd/JS6DTYdRD0TokmFIaw3AEU/Iv7mi4NKdLEvNtqqrG4TBZcfMn6Z3n3K58yd3pQNpys8ngEJlA5Iogruv9wKj4mrWpR4gt0nSNT2hiMmJYk5m7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - command palette new.png&quot;
        title=&quot;VS Code - command palette new.png&quot;
        src=&quot;/static/bc4a4f9c63b94cfd34c818cda081c206/b9e4f/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bnew.png&quot;
        srcset=&quot;/static/bc4a4f9c63b94cfd34c818cda081c206/cf440/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bnew.png 148w,
/static/bc4a4f9c63b94cfd34c818cda081c206/d2d38/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bnew.png 295w,
/static/bc4a4f9c63b94cfd34c818cda081c206/b9e4f/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bnew.png 590w,
/static/bc4a4f9c63b94cfd34c818cda081c206/34e8a/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bnew.png 600w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Hit backspace to clear the  &lt;code class=&quot;language-text&quot;&gt;&amp;gt;&lt;/code&gt; prompt, it shows &lt;strong&gt;recently opened&lt;/strong&gt; files.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/aabce1442f66eb1b21006e587123c795/448d4/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bempty.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 14.64226289517471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAn0lEQVQI12XJyw6CMBQEUP4BjBEXLoxRAmq1RV5tKQ8FNDGBxIX//yFjqS40Lk7uzB1L5RJScJRKQUmhb466UChygUpnQ3eRpYgYRRwyRB9jjs2Pmm0b+LD8+gHSPrFSg7HI7nBoi+np9mMSdrBpY7Y3ndkVdjLAjns42jLpYPGuxy6tQPgFe34GkQ28qIC7PmD2xd2Mjv88Zsw1kpZ4AdcyYK/yKcTsAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - command palette empty.png&quot;
        title=&quot;VS Code - command palette empty.png&quot;
        src=&quot;/static/aabce1442f66eb1b21006e587123c795/b9e4f/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bempty.png&quot;
        srcset=&quot;/static/aabce1442f66eb1b21006e587123c795/cf440/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bempty.png 148w,
/static/aabce1442f66eb1b21006e587123c795/d2d38/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bempty.png 295w,
/static/aabce1442f66eb1b21006e587123c795/b9e4f/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bempty.png 590w,
/static/aabce1442f66eb1b21006e587123c795/448d4/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bempty.png 601w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Start typing without the  &lt;code class=&quot;language-text&quot;&gt;&amp;gt;&lt;/code&gt; prompt, it also looks for &lt;strong&gt;file and symbol results&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cf884f8c19e801fde0539c006d82c500/3d4e8/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bwith%2Btext.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 18.697829716193656%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAwElEQVQY033Q7UqFQBCAYa+hWNF+heVKnZOk67qKq6bZB0VfEHX/V/K2bhF0iPPjYXaGYYbZoNEVWpXUlfLWvK2/re+9fI/6ZaqS4Hj6JJvfSewz6fhKXD9wUNxwWN4i1D2i+qF2rLW1Rz8i2jdE80LoBHL+QM1PSDOztXdkzeJJs3C0MURnmui8Jv5HmI8It9wPdqLymqCwC1PfcTX0jLZjGizGfUHXGHRx6c5QFPkF8iQhO/1LpqkjfUydTEq+AMpRflFvyZjRAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - command palette with text.png&quot;
        title=&quot;VS Code - command palette with text.png&quot;
        src=&quot;/static/cf884f8c19e801fde0539c006d82c500/b9e4f/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bwith%2Btext.png&quot;
        srcset=&quot;/static/cf884f8c19e801fde0539c006d82c500/cf440/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bwith%2Btext.png 148w,
/static/cf884f8c19e801fde0539c006d82c500/d2d38/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bwith%2Btext.png 295w,
/static/cf884f8c19e801fde0539c006d82c500/b9e4f/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bwith%2Btext.png 590w,
/static/cf884f8c19e801fde0539c006d82c500/3d4e8/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bwith%2Btext.png 599w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;With the  &lt;code class=&quot;language-text&quot;&gt;&amp;gt;&lt;/code&gt; prompt, the Command Palette is for running features in Visual Studio Code, including triggering actions like &lt;strong&gt;Find&lt;/strong&gt; and &lt;strong&gt;Search&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/982e67164ea09bc186b8cc9088609640/f0a9a/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bfind.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.70099667774087%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABP0lEQVQoz42SyU7DMBCG8wBUgiOiVGRxNrI0iZckbtI4pGlB4oCEgCPv/xI/TtoTQi2HT78149k8NjgXaNsWeV6AMgZKKbim0DDOwf+NQFFQGDTPsXvq0UiJTSkg5BaBUOiaDaIwQOh7Gv8sgeciiaK5ESNmEnw7grUD8lrN+lC/wi0HrMgjVl6MlXueexIhKxvk1RbGovrEdfeNO/mG2+YdN8ULFuvDif1FrtJRxzzDG75g9x8wlnGFrN1DCoY8yxDoEYltwXVsjXMZ4sAyTdCiOI68TCSS5oCSM9gOgW07IESr48Ihrj4f9S8m33Q/SVJ0ndILZTDWVKBRA8ZxhFI9yrIElUq/4Q5y0yIMQji6EDkl+M3k8/1AxypUVa0TpilkLee1Twah1WY9aNUi1ZUt3cEUdA7TtBDH8fxtfgAcK/a9ohTC/AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - command palette find.png&quot;
        title=&quot;VS Code - command palette find.png&quot;
        src=&quot;/static/982e67164ea09bc186b8cc9088609640/b9e4f/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bfind.png&quot;
        srcset=&quot;/static/982e67164ea09bc186b8cc9088609640/cf440/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bfind.png 148w,
/static/982e67164ea09bc186b8cc9088609640/d2d38/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bfind.png 295w,
/static/982e67164ea09bc186b8cc9088609640/b9e4f/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bfind.png 590w,
/static/982e67164ea09bc186b8cc9088609640/f0a9a/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bfind.png 602w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Typing &lt;strong&gt;find&lt;/strong&gt; and selecting that Command Palette item brings up the &lt;strong&gt;Find&lt;/strong&gt; dialog in my current open file…&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/edc5ca40121f0f7f921b995c67641090/b9380/VS%2BCode%2B-%2Bfind%2Bin%2Bfile%2Bwtih%2Btext.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 11.722488038277511%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAcUlEQVQI1y3NRw6EMAAEQd7hIMASNuAcVvz/Zb3I4lDHnllKKTzPQ4wRay1aa5RSk/wopZFSsu073gfO8/xc3Ld/O0dKBeculnVdEUJMxhhSrtRa6bWQ/Y27EtG/Z2bDHQd9DMb40Vqbeh/kXAghzvE/CJA6mCGH4xUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - find in file wtih text.png&quot;
        title=&quot;VS Code - find in file wtih text.png&quot;
        src=&quot;/static/edc5ca40121f0f7f921b995c67641090/b9e4f/VS%2BCode%2B-%2Bfind%2Bin%2Bfile%2Bwtih%2Btext.png&quot;
        srcset=&quot;/static/edc5ca40121f0f7f921b995c67641090/cf440/VS%2BCode%2B-%2Bfind%2Bin%2Bfile%2Bwtih%2Btext.png 148w,
/static/edc5ca40121f0f7f921b995c67641090/d2d38/VS%2BCode%2B-%2Bfind%2Bin%2Bfile%2Bwtih%2Btext.png 295w,
/static/edc5ca40121f0f7f921b995c67641090/b9e4f/VS%2BCode%2B-%2Bfind%2Bin%2Bfile%2Bwtih%2Btext.png 590w,
/static/edc5ca40121f0f7f921b995c67641090/b9380/VS%2BCode%2B-%2Bfind%2Bin%2Bfile%2Bwtih%2Btext.png 836w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;…and as I type into the &lt;strong&gt;Find&lt;/strong&gt; input field, it highlights occurrences in that text of the file.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6577ec9068f2fd2eb1a9446264d00061/6e3c3/VS%2BCode%2B-%2Bfind%2Bin%2Bfile.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 11.575178997613365%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAe0lEQVQI1x3OUQrDIBAE0JzDakygiZrG1Sh1aSn97f1PNNX9WB4szDATEYGZMXTOwc4zjDGi7iptxJvWWJYVMUaEEOC9F4/jgX33SOnqv4DJWgullNwIUC4oV8Hvw+B04pkz6Owl9xV+29Aay4BaK0qpeHPD9zUGZSn/Ay2bO1YCIJPQAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - find in file.png&quot;
        title=&quot;VS Code - find in file.png&quot;
        src=&quot;/static/6577ec9068f2fd2eb1a9446264d00061/b9e4f/VS%2BCode%2B-%2Bfind%2Bin%2Bfile.png&quot;
        srcset=&quot;/static/6577ec9068f2fd2eb1a9446264d00061/cf440/VS%2BCode%2B-%2Bfind%2Bin%2Bfile.png 148w,
/static/6577ec9068f2fd2eb1a9446264d00061/d2d38/VS%2BCode%2B-%2Bfind%2Bin%2Bfile.png 295w,
/static/6577ec9068f2fd2eb1a9446264d00061/b9e4f/VS%2BCode%2B-%2Bfind%2Bin%2Bfile.png 590w,
/static/6577ec9068f2fd2eb1a9446264d00061/6e3c3/VS%2BCode%2B-%2Bfind%2Bin%2Bfile.png 838w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I can also use the Command Palette to initiate a full text &lt;strong&gt;Search&lt;/strong&gt; across all files.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/317cc9930628b943397e214f4d387aaf/2d9b7/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bsearch.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 11.42384105960265%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAVUlEQVQI12OwtLD47+rq+t/U2Oi/mbHhfzNTEyA2JRmbmJj8NzQw+M+gYhfw38gz8r+iU8R/IbvY/yImXv9FjNyA2J04bOz+X8jQ9b+aQ9B/WUuf/wBiIUBv6yf9DgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - command palette search.png&quot;
        title=&quot;VS Code - command palette search.png&quot;
        src=&quot;/static/317cc9930628b943397e214f4d387aaf/b9e4f/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bsearch.png&quot;
        srcset=&quot;/static/317cc9930628b943397e214f4d387aaf/cf440/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bsearch.png 148w,
/static/317cc9930628b943397e214f4d387aaf/d2d38/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bsearch.png 295w,
/static/317cc9930628b943397e214f4d387aaf/b9e4f/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bsearch.png 590w,
/static/317cc9930628b943397e214f4d387aaf/2d9b7/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bsearch.png 604w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This finds occurrences of text across all files in my project and displays highlighted snippets and counts per file.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 397px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b94e734293c207862c927d59079f7766/a6ccf/VS%2BCode%2B-%2Bsearch.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.72795969773299%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACCklEQVQ4y4VTyY7TQBT0n0C8ZvHa3tf2ksySgEYoiEkEhxmOiDsfwUcX77WZOYAwh1Jb7XZ1Lc9amqaQUsJ1XWw2WyRJiiAIYZrWIgzDxHq9QRhGyPICiYhREZfWti0ul0d4no/dzkVRlIgiAdt2FmFZthLAhILIeK3KElqSJGBst7O68/mM0+mEuq5RVdUiSiJomkY57Psevh9Ay/Mc1+uVFHpk2yei5tW2iGJSuwwhWFCGLCvIoQdtHEd8erwou2yFD2RFjSBKoOsm5WX/F6uVoSznlKUWRRFifwtvt6VcHKRphod9g3cyg0dFcQGWtQRbFcQOOXvtMA34/OMnHFHD1FdwnA0uxwFfjhIZtWZacwFL4EtfytISESH6+B1O2mNjm+iHEU0rEae5Urt2HFJg/JPMtm2KxlBnu05C47ZONxN8dwedpPMh3tsfbnEcOzzdV2Q/h03KVytdfWz8hv4H+L02DgOenp/h0hyyZJ5DHhkpe/Rdi7tRokjnOQup+SAU8MIYPq2c2TyDoRq9pmnnUhiu6ynCLMvRth16IuS1kwPKar6gJUuTbPGBShurjOYuVBfx/PGPoUqJ41ix8wa3xeCbDocbGtwKNZF1XYeRsmVyjuHbQ4v7MsCbt/qrdf6OV00IASbl2l/+Tx5uVjdQHNO0V8/7/UGVdTf1+Pp+wG0VU+bWXyX9Arv3mlBaPJy7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - search.png&quot;
        title=&quot;VS Code - search.png&quot;
        src=&quot;/static/b94e734293c207862c927d59079f7766/a6ccf/VS%2BCode%2B-%2Bsearch.png&quot;
        srcset=&quot;/static/b94e734293c207862c927d59079f7766/cf440/VS%2BCode%2B-%2Bsearch.png 148w,
/static/b94e734293c207862c927d59079f7766/d2d38/VS%2BCode%2B-%2Bsearch.png 295w,
/static/b94e734293c207862c927d59079f7766/a6ccf/VS%2BCode%2B-%2Bsearch.png 397w&quot;
        sizes=&quot;(max-width: 397px) 100vw, 397px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So why bother documenting what seems like an obvious feature of a software development tool? I’m trying to understand the best UX for a “global search” feature. We are conditioned to type anything we want into Google and getting a mix of search results, entities in the InfoBox or tools (try &lt;strong&gt;calculator&lt;/strong&gt; or &lt;strong&gt;english to spanish&lt;/strong&gt;). Is one input field the right UX for a product or should commands be split from full text search and quick access to entities? Add the dimension of voice interfaces and speech recognition for more confusion.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[DevOps and the Myth of Efficiency]]></title><description><![CDATA[Ran across this series of posts on DevOps: DevOps and the Myth of Efficiency, Part I | Java Code Geeks DevOps and the Myth of Efficiency…]]></description><link>https://kevinhakanson.com/2015-12-22-devops-and-the-myth-of-efficiency</link><guid isPermaLink="false">https://kevinhakanson.com/2015-12-22-devops-and-the-myth-of-efficiency</guid><pubDate>Tue, 22 Dec 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Ran across this series of posts on DevOps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.javacodegeeks.com/2015/12/devops-myth-efficiency-part.html&quot;&gt;DevOps and the Myth of Efficiency, Part I | Java Code Geeks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.javacodegeeks.com/2015/12/devops-myth-efficiency-part-ii.html&quot;&gt;DevOps and the Myth of Efficiency, Part II | Java Code Geeks&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;They draw a distinction between “complicated” and “complex” and make statements like “efficiency is no longer enough.”  Part II refers to the success of “systems thinking” at NASA in the 1960s and ends with the summary below.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;DevOps, Microservices, Cloud, etc are all about &lt;a href=&quot;http://www.javacodegeeks.com/2015/07/the-real-success-story-of-microservices-architectures.html&quot;&gt;making organizations more effective&lt;/a&gt;. It’s laying the groundwork to treat our organizations as complex systems, not machines. This approach lends itself to &lt;em&gt;really understanding&lt;/em&gt; the value of &lt;strong&gt;feedback&lt;/strong&gt;, &lt;strong&gt;failure&lt;/strong&gt;, &lt;strong&gt;learning&lt;/strong&gt;, &lt;strong&gt;autonomy&lt;/strong&gt;, and &lt;strong&gt;emergent behavior&lt;/strong&gt; which are critical for any complex system to exhibit to evolve and stay relevant in a complex, not merely complicated, world.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Next Generation Session Management with Spring Session]]></title><description><![CDATA[I read Next Generation Session Management with Spring Session wondering if there was overlap.  However, it looks more like a cloud native…]]></description><link>https://kevinhakanson.com/2015-12-21-next-generation-session-management-with-spring-session</link><guid isPermaLink="false">https://kevinhakanson.com/2015-12-21-next-generation-session-management-with-spring-session</guid><pubDate>Mon, 21 Dec 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I read &lt;a href=&quot;http://www.infoq.com/articles/Next-Generation-Session-Management-with-Spring-Session&quot;&gt;Next Generation Session Management with Spring Session&lt;/a&gt; wondering if there was overlap.  However, it looks more like a cloud native drop-in for your existing Java session aware code with easier ways to hook into “non web requests” like JMS or WebSockets.  It maybe useful for those microservices that still need a key/value session that isn’t tied to a service instance.&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Conclusion&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Spring Session brings innovation back to the enterprise Java session management space making it easy to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Write horizontally scalable cloud native applications.&lt;/li&gt;
&lt;li&gt;Offload the storage of the session state into specialized external session stores, such as Redis or Apache Geode, that provide high quality clustering in an application server independent way.&lt;/li&gt;
&lt;li&gt;Keep the HttpSession alive when users are making requests over WebSocket.&lt;/li&gt;
&lt;li&gt;Access session data from non web request processing code such as JMS message processing code.&lt;/li&gt;
&lt;li&gt;Support multiple sessions per browser making it easy to build a richer end-user experience.&lt;/li&gt;
&lt;li&gt;Control how session ids are exchanged between the client and server making it easy to write Restful API’s that can extract the session id from an HTTP header rather than relying on cookies.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you are looking to move off a traditional heavyweight application server but are held back because you are using the session clustering features of the app server then Spring Session is a great step on the road to lighter weight containers such as Tomcat, Jetty or Undertow.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Chrome Dev Summit 2015 Notes]]></title><description><![CDATA[Chrome Dev Summit 2015 Notes is a summary by Daniel O’Connor of the presentations from the Chrome Dev Summit 2015, along with links to the…]]></description><link>https://kevinhakanson.com/2015-12-09-chrome-dev-summit-2015-notes</link><guid isPermaLink="false">https://kevinhakanson.com/2015-12-09-chrome-dev-summit-2015-notes</guid><pubDate>Wed, 09 Dec 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://danoc.me/blog/chrome-dev-summit-2015-notes/&quot;&gt;Chrome Dev Summit 2015 Notes&lt;/a&gt; is a summary by Daniel O’Connor of the presentations from the Chrome Dev Summit 2015, along with links to the videos.  The term “RAIL” appeared in many of the session titles and is defined below:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;RAIL: Response, Animation, Idle, and Load&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Response (100ms): The user feels an instantaneous response because the paint occurred quickly after click.&lt;/li&gt;
&lt;li&gt;Animation (16ms): Visual changes feel smooth and consistent.&lt;/li&gt;
&lt;li&gt;Idle (50ms): User isn’t interacting with the page yet, but they will be soon. This time should be used to proactively schedule work that will be completed in 50ms chunks.&lt;/li&gt;
&lt;li&gt;Load (1s): Getting the first meaningful paint&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[2025 Customer Challenge Demo Experience]]></title><description><![CDATA[For my company’s 2025 Customer Challenge, my finalist pitch included a live demo.  Teams were allowed 3 minutes of pitch time, and I…]]></description><link>https://kevinhakanson.com/2015-10-28-2025-customer-challenge-demo-experience</link><guid isPermaLink="false">https://kevinhakanson.com/2015-10-28-2025-customer-challenge-demo-experience</guid><pubDate>Wed, 28 Oct 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;For my company’s &lt;strong&gt;2025 Customer Challenge&lt;/strong&gt;, my finalist pitch included a live demo.  Teams were allowed 3 minutes of pitch time, and I allocated about 30 seconds for this demo.  Things didn’t go exactly as planned, but they did work out in the end. Why take the risk of a live demo?  Because my mentor, said it would be “awesome” - and he was right.&lt;/p&gt;
&lt;p&gt;When my mentor first mentioned the demo idea, I wasn’t sure how I was going to build it.  As luck would have it, I saw an internal posting highlighting an IBM partnership on October 8.  (Luck being defined by the famous quote: “Luck is what happens when preparation meets opportunity”)  IBM Watson Developer Cloud has services for both &lt;a href=&quot;http://www.ibm.com/smarterplanet/us/en/ibmwatson/developercloud/text-to-speech.html&quot;&gt;Text to Speech&lt;/a&gt; and &lt;a href=&quot;http://www.ibm.com/smarterplanet/us/en/ibmwatson/developercloud/speech-to-text.html&quot;&gt;Speech to Text&lt;/a&gt;, including sample code that runs in the browser.  This looked promising given my JavaScript and web development background. I spent the following weekend understanding the sample code and getting those projects running.  Then, a couple of nights of some ugly code hacking and I had a demo to present.&lt;/p&gt;
&lt;p&gt;I’m glad the demo (mostly) worked out, but I’m even happier that I got to write some code and learn something new.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Replacement strategy for Google Search Appliance?]]></title><description><![CDATA[During the introductions of an internal Search Experience Community meeting, a product was mentioned that uses the Google Search Appliance…]]></description><link>https://kevinhakanson.com/2015-09-28-replacement-strategy-for-google-search-appliance</link><guid isPermaLink="false">https://kevinhakanson.com/2015-09-28-replacement-strategy-for-google-search-appliance</guid><pubDate>Mon, 28 Sep 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;During the introductions of an internal Search Experience Community meeting, a product was mentioned that uses the Google Search Appliance (GSA) and was looking to move off of that platform onto Elastic.&lt;/p&gt;
&lt;p&gt;Some of our products also use a GSA for searching HTML based “Help” content.  The Technical Communications team authors this content and it is deployed as static content to a web server that is indexed by GSA.  This is technology I haven’t used before, but my understanding is that custom tags are used to control content indexing (see &lt;a href=&quot;http://www.google.com/support/enterprise/static/gsa/docs/admin/70/gsa_doc_set/admin_crawl/preparing.html&quot;&gt;7.0 - Preparing for a Crawl&lt;/a&gt; ):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!--googleoff: all--&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!--googleon: all--&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Searching the internet indicates using a web crawler (e.g., &lt;a href=&quot;http://nutch.apache.org/&quot;&gt;Apache Nutch&lt;/a&gt;) and applying a filter that respects the GSA custom tags could prepare the documents to be inserted into Elastic.&lt;/p&gt;
&lt;p&gt;This seems like a topic where a common solution or platform service could be useful.  We are thinking that Help might just be included in the single UI search box experience - possibly part of federated results, and keyed by detecting “How do I…” style questions.  This is a longer-term goal, but it seems like a relevant topic for an overall search experience audience.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[2025 Customer Challenge]]></title><description><![CDATA[September 18 was the close of my company’s 2025 Customer Challenge, and I got my idea submitted right before the deadline:  Algorithmic…]]></description><link>https://kevinhakanson.com/2015-09-21-2025-customer-challenge</link><guid isPermaLink="false">https://kevinhakanson.com/2015-09-21-2025-customer-challenge</guid><pubDate>Mon, 21 Sep 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;September 18 was the close of my company’s &lt;strong&gt;2025 Customer Challenge&lt;/strong&gt;, and I got my idea submitted right before the deadline:  &lt;strong&gt;Algorithmic Business Development Utilizing Intelligent Agents&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The premise of the innovation challenge was about customer needs in the year 2025:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;How can [we] adapt and grow to meet the needs of our customers in 2025?&lt;br&gt;
&lt;em&gt;What are the products, services and capabilities that these business professionals will expect in the future?&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;Sign Up and Register&lt;/strong&gt; page required me to provide a team name and a logo; so I went for &lt;strong&gt;Clippy.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 250px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5ad8de60e6e8379eae9897c59276d01e/5039d/clippy.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 98%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADCElEQVQ4y4VTaVMaQRDl/6cqX2LFSpVilBIojIQjXMZSIGQBuS+VBUGQSxAF5JJjX3pml8MjOlVve7e75033m15VtZpFvZ4gpHB7myabRLOZ5u8MjUaK+5hlYL5aLbmMtVoZbrvdNthSiaIFl5c6hMM7uLjQIxL5DlE0IJPRcuRyBzg7UyOR0CCV2kelYkEopKY9egQCW0Rmx3TqpUMzMmGx6EKxaEE+b8bNjZ0CRygUrOSzUiVO7m82j1Eu24jcxL9F8SfPu7qyUBGH6PXcaLdFmTCft6NUsvBktqled3KiatVB7RxT7BceHk6pMgeur63KoU465DdV5+L+ft+Du7usTJjL2andPYhZI08CYmuIKjbywr+IMcQxnwdo76VMeN/+A0hBTCYBnihJIYUgrNjoM7yOxzGb+akbhdAXcSKQ9eGxc4xU2oBOx414XEuiH5JGZroADWEPsdg+/P4datmGYHCXLklHPi1ZPbXMNFRarjW8eJpFaAyOSGwjXb8bw6EPo5GAwYAOevSS6F7FevD05OfvLMbAYpPJ31WFnQcfb7VMYieTen4BQGKpzwqxF61GltpOp8JKw3LVg+7gDFOuYZRXNh77OVj7/b6PYzgUXum5urQg3bJCeCJYcBp1IJ3cpZliA62jAdaSjhoa8j0IwhZppuZgWvV6p9TyCsx3f++iMTuXCXu9Fgb9GgUblFynhAa9M9ukeQyRthdU9R33d7tVqrqioErfNdpTI8IKdTCQCfHO6na71PoYw9EcsbhI44F3lyRJULGHJM1fYT6f86QZsZhNdpIiR+MTQaksIpEM0B8kKiSLPdL/K5QPkRNGoxHMFheMRiu+bH6G26/HgekrUuchHp+vkb1JuE62qNLrC8Ni08JkM+K64kXhxovx5HGZv75U7+mxyLXabTg067Gr1UAIGZAreNhxPL5ewIcVzmZTtJohnLi/YXtnA9vqDRh+fEKxFFjT74MK1wmHgzbNl4DclQs2xz6cR5tIpnV00PDNdj9s+fmaYjRu0X87eBZ/mfcPsyDFNalEK44AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;clippy.png&quot;
        title=&quot;clippy.png&quot;
        src=&quot;/static/5ad8de60e6e8379eae9897c59276d01e/5039d/clippy.png&quot;
        srcset=&quot;/static/5ad8de60e6e8379eae9897c59276d01e/cf440/clippy.png 148w,
/static/5ad8de60e6e8379eae9897c59276d01e/5039d/clippy.png 250w&quot;
        sizes=&quot;(max-width: 250px) 100vw, 250px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;When thinking of what technologies would be there in 2025 (10 years into the future), I started wondering what “staples” of technology were not around 10 years ago.  Below is a partial list I constructed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;2005 YouTube launch (acquired by Google in 2006)&lt;/li&gt;
&lt;li&gt;2006 Twitter launched and term “hash tag” appears&lt;/li&gt;
&lt;li&gt;2006 Amazon Web Services (AWS)&lt;/li&gt;
&lt;li&gt;2006 Tesla Motors Roadster prototype (general production in 2008)&lt;/li&gt;
&lt;li&gt;2007 Dropbox founded (launched in 2008)&lt;/li&gt;
&lt;li&gt;2007 iPhone&lt;/li&gt;
&lt;li&gt;2007 Amazon Kindle&lt;/li&gt;
&lt;li&gt;2007 Netflix introduces streaming&lt;/li&gt;
&lt;li&gt;2008 first commercially available smartphone running Android&lt;/li&gt;
&lt;li&gt;2008 Fitbit Classic&lt;/li&gt;
&lt;li&gt;2008 crowdfunding via Indigogo (with Kickstarter in 2009)&lt;/li&gt;
&lt;li&gt;2009 Bitcoin introduced (first decentralized digital currency)&lt;/li&gt;
&lt;li&gt;2009 Google began privately developing self-driving cars&lt;/li&gt;
&lt;li&gt;2010 UberCab launched&lt;/li&gt;
&lt;li&gt;2010 SRI launches Siri on iPhone 3GS / Apple acquires Siri&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Building this list helped me brainstorm on ideas that felt worthy of 2025 needs vs. something we could deliver in the next couple of years (or even today).  Will this push my idea to the top of the list?  I will just have to wait and see.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Azure "Search-as-a-Service"]]></title><description><![CDATA[Microsoft Azure Search became generally available in March.  To learn more, I watched some of the videos, including: Azure Search 10…]]></description><link>https://kevinhakanson.com/2015-06-03-azure-search-as-a-service</link><guid isPermaLink="false">https://kevinhakanson.com/2015-06-03-azure-search-as-a-service</guid><pubDate>Wed, 03 Jun 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Microsoft &lt;a href=&quot;http://azure.microsoft.com/en-us/services/search/&quot;&gt;Azure Search&lt;/a&gt; became generally available in March.  To learn more, I watched some of the &lt;a href=&quot;https://azure.microsoft.com/en-us/documentation/videos/index/?services=search&quot;&gt;videos&lt;/a&gt;, including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Azure Search 101 - Getting started with Azure Search with Liam Cavanagh&lt;/li&gt;
&lt;li&gt;Azure Search 102 - Searching and Mapping Spatial Data with Liam Cavanagh&lt;/li&gt;
&lt;li&gt;Azure Search 103 - Azure Search Suggestions with Liam Cavanagh&lt;/li&gt;
&lt;li&gt;Azure Search 104 - Multilingual Azure Search with Liam Cavanagh&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Azure Search is a fully-managed search-as-a-service implementation, running in the Azure cloud, leveraging Microsoft’s deep knowledge of natural language processing and adds geospatial search.  It uses familiar REST API calls and offers a .NET SDK.  The marketing says this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This release offers enhanced support for more than 50 languages. It uses the same technology that is used by Microsoft Office and Bing, and is built on our many years of experience with natural language processing.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;However, a question from the Azure Forum asks:  &lt;a href=&quot;https://social.msdn.microsoft.com/Forums/azure/en-US/cc86f15f-4e39-44a1-9e81-1bdcb63c8801/azure-search-service-hosted-elastic-search?forum=azuresearch&quot;&gt;Azure Search Service = Hosted Elastic Search?&lt;/a&gt;  With snippets from the answer including “Azure Search uses Elasticsearch as an underlying full-text search engine” and “ElasticSearch is great but we see it as an implementation detail.”&lt;/p&gt;
&lt;p&gt;It turns out that the years of natural language processing resulted in switching out the Lucene analyzers: e.g.  &lt;code class=&quot;language-text&quot;&gt;&amp;quot;analyzer&amp;quot; : &amp;quot;en-lucene&amp;quot;&lt;/code&gt; vs &lt;code class=&quot;language-text&quot;&gt;&amp;quot;analyzer&amp;quot; : &amp;quot;en-microsoft&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The goals of this research were to understand what search-as-a-service means: What are the key features and what implementation details to watch out for?  The documentation reinforced the same message I have been hearing about Elastic:  Don’t just drop in JSON - you need to understand your data and structure your indexes.  Also, don’t use as a primary data store because you will need to make changes and re-index (which may require a reload).  On the topic of document level security, the Access and Control session of the &lt;a href=&quot;https://msdn.microsoft.com/library/azure/dn798933.aspx&quot;&gt;Azure Search Overview&lt;/a&gt; states “There is no per-user authentication or authorization model. However, you can use &lt;code class=&quot;language-text&quot;&gt;$filter&lt;/code&gt; to restrict access by user identity” which is consistent with other sources on Elastic.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Global Search Box as Question Answering]]></title><description><![CDATA[During a product design session, we had a discussion on Global Search covering “what search is” and “what search should be.”  I used the…]]></description><link>https://kevinhakanson.com/2015-06-01-global-search-box-as-question-answering</link><guid isPermaLink="false">https://kevinhakanson.com/2015-06-01-global-search-box-as-question-answering</guid><pubDate>Mon, 01 Jun 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;During a product design session, we had a discussion on Global Search covering “what search is” and “what search should be.”  I used the following example of question answering as where I see “global search” heading:&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;I can search Google for &lt;strong&gt;US population&lt;/strong&gt; and it will give me an answer&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/148a4706e6bad2d0e412131f5fa5c119/30051/Google%2B-%2BUS%2Bpopulation.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.40650406504065%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABvklEQVQoz11SyW7UQBCdT+fGjR9AfAEHDrlyRFGQgCQkYTSRYBbb42Vm3F7bvfqlqh1nElp66rXeq3pdiyjJsU9THIsCWZ5jGIYAKeUb8FnXdfh82WCdNpBdjbquUVDcfp8iy1LcXv/GYhxHeOegRfkS2Pd9mLXWMMZAKRXW/BZ4Bk+8ojMpO2hr0VL8Yj60z8GGLs7B090MTxi0Rz9QAlZDO0Nw2CZHiCiFPpVThjxEVSGKooA4jpGSDY4evx5Mdrsx+LkecfNvheXuO+0f8PH9J3x79wHJl4szIZfZNA3atiO0YY/RT2KiQl0JSGXxa61wk4CIBB7+XuFyucLdjwRXX++xukvOJf+fjSedXo0gjpBtS2J89hi1uF9X+LNtsdwUtD5hmRo8HhxiYc8Zsn/aeigzohvIJ+Vp70jMB08tecsjiSNsN2uyZYc8yxBHO2RpAi17OKOZMOQI75nMYyA4Z+nnDcEGQvvqo7Isx26b40QfUJZlmBk5tQ93w2IucQpSE5lnUh9smCuYrRFC4HA4oO/6yRo/vnnzUjL3IDcqN+/c2Cwytwyrs1glFIqc+lTaIFhRdxxJQA50T+RPFXkAVcxEDzcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Google &amp;quot;US population&amp;quot;&quot;
        title=&quot;Google &amp;quot;US population&amp;quot;&quot;
        src=&quot;/static/148a4706e6bad2d0e412131f5fa5c119/b9e4f/Google%2B-%2BUS%2Bpopulation.png&quot;
        srcset=&quot;/static/148a4706e6bad2d0e412131f5fa5c119/cf440/Google%2B-%2BUS%2Bpopulation.png 148w,
/static/148a4706e6bad2d0e412131f5fa5c119/d2d38/Google%2B-%2BUS%2Bpopulation.png 295w,
/static/148a4706e6bad2d0e412131f5fa5c119/b9e4f/Google%2B-%2BUS%2Bpopulation.png 590w,
/static/148a4706e6bad2d0e412131f5fa5c119/f9b6a/Google%2B-%2BUS%2Bpopulation.png 885w,
/static/148a4706e6bad2d0e412131f5fa5c119/2d849/Google%2B-%2BUS%2Bpopulation.png 1180w,
/static/148a4706e6bad2d0e412131f5fa5c119/30051/Google%2B-%2BUS%2Bpopulation.png 1599w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I can also search for &lt;strong&gt;2014 google revenue&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7dd90805fc6bedd8149a7c9a8b0352c7/1165a/Google%2B-%2Brevenue.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.35400516795866%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABhklEQVQoz4WS3W6jQAyFee8+0V7sa6zUSstPIAkhTUJoWlUkJQGGGZgBztqzS0QuqjV8wvaMDzaDs0tzbJMN0tMb8jxHmqY4Ho/Isgy32w1d16Ft22+RqsWgBX7+uuLph4SjlEJVCUipIEWNqixRElVVoWmaeyHvY+axlNK+0GiNsm5xKTs4mFn/+Y6+EWhpgzH6LsBFLM4CU8xrdV2j7/u5BJxxHDGhqIALhRB3AX6ywHc2r2ecKclmjLEdTE8WYlHuhjthprymKZi56EOHbEVRwPd8xHEM13WxXq+tH0WRJQgCrFYrSxhGdi3L3mwDk/CD4Pl8xsvLMxZhgP1hh+Uywna7QUKElHO93/ADD57vIlj4lqL4ehx5LliVAun+A5ecfhc1ECOdPI0pyZcjxYBqBoJyqkcjzH9GJsFF8o748IFge4AfH7F8PcFPUrjrFF5MbA4IkxN2p0/sX79wOVeYn8NfQbr47gcDM9AHJ7q+tb6Nydf/8nqg/Mh5Tfs1rtfi4XD+ACv1/cUYGjVjAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Google &amp;quot;2014 google revenue&amp;quot;&quot;
        title=&quot;Google &amp;quot;2014 google revenue&amp;quot;&quot;
        src=&quot;/static/7dd90805fc6bedd8149a7c9a8b0352c7/b9e4f/Google%2B-%2Brevenue.png&quot;
        srcset=&quot;/static/7dd90805fc6bedd8149a7c9a8b0352c7/cf440/Google%2B-%2Brevenue.png 148w,
/static/7dd90805fc6bedd8149a7c9a8b0352c7/d2d38/Google%2B-%2Brevenue.png 295w,
/static/7dd90805fc6bedd8149a7c9a8b0352c7/b9e4f/Google%2B-%2Brevenue.png 590w,
/static/7dd90805fc6bedd8149a7c9a8b0352c7/f9b6a/Google%2B-%2Brevenue.png 885w,
/static/7dd90805fc6bedd8149a7c9a8b0352c7/2d849/Google%2B-%2Brevenue.png 1180w,
/static/7dd90805fc6bedd8149a7c9a8b0352c7/1165a/Google%2B-%2Brevenue.png 1548w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I can even ask Google about revenue in the form of a question: &lt;strong&gt;how much money did google make in 2014&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b62c6a25c3a21fe1e6dca78e40826bc1/ca44b/Google%2B-%2Bhow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.181347150259064%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABrklEQVQoz4WS226jQAyGef+rve2D7M0+QJRVpJwKtEDJkhJIIVBO4czw79g0aapGuyN9ssfY/5gZK7YTwLIMvHouwjDE4XBgXNeF4ziM53m8z/Mcbduirms0TfNBi6bK8fArw4+fJZSqqpCkOcqyQikLqCjLMiZJEqRpylC8LMurEInSng7o2gbHuIEXtVBws0TgQ8jEru/RS7quY0uHDsPAIiwg4+QXRcHx26WM44gLVEinUuL5fGafoPj/lhAj86VDOvnzbhru5mIvkLjrHuS9+gz5aZpxPTV17ZAWPcpms4Gu69hut1gul2xt2+ZYEATyLgs8PT3DMEyYpgld+lT3T0ESmc1mmM/nWK1WzGKxwH6/l6Kh/P4IVdWgaprM38L3j/cFPd+TCStouor1egl7Z+HFNmG9GLyPohM/hmVZsrsJ6jRJ0vuCcZTij31E+l4jCgsUWSdHSaA6C9TlIF98umsap/B0wkkSRRFPwl3BJK/w7LxBtV+h7zysDQcLzcZvzYS62+P49i7HpP/2wrcaysUhK8QAMfYTmBg/7BQfeO4IIQT/fhzH11kkjb/sDkXjLdBQugAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Google &amp;quot;how much money did google make in 2014&amp;quot;&quot;
        title=&quot;Google &amp;quot;how much money did google make in 2014&amp;quot;&quot;
        src=&quot;/static/b62c6a25c3a21fe1e6dca78e40826bc1/b9e4f/Google%2B-%2Bhow.png&quot;
        srcset=&quot;/static/b62c6a25c3a21fe1e6dca78e40826bc1/cf440/Google%2B-%2Bhow.png 148w,
/static/b62c6a25c3a21fe1e6dca78e40826bc1/d2d38/Google%2B-%2Bhow.png 295w,
/static/b62c6a25c3a21fe1e6dca78e40826bc1/b9e4f/Google%2B-%2Bhow.png 590w,
/static/b62c6a25c3a21fe1e6dca78e40826bc1/f9b6a/Google%2B-%2Bhow.png 885w,
/static/b62c6a25c3a21fe1e6dca78e40826bc1/2d849/Google%2B-%2Bhow.png 1180w,
/static/b62c6a25c3a21fe1e6dca78e40826bc1/ca44b/Google%2B-%2Bhow.png 1544w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;However, when I asked a question requiring a computation, I got search results and not an answer:  &lt;strong&gt;2014 google revenue per US population&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/822be15f2b50403ba3b9f249310787de/ca44b/Google%2B-%2Brevenue%2Bper%2BUS.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.69430051813472%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABVUlEQVQoz32R626CQBCFefY+SV+gr9Cf/WdqG5WosFwUqXIH9wIIp7NLJaZNuslkhsPsNzDHcvY2WBjicj7D8314nocgCHA4HEz4pDHGUNc12raFUgpSSpOnukUnazy/Fnh6EbDyokTdcPCqQlUUyPMcFdX3nGUZCtKv16sBCCFM5pybWg/pWoUokWCxgoWfM5Y5IKm56zGOo2mmZEAdaUJIc1nrt9vN6Bqqex+PNQyDuaiqApygQurJ+msE8TnBFH6fR4iudQzDFNb9ZZYrBGGFMCwRnRpEUUM7rBB/NTidOOKYk6YHDaZ/Agx/hs3AOEmwclysXQ+LzRqrvYOP3Q5vn0u82zaW2y0W9gZeENKg0BgWRZHZ5+OXzsAzucyYQ01Hyi4cZz8Hcx2j+b6H4/E4O/8vUC/7cklMaHfTNEVKDpfl5LR+1m5P+xqMMX3fz79953wDzrVixJyehmgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Google &amp;quot;2014 google revenue per US population&amp;quot;&quot;
        title=&quot;Google &amp;quot;2014 google revenue per US population&amp;quot;&quot;
        src=&quot;/static/822be15f2b50403ba3b9f249310787de/b9e4f/Google%2B-%2Brevenue%2Bper%2BUS.png&quot;
        srcset=&quot;/static/822be15f2b50403ba3b9f249310787de/cf440/Google%2B-%2Brevenue%2Bper%2BUS.png 148w,
/static/822be15f2b50403ba3b9f249310787de/d2d38/Google%2B-%2Brevenue%2Bper%2BUS.png 295w,
/static/822be15f2b50403ba3b9f249310787de/b9e4f/Google%2B-%2Brevenue%2Bper%2BUS.png 590w,
/static/822be15f2b50403ba3b9f249310787de/f9b6a/Google%2B-%2Brevenue%2Bper%2BUS.png 885w,
/static/822be15f2b50403ba3b9f249310787de/2d849/Google%2B-%2Brevenue%2Bper%2BUS.png 1180w,
/static/822be15f2b50403ba3b9f249310787de/ca44b/Google%2B-%2Brevenue%2Bper%2BUS.png 1544w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;When I ask WolframAlpha that same question, I got an answer:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0b5f1eef2099395704d6543048e588c0/93d99/WolframAlpha.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 99.77802441731409%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAC5UlEQVQ4y5VTaW/bMAz1//9Jwz4M6IatKIqu2NqkORw7TpP4SHzItuRDeiOVKMi6DsMEPFMipadHUvZAwzD4Q2PoR6QfPkI9TSCfX6BmS/TRFjpeQO9+QIsMY1sTKhit4c674ZlRgaLk7WhJ6Bsknz+h92cYZhP08wk6svr1EXpzB31cYaxiDOUOWhZ0VsIMLaEBc3lDeocsuMVufkP2G1L/C4rkO9LoFnH4FX05BZQPUy8JZMUcpnoB2DIobmObG5j9F3iQCUx8j2F3jzF+wCA2GOutxSBeARkTYfI7ugyo10DyCOQzC7N/gJEpKexqNGUGVR8hxQGdrKEInWrQE5QUp/XZ79aKashnWpFjUMKWzegOXl3sMHl6wGL2E/78CaE/wXo1JTtFsHwmTCw24QwBxVaLZ6zYT/PiuIMoYrq4pB5I6mgFr+8luq61UAxWxbie/wV8lqG6BpKzoDPeoRIIdzGC7R7RPkGQFfDTHK9JirxVyBv5D7SXeUHwur5HqxTkGa3q7Nr6uu6/wFzeMAyoWmKvW5R0g9HGvnJjTva9+Z/Q1upxhKfptdeiwXLuw1/41JA1NSFAfsgRxzGiKEJZlkiSBPv9/kT+ZlhSsqMj1KSyqRs0TYN1sKaOLxCFkSUIwxB5nlPBKS0pod3vdqXQDY5Rl3vIYbw4x1HT/zyA/QwmciSOiNfXtpbKlszWkGWmxxzZ4YCKUuP0hKguZBdiahaD978dFb2GI5VNMaGxNRSIqUZcJ65bmqaWuCgKVFV1mZdlZdfcSH1WaNWf07Yp842cZlVUEKVA3/Wo69oGWaGgy1ih3ccE1ymfa8hr5rBN4Q+TLKYLbIINFD0dVskqOHZqxIjtdmsbxJbjrLosTspZgNHXhKSgOBZWZUsvn8kUPWy2TgF3mg/yXo652jJsCd4SZkmGJE6QU4MO1KDskFm/expZllmF6/XaqnMdv+68raFjf+8PcLcyeJ8Dx5zfwe39BSJ0BwFgW1AXAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;WolframAlpha &amp;quot;2014 google revenue per US population&amp;quot;&quot;
        title=&quot;WolframAlpha &amp;quot;2014 google revenue per US population&amp;quot;&quot;
        src=&quot;/static/0b5f1eef2099395704d6543048e588c0/b9e4f/WolframAlpha.png&quot;
        srcset=&quot;/static/0b5f1eef2099395704d6543048e588c0/cf440/WolframAlpha.png 148w,
/static/0b5f1eef2099395704d6543048e588c0/d2d38/WolframAlpha.png 295w,
/static/0b5f1eef2099395704d6543048e588c0/b9e4f/WolframAlpha.png 590w,
/static/0b5f1eef2099395704d6543048e588c0/f9b6a/WolframAlpha.png 885w,
/static/0b5f1eef2099395704d6543048e588c0/93d99/WolframAlpha.png 901w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[WebStorm 10 and TypeScript support]]></title><description><![CDATA[WebStorm 10 now has updated TypeScript support including a built-in TypeScript 1.4 compiler with TypeScript 1.5 support already in the…]]></description><link>https://kevinhakanson.com/2015-04-10-webstorm-10-and-typescript-support</link><guid isPermaLink="false">https://kevinhakanson.com/2015-04-10-webstorm-10-and-typescript-support</guid><pubDate>Fri, 10 Apr 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;WebStorm 10 now has updated &lt;a href=&quot;https://www.jetbrains.com/webstorm/whatsnew/#typescript&quot;&gt;TypeScript support&lt;/a&gt; including a built-in TypeScript 1.4 compiler with TypeScript 1.5 support already in the WebStorm 10.0.2 EAP.  To test this out, I opened a simple, sample project where I was playing with JavaScript decimal libraries to understand how certain compiler errors are reported.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 287px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b791b76eb4913edb3b8969b8f986f7f3/d92cc/Screen%2BShot%2B2015-04-10%2Bat%2B11.29.25%2BAM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 73.17073170731707%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACeUlEQVQ4y5WTOW8TQRTH/RlAkeAz8BGgQ6KnQaDQU9BQkIBEQ7oUdNDQJBRckWhAXAmEnCTxlXV87GHv4fXajtdxcBzb69ix/WO8EUERwoSRfrO7M2//78289wIfFiN8WggxO7/G7Ld1Fr5LLG/EWVyTWA0m2djUWI+qf7AR1ViLKMwvh1kR9gOCmyqBF28XeS14PvORV28+M7eaZCmo8f5rmNWIzqbqEpG3j0htE5VLx4STBeaWJN9uOZQW33kCZdelZEqENoIsrQQJBsOEI1u4bgXdsDAtGzuXp1AokM3myGQMzOxgzRH7WXJ2DtO0KG6XqTdbBPr9Hruug5PeRJbW0dKGMDTZr9UoFovYto2Ty5F3cgycNxoNH8/zaHpNWuLpNRu0220GIzCYmt4B7brLbiGNpqRQVRnbMjH0NKlkElWR0cRasVhg+OgfCfb68GNvX0RVxTXCxBMpkomEL6LrOvV6/cRPf0dEODKqcWnM4uKdEFcnYlx54HB5PM2FWxpnryc4cy3GyI0E50Zln/M3laEE7k6VmXjpMjmT4/G7Ag8fLTA5rTD2VOf2E5P7z1zuTZcYn9o+FYGTd9AmE1qgaKUo2grensP/jsDg5AedLv1+H6/d5UssS0Y3UdM6uigHVZaJSglanR6dbp/O4XCOI3RKFeIZW4gJoUxGJETBMk3sbBavdXB05cLpwPHQCP0sdw8xnBKhRAbL0DEElmlQKpWoVCq/8/sPMV+wJ4xq1V3y5apoLcMvF0XVyBdO1twvsVNFmBRtp8bjxCRJHFfDEMhbMVIpGSkawd3ZOX2Eg6lW3fNbqe63VNN/91tK0GjU6XQ6pxb8CfkSOMb3xYNPAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;WebStorm Project Files&quot;
        title=&quot;WebStorm Project Files&quot;
        src=&quot;/static/b791b76eb4913edb3b8969b8f986f7f3/d92cc/Screen%2BShot%2B2015-04-10%2Bat%2B11.29.25%2BAM.png&quot;
        srcset=&quot;/static/b791b76eb4913edb3b8969b8f986f7f3/cf440/Screen%2BShot%2B2015-04-10%2Bat%2B11.29.25%2BAM.png 148w,
/static/b791b76eb4913edb3b8969b8f986f7f3/d92cc/Screen%2BShot%2B2015-04-10%2Bat%2B11.29.25%2BAM.png 287w&quot;
        sizes=&quot;(max-width: 287px) 100vw, 287px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I have a TypeScript source code file with intentional compile errors named &lt;code class=&quot;language-text&quot;&gt;bad.ts&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// &amp;lt;reference path=&quot;decimal.d.ts&quot; /&gt;  &lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Decimal&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Decimal&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Decimal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
c &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It uses the following &lt;a href=&quot;https://typescript.codeplex.com/wikipage?title=Writing%20Definition%20%28.d.ts%29%20Files&quot;&gt;type definition file&lt;/a&gt; which disallows direct assignment of JavaScript numbers or using the &lt;code class=&quot;language-text&quot;&gt;+&lt;/code&gt; operator.  The &lt;code class=&quot;language-text&quot;&gt;Decimal&lt;/code&gt; constructor and &lt;code class=&quot;language-text&quot;&gt;plus()&lt;/code&gt; method are required to be used instead.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Decimal&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Decimal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Decimal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Decimal&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Decimal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;bad.ts&lt;/code&gt; generates these compile time errors:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d3588e25c4f8b969a3e5d20f166015ea/08784/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 13.793103448275861%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAs0lEQVQI112Ny46CQBBF+f9P0cX4Bz4jTScEZyKSsIBu1MYOCI7RpTkWLFxYycm9Vam6FeR5zj49MJ8vmE4nzGY/rNcbIhWhI00YKtI0Zdiz1o4YYyjLcqQoio8OBOfac61rdpsVye+fBCm01ihRtd0SxzGr5ZJQfJZl7JIEIwFDqLUG584cq0o4Usmz4NR0wIu7v9DdbrRNQ9u2eO/5l/4qfjhyzo2zWrTvOvq+5/l48F1vk8/XeLMkEpsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;WebStorm Current Errors&quot;
        title=&quot;WebStorm Current Errors&quot;
        src=&quot;/static/d3588e25c4f8b969a3e5d20f166015ea/b9e4f/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png&quot;
        srcset=&quot;/static/d3588e25c4f8b969a3e5d20f166015ea/cf440/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png 148w,
/static/d3588e25c4f8b969a3e5d20f166015ea/d2d38/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png 295w,
/static/d3588e25c4f8b969a3e5d20f166015ea/b9e4f/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png 590w,
/static/d3588e25c4f8b969a3e5d20f166015ea/08784/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png 812w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;What is the right way to use this library?  Here is some sample code that avoids the compile time errors.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// &amp;lt;reference path=&quot;decimal.d.ts&quot; /&gt;  &lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Decimal&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Decimal&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;Decimal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Decimal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Decimal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
c &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
c &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;0.2&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
c &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For more background on why I find this interesting, you can read my earlier blog post: &lt;a href=&quot;../2015-01-08-solution-to-javascripts-01-02-030000000000000004-problem&quot;&gt;Solution to JavaScript’s 0.1 + 0.2 = 0.30000000000000004 problem?&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[IP Address as a factor?]]></title><description><![CDATA[On a call we “discussed” if IP address could be considered a second factor, including the spoof-ability of IPs. Some excerpts from a…]]></description><link>https://kevinhakanson.com/2015-04-07-ip-address-as-a-factor</link><guid isPermaLink="false">https://kevinhakanson.com/2015-04-07-ip-address-as-a-factor</guid><pubDate>Tue, 07 Apr 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;On a call we “discussed” if IP address could be considered a second factor, including the spoof-ability of IPs.&lt;/p&gt;
&lt;p&gt;Some excerpts from a Security Stack Exchange question: &lt;a href=&quot;http://security.stackexchange.com/questions/12701/can-ip-address-be-a-component-of-2-factor-authentication&quot;&gt;network - Can IP address be a component of 2-factor authentication? - Information Security Stack Exchange&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Although IP addresses are trivial to spoof, TCP connections are not and SSH is a protocol built on top of TCP. The IP address of a TCP connection &lt;em&gt;is&lt;/em&gt; a reliable indicator of who you are directly connected to.&lt;/p&gt;
&lt;p&gt;I would not consider an IP address to be a factor on its own.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I also found this article which seems to have relevant information:  &lt;a href=&quot;http://www.cisco.com/web/about/ac123/ac147/archived_issues/ipj_10-1/101_aaa-part1.html&quot;&gt;Network Authentication, Authorization, and Accounting: Part One - The Internet Protocol Journal - Volume 10, No. 1&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Elements of Authentication&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;When performing authentication, numerous elements can be evaluated before a PDP reaches its access decision. At a high level, these elements can be broken down into three categories: the principal itself (the user, device, or service requesting access), the credential the principal submits (shared key, one-time password, digital certificate, or biometric credential), and the contextual information describing the transaction (location, time of day, software state, and so on)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I like the fact this article adds &lt;strong&gt;contextual information&lt;/strong&gt; separate from the credential.  IP address information seems to fit in this category.&lt;/p&gt;
&lt;p&gt;Is it correct to state that IP Address is not an additional factor for authentication, but it is additional context that can be taken into account to add security?  Is this really authorization at this point?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Facebook GraphQL/Relay and Netflix Falcor]]></title><description><![CDATA[I have my eye on two new client-side, data-access technologies that will be open sourced “soon”.  They are both trying to solve redundancy…]]></description><link>https://kevinhakanson.com/2015-04-01-facebook-graphqlrelay-and-netflix-falcor</link><guid isPermaLink="false">https://kevinhakanson.com/2015-04-01-facebook-graphqlrelay-and-netflix-falcor</guid><pubDate>Wed, 01 Apr 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I have my eye on two new client-side, data-access technologies that will be open sourced “soon”.  They are both trying to solve redundancy and coupling concerns between client-side code/data models and server-side code/HTTP endpoints.  How?  Both are a bit of a mystery right now so that is hard to answer.&lt;/p&gt;
&lt;p&gt;There isn’t a lot of information available for Facebook GraphQL/Relay, but here are a couple of links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://facebook.github.io/react/blog/2015/02/20/introducing-relay-and-graphql.html&quot;&gt;Introducing Relay and GraphQL | React&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://facebook.github.io/react/blog/2015/03/19/building-the-facebook-news-feed-with-relay.html&quot;&gt;Building The Facebook News Feed With Relay | React&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/wincent/598fa75e22bdfa44cf47&quot;&gt;2015-01-29 Unofficial Relay FAQ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://devchat.tv/js-jabber/152-jsj-graphql-and-relay-with-nick-schrock-and-joe-savona-&quot;&gt;GraphQL and Relay with Nick Schrock and Joe Savona - DevChat.TV&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There is even less information about Netflix Falcor - you can follow Falcor (&lt;a href=&quot;https://twitter.com/falcorjs&quot;&gt;@falcorjs&lt;/a&gt;) on Twitter and watch the &lt;a href=&quot;https://www.youtube.com/watch?v=WiO1f6h15c8&quot;&gt;Binding to the Cloud with Falcor Jafar Husain - YouTube&lt;/a&gt; presentation from ng-conf.  This project might have been named Falkor at one point.&lt;/p&gt;
&lt;p&gt;What to do next?  Wait for the open source versions to be released and (hopefully) some good documentation.  These might be niche solutions when you have a connected graph of data objects which you want to retrieve and display in multiple ways?  They are also are both more query-based and move in a different direction from what I would consider REST.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[I have a .NET Rocks! mug.]]></title><description><![CDATA[You may (or may not) have seen: Kevin Hakanson on Twitter: “@richcampbell @jhusain great show; I especially liked the comment selected…]]></description><link>https://kevinhakanson.com/2015-02-12-i-have-a-net-rocks-mug</link><guid isPermaLink="false">https://kevinhakanson.com/2015-02-12-i-have-a-net-rocks-mug</guid><pubDate>Thu, 12 Feb 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;You may (or may not) have seen: &lt;a href=&quot;https://twitter.com/hakanson/status/565549181792972800&quot;&gt;Kevin Hakanson on Twitter: “@richcampbell @jhusain great show; I especially liked the comment selected (thanks for the mug)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;On 21 January 2015, I was listing to Todd Gardner (&lt;a href=&quot;https://twitter.com/toddhgardner&quot;&gt;@toddhgardner&lt;/a&gt;) on &lt;a href=&quot;http://www.dotnetrocks.com/default.aspx?showNum=1090&quot;&gt;.NET Rocks!&lt;/a&gt; talk about “Duck Punching” when he and host Richard Campbell (&lt;a href=&quot;https://twitter.com/richcampbell&quot;&gt;@richcampbell&lt;/a&gt;) were talking about validating the checksums of JavaScript libraries served by CDNs to ensure you were being delivered the code you were expecting.  This is a topic I have blogged about before:  &lt;a href=&quot;../2014-07-03-cdn-hosting-of-javascript-and-information-security-aspects&quot;&gt;CDN Hosting of JavaScript and Information Security Aspects&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;So, I made a comment that day, pointing them to the W3C &lt;a href=&quot;https://w3c.github.io/webappsec/specs/content-security-policy/&quot;&gt;Content Security Policy&lt;/a&gt; Editor’s Draft where it says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Individual inline scripts and stylesheets may be whitelisted via nonces (as described in §4.2.4 Valid Nonces) and hashes (as described in §4.2.5 Valid Hashes).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Only 9 days later, on 30 January 2015, I got an email stating my comment was selected.  Most of the time, the comment selected is from many months before, when that particular guest or topic was last discussed.  I was surprised to have both a comment selected and such a quick turnaround.  I sent them my address, got my free mug, and started wondering when my comment would air.  Finally, on 11 February 2015, I was listening to &lt;a href=&quot;http://www.dotnetrocks.com/default.aspx?showNum=1099&quot;&gt;Digging into Javascript 6 with Jafar Husain&lt;/a&gt; and I heard my comment.&lt;/p&gt;
&lt;p&gt;Not quite as cool as being on the .NET Rocks! podcast, but I’ll take what I can get - even if that is a free coffee mug.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Solution to JavaScript's 0.1 + 0.2 = 0.30000000000000004 problem?]]></title><description><![CDATA[Open your JavaScript console and try this: You may ask yourself Is floating point math broken?.  The answer is that JavaScript uses floating…]]></description><link>https://kevinhakanson.com/2015-01-08-solution-to-javascripts-01-02-030000000000000004-problem</link><guid isPermaLink="false">https://kevinhakanson.com/2015-01-08-solution-to-javascripts-01-02-030000000000000004-problem</guid><pubDate>Thu, 08 Jan 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Open your JavaScript console and try this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.3&lt;/span&gt;

  &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;

&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;

  &lt;span class=&quot;token number&quot;&gt;0.30000000000000004&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You may ask yourself &lt;a href=&quot;http://stackoverflow.com/questions/588004/is-floating-point-math-broken&quot;&gt;Is floating point math broken?&lt;/a&gt;.  The answer is that JavaScript uses floating point math based on the &lt;a href=&quot;https://en.wikipedia.org/wiki/IEEE_754#Basic_formats&quot;&gt;IEEE 754 standard&lt;/a&gt;, the same as Java’s &lt;code class=&quot;language-text&quot;&gt;double&lt;/code&gt;. If you want the details on what that means, either quickly read &lt;a href=&quot;http://floating-point-gui.de/&quot;&gt;The Floating-Point Guide - What Every Programmer Should Know About Floating-Point Arithmetic&lt;/a&gt; or fully digest &lt;a href=&quot;http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html&quot;&gt;What Every Computer Scientist Should Know About Floating-Point Arithmetic&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;But if I really want &lt;code class=&quot;language-text&quot;&gt;0.1 + 0.2 == 0.3&lt;/code&gt; then what do I do?  The &lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html&quot;&gt;Java BigDecimal&lt;/a&gt; class solved this problem, and there similar solutions for JavaScript: &lt;a href=&quot;https://github.com/iriscouch/bigdecimal.js&quot;&gt;GWT compiled to JavaScript&lt;/a&gt; version; a &lt;a href=&quot;https://github.com/dtrebbien/BigDecimal.js&quot;&gt;JavaScript translation&lt;/a&gt; of the ICU4J’s &lt;code class=&quot;language-text&quot;&gt;com.ibm.icu.math.BigDecimal&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;There are also other JavaScript libraries like &lt;a href=&quot;http://mikemcl.github.io/big.js/&quot;&gt;big.js&lt;/a&gt;.  Here is big.js in action from the JavaScript console:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Big&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;

&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Big&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token string&quot;&gt;&quot;0.3&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;How have other teams solved this problem?  Is there a de facto JavaScript library to use that has been well tested?  Would a common library be useful?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[JavaScript Static Code Analysis?]]></title><description><![CDATA[My company’s “Application Security Testing Standard” requires assessing application code with Static Code Analysis or Dynamic Analysis.  The…]]></description><link>https://kevinhakanson.com/2014-11-19-javascript-static-code-analysis</link><guid isPermaLink="false">https://kevinhakanson.com/2014-11-19-javascript-static-code-analysis</guid><pubDate>Wed, 19 Nov 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;My company’s “Application Security Testing Standard” requires assessing application code with Static Code Analysis or Dynamic Analysis.  The tools currently used for this are from &lt;a href=&quot;http://www.veracode.com/products&quot;&gt;Veracode&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Static Application Security Testing (SAST), or “white-box” testing, finds common vulnerabilities by performing a deep analysis of your applications without actually executing them.&lt;/li&gt;
&lt;li&gt;Dynamic Application Security Testing (DAST), or “black-box” testing, identifies architectural weaknesses and vulnerabilities in your running web applications before cyber-criminals can find and exploit them.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As we are building more complex web applications in the &lt;a href=&quot;http://en.wikipedia.org/wiki/Single-page_application&quot;&gt;Single Page Application (SPA)&lt;/a&gt; style, there is more JavaScript than ever before.  Also, frameworks like &lt;a href=&quot;https://angularjs.org/&quot;&gt;AngularJS&lt;/a&gt; put application code in the “static” HTML files.  What are the solutions for static scanning of these code artifacts?&lt;/p&gt;
&lt;p&gt;We have been using tools like &lt;a href=&quot;http://www.jslint.com/&quot;&gt;JSLint&lt;/a&gt; and &lt;a href=&quot;http://www.jshint.com/&quot;&gt;JSHint&lt;/a&gt; and for JavaScript static code analysis for some time. More recently, &lt;a href=&quot;http://eslint.org/&quot;&gt;ESLint&lt;/a&gt;, with its pluggable rules architecture, has become the de facto standard.  Under the covers, ESLint uses &lt;a href=&quot;http://esprima.org/&quot;&gt;Esprima&lt;/a&gt; to generate an abstract syntax tree that is compatible with the &lt;a href=&quot;https://developer.mozilla.org/en/SpiderMonkey/Parser_API&quot;&gt;Mozilla Parser AST&lt;/a&gt;.  This AST is the representation of source code that is scanned for possible errors, best practices, and stylistic issues.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://dpnishant.github.io/jsprime/&quot;&gt;JSPrime&lt;/a&gt; is one of the tools listed at &lt;a href=&quot;https://wiki.mozilla.org/Security/B2G/JavaScript_code_analysis&quot;&gt;Security/B2G/JavaScript code analysis - MozillaWiki&lt;/a&gt;.  It also uses Esprima to generate an AST, but instead scans for security violations by tracing execution paths between user input &lt;strong&gt;sources&lt;/strong&gt; and code execution &lt;strong&gt;sink&lt;/strong&gt; functions.  JSPrime has identified sources and sinks for the browser JavaScript APIs, jQuery, and YUI.  To scan other libraries like AngularJS, additional configuration would need to be added.  The code is open source and MIT licensed: &lt;a href=&quot;https://github.com/dpnishant/jsprime&quot;&gt;dpnishant/jsprime · GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Burp Suite, a commercial product, includes an engine for &lt;a href=&quot;http://blog.portswigger.net/2014/07/burp-gets-new-javascript-analysis.html&quot;&gt;static analysis of JavaScript&lt;/a&gt; code.  This looks for items like DOM-based XSS, JavaScript injection, Client-side SQL injection, etc.  This could be an option for teams already using Burp for web application security testing.&lt;/p&gt;
&lt;p&gt;Scanning AngularJS based HTML is another matter. I am hopeful that the recently released &lt;a href=&quot;https://github.com/angular/angular-hint&quot;&gt;Angular Hint&lt;/a&gt; will grow to include modules that include security analysis above the built-in &lt;a href=&quot;https://docs.angularjs.org/guide/security&quot;&gt;security features&lt;/a&gt; of AngularJS.&lt;/p&gt;
&lt;p&gt;Is this a topic worth pursuing or with either Veracode or our IDEs (WebStorm, Visual Studio) start providing this tooling?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[C# and .NET without Windows or Visual Studio]]></title><description><![CDATA[If you didn’t hear about the open sourcing of .NET announced at Microsoft’s Connect(); event, read Microsoft takes .NET open source and…]]></description><link>https://kevinhakanson.com/2014-11-13-c-and-net-without-windows-or-visual-studio</link><guid isPermaLink="false">https://kevinhakanson.com/2014-11-13-c-and-net-without-windows-or-visual-studio</guid><pubDate>Thu, 13 Nov 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;If you didn’t hear about the open sourcing of .NET announced at Microsoft’s Connect(); event, read &lt;a href=&quot;http://news.microsoft.com/2014/11/12/microsoft-takes-net-open-source-and-cross-platform-adds-new-development-capabilities-with-visual-studio-2015-net-2015-and-visual-studio-online/&quot;&gt;Microsoft takes .NET open source and cross-platform, adds new development capabilities with Visual Studio 2015, .NET 2015 and Visual Studio Online&lt;/a&gt; or &lt;a href=&quot;http://www.hanselman.com/blog/AnnouncingNET2015NETAsOpenSourceNETOnMacAndLinuxAndVisualStudioCommunity.aspx&quot;&gt;Announcing .NET 2015 - .NET as Open Source, .NET on Mac and Linux, and Visual Studio Community - Scott Hanselman&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To celebrate, I did this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;HelloMvc$ k kestrel&lt;/p&gt;
&lt;p&gt;Started&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But, what is that?  It is a ASP.NET MVC application running on my Mac using the &lt;a href=&quot;https://github.com/aspnet/KestrelHttpServer&quot;&gt;aspnet/KestrelHttpServer&lt;/a&gt; web server.  Want to try it yourself?  Instructions for setup are at &lt;a href=&quot;https://github.com/aspnet/home&quot;&gt;aspnet/Home · GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I also installed &lt;a href=&quot;http://www.sublimetext.com/3&quot;&gt;Sublime Text 3&lt;/a&gt; and &lt;a href=&quot;http://www.omnisharp.net/&quot;&gt;OmniSharp - Cross platform .NET development by OmniSharp&lt;/a&gt;. (also see &lt;a href=&quot;http://blog.jonathanchannon.com/2014/11/12/csharp-first-class-citizen-sublime-text/&quot;&gt;Jonathan Channon Blog - Microsoft Endorsing C# as a First Class Citizen in Sublime Text&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Those are developer focused details, but what does this mean at an enterprise level? I’ve extracted some quotes from the Dr. Dobb’s article &lt;a href=&quot;http://www.drdobbs.com/windows/c-and-nets-sudden-ubiquity/240169282&quot;&gt;C# and .NET’s Sudden Ubiquity&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Of these platforms, Linux is clearly the most important…enterprises will be able to run the applications without having to add in the cost of Microsoft Server licenses.&lt;/li&gt;
&lt;li&gt;The big winners of all this goodness are C# developers.&lt;/li&gt;
&lt;li&gt;The big loser is certainly Java.&lt;/li&gt;
&lt;li&gt;For years, C# has been an attractive language for developers, but blocked in wider adoption by its inability to run on more than Windows.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Not sure when it will happen at my company, but I see services written in C# and .NET running on Linux in our future.  &lt;/p&gt;</content:encoded></item><item><title><![CDATA[Extending AngularJS $log Concept]]></title><description><![CDATA[Logging is an important component of monitoring an application.  AngularJS provides $log which is documented as: Simple service for logging…]]></description><link>https://kevinhakanson.com/2014-10-17-extending-angularjs-log-concept</link><guid isPermaLink="false">https://kevinhakanson.com/2014-10-17-extending-angularjs-log-concept</guid><pubDate>Fri, 17 Oct 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Logging is an important component of monitoring an application.  AngularJS provides &lt;a href=&quot;https://docs.angularjs.org/api/ng/service/$log&quot;&gt;$log&lt;/a&gt; which is documented as:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Simple service for logging. Default implementation safely writes the message into the browser’s console (if present).&lt;/p&gt;
&lt;p&gt;The main purpose of this service is to simplify debugging and troubleshooting.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I wanted to extend this front-end logging in a few ways, including named loggers and capturing these log messages alongside our back-end logs.  My Google results found some prior art in this area:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://engineering.talis.com/articles/client-side-error-logging/&quot;&gt;Logging client side errors server-side in AngularJS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.stacktracejs.com/&quot;&gt;stacktrace.js&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.stacktracejs.com/&quot;&gt;log4javascript&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://js.jsnlog.com/Documentation/GetStartedLogging/AngularJsErrorHandling&quot;&gt;JSNLog AngularJS Error Handling&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ThomasBurleson/angularjs-logDecorator&quot;&gt;ThomasBurleson angularjs-logDecorator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://solutionoptimist.com/2013/10/07/enhance-angularjs-logging-using-decorators/&quot;&gt;Enhancing AngularJS Logging using Decorators&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For my experimentation, I created a simple AngularJS based application called “Math Demo” that intentionally has errors which appear in the console using &lt;code class=&quot;language-text&quot;&gt;$log&lt;/code&gt;.  Here is a screenshot of the home page:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/eba5be1fdc3c4bd81960609ba83a1e88/2f8d2/MathDemo.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.691176470588225%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABcSAAAXEgFnn9JSAAABn0lEQVQoz5VSYXOiQAzl//+pfr125s5qQSxz0gosrCwioigLknebtTgdr871diaTzSZ5yebFqVRD+WqHQtRQSQX5voVue5zPZ3w+RITvHIdwHlYLSc8PIQVuSN7Co/l8TrPpjJJEkJSSttsto9EFl673r8TRuqXli8DkYUnTHwv8+vmM2WyKyWQCA4qnxye4roc8z7Hb1ddu73Xs9H1HcbCG/xhTGKyweH1FEATwfd/K8vcSnuchjhM7hhHsnjhEA1XqABkVpGSJzWaD/X6Pw+GA4/GIpmmgtcYwDN+bIXeYhgVCX1BZlaiqCl3X/RXI1Rn0nx2aDqhpjmhPmjiBpe97C3or/D76xvutOK7rEs/og6X/Orfd2S8b9sx6JMwirddrKFWANbOqlLI6z9WHXVhtVunLsVwBZZbBgFKapjb4LXxjG3EUI8tSw3AM9gkhjC3B8VykKAorXDgzb3Vdw8nSjIRILSAnikQgskDSgkZRZLSwhdi+gGYoNyXatrUbwPp0Ol1maFonfRk6sZMdWo8kdHZ9OGEkg2N4ne59+Q8tpJmETNWDOgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Math Demo&quot;
        title=&quot;Math Demo&quot;
        src=&quot;/static/eba5be1fdc3c4bd81960609ba83a1e88/b9e4f/MathDemo.png&quot;
        srcset=&quot;/static/eba5be1fdc3c4bd81960609ba83a1e88/cf440/MathDemo.png 148w,
/static/eba5be1fdc3c4bd81960609ba83a1e88/d2d38/MathDemo.png 295w,
/static/eba5be1fdc3c4bd81960609ba83a1e88/b9e4f/MathDemo.png 590w,
/static/eba5be1fdc3c4bd81960609ba83a1e88/f9b6a/MathDemo.png 885w,
/static/eba5be1fdc3c4bd81960609ba83a1e88/2d849/MathDemo.png 1180w,
/static/eba5be1fdc3c4bd81960609ba83a1e88/2f8d2/MathDemo.png 1360w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I decorated &lt;code class=&quot;language-text&quot;&gt;$log&lt;/code&gt; with my log provider, used &lt;code class=&quot;language-text&quot;&gt;app.name&lt;/code&gt; (which is “math”) as the default named logger, and configured the logging levels and server side endpoint.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;$provide&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;fef$logProvider&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$provide&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fef$logProvider&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  $provide&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;decorator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;$log&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;$delegate&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$delegate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    fef$logProvider&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;decorate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$delegate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; $delegate&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fef$log&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fef$log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  fef$log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;configure&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; consoleThreshold&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      httpThreshold&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; httpURL&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/log&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;fef$logProvider&lt;/code&gt; supports the same API as &lt;code class=&quot;language-text&quot;&gt;$log&lt;/code&gt;, so when &lt;code class=&quot;language-text&quot;&gt;binaryCalculator&lt;/code&gt; loads…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;factory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;binaryCalculator&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;loading&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;… you see the “loading” message as expected, but prefixed by a timestamp and the top level &lt;code class=&quot;language-text&quot;&gt;math&lt;/code&gt; named logger.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2014-10-16T20:07:16.390Z [math] loading&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But when the &lt;code class=&quot;language-text&quot;&gt;unaryCalculator&lt;/code&gt; is loading…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;unaryCalculator&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fef$log&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; $q&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; $log &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fef$log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;unaryCalculator&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;loading&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;…the named logger is set to &lt;code class=&quot;language-text&quot;&gt;math:unaryCalculator&lt;/code&gt; and that appears in the output.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2014-10-16T20:07:34.616Z [math:unaryCalculator] loading&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I added a debug level log message as output for &lt;code class=&quot;language-text&quot;&gt;$routeChangeSuccess&lt;/code&gt; events.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;$rootScope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;$routeChangeSuccess&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; aRoute&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; bRoute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  fef$log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pageguid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The output to the browser console includes the event name in the named logger: &lt;code class=&quot;language-text&quot;&gt;math:$rootScope.$on&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2014-10-16T19:42:07.019Z [math:$rootScope.$on] $locationChangeStart
2014-10-16T19:42:07.020Z [math:$rootScope.$on] $locationChangeSuccess  http://localhost:3000/#/ -&amp;gt; http://localhost:3000/#/unary/sqrt
2014-10-16T19:42:07.021Z [math:$rootScope.$on] $routeChangeStart
2014-10-16T19:42:07.027Z [math:$rootScope.$on] $routeChangeSuccess
2014-10-16T19:42:07.031Z [math:unaryEquation] loading
2014-10-16T19:42:07.034Z [math:unaryCalculator] loading
2014-10-16T19:42:07.034Z [math] loading
2014-10-16T19:42:07.035Z [math:UnaryOperatorCtrl] loading
2014-10-16T19:42:07.046Z [math:equationInput] loading&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;An internal tool for &lt;strong&gt;TR&lt;/strong&gt;ransaction &lt;strong&gt;M&lt;/strong&gt;onitoring and &lt;strong&gt;R&lt;/strong&gt;eporting (TRMR) supports distributed tracing uses the &lt;code class=&quot;language-text&quot;&gt;x-cobalt-pcid&lt;/code&gt; HTTP header to provide the “page” or “root” level tracing GUID.  This code generates a &lt;a href=&quot;https://www.ietf.org/rfc/rfc4122.txt&quot;&gt;RFC 4122&lt;/a&gt; version 4 UUID and set the HTTP header.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;trmrguid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;/[xy]/g&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; r &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      v &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; c &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;x&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; r &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x3&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; v&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; rootname &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;fef&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; rootGuid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;trmrguid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;generatePageGuid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$http&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  rootGuid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;trmrguid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  $http&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;defaults&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;common&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;x-cobalt-pcid&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; rootGuid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;rootname&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;level &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;page&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;logHttp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Log events are posted to the server side using a JSON structure containing the same timestamp,  logger name, and message output to the browser console.  It also includes the URL, logging level, and the tracability “root” guid generated above.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;items&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;root&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b2ff983e5fe04316af5642a1fbd014ca&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;math:$rootScope.$on&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2014-10-16T19:47:49.308Z&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://localhost:3000/#/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;debug&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;messages&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;$routeChangeSuccess&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;root&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;433b218a10d24b6ead6988d004aeeff1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;math&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2014-10-16T19:47:49.308Z&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://localhost:3000/#/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;page&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, to avoid being to “chatty” over HTTP for each log message, there is a configurable minimum delay to buffer log events.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; logBuffer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;logHttp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;logData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;logBuffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// use setTimeout/XMLHttpRequest instead of&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// $timeout/$http to avoid circular errors&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; logRequest &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;XMLHttpRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            logRequest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;POST&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; baseConfig&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;httpURL&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            logRequest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setRequestHeader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;application/json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            logRequest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; version&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; items&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; logBuffer &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            logBuffer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; baseConfig&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;delay&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    logBuffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;logData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this “Square Root” example, you can see the different components being used.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 487px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5053a2c06889519b65cb8334e4ccf3b0/7b2ae/SquareRoot.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 45.17453798767967%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABcSAAAXEgFnn9JSAAABX0lEQVQoz61RTU/CQBDtn8d6kqsQDyQmRg9yEpQEOIgIxeBBWoXWkhBpG2hooaSllHae201q1Ph1cJKXmcm+t/MlmKZprzzPBvCGOI65f9Y023FdHidJbEdRxGMi+sB/D6FWu0Iut4fjUgknp2coFI9QLBxCVhSI4j7EPRHn5TIO8nk8DGT8ZsJyuSSp26XLapUGskySdEeaqpJlWaTrOimKTMPhkGRZoYXjENPQTybgn03Y7XbYbDYcQRBgvV5zn8L3fY4sTzlhGHLP9olUmyGKtkgSgvD0KOOiUsFoNILjuLBt+8vKbBqwYzFRwrFYLDCfzzGZTJhmDmP6giDcQrBMA6qmsccZJxjTKVYrD+OxDtO04LouZrMZ7zzthE/gB0hYgTT3PI93nxUV1NGQX++mdY3bTgeNRh1Sr4f7fh/NZgOtdhvNegMKu3o6pmEYvMi3O8x+/oulvIybxZ/xCo32p0KmQfhdAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Square Root UI&quot;
        title=&quot;Square Root UI&quot;
        src=&quot;/static/5053a2c06889519b65cb8334e4ccf3b0/7b2ae/SquareRoot.png&quot;
        srcset=&quot;/static/5053a2c06889519b65cb8334e4ccf3b0/cf440/SquareRoot.png 148w,
/static/5053a2c06889519b65cb8334e4ccf3b0/d2d38/SquareRoot.png 295w,
/static/5053a2c06889519b65cb8334e4ccf3b0/7b2ae/SquareRoot.png 487w&quot;
        sizes=&quot;(max-width: 487px) 100vw, 487px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/unary/:operation&lt;/code&gt; routes to &lt;code class=&quot;language-text&quot;&gt;unary.html&lt;/code&gt; which references &lt;code class=&quot;language-text&quot;&gt;&amp;lt;unary-equation&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;{{label}}&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;unary-equation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;unary-equation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        (Calculate Remote:
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;useRemote&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;useRemote”
             type=&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token attr-name&quot;&gt;checkbox&quot;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ng-model&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;useRemote&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;)
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;unary-equation.html&lt;/code&gt; references &lt;code class=&quot;language-text&quot;&gt;&amp;lt;equation-input&amp;gt;&lt;/code&gt; and renders the “calculate” button&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;{{ operation }}
(
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;equation-input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ng-model&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;model.x&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;equation-input&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
)
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ng-click&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;calculate()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;=&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
{{ result }}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;equation-input.html&lt;/code&gt; renders the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;input&amp;gt;&lt;/code&gt; field&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;number&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ng-required&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;placeholder&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{name}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In the browser console screenshot below, you can see each component does some debug logging while “loading”.  There is also either “info” or “error” logging depending the the result of the &lt;code class=&quot;language-text&quot;&gt;calculate&lt;/code&gt; function.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;$scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;calculate&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;calculating...&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; calculator &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;useRemote &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; unaryCalculatorRemote &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; unaryCalculator&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  calculator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;compute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;model&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; $scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;operation&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    $scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$scope&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;reason&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    $scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reason&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/090ff227c8ae6fb1de1707a6311489bd/179f0/ChromeConsole.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.55613126079447%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABcSAAAXEgFnn9JSAAABUElEQVQoz2WRC2+CQBCE+f//ra0o4PGWQ8AqT0kNGm6mC8YmjSRfZpm9XeaC5SuDLDPwfYMoEsIni5cdDLQ2CKSXpgbF0SAMRAsD0sCYd6zPD3DvgZsvcLd96sLi+Qp0HXBrg1UFti3Yd2CuwWmSnQSB/1hb23D5qm3PcF0D1zFwnBmxpA1DSCLAc4E0AarSIM8FDdxuMi0r3hIq1fBw6OEHLaNooWOWjeINjOOOYdhR+TWDoOPxODJNf6TfS+KOwzCuqV7PmtD1KiZJDU9UqZMMfjNOLovHMJI6PnOvKqnP1LplUQxM0nrtn881r+Moi68r0zTRCqITdd5gGU7SCw9ZzVhUPKkvK8uZVLSsep6+B+nVzPSFddPyfr/z8XiszPNMq9qV7L0CjVOy3Wh2XsnGzjlIqn5fru/dVvxdzlEWD5Ksz+S6qqC5jq+7/v2gXyouDEAL6eiDAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Chrome Console&quot;
        title=&quot;Chrome Console&quot;
        src=&quot;/static/090ff227c8ae6fb1de1707a6311489bd/b9e4f/ChromeConsole.png&quot;
        srcset=&quot;/static/090ff227c8ae6fb1de1707a6311489bd/cf440/ChromeConsole.png 148w,
/static/090ff227c8ae6fb1de1707a6311489bd/d2d38/ChromeConsole.png 295w,
/static/090ff227c8ae6fb1de1707a6311489bd/b9e4f/ChromeConsole.png 590w,
/static/090ff227c8ae6fb1de1707a6311489bd/f9b6a/ChromeConsole.png 885w,
/static/090ff227c8ae6fb1de1707a6311489bd/179f0/ChromeConsole.png 1158w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;ErrorCtrl&lt;/code&gt; of this application exists just to throw a JavaScript &lt;code class=&quot;language-text&quot;&gt;Error&lt;/code&gt; with the message “thrown”.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ErrorCtrl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$scope&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fef$log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; $log &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fef$log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ErrorCtrl&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;loading&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;thrown&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And when the &lt;code class=&quot;language-text&quot;&gt;/error&lt;/code&gt; route is loaded, the stacktrace appears in the browser console.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2014-10-16T20:10:02.106Z [math:ErrorCtrl] loading
2014-10-16T20:10:02.107Z [math]  Error: thrown
    at new ErrorCtrl (http://localhost:3000/javascripts/math.js:50:9)
    at invoke (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:3966:17)
    at Object.instantiate (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:3977:23)
    at http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:7281:28
    at link (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-route.js:907:26)
    at nodeLinkFn (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6711:13)
    at compositeLinkFn (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6105:13)
    at publicLinkFn (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6001:30)
    at boundTranscludeFn (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6125:21)
    at controllersBoundTransclude (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6732:18) &amp;lt;ng-view class=&amp;quot;ng-scope&amp;quot;&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Additionally, an HTTP &lt;code class=&quot;language-text&quot;&gt;POST&lt;/code&gt; JSON payload is sent to the configured &lt;code class=&quot;language-text&quot;&gt;httpURL&lt;/code&gt; including that stacktrace and other logging fields.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;items&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;root&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;00f59ba88fe04df987bf774f0eae08c4&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;math&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2014-10-16T20:10:02.107Z&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://localhost:3000/#/error&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;messages&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;Error: thrown&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;ng-view class=\&quot;ng-scope\&quot;&gt;&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;stacktrace&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;new ErrorCtrl@http://localhost:3000/javascripts/math.js:50:9&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;invoke@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:3966:17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;Object.instantiate@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:3977:23&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;{anonymous}()@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:7281:28&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;link@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-route.js:907:26&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;nodeLinkFn@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6711:13&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;compositeLinkFn@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6105:13&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;publicLinkFn@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6001:30&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;boundTranscludeFn@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6125:21&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;controllersBoundTransclude@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6732:18&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;On the server side, you can see the &lt;code class=&quot;language-text&quot;&gt;$routeChange&lt;/code&gt; events as well as the &lt;code class=&quot;language-text&quot;&gt;ErrorCtrl&lt;/code&gt; loading and the same “Error: thrown” message.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2014-10-16T20:10:02.097Z DEBUG [math:$rootScope.$on] $locationChangeStart
2014-10-16T20:10:02.098Z LOG   [math:$rootScope.$on] $locationChangeSuccess  http://localhost:3000/#/unary/abs -&amp;gt; http://localhost:3000/#/error
2014-10-16T20:10:02.099Z DEBUG [math:$rootScope.$on] $routeChangeStart
2014-10-16T20:10:02.104Z DEBUG [math:$rootScope.$on] $routeChangeSuccess
00f59ba88fe04df987bf774f0eae08c4 http://localhost:3000/#/error
2014-10-16T20:10:02.106Z DEBUG [math:ErrorCtrl] loading
2014-10-16T20:10:02.107Z ERROR [math] Error: thrown &amp;lt;ng-view class=&amp;quot;ng-scope&amp;quot;&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now that I feel this concept is workable, it’s time for a design review, including the JSON log format, and to write some unit tests before I ask teams to adopt this methodology.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; The early 2015 conclusion of this research is available on GitHub at &lt;a href=&quot;https://github.com/hakanson/mathdemo-angularjs&quot;&gt;hakanson/mathdemo-angularjs&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Hindi Number Formatting in JavaScript]]></title><description><![CDATA[For a project I am consulting on, we were looking at globalization topics in the browser, including support for Hindi.  I have mostly worked…]]></description><link>https://kevinhakanson.com/2014-10-07-hindi-number-formatting-in-javascript</link><guid isPermaLink="false">https://kevinhakanson.com/2014-10-07-hindi-number-formatting-in-javascript</guid><pubDate>Tue, 07 Oct 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;For a project I am consulting on, we were looking at globalization topics in the browser, including support for Hindi.  I have mostly worked with Latin based character sets in my internationalization efforts, so I wanted to dig into the topic a bit.  I started with my favorite date for test cases and thought I would see how various JavaScript libraries/frameworks handled the formatting.  Testing was done in Chrome 37.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; then &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;AngularJS&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;date&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;then&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;EEEE, d MMMM y h:mm:ss a&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;मंगलवार, 1 जनवरी 2013 1:01:01 pm&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Twitter CLDR&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; fmt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TwitterCldr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DateTimeFormatter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

fmt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;then&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;full&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;मंगलवार, 1 जनवरी 2013 1:01:01 अपराह्न UTC-06:00&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;ECMA 402&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; options &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  weekday&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;long&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  month&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;short&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  day&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;numeric&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  year&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;numeric&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  hour&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;numeric&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  minute&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2-digit&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  second&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2-digit&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  hour12&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; dtf &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Intl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DateTimeFormat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hi&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

dtf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;then&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;मंगलवार, १ जनवरी २०१३ १:०१:०१ अपराह्न&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;jQuery Globalize&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;Globalize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; then &lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;F&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;hi&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;01 जनवरी 2013 13:01:01&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;MomentJS&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;moment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;then&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;LLLL&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;मंगलवार, १ जनवरी २०१३, दोपहर १:०१ बजे&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now, these aren’t exactly the same format options across the libraries, but they are close.  You can see similar string values across the libraries, but you may notice that AngularJS and MomentJS use Devanagari numerals instead of our familiar 0-9 (see &lt;a href=&quot;http://en.wikipedia.org/wiki/Indian_numerals&quot;&gt;Indian numerals&lt;/a&gt;).&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Modern Devanagari&lt;/th&gt;
&lt;th&gt;Hindu–Arabic&lt;/th&gt;
&lt;th&gt;Hindi word for the cardinal numeral&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;०&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;śūnya (शून्य)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;१&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;ék (एक)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;२&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;do (दो)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;३&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;tīn (तीन)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;४&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;cār (चार)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;५&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;pān̄c (पाँच)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;६&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;chaḥ (छः)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;७&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;sāt (सात)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;८&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;āṭh (आठ)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;९&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;nau (नौ)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;I looked in the ECMA 402 specification and found Devanagari referenced as deva (U+0966 to U+096F) in &lt;a href=&quot;http://www.ecma-international.org/ecma-402/1.0/#table-2&quot;&gt;Table 2 – Numbering systems with simple digit mappings&lt;/a&gt;. The “Date and time formatting options” section of &lt;a href=&quot;http://generatedcontent.org/post/59403168016/esintlapi&quot;&gt;ECMAScript Internationalization API&lt;/a&gt; gave me a clue on the next steps.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;As with NumberFormat, the numberingSystem property can only be set with the Unicode u extension to the language tag, using the nu keyword.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I decided to reduce my test case to some simpler number formatting to continue my experiment.  Chrome, Firefox and IE 11 all supported both “hi-u-nu-latn” and “hi-u-nu-deva” as extensions.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;num &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1234567890&lt;/span&gt;

&lt;span class=&quot;token number&quot;&gt;1234567890&lt;/span&gt;

num&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toLocaleString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hi-u-nu-latn&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token string&quot;&gt;&quot;1,23,45,67,890&quot;&lt;/span&gt;

num&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toLocaleString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hi-u-nu-deva&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token string&quot;&gt;&quot;१,२३,४५,६७,८९०&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, Chrome 37 was alone in selecting “deva” as the default numbering system.  Firefox, IE 11, and even Chrome 40 canary selected “latn” instead.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Intl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;NumberFormat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolvedOptions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

Object &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;locale&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;hi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; numberingSystem&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;deva&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; style&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;decimal&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useGrouping&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; minimumIntegerDigits&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;…&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Intl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;NumberFormat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;num&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token string&quot;&gt;&quot;१,२३,४५,६७,८९०&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The formatting mystery has been solved.  If I continued, I would look at how to parse these same formatted numbers and dates in JavaScript.  I am less confident about that.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[I was a victim of internet plagiarism]]></title><description><![CDATA[I often present at developer-focused conferences and user groups on JavaScript and web platform topics.  One presentation I give is on…]]></description><link>https://kevinhakanson.com/2014-09-23-i-was-a-victim-of-internet-plagiarism</link><guid isPermaLink="false">https://kevinhakanson.com/2014-09-23-i-was-a-victim-of-internet-plagiarism</guid><pubDate>Tue, 23 Sep 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I often present at developer-focused conferences and user groups on JavaScript and web platform topics.  One presentation I give is on JavaScript Internationalization (initially at the 2013 internal Technology Unconference and most recently this summer at &lt;a href=&quot;https://www.thatconference.com/sessions/session/2235&quot;&gt;That Conference&lt;/a&gt;).  My title and abstract are below.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Internationalize your JavaScript Application: Prepare for “the next billion” internet users.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Are you prepared for “the next billion” internet users, most of whom don’t use English as their primary language?&lt;/p&gt;
&lt;p&gt;This session will explore the globalization (internationalization and localization) of JavaScript based applications. It will look at the ECMAScript Internationalization API and popular open source projects like AngularJS, messageformat.js, jQuery Globalize and twitter-cldr-js.&lt;/p&gt;
&lt;p&gt;Topics will include cultures/locales, character encoding, number formatting, date formatting, choice/plural formatting and translations.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Yesterday I got a message from a friend that informed me that someone was presenting the following session at an AngularJS meetup:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;il8n for AngularJS: Prepare for “the next billion” internet users&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Are you prepared for “the next billion” internet users, most of whom don’t use English as their primary language?&lt;/p&gt;
&lt;p&gt;We will explore the various strategies for globalization (internationalization, localization and pluralization) of AnguarJS Applications, discussing the various pros and cons of each of these techniques. We will also take a look at the ECMAScript Internationalization API and other popular open-source projects, libraries and modules, the objective being to identify certain factors that affect the decision of what approach to ultimately take in building out a custom solution or integrating an existing one.&lt;/p&gt;
&lt;p&gt;Topics will include cultures/locales, number formatting, datetime formatting, choice/plural formatting (using ng-pluralize) and translations along with best practices, common pitfalls and finally, the role of the API (backend server).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The abstract looks like a blatant copy of my subtitle, lead sentence and overall abstract structure.  What to do now?  Rage Tweet?  I decided to email the meetup organizers, asking them to look into my concern.  They replied and informed me they had contacted the speaker to address the issue.  They had also viewed the content, and it was original.  Later that day, the abstract was updated to remove the explicitly copied text.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Internationalize AngularJS: Globalized Apps for a Global Audience&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Your app may work great in your region, but how well does it work for the rest of the world’s internet users, a large number of whom don’t use English as their primary language?&lt;/p&gt;
&lt;p&gt;We will explore various strategies for internationalization, including localization and translations, of AngularJS applications, discussing the various pros and cons of each technique. We will also briefly examine the ECMAScript Internationalization API and other popular open-source projects (modular libraries) for similarities and differences; the objective being to identify certain factors that affect the decision of what approach to ultimately take in building globalization support into your new and/or existing AngularJS applications.&lt;/p&gt;
&lt;p&gt;Topics will include number and datetime formatting, cultures/locales, pluralization (using ngPluralize) and gender formatting, along with best practices, common pitfalls and finally, the role of your API (backend server).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;After the meetup, I took a look at the speaker’s slide deck to see if any of my content was copied.  It appears this was an original presentation, but the speaker did borrow my numeronym joke (original credit to Rick Preston). However, it works much better with my name (K3n H6n), which also ends with the letter &lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt; like I18n and L10n.   It only contained about 25% of what I cover in my presentation, and the speaker did credit me on his closing slide.&lt;/p&gt;
&lt;p&gt;How do you think I handled the situation?  What could I have done differently or is there anything I should still do?  Have you been a victim of internet plagiarism?  Let me know in the comments below.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Reimagining Cobalt.js preferences in AngularJS using UML]]></title><description><![CDATA[Our 2008 era Cobalt.js JavaScript code looks a bit substandard compared to what we would write today: We used a common Cobalt object off the…]]></description><link>https://kevinhakanson.com/2014-07-31-reimagining-cobaltjs-preferences-in-angularjs-using-uml</link><guid isPermaLink="false">https://kevinhakanson.com/2014-07-31-reimagining-cobaltjs-preferences-in-angularjs-using-uml</guid><pubDate>Thu, 31 Jul 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Our 2008 era Cobalt.js JavaScript code looks a bit substandard compared to what we would write today: We used a common Cobalt object off the global namespace, convention based private variables/functions prefixed by &lt;code class=&quot;language-text&quot;&gt;_&lt;/code&gt;, and (gasp) synchronous XHR requests so our APIs could avoid callbacks.&lt;/p&gt;
&lt;p&gt;Here’s a representative look at how WestlawNext accessed preferences from the browser:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/032c6c019866344c432b492477d5090f/34d87/WLN%2BPreferences.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 92.29979466119097%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsSAAALEgHS3X78AAABlElEQVQ4y42UbXOCQAyE7///QcapDqAoUER50dICQh+z09M6nep+uMldbpNNcuD6vv8ydF03TdM4jpxkWRYEwWKxCMMwjuO6rud5xvtp0H1O3PF4fDfsdrthGDiFib3dbpMkgQbncrlwlTXPc1xc2O/3bB0JD4dDWZbr9Vq+NE3xtW2LBMLNPyAK2w8DBltHAKSyaZqG09PpBK00zH9hNMh20NBMbYg8n8/oJASFEUXZ/iNjKSdrURQIRjwGgZ6TVQmrKoeMoZa8JJt79ElF+sbet+qB7F1X2SikSGTDJy2xqFw1E4Wea7YqwQ/5SlYSHFzyI4XM29DYVqvVm0HDj6KIjtzI0LBaAypYcTMCMvSGweAfIkJustnQbQKTkAeHYEJw6Xm3CdkZKBWRqNLzemlUXrb4DJm2qTziSrO+FtnIfCSrYT48hyqbWJKj74HtZrORqF+ZKbUx4KNy8qtPpKqqCl2SgOHTOLkBBE5ZIROI5t2Xp/rZagSTwel5geVyqUBMmM8Teaglp28bGvl49HvgPttvtrIOQLWKTswAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;WLN Preferences UML Sequence Diagram&quot;
        title=&quot;WLN Preferences UML Sequence Diagram&quot;
        src=&quot;/static/032c6c019866344c432b492477d5090f/b9e4f/WLN%2BPreferences.png&quot;
        srcset=&quot;/static/032c6c019866344c432b492477d5090f/cf440/WLN%2BPreferences.png 148w,
/static/032c6c019866344c432b492477d5090f/d2d38/WLN%2BPreferences.png 295w,
/static/032c6c019866344c432b492477d5090f/b9e4f/WLN%2BPreferences.png 590w,
/static/032c6c019866344c432b492477d5090f/f9b6a/WLN%2BPreferences.png 885w,
/static/032c6c019866344c432b492477d5090f/34d87/WLN%2BPreferences.png 974w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If I was coding something similar today using features of &lt;a href=&quot;https://angularjs.org/&quot;&gt;AngularJS&lt;/a&gt;, it would look more like this - utilizing &lt;a href=&quot;https://docs.angularjs.org/guide/di&quot;&gt;Dependency Injection&lt;/a&gt; and &lt;a href=&quot;https://docs.angularjs.org/api/ng/service/$q&quot;&gt;$q&lt;/a&gt; for Promises.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/49b2e83248421a0a82de0f8b4b679352/f5987/AngularJS%2BPreferences.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 87.36637512147716%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsSAAALEgHS3X78AAABt0lEQVQ4y1XT53LCQAwEYL//IzIMNXRMr6blszeQRD80sm5XWunOxePxOJ1O5/P5fr+fGuv1eu12u9PptFotXtzv97vd7vF4vF6vAJfLBR6xuN1us9msLEvf0+l0OBxOJpP5fC4p4DH5r8YWi8VoNFqtVjJVVRWv10vP5/Mp4NWWVftwOKzX6/F4DCqpdNWYWE8U+JosFTKjLaqQN5tNBgHdbrcCTAEwvT9kWdoGg0EURguDiJag0wBY51+yY02U3O12pNKZFZAQXTw0jiCr+iVn5s+ZAzQV9/v9BwcTwL+ZddNquVzyBvbJo/G0zBsTkybp1KfSWU3hAtCcKamerE93ZgWuzd3gyGcKI+BDilEKQyLcGnOmmz3zZWNZBMDibS5PUi35wtOJkmtjmJlZQ6AEGQdMObrkZairO+d55J6BECTLt0HbUPU2AJ/wahXZBzQlAq+PMN4KPU9CdKYoDxsZMjLrzlmJEllD9pEfADOLDTl7zVLkazJhf2VnTh5Ok2wx9yzgneaSa9n5h6JTIdejpE/5/EDyCjlK26xNXciCvBAcCDxvM3vhvCcgL6NQHj8m75Mn/htrWcct+q1poAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AngularJS Preferences UML Sequence Diagram&quot;
        title=&quot;AngularJS Preferences UML Sequence Diagram&quot;
        src=&quot;/static/49b2e83248421a0a82de0f8b4b679352/b9e4f/AngularJS%2BPreferences.png&quot;
        srcset=&quot;/static/49b2e83248421a0a82de0f8b4b679352/cf440/AngularJS%2BPreferences.png 148w,
/static/49b2e83248421a0a82de0f8b4b679352/d2d38/AngularJS%2BPreferences.png 295w,
/static/49b2e83248421a0a82de0f8b4b679352/b9e4f/AngularJS%2BPreferences.png 590w,
/static/49b2e83248421a0a82de0f8b4b679352/f9b6a/AngularJS%2BPreferences.png 885w,
/static/49b2e83248421a0a82de0f8b4b679352/f5987/AngularJS%2BPreferences.png 1029w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Why the trip down memory lane?  Also, why am I showing UML diagrams instead of code snippets?  I’m thinking about good software engineering patterns and practices in the browser and how to best communicate those across teams.  I like the UML notation of filled arrowheads for synchronous and stick arrowheads for asynchronous calls.  I like how UML shows the grouping for optional and alternate flows.  I mostly like that the reader needs to look at and understand the diagram concepts, and not just copy/paste the code and “debug” their way into understanding.  Since UML is a representation and not the code, it lets the reader map to any language (or any &lt;a href=&quot;https://github.com/jashkenas/coffeescript/wiki/List-of-languages-that-compile-to-JS&quot;&gt;compile to JavaScript language&lt;/a&gt; in this case). Maybe I just like pulling out my copy of Martin Fowler’s &lt;a href=&quot;http://martinfowler.com/books/uml.html&quot;&gt;UML Distilled&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Aside from critiques on my diagraming skills, what are your thoughts on UML vs. code snippets to communicate with other developers?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[CDN Hosting of JavaScript and Information Security Aspects]]></title><description><![CDATA[During the last Front-End group call, we were discussing JavaScript combination/minification when the topic of using a Content Delivery…]]></description><link>https://kevinhakanson.com/2014-07-03-cdn-hosting-of-javascript-and-information-security-aspects</link><guid isPermaLink="false">https://kevinhakanson.com/2014-07-03-cdn-hosting-of-javascript-and-information-security-aspects</guid><pubDate>Thu, 03 Jul 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;During the last Front-End group call, we were discussing JavaScript combination/minification when the topic of using a &lt;a href=&quot;http://en.wikipedia.org/wiki/Content_delivery_network&quot;&gt;Content Delivery Network&lt;/a&gt; (CDN) came up.  This is a well-known performance “best practice” on the internet, but I mentioned it comes with some interesting information security concerns.  It looks something like this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;script src=&amp;quot;//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For those new to the topic, you can find many blog posts detailing this strategy.  For example, take a look at &lt;a href=&quot;http://encosia.com/3-reasons-why-you-should-let-google-host-jquery-for-you/&quot;&gt;3 reasons why you should let Google host jQuery for you&lt;/a&gt;.  Since this article mentions jQuery and not AngularJS, I’m going to continue to use jQuery for this discussion.  The author asserts that:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Doing so has several advantages over hosting jQuery on your server(s): &lt;strong&gt;decreased latency&lt;/strong&gt;, &lt;strong&gt;increased parallelism&lt;/strong&gt;, and &lt;strong&gt;better caching&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let me summarize these points with some more quotes from that article:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;decreased latency&lt;/strong&gt; - “automatically target the closest available server in the network” so the user “will be able to download jQuery faster”&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;increased parallelism&lt;/strong&gt; - “doesn’t make a gigantic difference for users with a six concurrent connection browser”&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;better caching&lt;/strong&gt; - “if someone visits hundreds of sites using the same Google hosted version of jQuery, they will only need download it once!”&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The jQuery site itself mentions &lt;a href=&quot;http://jquery.com/download/#using-jquery-with-a-cdn&quot;&gt;Using jQuery with a CDN&lt;/a&gt; including listing several CDNs that host jQuery.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;CDNs can offer a performance benefit by hosting jQuery on servers spread across the globe. This also offers an advantage that if the visitor to your webpage has already downloaded a copy of jQuery from the same CDN, it won’t have to be re-downloaded.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I am going to differentiate using a public, free CDN like &lt;a href=&quot;http://code.jquery.com/&quot;&gt;jQuery CDN&lt;/a&gt; or &lt;a href=&quot;https://developers.google.com/speed/libraries/devguide#jquery&quot;&gt;Google Hosted Libraries&lt;/a&gt; from using a paid product like &lt;a href=&quot;http://www.akamai.com/html/solutions/dynamic-site-accelerator.html&quot;&gt;Dynamic Site Accelerator&lt;/a&gt; from Akamai.  With the latter, you have an established business relationship that has been vetted around topics like uptime/SLA and security reviews.&lt;/p&gt;
&lt;p&gt;From an information security perspective, here are some items to consider:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Isn’t CDN hosting logically just another one of the &lt;a href=&quot;https://www.owasp.org/index.php/Types_of_Cross-Site_Scripting&quot;&gt;Types of Cross-Site Scripting&lt;/a&gt;?  Yes, it is true that you injected the script yourself, but it is still loading a remote executable that has access to your data.  What if the CDN gets hacked?&lt;/li&gt;
&lt;li&gt;Not hosting the source code yourself means it may not be included in any static source code scanning performed on your build (like Veracode).&lt;/li&gt;
&lt;li&gt;You implicitly accept any &lt;a href=&quot;https://developers.google.com/speed/libraries/terms&quot;&gt;Termgenerals of Service&lt;/a&gt; for your users, including any user or IP address tracking.  Is this compatible with your product’s terms of service?&lt;/li&gt;
&lt;li&gt;The &lt;a href=&quot;http://jquery.com/download/#other-cdns&quot;&gt;Other CDNs&lt;/a&gt; section on the jQuery site states “there may be delays between a jQuery release and its availability there”, which means if you have to push out a security fix, you need to wait for the CDN to deploy.&lt;/li&gt;
&lt;li&gt;The &lt;a href=&quot;https://plus.google.com/+IlyaGrigorik/posts/N8dDov8vWcM&quot;&gt;jQuery CDN HTTPS certificate expired on July 31&lt;/a&gt; and caused a short outage.  So, in addition to not being in control of the code that is hosted, you don’t have control over if the site is functional or not.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In general, I like the idea of free hosting.  For a personal blog, where users may quickly pop in to read a post and maybe never come back, they serve an important purpose.  In fact, many of these CDNs have excellent operational and security characteristics.  However, for a paid product where we are trusted with the privacy of their data, these are essential points to consider.  I wouldn’t recommend a free CDN for the projects I am working on, but “your mileage may vary” so understand the risks vs. the rewards before taking general advice from the internet.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Page Visibility API]]></title><description><![CDATA[I am taking an online Leadership & Influence for Architects training series with about 20 architects across the company.  The facilitator…]]></description><link>https://kevinhakanson.com/2014-07-03-page-visibility-api</link><guid isPermaLink="false">https://kevinhakanson.com/2014-07-03-page-visibility-api</guid><pubDate>Thu, 03 Jul 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I am taking an online &lt;strong&gt;Leadership &amp;#x26; Influence for Architects&lt;/strong&gt; training series with about 20 architects across the company.  The facilitator requested full attention and to avoid the temptation to multi-task.  Of course, I complied, but I wondered if they could detect infractions from the other attendees.  Then I remembered the &lt;a href=&quot;http://www.w3.org/TR/page-visibility/&quot;&gt;Page Visibility API&lt;/a&gt; and realized that they could tell if anyone was switching browser tabs to check email or Twitter.  I’m sure that some advertisers use this to force you to watch that 30-second lead-in video ad before consuming the content you came to watch.&lt;/p&gt;
&lt;p&gt;I wanted to code something up and give it a try.  The MDN &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Guide/User_experience/Using_the_Page_Visibility_API&quot;&gt;Using the Page Visibility API&lt;/a&gt; document got me started, but I wanted to hook this DOM event into an AngularJS based application.  The following snippet of code will &lt;code class=&quot;language-text&quot;&gt;$broadcast&lt;/code&gt; the values of &lt;code class=&quot;language-text&quot;&gt;document.hidden&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;document.visibilityState&lt;/code&gt; whenever &lt;code class=&quot;language-text&quot;&gt;visibilitychange&lt;/code&gt; fires.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;    app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;$log&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;$rootScope&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;$document&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$log&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; $rootScope&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; $document&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;listen for visibilitychange event&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        $document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;visibilitychange&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hidden=&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hidden &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; / visibilityState=&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;visibilityState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            $rootScope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$broadcast&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;visibilityChange&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hidden&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;visibilityState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To listen for this event, I hooked up to &lt;code class=&quot;language-text&quot;&gt;$rootScope&lt;/code&gt;, but could have also hooked to a &lt;code class=&quot;language-text&quot;&gt;$scope&lt;/code&gt; from inside a controller.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;    app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;$log&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;$rootScope&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$log&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; $rootScope&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        $rootScope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;visibilityChange&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; hidden&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; visibilityState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hidden &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; / &apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; visibilityState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As I switched tabs, I could see the change between &lt;code class=&quot;language-text&quot;&gt;hidden=true / visibilityState=hidden&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;hidden=false / visibilityState=visible&lt;/code&gt;  However, in Chrome if the tab is on top of its own window, you can switch to a tab on another Chrome window without firing the event.&lt;/p&gt;
&lt;p&gt;You may ask why am I spending time on this and how is this relevant to building web applications?  Imagine if your app was using websockets or long polling to communicate with the server.  You may make an app decision to throttle back those requests after a tab goes hidden in order to save the user’s resources (e.g. battery or bandwidth). If the application has collaboration features like chat or online presence awareness, the visibility state could provide useful information.  Additionally, if the user has multiple tabs open and their session times out, you might only want to redirect the visible tab back to the login page.  Those are just a few ideas for using the Page Visibility API.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[The Architecture of Open Source Applications]]></title><description><![CDATA[I was reading through my latest Dr. Dobbs Update email, and saw an interesting article on Firefox Release Engineering. The article talks…]]></description><link>https://kevinhakanson.com/2014-06-24-the-architecture-of-open-source-applications</link><guid isPermaLink="false">https://kevinhakanson.com/2014-06-24-the-architecture-of-open-source-applications</guid><pubDate>Tue, 24 Jun 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was reading through my latest &lt;a href=&quot;http://www.drdobbs.com/&quot;&gt;Dr. Dobbs&lt;/a&gt; Update email, and saw an interesting article on &lt;a href=&quot;http://www.drdobbs.com/article/print?articleId=240168409&amp;#x26;siteSectionName=architecture-and-design&quot;&gt;Firefox Release Engineering&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The article talks about their release mindset, including the importance of release automation and a “Release Coordinator,” who is the one person who is designated to assume responsibility for coordinating the entire release.  I like the terminology of “calm precision” from the quote below.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When we do have a chemspill release, the more robust the release automation, the less stressed the humans in Release Engineering are. We’re used to the idea of going as fast as possible with calm precision, and we’ve built tools to do this as safely and robustly as we know how. Less stress means more calm and precise work within a well-rehearsed process, which in turn helps chemspill releases go smoothly.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There is a lot of useful information in this article which concludes with Lessons Learned:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The Importance of Buy-in from Other Stakeholders&lt;/li&gt;
&lt;li&gt;Involving Other Groups&lt;/li&gt;
&lt;li&gt;Establishing Clear Handoffs&lt;/li&gt;
&lt;li&gt;Managing Turnover&lt;/li&gt;
&lt;li&gt;Managing Change&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I often sit through the closing credits of a movie to see if they put anything interesting at the end.  I’m glad I also did for this article since an endnote mentioned:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;This article was excerpted with permission from Volume 2 of&lt;/em&gt; &lt;a href=&quot;http://www.lulu.com/shop/amy-brown-and-greg-wilson/the-architecture-of-open-source-applications/paperback/product-18961377.html&quot;&gt;Architecture of Open Source Applications&lt;/a&gt; &lt;em&gt;and lightly edited.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The link brought me to a page where I could buy the paper book for $25 or ebook for $10.  I also noticed it was copyright Creative Commons Attribution 3.0 Unported.  Knowing this means I find this information for free somewhere, my google search brought me to &lt;a href=&quot;http://aosabook.org/en/index.html&quot;&gt;http://aosabook.org/en/index.html&lt;/a&gt;, where I found three books:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;The Architecture of Open Source Applications&lt;/strong&gt;&lt;br&gt;
Elegance, Evolution and a Few Fearless Hacks&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;The Architecture of Open Source Applications&lt;/strong&gt;&lt;br&gt;
Volume II: Structure, Scale and a Few More Fearless Hacks&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;The Performance of Open Source Applications&lt;/strong&gt;&lt;br&gt;
Speed, Precision, and a Bit of Serendipity&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I now have more items to add to my summer reading list.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[I love to talk; I hate to type.]]></title><description><![CDATA[If you know me, you won’t be surprised that I love to talk. What you may not know, is that I hate to type. Between my poor spelling and my…]]></description><link>https://kevinhakanson.com/2014-06-01-i-love-to-talk-i-hate-to-type</link><guid isPermaLink="false">https://kevinhakanson.com/2014-06-01-i-love-to-talk-i-hate-to-type</guid><pubDate>Sun, 01 Jun 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;If you know me, you won’t be surprised that I love to talk. What you may not know, is that I hate to type. Between my poor spelling and my constant typos, I think the &lt;code class=&quot;language-text&quot;&gt;delete&lt;/code&gt; key accounts for about 50% of my keystrokes. In fact, typing class was the only B-grade in my high school career. 25 years later and I’m not that much better.&lt;/p&gt;
&lt;p&gt;On iOS, Siri gives you exceptional dictation abilities. Recently, I heard about a new iOS application from Scott Hanselman (&lt;a href=&quot;https://twitter.com/shanselman&quot;&gt;@shanselman&lt;/a&gt;), one of my favorite Microsoft employees. He was able to leverage Siri on iOS to do dictation into any Windows application. Learn more about it at &lt;a href=&quot;http://myechoapp.com/&quot;&gt;myEcho: Bringing iOS quality speech recognition and dictation to Windows&lt;/a&gt; and read about how it was built using C# on his blog: &lt;a href=&quot;http://www.hanselman.com/blog/WeAreAbstractingOnTheShouldersOfGiants.aspx&quot;&gt;We are abstracting on the shoulders of giants&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;That made me wonder - can my Mac do dictation? A quick Google search indicated that it could, and it was easy to use. To prove it, I dictated the first draft of this blog post.  Learn how to enable diction on your Mac: &lt;a href=&quot;http://support.apple.com/kb/ht5449&quot;&gt;Mac Basics: Dictation lets you speak text instead of typing&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Do you speak to your computer and expect it to listen?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[cf.Objective() 2014]]></title><description><![CDATA[Last week I was a speaker at cf.Objective() 2014: The World’s Only Enterprise ColdFusion Conference, giving my Developer’s Guide to…]]></description><link>https://kevinhakanson.com/2014-05-20-cfobjective-2014</link><guid isPermaLink="false">https://kevinhakanson.com/2014-05-20-cfobjective-2014</guid><pubDate>Tue, 20 May 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Last week I was a &lt;a href=&quot;http://www.cfobjective.com/speakers/kevin-hakanson/&quot;&gt;speaker&lt;/a&gt; at &lt;a href=&quot;http://www.cfobjective.com/&quot;&gt;cf.Objective() 2014: The World’s Only Enterprise ColdFusion Conference&lt;/a&gt;, giving my &lt;a href=&quot;http://www.cfobjective.com/sessions/developers-guide-to-javascript-and-web-cryptography/&quot;&gt;Developer’s Guide to JavaScript and Web Cryptography&lt;/a&gt; presentation.  It took place May 13-16, 2014 at the Radisson Blu - Mall of America, Bloomington, MN.  Session organizers were looking for more Front-End / Mobile / CSS sessions including &lt;strong&gt;js.Objective()&lt;/strong&gt;, a full track dedicated to JavaScript topics.&lt;/p&gt;
&lt;p&gt;When I was there, I caught a couple interesting (and relevant) sessions.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cfobjective.com/sessions/keynote-address-redesigning-the-interface-making-software-development-make-sense-to-everyone/&quot;&gt;**Keynote Address** Redesigning the Interface: Making Software Development Make Sense to Everyone&lt;/a&gt; -
Jen Myers (&lt;a href=&quot;https://twitter.com/antiheroine&quot;&gt;@antiheroine&lt;/a&gt;) -
&lt;a href=&quot;https://speakerdeck.com/jenmyers/redesigning-the-interface&quot;&gt;slides&lt;/a&gt;
Jen is a web designer/developer, teacher and speaker from Chicago.  She gave a good presentation on diversity in software development, an especially relevant topic in today’s environment.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cfobjective.com/sessions/security-headers/&quot;&gt;Security Headers - cf.Objective()&lt;/a&gt; -
Pete Freitag (&lt;a href=&quot;https://twitter.com/pfreitag&quot;&gt;@pfreitag&lt;/a&gt;) -
&lt;a href=&quot;http://slides.com/petefreitag/security-headers&quot;&gt;slides&lt;/a&gt; Pete shared some good info on Content-Security-Policy at &lt;a href=&quot;http://content-security-policy.com/&quot;&gt;Content Security Policy Reference &amp;#x26; Examples&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also, by viewing HTTP headers coming from Google Fonts, I learned about the Timing-Allow-Origin Response header from the &lt;a href=&quot;http://www.w3.org/TR/2014/CR-resource-timing-20140325/&quot;&gt;Resource Timing&lt;/a&gt; spec:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The PerformanceResourceTiming interface exposes timing information for a resource to any web page that has included that resource. To limit the access to the PerformanceResourceTiming interface, the same origin policy is enforced by default and certain attributes are set to zero, as described in Section 4.5 Cross-origin Resources. Resource providers can explicitly allow all timing information to be collected for a resource by adding the Timing-Allow-Origin HTTP response header, which specifies the domains that are allowed to access the timing information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cfobjective.com/sessions/using-owasp-zap-to-find-vulnerabilities-in-your-web-apps/&quot;&gt;Using OWASP ZAP to find vulnerabilities in your web apps&lt;/a&gt; -
David Epler (&lt;a href=&quot;https://twitter.com/dcepler&quot;&gt;@dcepler&lt;/a&gt;) -
To get good at writing secure software, you really should try and hack your own code - ZAP is a tool that can help you do that.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cfobjective.com/sessions/web-components-are-awesome-and-polymer-too/&quot;&gt;Web Components are Awesome (and Polymer too)&lt;/a&gt; -
Elliott Sprehn (&lt;a href=&quot;https://twitter.com/ElliottZ&quot;&gt;@ElliottZ&lt;/a&gt;) -
&lt;a href=&quot;http://elliottsprehn.com/preso/webcomponents/&quot;&gt;slides&lt;/a&gt; -
Elliott is the tech lead for the web components effort at Google, so he seemed qualified to speak on this topic.  His HTML5 based slide deck was written using Web Components (you can view source and look for &lt;code class=&quot;language-text&quot;&gt;&amp;lt;sd-deck&amp;gt;&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;&amp;lt;sd-slide&amp;gt;&lt;/code&gt; elements).  He also helped me make progress on an open Chromium bug I submitted last fall:  &lt;a href=&quot;https://code.google.com/p/chromium/issues/detail?id=304722&quot;&gt;Issue 304722 -  chromium -  Intl NumberFormat minimumFractionDigits options property not honored&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cfobjective.com/sessions/leveling-up-at-javascript-understanding-the-confusing-bits/&quot;&gt;Leveling Up at Javascript: Understanding the Confusing bits - cf.Objective()&lt;/a&gt;
Jason Dean(12Robots) (&lt;a href=&quot;https://twitter.com/JasonPDean&quot;&gt;@JasonPDean&lt;/a&gt;) -
Jason is also from MN and the person who shared the call for speakers with the &lt;a href=&quot;http://www.meetup.com/JavaScriptMN/&quot;&gt;JavaScriptMN Meetup&lt;/a&gt; group last fall.  His presentation was more intro level, but he had great examples of JavaScript variable &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var#var_hoisting&quot;&gt;hoisting&lt;/a&gt; which validated his session title by confusing the audience.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cfobjective.com/sessions/panel-discussion-why-client-side/&quot;&gt;Panel Discussion: Why Client-Side?&lt;/a&gt; -
Nothing really new in this moderator led panel discussion on client-side vs. server side development, but it did validate that this is a common issue faced by many web developers.  The answer almost always was that “it depends.”&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cfobjective.com/sessions/futurejs-an-introduction-to-ecmascript-6-e2809charmonye2809d/&quot;&gt;FutureJS: An Introduction to ECMAScript 6 “Harmony”&lt;/a&gt; -
Marcin Szczepanski (&lt;a href=&quot;https://twitter.com/MarcinS&quot;&gt;@MarcinS&lt;/a&gt;) -
Marcin traveled from Australia where he works at &lt;a href=&quot;https://www.atlassian.com/&quot;&gt;Atlassian&lt;/a&gt;.  ECMAScript 6 is adding new language features and syntactic sugar to JavaScript.  Marcin even updated Jason’s var hoisting examples, by converting them to &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let&quot;&gt;let&lt;/a&gt;, which gives JavaScript block scope local variables.  It will be a bit before the browsers catch up (took about 4 years for ECMAScript 5), but until then you always have transpilers:  &lt;a href=&quot;https://github.com/google/traceur-compiler&quot;&gt;google/traceur-compiler · GitHub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The full &lt;a href=&quot;http://www.cfobjective.com/schedule/&quot;&gt;schedule&lt;/a&gt; has many more topics with the final slide decks to be available on &lt;a href=&quot;http://www.slideshare.net/ColdFusionConference&quot;&gt;slideshare&lt;/a&gt; soon.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[JSON-LD is an official Web Standard]]></title><description><![CDATA[Saw a link to JSON-LD is an official Web Standard on Twitter - took me a bit to realize LD was Linked Data.  I could see this being useful…]]></description><link>https://kevinhakanson.com/2014-01-17-json-ld-is-an-official-web-standard</link><guid isPermaLink="false">https://kevinhakanson.com/2014-01-17-json-ld-is-an-official-web-standard</guid><pubDate>Fri, 17 Jan 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Saw a link to &lt;a href=&quot;http://semanticweb.com/j-son-ld-official-web-standard_b41441&quot;&gt;JSON-LD is an official Web Standard&lt;/a&gt; on Twitter - took me a bit to realize LD was Linked Data.  I could see this being useful in our REST APIs that return JSON.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;JSON-LD has reached the status of being an official “&lt;a href=&quot;http://www.w3.org/standards/faq#std&quot;&gt;Recommendation&lt;/a&gt;” of the W3C. JSON-LD provides yet another way for web developers to add structured data into web pages, joining RDFa.The &lt;a href=&quot;http://www.w3.org/TR/2014/REC-json-ld-20140116/&quot;&gt;W3C documentation&lt;/a&gt; says, “JSON is a useful data serialization and messaging format. This specification defines JSON-LD, a JSON-based format to serialize Linked Data.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA["Persistent URL" and "Link Resolver" as Industry Terminology]]></title><description><![CDATA[An internal project was using the name “link resolver” so I was looking for string matches and found one in the Wikipedia OpenURL…]]></description><link>https://kevinhakanson.com/2013-11-16-persistent-url-and-link-resolver-as-industry-terminology</link><guid isPermaLink="false">https://kevinhakanson.com/2013-11-16-persistent-url-and-link-resolver-as-industry-terminology</guid><pubDate>Sat, 16 Nov 2013 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;An internal project was using the name “link resolver” so I was looking for string matches and found one in the Wikipedia &lt;a href=&quot;http://en.wikipedia.org/wiki/Openurl&quot;&gt;OpenURL&lt;/a&gt; description:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;OpenURL&lt;/strong&gt; is a standardized format of Uniform Resource Locator (URL) intended to enable Internet users to more easily find a copy of a resource that they are allowed to access. Although OpenURL can be used with any kind of resource on the Internet, it is most heavily used by libraries to help connect patrons to subscription content.&lt;/p&gt;
&lt;p&gt;The OpenURL standard is designed to enable linking from information resources such as abstracting and indexing databases (sources) to library services (targets), such as academic journals, whether online or in printed or other formats. The linking is mediated by “link resolvers”, or “link-servers”, which parse the elements of an OpenURL and provide links to appropriate targets available through a library by the use of an OpenURL knowledge base.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Below are excerpts from the Wikipedia &lt;a href=&quot;http://en.wikipedia.org/wiki/PURL&quot;&gt;Persistent uniform resource locator&lt;/a&gt; document describe our problem well, and also use the &lt;strong&gt;resolver/resolution&lt;/strong&gt; vocabulary.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A persistent uniform resource locator (PURL) is a uniform resource locator (URL) (i.e. location-based uniform resource identifier or URI) that is used to redirect to the location of the requested web resource. PURLs redirect HTTP clients using HTTP status codes. PURLs are used to curate the URL resolution process, thus solving the problem of transitory URIs in location-based URI schemes like HTTP.&lt;/p&gt;
&lt;p&gt;A URL is simply an address of a resource on the World Wide Web. A Persistent URL is an address on the World Wide Web that causes a redirection to another Web resource. If a Web resource changes location (and hence URL), a PURL pointing to it can be updated. A user of a PURL always uses the same Web address, even though the resource in question may have moved. PURLs may be used by publishers to manage their own information space or by Web users to manage theirs; a PURL service is independent of the publisher of information. PURL services thus allow the management of hyperlink integrity. Hyperlink integrity is a design trade-off of the World Wide Web, but may be partially restored by allowing resource users or third parties to influence where and how a URL resolves.&lt;/p&gt;
&lt;p&gt;A simple PURL works by responding to an HTTP GET request by returning a response of type 302 (equivalent to the HTTP status code 302, meaning “Found”). The response contains an HTTP “Location” header, the value of which is a URL that the client should subsequently retrieve via a new HTTP GET request.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The &lt;a href=&quot;http://www.doi.org/factsheets/DOIIdentifierSpecs.html&quot;&gt;DOI® System and Internet Identifier Specifications&lt;/a&gt; Factsheet had a good section on &lt;strong&gt;URI, URL, and URN&lt;/strong&gt; and their historical usages.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Historically there was ambiguity and confusion in the use of these terms. RFC 3986 (2005) aimed to end this by stating that a URI can be classified as a locator, a name, or both. In this view, the term URL refers to the subset of URIs that, in addition to identifying a resource, provide a means of locating the resource; the term URN has been used historically to refer to both URIs under the “urn” scheme (RFC 2141) which are required to remain globally unique and persistent even when the resource ceases to exist or becomes unavailable, and to any other URI with the properties of a name.&lt;/p&gt;
&lt;p&gt;RFC 3986 requires that the terms URL and URN be deprecated. This brings a uniformity to the technical treatment of all URIs; however the risk of confusion remains&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This project should also be aware of forward looking efforts on Linked Data, but this doesn’t affect our deliverables in that we need to support existing URLs and their formats, but may affect us in the terminology used in how we describe our project.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[IE11 Automatic Update Blocker Toolkit Available for Windows 7]]></title><description><![CDATA[A couple of recent postings on the IEBlog were IE11 for Windows 7 Globally Available for Consumers and Businesses and IE11 Automatic Update…]]></description><link>https://kevinhakanson.com/2013-11-11-ie11-automatic-update-blocker-toolkit-available-for-windows-7</link><guid isPermaLink="false">https://kevinhakanson.com/2013-11-11-ie11-automatic-update-blocker-toolkit-available-for-windows-7</guid><pubDate>Mon, 11 Nov 2013 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;A couple of recent postings on the &lt;a href=&quot;http://blogs.msdn.com/b/ie/&quot;&gt;IEBlog&lt;/a&gt; were &lt;a href=&quot;http://blogs.msdn.com/b/ie/archive/2013/11/07/ie11-for-windows-7-globally-available-for-consumers-and-businesses.aspx&quot;&gt;IE11 for Windows 7 Globally Available for Consumers and Businesses&lt;/a&gt; and &lt;a href=&quot;http://blogs.msdn.com/b/ie/archive/2013/10/11/ie11-automatic-update-blocker-toolkit-available-for-windows-7.aspx&quot;&gt;IE11 Automatic Update Blocker Toolkit Available for Windows 7&lt;/a&gt;.  If you have a browser testing VM that you want to stay at IE10 (like I do), then you need to watch out for auto updates.  Check out the links above (and excerpt below) for more details.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The &lt;a href=&quot;http://www.microsoft.com/en-us/download/details.aspx?id=40722&quot;&gt;IE11 Automatic Update Blocker Toolkit&lt;/a&gt; can be used to prevent Internet Explorer 11 from being automatically installed on users’ Windows 7 machines when it is available via Automatic Update. This Toolkit has no expiration date and is configured either by running the registry file on the client machine or by deploying Group Policy in domain joined environments. The toolkit also provides an unblock procedure that allows IE11 to be installed through Automatic Update.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[The End of Chrome Frame and Chrome for XP Support]]></title><description><![CDATA[Since Chrome Frame was pushed out to employees to support Workday, we have been seeing some odd browser issues with a few of our…]]></description><link>https://kevinhakanson.com/2013-10-17-the-end-of-chrome-frame-and-chrome-for-xp-support</link><guid isPermaLink="false">https://kevinhakanson.com/2013-10-17-the-end-of-chrome-frame-and-chrome-for-xp-support</guid><pubDate>Thu, 17 Oct 2013 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Since Chrome Frame was pushed out to employees to support Workday, we have been seeing some odd browser issues with a few of our applications.  This has led us to “disable” Chrome Frame support by setting the maximum IE version used to IE6 (N.b. chrome=0 does not work; you can verify by looking at the &lt;a href=&quot;https://code.google.com/p/chromium/codesearch#chromium/src/chrome_frame/utils.cc&amp;#x26;sq=package:chromium&amp;#x26;type=cs&quot;&gt;chromium GetXUaCompatibleDirective source code&lt;/a&gt;).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;meta http-equiv=&amp;quot;X-UA-Compatible&amp;quot; content=&amp;quot;IE=edge,chrome=IE6&amp;quot; /&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;More details on the end of Chrome support are available from some Google Chrome/Chromium blog posts.&lt;/p&gt;
&lt;p&gt;From &lt;a href=&quot;http://chrome.blogspot.com/2013/10/extending-chrome-support-for-xp-users.html&quot;&gt;Extending Chrome support for XP users until April 2015&lt;/a&gt; (Wednesday, October 16, 2013)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;On April 8, 2014, after more than a decade of powering many of the world’s computers, Windows XP will officially retire. Like all technologies that come to their end-of-life, the XP operating system and most of its desktop applications will no longer receive updates and security patches. Since unpatched browser bugs are often used by malware to infect computers, we’re extending support for Chrome on Windows XP, and will continue to provide regular updates and security patches until at least April 2015.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;From &lt;a href=&quot;http://blog.chromium.org/2013/06/retiring-chrome-frame.html&quot;&gt;Retiring Chrome Frame&lt;/a&gt; (Thursday, June 13, 2013)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Given these factors we’ve decided to retire Chrome Frame, and will cease support and updates for the product in January 2014.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[ECMAScript Internationalization API Specification]]></title><description><![CDATA[I recently downloaded and installed Windows 8.1 Preview to take a look at IE 11 Preview and check out the new “web standards” based features…]]></description><link>https://kevinhakanson.com/2013-07-08-ecmascript-internationalization-api-specification</link><guid isPermaLink="false">https://kevinhakanson.com/2013-07-08-ecmascript-internationalization-api-specification</guid><pubDate>Mon, 08 Jul 2013 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I recently downloaded and installed Windows 8.1 Preview to take a look at IE 11 Preview and check out the new “web standards” based features.  One of these standards supported is &lt;a href=&quot;http://ecma-international.org/publications/standards/Ecma-402.htm&quot;&gt;Ecma-402&lt;/a&gt; or the &lt;a href=&quot;http://www.ecma-international.org/ecma-402/1.0/&quot;&gt;ECMAScript Internationalization API Specification&lt;/a&gt; (see &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/ff405926(v=vs.85).aspx&quot;&gt;Internet Explorer Standards Support Documents&lt;/a&gt; for the full list).  If you don’t want to read through the specification, &lt;a href=&quot;http://norbertlindenberg.com/2012/12/ecmascript-internationalization-api/&quot;&gt;Norbert’s Corner&lt;/a&gt; has a December 2012 article explaining the API.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://test262.ecmascript.org/testcases_intl402.html&quot;&gt;ECMAScript Internationalization test402&lt;/a&gt; hosts a set of runnable test cases to test the JavaScript implementation against the API specification. I was curious how well IE 11 stood up against the other browsers.&lt;/p&gt;
&lt;p&gt;For a baseline, here are the results for Google Chrome (Mac; Version 27.0.1453.116)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/19d550ec0765a89d94b473499810225b/b13b6/chrome-mac.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 9.29264909847434%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAhUlEQVQI1wF6AIX/APrLevrMfPjKe/rLe/HFeua9eOW8d+3CePzNffjJe/nLfPbHdP7Wls3jyJXBi6HHl5/GlpvDkJ3Ekp3EkgDm3tHo4NTe1cnp4dTb08jf2c/f2M3c1Mnm3dHm6NDm4tPy39Hy5NnX29jY3djh39r08+3z+PPz9/Lz9/Kqil+LCn0zMwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Google Chrome (Mac; Version 27.0.1453.116)&quot;
        title=&quot;Google Chrome (Mac; Version 27.0.1453.116)&quot;
        src=&quot;/static/19d550ec0765a89d94b473499810225b/b9e4f/chrome-mac.png&quot;
        srcset=&quot;/static/19d550ec0765a89d94b473499810225b/cf440/chrome-mac.png 148w,
/static/19d550ec0765a89d94b473499810225b/d2d38/chrome-mac.png 295w,
/static/19d550ec0765a89d94b473499810225b/b9e4f/chrome-mac.png 590w,
/static/19d550ec0765a89d94b473499810225b/b13b6/chrome-mac.png 721w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;]&lt;/p&gt;
&lt;p&gt;So how do the bleeding edge versions of the leading web browsers compare?&lt;/p&gt;
&lt;p&gt;Firefox Nightly 25.0a1 (Windows; 2013-07-08)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/35f4938a37a7835b71ab2053c6459cbe/6da3e/firefox-windows.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 8.75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAhUlEQVQI1wF6AIX/APjIdfjHdPjHc/bGc+W5cOm8cOS5b/bFc/nIdPfGc/jIdfXEbP/XnMHdwZC8g5jBjJ3FlZbAi5nCjpS/iQDt5djn39Tu5dnk3dLj3NLn4dfi29Hq4tfr5Nfw7tvq4db84NHx5t3f4uDe4t7j4dv18+70+PT0+PTz9/N2zV+eFey+IgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Firefox Nightly 25.0a1 (Windows; 2013-07-08)&quot;
        title=&quot;Firefox Nightly 25.0a1 (Windows; 2013-07-08)&quot;
        src=&quot;/static/35f4938a37a7835b71ab2053c6459cbe/b9e4f/firefox-windows.png&quot;
        srcset=&quot;/static/35f4938a37a7835b71ab2053c6459cbe/cf440/firefox-windows.png 148w,
/static/35f4938a37a7835b71ab2053c6459cbe/d2d38/firefox-windows.png 295w,
/static/35f4938a37a7835b71ab2053c6459cbe/b9e4f/firefox-windows.png 590w,
/static/35f4938a37a7835b71ab2053c6459cbe/6da3e/firefox-windows.png 720w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Internet Explorer Preview (11.0.9431.0)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ac15f9eaf14b130b3bbf97140db1d740/04c1a/ie-preview.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 8.6230876216968%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAhUlEQVQI1wF6AIX/APnHcffGcPfFb/bFcOO3bOW5bOG1avPDbvrIcffEcPfGcfTEbP7OhdTjyY+9hZXAiprDkZW+iZbAi5O+hwDp4tjo4Nbr5Nnl3tTj3NTn4Nfj3dTo4dfq4tjq7tbp59ny4NX25tzf4eDe4t/e3dr07+v1+fb1+PX09/RNSV8jeF1lpQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Internet Explorer Preview (11.0.9431.0)&quot;
        title=&quot;Internet Explorer Preview (11.0.9431.0)&quot;
        src=&quot;/static/ac15f9eaf14b130b3bbf97140db1d740/b9e4f/ie-preview.png&quot;
        srcset=&quot;/static/ac15f9eaf14b130b3bbf97140db1d740/cf440/ie-preview.png 148w,
/static/ac15f9eaf14b130b3bbf97140db1d740/d2d38/ie-preview.png 295w,
/static/ac15f9eaf14b130b3bbf97140db1d740/b9e4f/ie-preview.png 590w,
/static/ac15f9eaf14b130b3bbf97140db1d740/04c1a/ie-preview.png 719w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Google Chrome (Windows; Version 30.0.1559.0 canary)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1f264d36342a5fbe96d106e0cc50732e/b13b6/chrome-windows.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 9.153952843273231%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAhUlEQVQI1wF6AIX/APnJePnKe/fIefjJefLFeOm+d+q9duu/dvrLevjJeffIeffIdv3Ngt/ny5fCj53EkaLHmZnCjp3Ek5rCjwDt5tvv59zp4tfw6d7o4dbn4djp4trn4dft5drv7Nrv7N3y5dn66+Dl5uPj5uPj5OD08ez0+fT19/T09/PYxWEXd4uvTQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Google Chrome (Windows; Version 30.0.1559.0 canary)&quot;
        title=&quot;Google Chrome (Windows; Version 30.0.1559.0 canary)&quot;
        src=&quot;/static/1f264d36342a5fbe96d106e0cc50732e/b9e4f/chrome-windows.png&quot;
        srcset=&quot;/static/1f264d36342a5fbe96d106e0cc50732e/cf440/chrome-windows.png 148w,
/static/1f264d36342a5fbe96d106e0cc50732e/d2d38/chrome-windows.png 295w,
/static/1f264d36342a5fbe96d106e0cc50732e/b9e4f/chrome-windows.png 590w,
/static/1f264d36342a5fbe96d106e0cc50732e/b13b6/chrome-windows.png 721w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I was a little surprised to see IE 11 come out on top, but not after reading &lt;a href=&quot;http://blogs.msdn.com/b/ie/archive/2013/07/01/updates-to-the-internet-explorer-testing-center.aspx&quot;&gt;Updates to the Internet Explorer Testing Center&lt;/a&gt; and seeing how many test cases they created, and are submitting back to the official standards bodies.&lt;/p&gt;
&lt;p&gt;However, given our customers still request IE 7 support, I guess I will be looking for a polyfill.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[SATURN 2013 Software Architecture Conference]]></title><description><![CDATA[The Software Engineering Institute (SEI) Architecture Technology User Network (SATURN) Conference took place at the Marriott City Center in…]]></description><link>https://kevinhakanson.com/2013-05-13-saturn-2013-software-architecture-conference</link><guid isPermaLink="false">https://kevinhakanson.com/2013-05-13-saturn-2013-software-architecture-conference</guid><pubDate>Mon, 13 May 2013 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The Software Engineering Institute (SEI) Architecture Technology User Network (SATURN) Conference took place at the Marriott City Center in Minneapolis, Minnesota from April 29 to May 3, 2013.  I attended the keynotes and sessions on May 1 and 2.  It was a mix of practicing software architects, developers, managers, and academics.&lt;/p&gt;
&lt;p&gt;The keynotes were longer form, lasting about an hour with everybody in the main hall.  The session blocks were 90 minutes that included three shorter presentations.  This was in effect about 20-25 minutes for each, with time for questions at the end.  There were three separate session tracks available to attend each block.&lt;/p&gt;
&lt;p&gt;The day 1 opening keynote was about how the “Credit Suisse Information Bus” took about 15 years to realize their service-oriented architecture efforts fully.  It was an interesting case study in how long some efforts take, how to integrate new systems via acquisitions and how a few of the services have the most reuse with the long tail dropping off fast.  The afternoon keynote was about working at Wordpress and how extreme they are on self-direction.  Anyone can check anything into production, but they only hire all-star talent.  This may work for a 50 to 150 person company, but how high does it scale?  However, this was a good counter perspective to the large-systems, big-up-front design methodology.&lt;/p&gt;
&lt;p&gt;I attended a set of Modeling and Documentation sessions in the morning block, where I was reminded of &lt;a href=&quot;http://www.iso-architecture.org/ieee-1471/defining-architecture.html&quot;&gt;ISO/IEC/IEEE 42010&lt;/a&gt; and the more formal descriptions of software architecture.  These sessions were more academic and formal.  In the afternoon block, I  attended Agile II.  Some good phrases were “document significant decisions vs. low-level details” and the concept of ”&lt;a href=&quot;http://www.codingthearchitecture.com/2012/07/11/risk_storming.html&quot;&gt;risk storming&lt;/a&gt;.”  A session that references some SEI studies hit home, as the top highlighted issues with agile projects were “features over stability”, “slow business decisions” and “external dependency management.”  However, the largest group in their study was a &gt;30 person integrated team (includes developers, managers, business, architect, etc), so an order of magnitude less than our WestlawNext agile implementation.  I attended an open space/breakout session at the end of the day for a good ad-hoc discussion.&lt;/p&gt;
&lt;p&gt;On day 2, Mary Poppendieck delivered the morning keynote, which was more a psychological presentation on the rational vs. intuitive mind how that impacts lean and agile projects.  Mary is always an entertaining speaker.  The closing keynote was my favorite, where Philippe Kruchten was speaking on “Games Architects Play: On Reasoning Fallacies, Cognitive Biases, and Politics.”  He has a set of patterns of behaviors and biases, including: golden hammer; “yes, but”; teacher’s pet; “let’s have a vote”; and “obviously.”  The point was knowing these patterns is a useful tool to avoid their effects.&lt;/p&gt;
&lt;p&gt;I attended a morning set of sessions called “Fusion Methods” where I heard about Risk- and Cost-Driven Architecture (RCDA) and reminded me every architect should have a backlog that they are working against.  Another session talked about agile planning and used a “map vs. a GPS” metaphor and the balance at looking at the map up front for full directions vs. use a GPS and only knowing the “next step” which sometimes results in getting lost because of bad information and hearing the dreaded “recalculating”.  I jumped over to see a talk on the next generation of web architecture style, referred to as Service-Oriented Front-End Architecture (SOFEA).  This was a very good talk for 20 minutes but it is basically what we designed for ADC - (I should have created a fancy acronym).  In the afternoon, I saw some “Architectural Evaluation” sessions.  In case studies of in-the-field evaluations, teams usually have “good people” but the requirements are missing or not documented and had to be reconstructed for the onsite evaluations.  Unfortunately, this reminded me of some projects I have been on where the next feature was prioritized over tech debt, including good tests and documentation.  When I learned how Raytheon has to test missile guidance systems, I am glad we have web applications we can hotfix.&lt;/p&gt;
&lt;p&gt;More information can be found at the &lt;a href=&quot;http://www.sei.cmu.edu/saturn/2013/&quot;&gt;SATURN 2013 conference site&lt;/a&gt;, including a &lt;a href=&quot;http://www.sei.cmu.edu/saturn/2013/upload/SATURN-2013-presentations.zip&quot;&gt;download all the SATURN 2013 presentations&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Customer upload speeds?]]></title><description><![CDATA[As newer products are dealing more with uploaded user content than just searching and displaying company content, I was curious about how…]]></description><link>https://kevinhakanson.com/2012-02-01-customer-upload-speeds</link><guid isPermaLink="false">https://kevinhakanson.com/2012-02-01-customer-upload-speeds</guid><pubDate>Wed, 01 Feb 2012 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;As newer products are dealing more with uploaded user content than just searching and displaying company content, I was curious about how fast their internet connections are.  I know my online backup trickles compared to my download speeds, so I wondered if it was the same for our customers.  I just ran across &lt;a href=&quot;http://www.broadbandmap.gov/summarize/nationwide/speedtest-upload&quot;&gt;Analyze &gt; Summarize &gt; Nationwide - National Broadband Map&lt;/a&gt;, which&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“is a summary of the broadband characteristics for the area listed above. The broadband data below is as of December 31, 2010 and represents data collected by SBDD grantees.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Here is a snippet of the upload speed section of the report.  &lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6197dd2eee1fc5ce838012c27792ffcd/374ce/A615EBF8-2900-46E3-95F9-37A18EDD1D1C.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.73106646058732%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAABOUlEQVQY021Qy26DMBDk/z+rUS+9Re2hJWkokAQT8Auv1w/AdAGpaqWORtbK9szuTnatq8PTIc/zvu9TSsYYzvk8z+iiD+i99D4653wIdIYQh2FgjEmprLWZUlII7r0HgGmaSMnaFtH17avsjkqUFq33O8kL0RozaLTgELOu607n81dRtu1jWRYwRggxz8k7DboAfUFzs+ZidY5wQ6jcymIt0GZSyaquy7IsioKUiMiFIJcYRzvUVl8GcTQyB3XeeDKqcAjzNNGOmdK6rOqmYTQqrbqOzdoQRsU/5ONlULV3aozwi3balKu473nDWpKlNC9Lut9vDWMAhrNn0NcYYJzoafnLtP1PmZSSulFgW5iB0iY7Ck/1b4q/K/5JN/4/xBgzmiGsIeJuRqCFt3rZ8dNnx16P4xhi/AaXlMfI/2zwCwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Broadband Speed Test&quot;
        title=&quot;Broadband Speed Test&quot;
        src=&quot;/static/6197dd2eee1fc5ce838012c27792ffcd/b9e4f/A615EBF8-2900-46E3-95F9-37A18EDD1D1C.png&quot;
        srcset=&quot;/static/6197dd2eee1fc5ce838012c27792ffcd/cf440/A615EBF8-2900-46E3-95F9-37A18EDD1D1C.png 148w,
/static/6197dd2eee1fc5ce838012c27792ffcd/d2d38/A615EBF8-2900-46E3-95F9-37A18EDD1D1C.png 295w,
/static/6197dd2eee1fc5ce838012c27792ffcd/b9e4f/A615EBF8-2900-46E3-95F9-37A18EDD1D1C.png 590w,
/static/6197dd2eee1fc5ce838012c27792ffcd/374ce/A615EBF8-2900-46E3-95F9-37A18EDD1D1C.png 647w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Evolving Web Presentation Layer Technologies]]></title><description><![CDATA[Traditionally, reuse at the browser layer for a new product has been thought as “we want it just like product X, but” replace some images…]]></description><link>https://kevinhakanson.com/2012-01-09-evolving-web-presentation-layer-technologies</link><guid isPermaLink="false">https://kevinhakanson.com/2012-01-09-evolving-web-presentation-layer-technologies</guid><pubDate>Mon, 09 Jan 2012 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Traditionally, reuse at the browser layer for a new product has been thought as “we want it just like product X, but”&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;replace some images, logos, and icons&lt;/li&gt;
&lt;li&gt;change the color palette, some text sizes, and fonts&lt;/li&gt;
&lt;li&gt;use CSS to hide unwanted items&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The application differentiators for a product are not images and CSS, but the content and structure (HTML), the interaction design (UI) and the business logic (JavaScript).  As these key differences increase, the opportunity for code reuse between the products decreases.  However, changes in technology options in the last few years, as well as experiences with WestlawNext (include the IE7 performance effort) are allowing us to achieve better reuse.  Also, we are seeing more “Professional JavaScript Developers,” including more books, presentations, and blogs describing what this means for a more extensive codebase.&lt;/p&gt;
&lt;p&gt;Current products are applying more software engineering principles and being prescriptive in how presentation layer technologies should be applied in the browser.   These technologies have resulted in increased velocity for new UI features and the promise of better reuse.  However, the promise of reuse doesn’t guarantee reuse if the business feature looks or acts differently.&lt;/p&gt;
&lt;p&gt;The table below lists some key categories and compares how WestlawNext was built in 2008 against how products are being built now.  The key differences are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;“browser wars” of 2008 have significantly increased JavaScript performance&lt;/li&gt;
&lt;li&gt;jQuery has become the defacto JavaScript library&lt;/li&gt;
&lt;li&gt;MVC is being applied in the browser to separate model from the view&lt;/li&gt;
&lt;li&gt;micro-templates separate HTML into distinct assets, separate from JavaScript code&lt;/li&gt;
&lt;li&gt;establishing a base UI widget and standard way to modify business logic&lt;/li&gt;
&lt;li&gt;mobile considered from the start, not left as a late addition&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;WestlawNext (Jan 2008)&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;Current Products (Jan 2012)&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Current Browser Versions&lt;/td&gt;
&lt;td&gt;Internet Explorer 7.0&lt;br&gt;Firefox 2.0&lt;br&gt;Safari 3.0&lt;/td&gt;
&lt;td&gt;Internet Explorer 9.0&lt;br&gt;Firefox 9.0&lt;br&gt;Safari 5.1&lt;br&gt;Chrome 17.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;HTML Standard&lt;/td&gt;
&lt;td&gt;XHTML&lt;/td&gt;
&lt;td&gt;HTML5 + shims&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CSS&lt;/td&gt;
&lt;td&gt;CSS 2.1; custom browser properties; techniques to make older browsers look the same&lt;/td&gt;
&lt;td&gt;CSS 3; fewer custom properties, allow older browsers to gracefully degrade, leverage SCSS for variables and macros&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Browser Support&lt;/td&gt;
&lt;td&gt;Use BrowserHawk for browser detection; use white list&lt;/td&gt;
&lt;td&gt;Use Modernizr for feature detection and shims/polyfills&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Mobile&lt;/td&gt;
&lt;td&gt;Desktop design, mobile and iPad afterthoughts&lt;/td&gt;
&lt;td&gt;Use responsive design for desktop and tablet browsers; plan for custom small form factor views from inception&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;JavaScript Performance (SunSpider 0.9)&lt;/td&gt;
&lt;td&gt;IE7 – 19721ms&lt;br&gt;IE8 – 3729ms&lt;br&gt;Safari 4.0.5 – 373ms&lt;br&gt;Firefox 3.6.24 – 770ms&lt;/td&gt;
&lt;td&gt;IE9  – 236ms&lt;br&gt;Chrome 17 – 305ms&lt;br&gt;Safari 5.1 – 282ms&lt;br&gt;Firefox 9 – 232ms&lt;br&gt;iPhone 4 (iOS5) – 3789ms&lt;br&gt;Bold 9700 (OS6) – 10628ms&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DOM&lt;/td&gt;
&lt;td&gt;Cobalt.js; some jQuery&lt;/td&gt;
&lt;td&gt;jQuery, Underscore&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pub/Sub&lt;/td&gt;
&lt;td&gt;OpenAjax Hub&lt;/td&gt;
&lt;td&gt;OpenAjax Hub&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;AJAX&lt;/td&gt;
&lt;td&gt;REST, JSON, Cobalt.js&lt;/td&gt;
&lt;td&gt;REST, JSON, jQuery&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Browser rendering&lt;/td&gt;
&lt;td&gt;String concatenation or DOM API (inline in JavaScript code)&lt;/td&gt;
&lt;td&gt;Underscore micro-templates (in external files)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Base UI widget&lt;/td&gt;
&lt;td&gt;Each module team had own set of standards; doesn’t allow for cross module reuse&lt;/td&gt;
&lt;td&gt;Common widget design using Backbone.js for MVC; make cross module and project reuse possible&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Unit Testing&lt;/td&gt;
&lt;td&gt;Post-deploy with JSUnit and Selenium&lt;/td&gt;
&lt;td&gt;Pre-deploy with QUnit and PhantomJS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Code Packaging&lt;/td&gt;
&lt;td&gt;Custom bundling based on inferred dependencies&lt;/td&gt;
&lt;td&gt;Uses AMD proposed standard and RequireJS (explicit dependencies)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content:encoded></item><item><title><![CDATA[JavaScript vs. JSON encoding]]></title><description><![CDATA[In the process of converting some JavaScript code which creates an object from a JSON string from using (the evil) eval to using JSON.parse…]]></description><link>https://kevinhakanson.com/2009-08-03-javascript-vs-json-encoding</link><guid isPermaLink="false">https://kevinhakanson.com/2009-08-03-javascript-vs-json-encoding</guid><pubDate>Mon, 03 Aug 2009 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In the process of converting some JavaScript code which creates an object from a JSON string from using (the evil) eval to using JSON.parse (which is native in &lt;a href=&quot;http://blogs.msdn.com/ie/archive/2008/09/10/native-json-in-ie8.aspx&quot;&gt;IE8&lt;/a&gt; and &lt;a href=&quot;https://developer.mozilla.org/En/Using_JSON_in_Firefox&quot;&gt;Firefox 3.5&lt;/a&gt;), a strange bug was encountered.  Take the following JavaScript snippet, which can be validated using &lt;a href=&quot;http://www.jslint.com/&quot;&gt;JSLint&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kevin\\&apos;s Folder&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, if you take &lt;code class=&quot;language-text&quot;&gt;{ &amp;quot;name&amp;quot; : &amp;quot;Kevin\\&amp;#39;s Folder&amp;quot; }&lt;/code&gt; and try and validate with &lt;a href=&quot;http://www.jsonlint.com/&quot;&gt;JSONLint&lt;/a&gt;, it fails parsing.  Why is that?  Look at the definition for string at &lt;a href=&quot;http://www.json.org/&quot;&gt;JSON.org&lt;/a&gt;, and you see that it’s not valid to escape the single quote character.  This appears to be because only double quotes are a valid wrapper for a string in JSON, where either single quotes or double quotes are allowed for JavaScript strings.  The JavaScript escape utility used wouldn’t know how the consumer would wrap the string, so it played it safe and escaped both.&lt;/p&gt;
&lt;p&gt;The moral of this story?  JSON is a proper subset of pure JavaScript object literals.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[You can’t escape encoding]]></title><description><![CDATA[Recently I have run across several items where the solution to the problem was a proper understanding of encoding and escaping.  One issue…]]></description><link>https://kevinhakanson.com/2009-07-06-you-cant-escape-encoding</link><guid isPermaLink="false">https://kevinhakanson.com/2009-07-06-you-cant-escape-encoding</guid><pubDate>Mon, 06 Jul 2009 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Recently I have run across several items where the solution to the problem was a proper understanding of encoding and escaping.  One issue was with the &lt;a href=&quot;http://developer.yahoo.com/yui/compressor/&quot;&gt;YUICompressor&lt;/a&gt; having problems with some of our JavaScript files.  The core issue was that it couldn’t handle files saved in UTF-8 with the Byte Order Mark (which is the Visual Studio 2008 default).  Lucky for someone, I was able to answer a &lt;a href=&quot;http://stackoverflow.com/questions/1036201/errors-using-yuicompressor/1047143#1047143&quot;&gt;Stack Overflow question&lt;/a&gt; with my new found knowledge.&lt;/p&gt;
&lt;p&gt;A short while later, I saw a bug where the subject line of delivery emails looked like:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;=?ANSI_X3.4-1968?Q?=3F=3F_1._Title_and_Divisions_of_Code?= &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I referred the developer to the three parameter version of the encodeText function of Java’s &lt;a href=&quot;http://java.sun.com/j2ee/sdk_1.3/techdocs/api/javax/mail/internet/MimeUtility.html&quot;&gt;MimeUtility&lt;/a&gt;.  This has a “set of methods to encode and decode MIME headers as per &lt;a href=&quot;http://www.ietf.org/rfc/rfc2047.txt&quot;&gt;RFC 2047&lt;/a&gt;.”  In this case, by using the one parameter version, the code was subject to some OS specific setting which worked on the developer’s computer running Windows but not when deployed to Linux.&lt;/p&gt;
&lt;p&gt;To help my fellow developers, here’s a link to &lt;a href=&quot;http://www.joelonsoftware.com/articles/Unicode.html&quot;&gt;The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)&lt;/a&gt; by Joel Spolsky.  He does a great job of walking through the subject.  Also, I recently found this nifty link to an online &lt;a href=&quot;http://0xcc.net/jsescape/&quot;&gt;Text Escaping and Unescaping in JavaScript&lt;/a&gt; utility.  Try pasting ¶§ into the plain text field and look at the results.  The “MIME + Quoted-printable” section is the same as Encoded Word from RFC 2047.&lt;/p&gt;
&lt;p&gt;For me, to fully understand UTF-8 encoding, I had to walk myself through an example, which I include here:&lt;/p&gt;
&lt;p&gt;When a Unicode (ISO 10646) character in the range of 0x80 - 0x799 is encoded using UTF-8, it takes up 2 bytes of space. Since printable ISO-8859-1 characters (aka Latin 1 or upper ASCII) are in the range of 0xA0 - 0xFF - they fall into this category.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;BYTE 1 = 1100 0000 | (0001 1111 &amp;#x26; b)&lt;br&gt;
BTYE 2 = 1000 0000 | (0011 1111 &amp;#x26; b)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So for a character like é (Latin Small Letter E with Acute)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é = 233 = 0xE9 = 1110 1011&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;when it’s UTF-8 encoded&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1100 0011 1010 1001 = 0xC3 0xA9 = Ã©&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Notice that when encoding ISO-8859-1 with UTF-8 and you happen to view the output as ISO-8859-1, the first character of the two is always a capital A with some variation. The following table can help describe why.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;range byte 1 display char&lt;br&gt;
0x80 - 0x9F (128-159) 0xC0 À&lt;br&gt;
0xA0 - 0xBF (160-191) 0xC1 Á&lt;br&gt;
0xC0 - 0xDF (192-223) 0xC2 Â&lt;br&gt;
0xE0 - 0xFF (224-255) 0xC3 Ã&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Another “odd” situation exists when the Copyright Sign or Pound Sign value from unicode&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;© = 169 = 0xA9 = 1010 1001&lt;br&gt;
£ = 163 = 0xA3 = 1010 0011&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;is UTF-8 encoded, and become the Â character followed by themselves.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1100 0010 1010 1001 = 0xC3 0xA9 = Â©&lt;br&gt;
1100 0010 1010 0011 = 0XC3 0xA3 = Â£&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Debugging JavaScript in IE]]></title><description><![CDATA[If you have everything set up, you can use Visual Studio to debug JavaScript errors when you hit them in IE7 (IE8 will have debugging built…]]></description><link>https://kevinhakanson.com/2008-10-27-debugging-javascript-in-ie</link><guid isPermaLink="false">https://kevinhakanson.com/2008-10-27-debugging-javascript-in-ie</guid><pubDate>Mon, 27 Oct 2008 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;If you have everything set up, you can use Visual Studio to debug JavaScript errors when you hit them in IE7 (IE8 will have debugging built into the &lt;a href=&quot;http://blogs.msdn.com/ie/archive/2008/03/07/improved-productivity-through-internet-explorer-8-developer-tools.aspx&quot;&gt;developer tools&lt;/a&gt;).  You just click “Yes” when the dialog appears.  However, I have don’t have everything set up as needed.  Because I’m a developer on a .NET team, I have the full install of Visual Studio 2008, but it’s on my VPC image, and I often use IE on the host OS.  I also have Visual Studio installed on my host, but it’s only for Team Explorer so I can access TFS.  This almost makes things worse, because IE sees Visual Studio and will prompt me to debug in a “new instance of Visual Studio,” but it doesn’t have the debugging support.&lt;/p&gt;
&lt;p&gt;So, when I heard about the &lt;a href=&quot;http://www.microsoft.com/express/vwd/&quot;&gt;Microsoft Visual Web Developer 2008 Express Edition&lt;/a&gt;, I got excited I could have the seamless debugger experience today.  However, it can’t attach to IE at runtime and doesn’t allow you to debug unless you launch IE from Visual Web Developer.  I did google the problem and found &lt;a href=&quot;http://it.toolbox.com/blogs/web2-place/debugging-ajax-applications-on-ie-using-visual-web-developer-express-17432&quot;&gt;Debugging AJAX Applications on IE: Using Visual Web Developer Express&lt;/a&gt;, which referenced &lt;a href=&quot;http://www.berniecode.com/blog/2007/03/08/how-to-debug-javascript-with-visual-web-developer-express/&quot;&gt;How to debug JavaScript with Visual Web Developer Express&lt;/a&gt;.  I followed the advice of the latter article and can now debug when I know I am going to have a problem.  Not as nice as on-demand with Firebug or the upcoming IE8, but of some use when I need to track down a bug with our application on IE.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Ajax Experience 2008 Summary]]></title><description><![CDATA[Last week, I attended the Ajax Experience 2008 in Boston.  There were a lot of interesting sessions, and I talked with many of the speakers…]]></description><link>https://kevinhakanson.com/2008-10-06-ajax-experience-2008-summary</link><guid isPermaLink="false">https://kevinhakanson.com/2008-10-06-ajax-experience-2008-summary</guid><pubDate>Mon, 06 Oct 2008 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Last week, I attended the &lt;a href=&quot;http://ajaxexperience.techtarget.com/html/index.html&quot;&gt;Ajax Experience 2008&lt;/a&gt; in Boston.  There were a lot of interesting sessions, and I talked with many of the &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html&quot;&gt;speakers&lt;/a&gt;.  Here is a recap of some of the more exciting things I learned.&lt;/p&gt;
&lt;p&gt;I spent Monday morning at the Dojo Developer Day.  I got a free t-shirt.  I even wrote two bugs against dojo:  &lt;a href=&quot;http://bugs.dojotoolkit.org/ticket/7764&quot;&gt;7764&lt;/a&gt; and &lt;a href=&quot;http://bugs.dojotoolkit.org/ticket/7765&quot;&gt;7765&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I updated my Chrome to the &lt;a href=&quot;http://dev.chromium.org/getting-involved/dev-channel/&quot;&gt;dev release&lt;/a&gt; and then was able to login to demo, run searches, drag to dock, etc.  I asked &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#OVafai&quot;&gt;Ojan Vafai&lt;/a&gt; about the command line debugging pain, and he said they are working on hooking up the &lt;a href=&quot;http://webkit.org/&quot;&gt;WebKit&lt;/a&gt; nightly debugger interface (part of the &lt;a href=&quot;http://webkit.org/blog/197/web-inspector-redesign/&quot;&gt;Web Inspector&lt;/a&gt;) into the V8 JavaScript engine.  That would be much nicer than typing “continue” and “step” all the time.&lt;/p&gt;
&lt;p&gt;I was excited about the &lt;a href=&quot;http://weblogs.asp.net/scottgu/archive/2008/09/28/jquery-and-microsoft.aspx&quot;&gt;jQuery and Microsoft&lt;/a&gt; announcement, not because I love jQuery but because I wanted better Intellisense for third-party libraries.  I heard a talk from &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#OKhan&quot;&gt;Omar Khan&lt;/a&gt; were I was ready to ask questions about this support, but they were answered in his presentation.  I did talk to him afterward about the stupid reference comment on the first line of the file and gave him some ideas to fix it.  He gave me his card, and I am going to email him.  I also download an &lt;a href=&quot;http://www.microsoft.com/downloads/details.aspx?familyid=21eabb90-958f-4b64-b5f1-73d0a413c8ef&amp;#x26;displaylang=en&quot;&gt;Internet Explorer Application Compatibility VPC Image&lt;/a&gt;, so I could get IE 8 Beta 2 without breaking my PC/image (&lt;strong&gt;IE8B2-XPSP3_VPC.exe&lt;/strong&gt; contains a Windows XP SP3 with IE8 Beta 2 VHD file).  Their new developer toolbar is a lot like Firebug, which is good.  I also downloaded the &lt;a href=&quot;http://www.microsoft.com/express/vwd/&quot;&gt;Microsoft Visual Web Developer 2008 Express Edition&lt;/a&gt; for my host (since I have full Visual Studio on my image).  I was going to see if this would better enable the Java base verticals to debug IE issues until we can move to IE8.&lt;/p&gt;
&lt;p&gt;There was a set of lightning talks (5 minutes each) that proved to be a good format.  &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#SSouders&quot;&gt;Steve Souders&lt;/a&gt; (Mr. “high-performance web sites”) talked about his &lt;a href=&quot;http://stevesouders.com/episodes/&quot;&gt;Episodes&lt;/a&gt; framework for timing web pages.  &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#SStefanov&quot;&gt;Stoyan Stefanov&lt;/a&gt; and &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#NSullivan&quot;&gt;Nicole Sullivan&lt;/a&gt; (both from the Yahoo performance team) talked about their &lt;a href=&quot;http://smushit.com/&quot;&gt;Smush It&lt;/a&gt; project for optimizing images.  This tool is online now, but I talked to them about not just distributing the PHP code, but also the web tool for intranet usage.&lt;/p&gt;
&lt;p&gt;I asked &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#BScott&quot;&gt;Bill Scott&lt;/a&gt; about why Netflix rolled its own library instead of using a framework.  He said it has been in progress for years and is in the progress of being replaced by &lt;a href=&quot;http://jquery.com/&quot;&gt;jQuery&lt;/a&gt;.  He told me about the then upcoming &lt;a href=&quot;http://developer.netflix.com/&quot;&gt;Netflix API&lt;/a&gt; (which also had a lighting round talk).&lt;/p&gt;
&lt;p&gt;I went to a couple good sessions on testing.  &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#NZakas&quot;&gt;Nicholas Zakas&lt;/a&gt; talked about YUI test (part of the YUI library download). I asked about test double support (thinking about XHR), and he said that mock object is being looked at for 3.0.  It may work better than JSUnit, but doesn’t have the same style of test runner.  &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#THusted&quot;&gt;Ted Husted&lt;/a&gt; uses the YUI test framework with Selenium to drive the tests.&lt;/p&gt;
&lt;p&gt;I did get &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#DCrockford&quot;&gt;Douglas Crockford&lt;/a&gt; to sign my JavaScript: The Good Parts book during the signing session at the &lt;a href=&quot;http://www.bookpool.com/&quot;&gt;Bookpool&lt;/a&gt; table.  It was the only book that was sold out.  I should have been smarter and bought a bunch on day one, and sold them for a premium.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#BDillard&quot;&gt;Brian Dillard&lt;/a&gt; gave a (kind of boring) talk on &lt;a href=&quot;http://code.google.com/p/reallysimplehistory/&quot;&gt;Really Simple History&lt;/a&gt;, which seems to be the best back button fixing code out there, but has a very out of date wiki.  He claims 0.8 is on his hard drive, waiting to be committed.  Other libraries seem to reuse the RSH code into their own, including a rewrite that runs as a jQuery plugin.  The original author of RHS was &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#BNeuberg&quot;&gt;Brad Neuberg&lt;/a&gt;, who works at Google on the Gears team and gave an interesting talk on &lt;a href=&quot;http://dojotoolkit.org/&quot;&gt;dojo&lt;/a&gt; and &lt;a href=&quot;http://gears.google.com/&quot;&gt;Gears&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;On a lighter note - two Europeans, &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#PKoch&quot;&gt;Peter-Paul Koch&lt;/a&gt; and &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#CHeilmann&quot;&gt;Christian Heilmann&lt;/a&gt; had the most interesting hairstyles (but their pictures don’t give you the full effect).  Both were really nice guys to talk to.&lt;/p&gt;</content:encoded></item></channel></rss>