<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Kevin Hakanson's Blog RSS Feed]]></title><description><![CDATA[Kevin Hakanson's Blog]]></description><link>https://kevinhakanson.com</link><generator>GatsbyJS</generator><lastBuildDate>Wed, 03 Sep 2025 14:46:30 GMT</lastBuildDate><item><title><![CDATA[Redacting tokens in Lambda function events]]></title><description><![CDATA[When I write an AWS Lambda function in JavaScript/TypeScript that takes some sort of auth token in the , I take care to redact it from any…]]></description><link>https://kevinhakanson.com/2025-05-25-redacting-tokens-in-lambda-function-events/</link><guid isPermaLink="false">https://kevinhakanson.com/2025-05-25-redacting-tokens-in-lambda-function-events/</guid><pubDate>Sun, 25 May 2025 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;When I write an AWS Lambda function in JavaScript/TypeScript that takes some sort of auth token in the &lt;code class=&quot;language-text&quot;&gt;event&lt;/code&gt;, I take care to redact it from any logs.  The code below is similar to what I use, using the &lt;code class=&quot;language-text&quot;&gt;replacer&lt;/code&gt; parameter of &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify&quot;&gt;JSON.stringify&lt;/a&gt; to replace the actual token with the string &lt;strong&gt;[REDACTED]&lt;/strong&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;authToken&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;[REDACTED]&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I recently needed similar functionality for a Python-based Lambda function and used Python JSON &lt;a href=&quot;https://docs.python.org/3/library/json.html#encoders-and-decoders&quot;&gt;Encoders and Decoders&lt;/a&gt;.  I create a &lt;code class=&quot;language-text&quot;&gt;RedactedEncoder&lt;/code&gt; class of my own to use like &lt;code class=&quot;language-text&quot;&gt;print(json.dumps(event, cls=RedactedEncoder))&lt;/code&gt;.  Below is my version of the code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RedactedEncoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;JSONEncoder&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;iterencode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; o&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; _one_shot&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        processed_obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_process_object&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;o&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;iterencode&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;processed_obj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; _one_shot&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_process_object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;isinstance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;dict&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# avoid modifying the original&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; value &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;items&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; key &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;authToken&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                    result&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[REDACTED]&quot;&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                    result&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_process_object&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result
        &lt;span class=&quot;token keyword&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;isinstance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_process_object&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; item &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; obj&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; obj&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note, there are some sharp edges if your object contains properties that are not JSON serializable (like Decimal), so look at adding &lt;code class=&quot;language-text&quot;&gt;default=str&lt;/code&gt; to your &lt;code class=&quot;language-text&quot;&gt;json.dumps&lt;/code&gt; call.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Vibe Architecting an API Gateway HTTP API]]></title><description><![CDATA[“Vibe coding” is the latest hype, so I thought I would give it a try.  I was working with a customer to understand some security boundaries…]]></description><link>https://kevinhakanson.com/2025-03-29-vibe-architecting-an-api-gateway-http-api/</link><guid isPermaLink="false">https://kevinhakanson.com/2025-03-29-vibe-architecting-an-api-gateway-http-api/</guid><pubDate>Sat, 29 Mar 2025 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;“Vibe coding” is the latest hype, so I thought I would give it a try.  I was working with a customer to understand some security boundaries between an API Gateway HTTP API and a ALB target.  Basically I wanted to “vibe architect” the CDK version of the image below:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a645a26c5cb4c75b033b75da1c28dff2/ad164/VPCLink.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 29.72972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAADLAAAAywAEoZFrbAAABSUlEQVR42jWRy3LTQBBF/c98D0uKH2BNVaisU9gJcQgmkJewpZYlzUOj0Wh0aNnJ4s7t2z19ex4rYGZZ5hNxffOD0FUaTdx9g8etR45HDoeGqmoZhvyGmah41zFq3Oe0ejc8meZMsS8o/1zDYPlyK3y+uaeVkn1dM6REnCZG3bfwMKnOZ53mjO3T2TDGiLUdXTUjT4nn11eKlwLxkafygKi2TYMphb7tkH97grU6NNJ3HZXWS4XpQlrtfv+dt3f3bH+uufgInz5ALTWbzQbX9njnKR50oPFcXV5S1w0vv4I2W0J9pHeW5nnLev2dprZp1Rkzj2Miz4ndlWP91RBCOD2BNYGURpya5SlDvxgZHnaPeO+Zfa/5SestWa9+OqH2LT8gKU0CoyJKmpIsOe8nadsg3kUxyq0ZxClM48UubM95b0dpm16cS/v/63DIOtELwFsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;HTTP API VPC Link to ALB&quot;
        title=&quot;&quot;
        src=&quot;/static/a645a26c5cb4c75b033b75da1c28dff2/fcda8/VPCLink.png&quot;
        srcset=&quot;/static/a645a26c5cb4c75b033b75da1c28dff2/12f09/VPCLink.png 148w,
/static/a645a26c5cb4c75b033b75da1c28dff2/e4a3f/VPCLink.png 295w,
/static/a645a26c5cb4c75b033b75da1c28dff2/fcda8/VPCLink.png 590w,
/static/a645a26c5cb4c75b033b75da1c28dff2/efc66/VPCLink.png 885w,
/static/a645a26c5cb4c75b033b75da1c28dff2/c83ae/VPCLink.png 1180w,
/static/a645a26c5cb4c75b033b75da1c28dff2/ad164/VPCLink.png 3680w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So I used this prompt with AWS Q Developer inside Visual Studio Code for a CDK project.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;create an AWS CDK project with the following components: 1) a API Gateway HTTP API targeting an ALB as the integration. 2) create a lambda custom authorizer for the HTTP API that adds data to the context. 3) have the integration from REST API to ALB add the context as a custom HTTP header. 4) create a new VPC for the ALB, and add a VPC Link to the HTTP API. 5) add another lambda function as the target for the ALB and print out the custom header. 6) recommend any security group logic to only allow HTTP traffic from the API Gateway HTTP API&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It deployed, but when I tested using &lt;code class=&quot;language-text&quot;&gt;curl&lt;/code&gt; it didn’t work, but why?  I looked at the code and realized it missed my “step 6” and didn’t create a security group for VPC link.  I vibed coded some more with &lt;code class=&quot;language-text&quot;&gt;vpcLinkSecurityGroup = new ec2.SecurityGroup(...)&lt;/code&gt;, added to ALB with &lt;code class=&quot;language-text&quot;&gt;albSecurityGroup.addIngressRule(vpcLinkSecurityGroup, ...)&lt;/code&gt;, and included &lt;code class=&quot;language-text&quot;&gt;securityGroups: [vpcLinkSecurityGroup]&lt;/code&gt; on the &lt;code class=&quot;language-text&quot;&gt;apigatewayv2.VpcLink&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Tried again, and still didn’t work - but where?  I had no idea because there wasn’t enough logging.  I did some more vibe coding to add ALB Access Logging and VPC Flow logging.&lt;/p&gt;
&lt;p&gt;I still was not seeing any logs indication my ALB targeted Lambda function was being called.  But with the ALB and VPC logging, I realized it wasn’t leaving the API Gateway.  I next found a problem with HTTP API access logging which was missing the &lt;code class=&quot;language-text&quot;&gt;$context.authorizer.error&lt;/code&gt; &lt;a href=&quot;https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-logging-variables.html&quot;&gt;variable&lt;/a&gt; to resolve&lt;/p&gt;
&lt;p&gt;Now I had the clue my &lt;a href=&quot;https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html&quot;&gt;HTTP API Lambda authorizer&lt;/a&gt; was generated to return a 2.0 payload format, but the &lt;code class=&quot;language-text&quot;&gt;HttpLambdaAuthorizer&lt;/code&gt; was not configured for &lt;code class=&quot;language-text&quot;&gt;responseTypes: [apigatewayv2_authorizers.HttpLambdaResponseType.SIMPLE]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;At least now my Lambda function was being called, but I still needed to tweak some &lt;code class=&quot;language-text&quot;&gt;.appendHeader&lt;/code&gt; vs &lt;code class=&quot;language-text&quot;&gt;replaceHeader&lt;/code&gt; &lt;a href=&quot;https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-parameter-mapping.html&quot;&gt;parameters mappings&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I’m asking myself if this was better than doing everything myself.  It was faster to get the CDK project setup and deployed.  However, I still had to understand the stack was missing parts of the architecture, debug from the logs, and understand key details of the implementation like authorizer payload format and api parameters mappings.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Fun with Cypress Fixture Files]]></title><description><![CDATA[aws-jwt-verify uses Conditional exports to support both Node.js and browser environments. The primary unit tests use Jest and run under Node…]]></description><link>https://kevinhakanson.com/2025-01-18-fun-with-cypress-fixture-files/</link><guid isPermaLink="false">https://kevinhakanson.com/2025-01-18-fun-with-cypress-fixture-files/</guid><pubDate>Sat, 18 Jan 2025 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/awslabs/aws-jwt-verify&quot;&gt;aws-jwt-verify&lt;/a&gt; uses &lt;a href=&quot;https://nodejs.org/api/packages.html#conditional-exports&quot;&gt;Conditional exports&lt;/a&gt; to support both Node.js and browser environments.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;imports&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;#node-web-compat&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;browser&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./node-web-compat-web.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;default&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./node-web-compat-node.js&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The primary unit tests use &lt;a href=&quot;https://jestjs.io/&quot;&gt;Jest&lt;/a&gt; and run under Node.js, which means the browser imports are not used.  This is addressed by also testing with a &lt;a href=&quot;https://vite.dev/&quot;&gt;Vite&lt;/a&gt;-based web application using &lt;a href=&quot;https://www.cypress.io/&quot;&gt;Cypress&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In 2022, when first using Cypress, I was smart enough to use &lt;a href=&quot;https://docs.cypress.io/app/core-concepts/writing-and-organizing-tests#Fixture-Files&quot;&gt;fixture files&lt;/a&gt;.  There is a &lt;code class=&quot;language-text&quot;&gt;tests/vite-app/util/generateExampleTokens.ts&lt;/code&gt; that generates JWT tokens and the corresponding &lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc7517&quot;&gt;JSON Web Key Set&lt;/a&gt; (JWKS), then saves into the web application and as fixtures for the Cypress tests.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JWKSFILE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;example-JWKS.json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;saveFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;public&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JWKSFILE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jwks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;saveFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;cypress&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;fixtures&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JWKSFILE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jwks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;saveFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;cypress&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;fixtures&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;example-token-data.json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tokendata&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, I was not smart enough to read the docs about using &lt;code class=&quot;language-text&quot;&gt;cy.fixture()&lt;/code&gt;.  I instead abused TypeScript Resolve JSON Module (&lt;a href=&quot;https://www.typescriptlang.org/tsconfig/#resolveJsonModule&quot;&gt;resolveJsonModule&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JWKSURI&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../fixtures/example-token-data.json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I used the &lt;code class=&quot;language-text&quot;&gt;JWKSURI&lt;/code&gt; value in &lt;a href=&quot;https://docs.cypress.io/api/commands/intercept&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;cy.intercept()&lt;/code&gt;&lt;/a&gt; below:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;  &lt;span class=&quot;token function&quot;&gt;beforeEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    cy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;intercept&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;GET&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JWKSURI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; fixture&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;example-JWKS&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Recently, I wanted to add another test for our &lt;code class=&quot;language-text&quot;&gt;SimpleFetcher&lt;/code&gt;. Instead of spying and stubbing the network request and response, I wanted to actually fetch over http and compare against &lt;code class=&quot;language-text&quot;&gt;fixtures/example-JWKS.json&lt;/code&gt; data.  I built up a shell of the test, then wasn’t sure what I to do next, so I asked &lt;a href=&quot;https://aws.amazon.com/q/developer/&quot;&gt;Amazon Q Developer&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;in the selected cypress test, how do I compare the result of the fetcher to the JSON data from the fixture file&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I got a nice explanation, and the full test code.  Below are the important lines:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;    cy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fixture&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;example-JWKS.json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jwksData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fetcher &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SimpleFetcher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      fetcher&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JWKSURI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jwks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jwks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;deep&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jwksData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then I wondered if there was a better way to reference &lt;code class=&quot;language-text&quot;&gt;JWKSURI&lt;/code&gt; and asked Q Developer this followup question.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;is there a more semantic way to get the JWKSURI value than using an import in the selected code? should I use cy.fixture instead?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Of course there was.  Below is the final code for &lt;code class=&quot;language-text&quot;&gt;tests/vite-app/cypress/e2e/fetcher.cy.ts&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// &amp;lt;reference types=&quot;cypress&quot; /&gt;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; SimpleFetcher &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;aws-jwt-verify/https&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Fetcher&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; tokenData&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;beforeEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    cy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fixture&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;example-token-data.json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      tokenData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Simple JSON fetcher works&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    cy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;visit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    cy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fixture&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;example-JWKS.json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jwksData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fetcher &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SimpleFetcher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      fetcher&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tokenData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JWKSURI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jwks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jwks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;deep&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;jwksData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Asking Claude Haiku to redefine A/B testing]]></title><description><![CDATA[During a call with customer, they mentioned that “friends and family” testing of features often gives positive feedback.  I thought this…]]></description><link>https://kevinhakanson.com/2024-10-04-asking-claude-haiku-to-redefine-ab-testing/</link><guid isPermaLink="false">https://kevinhakanson.com/2024-10-04-asking-claude-haiku-to-redefine-ab-testing/</guid><pubDate>Fri, 04 Oct 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;During a call with customer, they mentioned that “friends and family” testing of features often gives positive feedback.  I thought this would be a fun use of generative AI so I asked Claude Haiku for some help “redefining” A/B testing:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The software development terminology of A/B testing allows a team to experiment on two different strategies.  Suggest what words “A” and “B” should represent based on the following rules:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;One term should begin with the letter A and the other with the letter B&lt;/li&gt;
&lt;li&gt;The first term should represent a group of people that are friendly or have a favorable opinion of what is being tested&lt;/li&gt;
&lt;li&gt;The second term should represent a group that is hostile to changes and has unfavorable opinions of what is being tested&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Based on the rules provided, the terms “A” and “B” could represent the following:&lt;/p&gt;
&lt;p&gt;A: Advocates&lt;br&gt;
B: Bureaucrats&lt;/p&gt;
&lt;p&gt;Explanation:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The first term, “A,” should begin with the letter A, and it should represent a group of people that are friendly or have a favorable opinion of what is being tested. In this case, “Advocates” would be a suitable term, as advocates are typically supportive and in favor of the changes or initiatives being tested.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The second term, “B,” should begin with the letter B, and it should represent a group that is hostile to changes and has unfavorable opinions of what is being tested. “Bureaucrats” would be a suitable term in this case, as bureaucrats are often resistant to change and may have a more conservative or unfavorable stance towards new initiatives or ideas.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In the context of A/B testing, the “Advocates” group (A) would represent the users or stakeholders who are more likely to respond positively to the changes or new features being tested, while the “Bureaucrats” group (B) would represent those who may be more hesitant or resistant to the changes.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Asking Claude Haiku for a poem about my favorite color]]></title><description><![CDATA[Recently, I was working on a TypeScript code sample using @aws-sdk/client-bedrock-runtime.  Since I like to have fun with my examples, I…]]></description><link>https://kevinhakanson.com/2024-09-23-asking-claude-haiku-for-a-poem-about-my-favorite-color/</link><guid isPermaLink="false">https://kevinhakanson.com/2024-09-23-asking-claude-haiku-for-a-poem-about-my-favorite-color/</guid><pubDate>Mon, 23 Sep 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Recently, I was working on a TypeScript code sample using &lt;a href=&quot;https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/Package/-aws-sdk-client-bedrock-runtime/&quot;&gt;@aws-sdk/client-bedrock-runtime&lt;/a&gt;.  Since I like to have fun with my examples, I &lt;a href=&quot;https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/system-prompts&quot;&gt;gave Claude a role with a system prompt&lt;/a&gt; along with my user prompt.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;System Prompt:&lt;/strong&gt;  You must always respond in rhymes.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;User Message:&lt;/strong&gt;  Tell me about Kevin’s favorite color.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Claude 3 &lt;a href=&quot;https://www.anthropic.com/claude/haiku&quot;&gt;Haiku&lt;/a&gt; gave me a decent response for not knowing the answer.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Alas, I do not know Kevin’s favorite hue,&lt;br&gt;
For his color preference, I have no clue.&lt;br&gt;
If you could provide more details, it would be grand,&lt;br&gt;
Then I could attempt to understand.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;How could Claude know Kevin’s favorite color is blue, and generate a poem like this?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The color that Kevin adores,&lt;br&gt;
Is a lovely shade of blue, nothing more.&lt;br&gt;
This tranquil tone, so serene and true,&lt;br&gt;
Brings him joy, through and through.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Claude can integrate with external tools through &lt;a href=&quot;https://docs.anthropic.com/en/docs/build-with-claude/tool-use&quot;&gt;tool use (function calling)&lt;/a&gt;.  The JSON below defines a &lt;code class=&quot;language-text&quot;&gt;get_favorite_color&lt;/code&gt; tool that indicates it can “Get a person’s favorite color” given the &lt;code class=&quot;language-text&quot;&gt;person&lt;/code&gt;’s name.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;get_favorite_color&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Get a person&apos;s favorite color&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  inputSchema&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    json&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;object&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      properties&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        person&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;string&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;The person&apos;s name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      required&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;person&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now that same prompt will cause Claude to request &lt;code class=&quot;language-text&quot;&gt;toolUse&lt;/code&gt; of &lt;code class=&quot;language-text&quot;&gt;get_favorite_color&lt;/code&gt; for &lt;code class=&quot;language-text&quot;&gt;person&lt;/code&gt; &lt;strong&gt;Kevin&lt;/strong&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;toolUse&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;input&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;person&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kevin&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;get_favorite_color&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;toolUseId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;tooluse_Yg0aXKPfQv6ypSmtdJF8pw&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;My favorite color is &lt;strong&gt;blue&lt;/strong&gt;, and odds are that yours is as well (see &lt;a href=&quot;https://today.yougov.com/international/articles/12335-why-blue-worlds-favorite-color&quot;&gt;Why is blue the world’s favorite color?&lt;/a&gt;).  Therefore, let’s hard code the response.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;command&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;messages&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  role&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;user&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  content&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      toolResult&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        toolUseId&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; toolUse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;toolUseId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        content&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; json&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;favorite_color&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The sample-quality code is below - filled with &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;, always assumes this &lt;code class=&quot;language-text&quot;&gt;toolUse&lt;/code&gt;, and doesn’t know how to find everyone’s favorite color.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  BedrockRuntimeClient&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  ConverseCommand&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@aws-sdk/client-bedrock-runtime&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BedrockRuntimeClient&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; region&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;us-west-2&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; modelId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;anthropic.claude-3-haiku-20240307-v1:0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; systemPrompt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;You must always respond in rhymes.&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userMessage &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Tell me about Kevin&apos;s favorite color.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; conversation &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    role&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;user&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    content&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; userMessage &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; toolSpec &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;get_favorite_color&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Get a person&apos;s favorite color&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  inputSchema&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    json&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;object&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      properties&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        person&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;string&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;The person&apos;s name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      required&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;person&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; command &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ConverseCommand&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  modelId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  messages&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; conversation&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  system&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; systemPrompt&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  toolConfig&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    tools&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        toolSpec&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; toolSpec&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  inferenceConfig&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; maxTokens&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;512&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; temperature&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; topP&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.9&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;command&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; responseText &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;content&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;responseText&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  command&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;messages&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; toolUse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;content&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;toolUse&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;toolUse&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  command&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;messages&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    role&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;user&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    content&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        toolResult&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          toolUseId&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; toolUse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;toolUseId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          content&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; json&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;favorite_color&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;command&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  responseText &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;content&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;responseText&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ERROR: Can&apos;t invoke &apos;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;modelId&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;. Reason: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;err&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[RDS IAM authentication and MySQL ERROR 1045]]></title><description><![CDATA[Are you trying to connect to your MySQL DB instance using IAM authentication using the AWS CLI and mysql client and getting this error…]]></description><link>https://kevinhakanson.com/2024-05-03-rds-iam-authentication-and-mysql-error-1045/</link><guid isPermaLink="false">https://kevinhakanson.com/2024-05-03-rds-iam-authentication-and-mysql-error-1045/</guid><pubDate>Fri, 03 May 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Are you trying to &lt;a href=&quot;https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.Connecting.AWSCLI.html&quot;&gt;connect to your MySQL DB instance using IAM authentication using the AWS CLI and mysql client&lt;/a&gt; and getting this error?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ERROR 1045 (28000): Access denied for user ‘user1’@‘172.31.9.140’ (using password: YES)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Lucky you!  Well not lucky so far, but hopefully lucky now.  I fought with a scenario for longer than I will admit in public, but this post documents my struggle and how I ended up blaming &lt;a href=&quot;https://aws.amazon.com/cloud9/&quot;&gt;AWS Cloud9&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;✅ Watched &lt;a href=&quot;https://www.youtube.com/watch?v=y2QsuwZGZ54&quot;&gt;IAM Authentication with Amazon Aurora MySQL&lt;/a&gt; to see how everything works.&lt;/p&gt;
&lt;p&gt;✅ &lt;a href=&quot;https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.IAMPolicy.html&quot;&gt;Created an IAM policy for database access&lt;/a&gt; after finding DB instance resource ID using CLI&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;aws rds describe-db-instances --db-instance-identifier database-1-instance-1 &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; jq &lt;span class=&quot;token parameter variable&quot;&gt;-r&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;.DBInstances[].DbiResourceId&quot;&lt;/span&gt;
db-XXXXXXXXXXXXXXXXXXXXXXXXXX&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;rds-db:connect&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds-db:us-east-1:123456789012:dbuser:db-XXXXXXXXXXXXXXXXXXXXXXXXXX/user1&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Since I want to follow &lt;a href=&quot;https://aws.amazon.com/blogs/database/security-best-practices-for-amazon-rds-for-mysql-and-mariadb-instances/&quot;&gt;Security best practices for Amazon RDS for MySQL and MariaDB instances&lt;/a&gt;, my database is only accessible from its VPC. I created a Cloud9 instance with the right security groups to access the database host and port.&lt;/p&gt;
&lt;p&gt;✅ Downloaded the &lt;a href=&quot;https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html&quot;&gt;Certificate bundles for all AWS Regions&lt;/a&gt; to Cloud9 using &lt;code class=&quot;language-text&quot;&gt;wget&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;wget&lt;/span&gt; https://truststore.pki.rds.amazonaws.com/global/global-bundle.pem&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;✅ Connected to database as &lt;code class=&quot;language-text&quot;&gt;admin&lt;/code&gt; without having my password appear in &lt;code class=&quot;language-text&quot;&gt;.bash_history&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token assign-left variable&quot;&gt;RDSHOST&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;database-1.cluster-xxxxxxxxxxxx.us-east-1.rds.amazonaws.com&quot;&lt;/span&gt;
mysql &lt;span class=&quot;token parameter variable&quot;&gt;--host&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$RDSHOST&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--port&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3306&lt;/span&gt; --ssl-ca&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;global-bundle.pem  &lt;span class=&quot;token parameter variable&quot;&gt;--user&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;admin &lt;span class=&quot;token parameter variable&quot;&gt;--password&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;read&lt;/span&gt; -s&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token environment constant&quot;&gt;$REPLY&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
Welcome to the MariaDB monitor.  Commands end with &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; or &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;g.
Your MySQL connection &lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt; is &lt;span class=&quot;token number&quot;&gt;8128&lt;/span&gt;
Server version: &lt;span class=&quot;token number&quot;&gt;8.0&lt;/span&gt;.28 Source distribution

Copyright &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2000&lt;/span&gt;, &lt;span class=&quot;token number&quot;&gt;2018&lt;/span&gt;, Oracle, MariaDB Corporation Ab and others.

Type &lt;span class=&quot;token string&quot;&gt;&apos;help;&apos;&lt;/span&gt; or &lt;span class=&quot;token string&quot;&gt;&apos;\h&apos;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; help. Type &lt;span class=&quot;token string&quot;&gt;&apos;\c&apos;&lt;/span&gt; to &lt;span class=&quot;token function&quot;&gt;clear&lt;/span&gt; the current input statement.

MySQL &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;none&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;✅ Create &lt;code class=&quot;language-text&quot;&gt;user1&lt;/code&gt; in the database using IAM authentication&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;USER&lt;/span&gt; user1 IDENTIFIED &lt;span class=&quot;token keyword&quot;&gt;WITH&lt;/span&gt; AWSAuthenticationPlugin &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;RDS&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;USER&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;user1&apos;&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;@&apos;%&apos;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;REQUIRE&lt;/span&gt; SSL&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;✅ Generated token using bash command copied from &lt;a href=&quot;https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.Connecting.AWSCLI.html&quot;&gt;Connecting to a DB instance&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token assign-left variable&quot;&gt;TOKEN&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;aws rds generate-db-auth-token &lt;span class=&quot;token parameter variable&quot;&gt;--hostname&lt;/span&gt; $RDSHOST &lt;span class=&quot;token parameter variable&quot;&gt;--port&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3306&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; us-east-1 &lt;span class=&quot;token parameter variable&quot;&gt;--username&lt;/span&gt; user1 &lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;❌ Failed to connect to database using &lt;code class=&quot;language-text&quot;&gt;$TOKEN&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;mysql &lt;span class=&quot;token parameter variable&quot;&gt;--host&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$RDSHOST&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--port&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3306&lt;/span&gt; --ssl-ca&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;global-bundle.pem  &lt;span class=&quot;token parameter variable&quot;&gt;--user&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;user1 &lt;span class=&quot;token parameter variable&quot;&gt;--password&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$TOKEN&lt;/span&gt;
ERROR &lt;span class=&quot;token number&quot;&gt;1045&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;28000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;: Access denied &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; user &lt;span class=&quot;token string&quot;&gt;&apos;user1&apos;&lt;/span&gt;@&lt;span class=&quot;token string&quot;&gt;&apos;172.31.9.140&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;using password: YES&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;✅ Verified from RDS logs that I connected to the database&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;RDS &gt; Databases &gt; database-1 &gt; database-1-instance-1 &gt; error/mysql-error.log&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;2024-05-03T00:00:00.000000Z 5281 [Note] [MY-010926] [Server] Access denied for user ‘user1’@‘172.31.9.140’ (using password: YES) (sql_authentication.cc:1412)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This must be an IAM issue - I even changed the IAM policy to use resource &lt;code class=&quot;language-text&quot;&gt;arn:aws:rds-db:us-east-1:123456789012:dbuser:*/*&lt;/code&gt; and after another &lt;code class=&quot;language-text&quot;&gt;aws rds generate-db-auth-token&lt;/code&gt; there was still access denied.&lt;/p&gt;
&lt;p&gt;✅ Verified &lt;code class=&quot;language-text&quot;&gt;user1&lt;/code&gt; was created correctly&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;MySQL [(none)]&gt; SELECT User, Host, plugin, authentication_string FROM mysql.user WHERE user = &quot;user1&quot;;
+-------+------+-------------------------+-----------------------+
| User  | Host | plugin                  | authentication_string |
+-------+------+-------------------------+-----------------------+
| user1 | %    | AWSAuthenticationPlugin | RDS                   |
+-------+------+-------------------------+-----------------------+
1 row in set (0.063 sec)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;✅ Be confused, but eventually blame &lt;a href=&quot;https://docs.aws.amazon.com/cloud9/latest/user-guide/security-iam.html#auth-and-access-control-temporary-managed-credentials&quot;&gt;AWS managed temporary credentials&lt;/a&gt; and their restrictions on &lt;code class=&quot;language-text&quot;&gt;iam&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;sts&lt;/code&gt; actions.&lt;/p&gt;
&lt;p&gt;I temporarily solved this by running &lt;code class=&quot;language-text&quot;&gt;aws rds generate-db-auth-token&lt;/code&gt; outside of Cloud9, copying that string value, and pasting into my Cloud9 terminal session (e.g. &lt;code class=&quot;language-text&quot;&gt;TOKEN=&quot;&amp;lt;pasted token&gt;&quot;&lt;/code&gt;).  After that I was able to connect as expected and have the &lt;a href=&quot;https://dev.mysql.com/doc/refman/8.0/en/information-functions.html#function_current-user&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;SELECT CURRENT_USER()&lt;/code&gt;&lt;/a&gt; to prove it.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;MySQL [(none)]&gt; SELECT CURRENT_USER();
+----------------+
| CURRENT_USER() |
+----------------+
| user1@%        |
+----------------+
1 row in set (0.073 sec)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Testing a Visual Studio Code Extension inside GitHub Actions]]></title><description><![CDATA[Visual Studio Code can be customized and enhanced through the Extension API, as I have done with the Cedar policy language for Visual Studio…]]></description><link>https://kevinhakanson.com/2024-02-12-testing-a-visual-studio-code-extension-inside-github-actions/</link><guid isPermaLink="false">https://kevinhakanson.com/2024-02-12-testing-a-visual-studio-code-extension-inside-github-actions/</guid><pubDate>Mon, 12 Feb 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Visual Studio Code can be customized and enhanced through the &lt;a href=&quot;https://code.visualstudio.com/api&quot;&gt;Extension API&lt;/a&gt;, as I have done with the &lt;a href=&quot;https://marketplace.visualstudio.com/items?itemName=cedar-policy.vscode-cedar&quot;&gt;Cedar policy language for Visual Studio Code&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Running automated tests using &lt;a href=&quot;https://github.com/features/actions&quot;&gt;GitHub Actions&lt;/a&gt; gave me errors like these:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Failed to connect to the bus: Could not parse server address: Unknown address type (examples of valid types are “tcp” and on UNIX “unix”)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Exiting GPU process due to errors during initialization&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Below are select sections from my &lt;a href=&quot;https://github.com/cedar-policy/vscode-cedar/blob/main/.github/workflows/build_and_test.yml&quot;&gt;build_and_test.yml&lt;/a&gt; that removed these error messages.&lt;/p&gt;
&lt;p&gt;The GitHub Action is running on &lt;code class=&quot;language-text&quot;&gt;ubuntu-latest&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;latest&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Running tests requires downloading a version of Visual Studio Code, so I called the REST API to get the latest stable version.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Find VS Code stable release version
        &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; code&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;stable
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
          echo &quot;VSCODE_VERSION=`curl --silent https://update.code.visualstudio.com/api/releases/stable | jq -r &apos;.[0]&apos;`&quot; &gt;&gt; &quot;$GITHUB_OUTPUT&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then I used the &lt;a href=&quot;https://github.com/actions/cache&quot;&gt;Cache action&lt;/a&gt; to cache that download and improve workflow execution time on subsequent runs.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Cache VS Code download
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/cache@v4
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
            .vscode-test&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; vscode&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;test&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;cache&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; steps.code&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;stable.outputs.VSCODE_VERSION &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I don’t know much about D-Bus (short for “Desktop Bus”) other that it gave me a lot of errors.  I searched and eventually a &lt;code class=&quot;language-text&quot;&gt;dbus-daemon&lt;/code&gt; command that worked.  Then I found how to &lt;a href=&quot;https://code.visualstudio.com/updates/v1_40#_disable-gpu-acceleration&quot;&gt;disable GPU acceleration&lt;/a&gt; by adding &lt;code class=&quot;language-text&quot;&gt;&quot;disable-hardware-acceleration&quot;: true&lt;/code&gt; to an &lt;code class=&quot;language-text&quot;&gt;argv.json&lt;/code&gt; file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Test using VS Code
        &lt;span class=&quot;token comment&quot;&gt;# commands before `xvfb-run -a npm run test` avoid these ERROR messages:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# - Failed to connect to the bus: Could not parse server address: Unknown address type (examples of valid types are &quot;tcp&quot; and on UNIX &quot;unix&quot;)&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# - Exiting GPU process due to errors during initialization&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
          export XDG_RUNTIME_DIR=/run/user/$(id -u)
          export DBUS_SESSION_BUS_ADDRESS=unix:path=$XDG_RUNTIME_DIR/bus
          dbus-daemon --session --address=$DBUS_SESSION_BUS_ADDRESS --nofork --nopidfile --syslog-only &amp;amp;
          mkdir ~/.vscode &amp;amp;&amp;amp; echo &apos;{ &quot;disable-hardware-acceleration&quot;: true }&apos; &gt; ~/.vscode/argv.json
          xvfb-run -a npm run test&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now I get clean runs, and if you are reading this, I hope you do as well.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Microsoft Certifications no longer on Credly]]></title><description><![CDATA[Even while working for AWS as a Solutions Architect, I keep my Microsoft Azure certifications up to date.  These free renewals happen every…]]></description><link>https://kevinhakanson.com/2023-11-20-microsoft-certifications-no-longer-on-credly/</link><guid isPermaLink="false">https://kevinhakanson.com/2023-11-20-microsoft-certifications-no-longer-on-credly/</guid><pubDate>Mon, 20 Nov 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Even while working for AWS as a Solutions Architect, I keep my Microsoft Azure certifications up to date.  These free renewals happen every year on the Microsoft Learn platform.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Certification title&lt;/th&gt;
&lt;th&gt;Certification number&lt;/th&gt;
&lt;th&gt;Earned on&lt;/th&gt;
&lt;th&gt;Expires on&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Microsoft Certified: Azure Security Engineer Associate&lt;/td&gt;
&lt;td&gt;D5CB4B-49F723&lt;/td&gt;
&lt;td&gt;Jan 21, 2021&lt;/td&gt;
&lt;td&gt;Jan 21, 2024&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Microsoft Certified: Azure Administrator Associate&lt;/td&gt;
&lt;td&gt;9P7D3F-0425CF&lt;/td&gt;
&lt;td&gt;Mar 13, 2021&lt;/td&gt;
&lt;td&gt;Mar 13, 2024&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Microsoft Certified: Azure Solutions Architect Expert&lt;/td&gt;
&lt;td&gt;13RB68-44EC4D&lt;/td&gt;
&lt;td&gt;Oct 30, 2020&lt;/td&gt;
&lt;td&gt;Oct 30, 2024&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;My most recent renewal on October 21 for Azure Solutions Architect Expert renewal was missing / shows expired on Credly.  I reached out for support and got this reply:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Microsoft Certifications earned and claimed on Credly before June 30, 2023, will be available for viewing and sharing through Credly until June 30, 2024. However, &lt;strong&gt;your Microsoft Certifications on Credly will no longer be kept current or updated as you pass renewal exams or earn new Microsoft Certifications.&lt;/strong&gt; This is because Microsoft is not partnered with Credly anymore.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I’m a bit sad, because I liked having all my &lt;a href=&quot;https://www.credly.com/users/kevin-hakanson/badges&quot;&gt;digital badges&lt;/a&gt; in one place.  I guess the obvious focus for me is collecting more &lt;a href=&quot;https://aws.amazon.com/training/badges/&quot;&gt;AWS Learning Badges&lt;/a&gt; then running my &lt;a href=&quot;https://github.com/hakanson/credly-badges-to-csv&quot;&gt;credly-badges-to-csv&lt;/a&gt; utility to show off.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Agile daily stand-up and The X-Files]]></title><description><![CDATA[I’ve been working with a customer for several months on a cloud modernization project.  We are just over a month from production and…]]></description><link>https://kevinhakanson.com/2023-10-25-agile-daily-stand-up-and-the-x-files/</link><guid isPermaLink="false">https://kevinhakanson.com/2023-10-25-agile-daily-stand-up-and-the-x-files/</guid><pubDate>Wed, 25 Oct 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I’ve been working with a customer for several months on a cloud modernization project.  We are just over a month from production and addressing blockers in our daily stand-up meetings.  Every so often, some “big and scarry” issue appears.  Today I sensed something was about to surface so asked what’s the “monster of the week?”&lt;/p&gt;
&lt;p&gt;Let me rewind back 30 years to 1993 when &lt;a href=&quot;https://www.imdb.com/title/tt0106179/&quot;&gt;The X-Files&lt;/a&gt; was first available via OTA (over-the-air) broadcasting.  You can watch today via OTT (over-the-top) services like &lt;a href=&quot;https://www.amazon.com/gp/video/splash/freevee_findus&quot;&gt;Amazon Freevee&lt;/a&gt;. Per the X-Files Wiki, &lt;a href=&quot;https://x-files.fandom.com/wiki/Monster_of_the_Week&quot;&gt;Monster of the Week&lt;/a&gt; (or MotW) refers to “episodes of The X-Files that typically deal with some type of supernatural or paranormal creature/entity.”  These were the majority of episodes in contrast to the &lt;a href=&quot;https://x-files.fandom.com/wiki/Mythology&quot;&gt;Mythology&lt;/a&gt; (or Mytharc) that told the overarching story of an international conspiracy to suppress knowledge of the existence of extraterrestrials.&lt;/p&gt;
&lt;p&gt;Just like Agents Mulder and Scully, my job is not just to solve the monster of the week (tactical) problems, but also dive deep to expose the mythology (strategy).  The customer doesn’t have a shadowy syndicate in their organization (that I know of), but sometimes to avoid stand-ups as MotW “filler episodes”, one needs to investigate and find the knowledgeable individuals, then redirect some meetings to bring resolution to the story arc.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Vitest File Snapshots]]></title><description><![CDATA[I recently added tests for both prism-cedar and highlightjs-cedar using the File Snapshots feature of vitest. Each of these syntax highlight…]]></description><link>https://kevinhakanson.com/2023-09-29-vitest-file-snapshots/</link><guid isPermaLink="false">https://kevinhakanson.com/2023-09-29-vitest-file-snapshots/</guid><pubDate>Fri, 29 Sep 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I recently added tests for both &lt;a href=&quot;https://github.com/cedar-policy/prism-cedar&quot;&gt;prism-cedar&lt;/a&gt; and &lt;a href=&quot;https://github.com/cedar-policy/highlightjs-cedar&quot;&gt;highlightjs-cedar&lt;/a&gt; using the &lt;a href=&quot;https://vitest.dev/guide/snapshot.html#file-snapshots&quot;&gt;File Snapshots&lt;/a&gt; feature of &lt;a href=&quot;https://vitest.dev/&quot;&gt;vitest&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Each of these syntax highlight libraries uses a lot of regular expressions, and I immediately think of the joke about regex.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Some people, when confronted with a problem, think “I know, I’ll use regular expressions.” Now they have two problems.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I created a set of &lt;code class=&quot;language-text&quot;&gt;.cedar&lt;/code&gt; files which included all the language keywords.  Below is the contents of &lt;a href=&quot;https://github.com/cedar-policy/prism-cedar/blob/main/test/data/decimal.cedar&quot;&gt;decimal.cedar&lt;/a&gt;…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;cedar&quot;&gt;&lt;pre class=&quot;language-cedar&quot;&gt;&lt;code class=&quot;language-cedar&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// decimal(), lessThan, lessThanOrEqual, greaterThan, greaterThanOrEqual&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// see https://docs.cedarpolicy.com/policies/syntax-operators.html#decimal-parse-string-and-convert-to-decimal&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;permit&lt;/span&gt; (&lt;span class=&quot;token variable&quot;&gt;principal&lt;/span&gt;, &lt;span class=&quot;token variable&quot;&gt;action&lt;/span&gt;, &lt;span class=&quot;token variable&quot;&gt;resource&lt;/span&gt;)
&lt;span class=&quot;token keyword&quot;&gt;when&lt;/span&gt;
{
  (&lt;span class=&quot;token builtin&quot;&gt;decimal&lt;/span&gt;(&lt;span class=&quot;token string&quot;&gt;&quot;1.23&quot;&lt;/span&gt;).&lt;span class=&quot;token function&quot;&gt;lessThan&lt;/span&gt;(&lt;span class=&quot;token builtin&quot;&gt;decimal&lt;/span&gt;(&lt;span class=&quot;token string&quot;&gt;&quot;1.24&quot;&lt;/span&gt;)) &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
   &lt;span class=&quot;token builtin&quot;&gt;decimal&lt;/span&gt;(&lt;span class=&quot;token string&quot;&gt;&quot;1.23&quot;&lt;/span&gt;).&lt;span class=&quot;token function&quot;&gt;lessThanOrEqual&lt;/span&gt;(&lt;span class=&quot;token builtin&quot;&gt;decimal&lt;/span&gt;(&lt;span class=&quot;token string&quot;&gt;&quot;1.24&quot;&lt;/span&gt;))) &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
  (&lt;span class=&quot;token builtin&quot;&gt;decimal&lt;/span&gt;(&lt;span class=&quot;token string&quot;&gt;&quot;1.24&quot;&lt;/span&gt;).&lt;span class=&quot;token function&quot;&gt;greaterThan&lt;/span&gt;(&lt;span class=&quot;token builtin&quot;&gt;decimal&lt;/span&gt;(&lt;span class=&quot;token string&quot;&gt;&quot;1.23&quot;&lt;/span&gt;)) &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
   &lt;span class=&quot;token builtin&quot;&gt;decimal&lt;/span&gt;(&lt;span class=&quot;token string&quot;&gt;&quot;1.24&quot;&lt;/span&gt;).&lt;span class=&quot;token function&quot;&gt;greaterThanOrEqual&lt;/span&gt;(&lt;span class=&quot;token builtin&quot;&gt;decimal&lt;/span&gt;(&lt;span class=&quot;token string&quot;&gt;&quot;1.23&quot;&lt;/span&gt;)))
};&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;…and &lt;a href=&quot;https://github.com/cedar-policy/prism-cedar/blob/main/test/data/decimal.html&quot;&gt;decimal.html&lt;/a&gt; is what the File Snapshot of the syntax highlight output looks like.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token comment&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;// decimal(), lessThan, lessThanOrEqual, greaterThan, greaterThanOrEqual&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token comment&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;// see https://docs.cedarpolicy.com/policies/syntax-operators.html#decimal-parse-string-and-convert-to-decimal&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token keyword&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;permit&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; (&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token variable&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;principal&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token variable&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;action&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token variable&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;resource&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;)
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token keyword&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;when&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
{
  (&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token builtin&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;decimal&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;(&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token string&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&quot;1.23&quot;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token function&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;lessThan&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;(&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token builtin&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;decimal&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;(&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token string&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&quot;1.24&quot;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;)) &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token operator&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token entity named-entity&quot; title=&quot;&amp;amp;&quot;&gt;&amp;amp;amp;&lt;/span&gt;&lt;span class=&quot;token entity named-entity&quot; title=&quot;&amp;amp;&quot;&gt;&amp;amp;amp;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
   &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token builtin&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;decimal&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;(&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token string&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&quot;1.23&quot;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token function&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;lessThanOrEqual&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;(&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token builtin&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;decimal&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;(&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token string&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&quot;1.24&quot;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;))) &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token operator&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;||&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  (&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token builtin&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;decimal&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;(&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token string&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&quot;1.24&quot;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token function&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;greaterThan&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;(&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token builtin&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;decimal&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;(&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token string&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&quot;1.23&quot;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;)) &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token operator&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token entity named-entity&quot; title=&quot;&amp;amp;&quot;&gt;&amp;amp;amp;&lt;/span&gt;&lt;span class=&quot;token entity named-entity&quot; title=&quot;&amp;amp;&quot;&gt;&amp;amp;amp;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
   &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token builtin&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;decimal&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;(&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token string&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&quot;1.24&quot;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;).&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token function&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;greaterThanOrEqual&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;(&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token builtin&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;decimal&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;(&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;token string&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&quot;1.23&quot;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;)))
};&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;a href=&quot;https://github.com/cedar-policy/prism-cedar/blob/main/test/prism-cedar.test.js&quot;&gt;prism-cedar.test.js&lt;/a&gt; code is a nice iterator over the set of &lt;code class=&quot;language-text&quot;&gt;test/data/*.cedar&lt;/code&gt; files.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;data/*.cedar files&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; files &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readdirSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;endsWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.cedar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  files&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; code &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readFileSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Prism&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;highlight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;code&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Prism&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;languages&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cedar&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cedar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toMatchFileSnapshot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.cedar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Cedar policy language extension for Visual Studio Code]]></title><description><![CDATA[The Cedar policy language extension for Visual Studio Code is available for installation from the Visual Studio Marketplace as well as open…]]></description><link>https://kevinhakanson.com/2023-08-10-cedar-policy-language-extension-for-visual-studio-code/</link><guid isPermaLink="false">https://kevinhakanson.com/2023-08-10-cedar-policy-language-extension-for-visual-studio-code/</guid><pubDate>Thu, 10 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The &lt;a href=&quot;https://marketplace.visualstudio.com/items?itemName=cedar-policy.vscode-cedar&quot;&gt;Cedar policy language extension for Visual Studio Code&lt;/a&gt; is available for installation from the Visual Studio Marketplace as well as open source on GitHub at &lt;a href=&quot;https://github.com/cedar-policy/vscode-cedar&quot;&gt;cedar-policy/vscode-cedar&lt;/a&gt;.  This extension supports syntax highlighting, formatting, and validation of Cedar policy language (&lt;code class=&quot;language-text&quot;&gt;*.cedar&lt;/code&gt;) and Cedar schema (&lt;code class=&quot;language-text&quot;&gt;cedarschema.json&lt;/code&gt; / &lt;code class=&quot;language-text&quot;&gt;*.cedarschema.json&lt;/code&gt;) files.&lt;/p&gt;
&lt;p&gt;This was a project I started near the beginning of 2023 as personal tool to make my editing of Cedar files easier.  Why Visual Studio Code?  It’s what I use everyday, and “remains the preferred IDE across all developers” per &lt;a href=&quot;https://survey.stackoverflow.co/2022#section-most-popular-technologies-integrated-development-environment&quot;&gt;Stack Overflow 2022 Developer Survey&lt;/a&gt; with 74.48% of respondents.  When Cedar became open source in May, I started the process to have this extension published and become open source since “half of developers (55%) install UI themes and add-ons for their IDEs or editors” according to &lt;a href=&quot;https://www.jetbrains.com/lp/devecosystem-2022/#what-kinds-of-plugins-do-you-install-with-your-ide-or-editor-if-any-&quot;&gt;The State of Developer Ecosystem 2022&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For a polished README, I created some (what I consider) nice looking animated GIF screen captures to show off the features, but wanted to find a solution that worked without installing any new software.&lt;/p&gt;
&lt;p&gt;I put Visual Studio Code in full screen mode, then hid stuff I didn’t want on the screen, including extra left rail views, minimap, etc.  I disabled any extensions adding unwanted problems (like spelling or markdown linting) that I didn’t wanted included.&lt;/p&gt;
&lt;p&gt;I created a script for myself that would look good in a loop, Then recorded using QuickTime to a &lt;code class=&quot;language-text&quot;&gt;.mov&lt;/code&gt; file on my desktop. Since my laptop is a MacBook Pro 16” 2019, the native screen resolution was 3584x2240.  I opened Keynote and set the custom size to 25% of that, or 896x540 then imported the &lt;code class=&quot;language-text&quot;&gt;.mov&lt;/code&gt; followed my an export to an Animated GIF, extra large resolution (1080x675), 15 fps, with 0-sec auto advance.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[My Favorite Laptop Stickers]]></title><description><![CDATA[I’ve been collecting laptop stickers for a while, but only started affixing them to my laptop last year.  I didn’t want to lose them when my…]]></description><link>https://kevinhakanson.com/2023-07-01-my-favorite-laptop-stickers/</link><guid isPermaLink="false">https://kevinhakanson.com/2023-07-01-my-favorite-laptop-stickers/</guid><pubDate>Sat, 01 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I’ve been collecting laptop stickers for a while, but only started affixing them to my laptop last year.  I didn’t want to lose them when my work laptop was returned or replaced.  My solution was to buy a hard shell case, which I can remove and keep.&lt;/p&gt;
&lt;p&gt;I recently got back from speaking at AWS re:Inforce 2023, where I acquired some new stickers.  I took a picture to share and highlight some of my favorite laptop stickers.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b3524fd5e75440bc1726401950451392/24f41/LaptopStickers.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 69.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAAD10lEQVR42h2S2VNTBxSH7x/Sx6p1QKsISIoKFRgBERAIyyiQhJCwZFESkrDdhLDIesOFkCCGNayaYTEqjEKLBVS0Y4tTp7XWTqd96vStfen05esdH763M3O+c34/oeqajrHhEDWGBio1ejxiO3WWBqSRABp9DVmX8wkF+pm4LZOTm09pmYa2FpGiEgOm9qeoq0coVxczOWhEtGkR2lwivz8fJCj7GAvNMDk5gRyc4O9//2Nx7RHhuTm+e7HGz2+/YsQv09E9zIPoFh6pl8W9e8gP7jDR7eafFyaid90IdcYa9rbv0dTSSSA4ztz8Ar3SKG/e/0pgap6Dg9f88uNL/vjwLTs7mwwMSKwsT2O0NdOzvI9v5jY+0clv82aWpEaEHu8ohy//ZG0lyuPN7Y84mrysRzeR5DHCC8vMzY2zEplhSB6iUmdg6rafzegh4xMPCY6vMjs1x9L0EmKLB6HZ6SU8FWHI51cYwScNMyD52d17Rm//ENVNsxS2viHJsE9y3SGFlgkcrS6sFisup1ZBjyiaaW+3YqjRI6gL8qjRFGC22HE4m2huauPmTTsXM7KJOX2WdHUj6doQiepRVKVj6Br6GfB5SE2Lx2hIwVSfTX1dJjrdJQqK8xFKyqsJB8Z4OL+G3N9HT0cbl69e4/MEFUdiTn3kaMwJElXnSEnPJCk5lS9TckhQnScu4RynE5K5Wnwdh92EpkpJWe6s469tO+++3mZ6fJjVaSeFJdc5EhvHsRNxnDij4uyFDGXJda6WVpF0Pk2xz6esQoO6rIxL2ZmUVjTQ5F5EdHsR3J5eAnc2cHRGGXRnEhnOQaMp55NPYzgae4r4L1LJK9Kir3VRUKKjxmonsrHDg6ev2dj7HpPNRa7Wgdazh71VRLA1S4jSLnbvGoGuDO4HcigsKuDYyXg+OxlHfHKaYlCP0dRKTkEFeaUV9ASX6PBN0S3foVMJrrO3i5HxUWXGhNCuGO7IDtYj87g7OnDcKMVYV4amIous7CvExqm4UlSJzdVF960+dAY93sAyruBjvLckQn6Jx1tRtrfuY3O6EKYkiUeuCzwNtbASlrFbtKjLczG6LlJcW8zxk4kkns/42D+5w0x9fTVPZm182PczGgyxG13hpx9e8ergG2bCYYTNmRHeLlTzsDeP5+sSu6sDiINtyOuDmJR+HY89Q1JKOuWVFVj0WdSbDESUoq89eYc/8p7700Ge3Q2xNeNnI7KA4B/oZ+yWE4/LisXeqpzmwdXswau84sZNJ6oLaWTnFWGoNdPY2IjJbKGru49QeBWDtRW9vhpZtNJn12GuNfA/Jxu0O/7jjNwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;MacBook Pro Stickers&quot;
        title=&quot;&quot;
        src=&quot;/static/b3524fd5e75440bc1726401950451392/fcda8/LaptopStickers.png&quot;
        srcset=&quot;/static/b3524fd5e75440bc1726401950451392/12f09/LaptopStickers.png 148w,
/static/b3524fd5e75440bc1726401950451392/e4a3f/LaptopStickers.png 295w,
/static/b3524fd5e75440bc1726401950451392/fcda8/LaptopStickers.png 590w,
/static/b3524fd5e75440bc1726401950451392/efc66/LaptopStickers.png 885w,
/static/b3524fd5e75440bc1726401950451392/c83ae/LaptopStickers.png 1180w,
/static/b3524fd5e75440bc1726401950451392/24f41/LaptopStickers.png 3947w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I will admit there are a lot of AWS related stickers, but I do work for AWS as a Sr. Solutions Architect.&lt;/p&gt;
&lt;p&gt;Some of my favorites:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://owasp.org/www-project-juice-shop/&quot;&gt;OWASP Juice Shop&lt;/a&gt; (top right) which I got from creator Björn Kimminich when he came to MN and spoke at a user group.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://requestmetrics.com/&quot;&gt;Request Metrics&lt;/a&gt; sloth (bottom center) saying “Yo Dawg, I heard you like JS” which Todd Gardner had custom made.  The perfect combination of branding and a reference to a classic meme.&lt;/li&gt;
&lt;li&gt;Cedar policy (center) as an example of next level Rickrolling.  Read my earlier &lt;a href=&quot;../2023-05-16-song-lyrics-represented-using-cedar-policy-language&quot;&gt;Song lyrics represented using Cedar policy language&lt;/a&gt; blog post for more details.&lt;/li&gt;
&lt;li&gt;The MSP 12 gray duck (top left) because I’m from Minnesota and play &lt;a href=&quot;https://en.wikipedia.org/wiki/Duck,_duck,_goose#Duck,_Duck,_Gray_Duck&quot;&gt;Duck, Duck, Gray Duck&lt;/a&gt; instead of Duck, duck, goose.&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[AWS Icons for PlantUML has dark mode]]></title><description><![CDATA[Release 16.0 of AWS Icons for PlantUML includes an experimental “dark mode” where   will set the background/foreground colors and use icons…]]></description><link>https://kevinhakanson.com/2023-06-22-aws-icons-for-plantuml-has-dark-mode/</link><guid isPermaLink="false">https://kevinhakanson.com/2023-06-22-aws-icons-for-plantuml-has-dark-mode/</guid><pubDate>Thu, 22 Jun 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/awslabs/aws-icons-for-plantuml/releases/tag/v16.0&quot;&gt;Release 16.0&lt;/a&gt; of AWS Icons for PlantUML includes an experimental “dark mode” where  &lt;code class=&quot;language-text&quot;&gt;!$AWS_DARK = true&lt;/code&gt; will set the background/foreground colors and use icons which have a specific “dark” version.  This was possible because the 2023-04-28 (16-2023.04.28) updated &lt;a href=&quot;https://aws.amazon.com/architecture/icons/&quot;&gt;AWS Architecture Icons&lt;/a&gt; no longer have gradients and elements are designed to appear on either white or black backgrounds for optimal contrast and visibility.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;https://github.com/awslabs/aws-icons-for-plantuml/tree/main/examples/s3-upload-workflow&quot;&gt;S3 Upload Workflow examples&lt;/a&gt; includes source code examples, but here are the side-by-side PNG images.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Light Mode version&lt;/th&gt;
&lt;th&gt;Dark Mode version&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/735e64dce3d05ea51ae9eff7351e2965/748f4/Amazon-S3-Upload-Workflow-light.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 110.8108108108108%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAADVUlEQVR42m1UzY7kNBDuZ+A5EG/EA3ACId4BDogD4sCBAxKCAyuBtIhlhBax7MBoNbDN9M9OT6eTznR3/uM4juM4tmM7VLqnW7OzWJ+isuNPVfVVlUf9cVlrtTFCiPV67Xme7/uO4yyXS9d1F4vFLgiUUm3biuOC7ehAg+9nn395dva0LAogI4QqQkqMAaQcFmxZXR9QU9owlmXZ6M6tMb+fX7xc3CQoy1Dedd1wuMfJMEfovTNclndko9QO4w8mk3mSk5LkJckKXFKmTP8/0FbZPkHFHblTMsNkVqL5+kUQ+BhnqEiapjJGai1O6HTbdQAOlKQ4kqUUNRMZvf3hr/fC1A/CTRDeOu41oUhpLhQDyK4BsjaS8tT0Oi3KEajFGq6UzAuck5wytPZ3eV6YQXlpjO3vLcZ4XXPVMWOBjEcg/nzhMNY4rvvk1ycr13n8y9PZ9U3NKNzeBiEImeY5rYftq4UzmS2EonvPeFSSajpfpCmIXER5HMXB+cWl5284byGohreu50N5oUZAdte3Ly7HdYNtbwYy3OCcQ85lRWWvcBlNJv+KrtFGaNOunHkc+9qCLbigV/NxnIVVk955PiSjpCyrquttVZPxZAqqyI5DRS5eTmjTGKs6I2hdTsf/aA19qF5T+0gGq6nzDfTMvoBCXn3PL7/tu/ag21nkf+VOYz6kEKP7ZEKAbKOJnj3q5fDbVmn9yTvs47dNmRzI7/75+K0fv/gtWoMdIXSqsySUQjU3i6vN5HkS7eAQRdvlNx+6332E02DoxwJ9Pfv7/ec/n6+ue60TjO+T60aIles53m0YRgMZ4+vV1tskBBPYgmKScSOUYBwST/HrgkGiMGswN8PJGslPnyFvizZBVzYswZrwzcJFQdqzzjYqeZPcck6roR/0rhSPrry1f7NywijabDdJll4vl2ES98ZaKh6GXbftfDYrimKYM64sIHtlC+8wlTB6JhzbOu51b2v50DO0AsQM5Lph2S6mcaa8P4TzjDd1miHNKz79SW7HpjOWvRF2d3wY7NB3khVVluzinQ+TAwc5QkmwjsItJRTSTssHnuEZ22N4MaRWiCkK+YiOcE2FLLmshCStwkwPgp2aRClCCJeqEfIExts9xNE4omlb1eVF8R/gItGo69H+OwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Amazon S3 Upload Workflow diagram light&quot;
        title=&quot;&quot;
        src=&quot;/static/735e64dce3d05ea51ae9eff7351e2965/fcda8/Amazon-S3-Upload-Workflow-light.png&quot;
        srcset=&quot;/static/735e64dce3d05ea51ae9eff7351e2965/12f09/Amazon-S3-Upload-Workflow-light.png 148w,
/static/735e64dce3d05ea51ae9eff7351e2965/e4a3f/Amazon-S3-Upload-Workflow-light.png 295w,
/static/735e64dce3d05ea51ae9eff7351e2965/fcda8/Amazon-S3-Upload-Workflow-light.png 590w,
/static/735e64dce3d05ea51ae9eff7351e2965/748f4/Amazon-S3-Upload-Workflow-light.png 656w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/91a8e6568c6965526a1c655cf5e57c34/748f4/Amazon-S3-Upload-Workflow-dark.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 110.8108108108108%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAADOUlEQVR42nVU244bRRDt+216uufSnrE9tnfGHs/a65BdTLRIXAIoRCRZxEMScdFKiCfyA0jwDnnhIj6L/+AJ8RXU7M5ml4WUSq2uUp+uqlPVjdANIZRKKZumWS6XdV2v1+uu61ar1WazqWYzzrlSSl6JEKLHYIxh/enly8+fP/fOLZsmz3PYpCDJIGDaKHqlRuvRaDTEBPSjx4/vvLVPQ5aFwBhDr5fLYHDjYAvGbAjm2xe2bhOfxGnm8xA5jyj7r2JYCU3CVWTBuctyXs+3+9l8Pk5zF0JiIgXHGL9WLjDnmF8U60MYwFC/0i6diG++n5VVOq3Kala2Xe0SAwChCJegmHFMGLaeIoIgNUQIsdZC5CTL49y5RLVtVxYl+IVUBJOb1cZxDCe4RANYa73f74HARd3c//jDdbc8Pz/f798UEo4g6NnZ2VlRFpfmycnx6enbUuMBnGUZgMdlGSdpnPvxZPTw4SfduqOsrwySOjzcSKkgCzA3h4f33//AOgHt6cHAOwSHjlvglqMs2N1uCxXSC4ZWq0VRpLAH1RHvjrqszOKEDeCBbSFi7yGZ2Nt2c0RoTyxQvT2+x2XPOWHIOXOy2xGEGcX/YhsI68GYRBRNnAa2eidBTw/Fl3ekpJdzhMgbnfv0Ac368UhGN/sMYER2OfpsiUw/YDgT6K9fd3//sgk9Wf11459/+OjPP9i9XQ8uiuu0bRwzpY+7xbtH1WxSgrMqst+/2vz2RTvJHZip9/WzJ813L4rjI06oC/k1OIpjeDXLZXuwbKfTaX93ns2abTldpT4F00gVcWgTdUpjQn2e36oZccaV1OBpVfFj+WTuwtSHlJsyShOm63Je+GAR04jfiDyAMaSglQHPnCdfp6ezxUHTtpPpdL6Yj8qyadewAuEWidtpS2O22y2MIHg05qDrBNXxcIYRdDegkQbqSHQrsnUOnkxkjLUxDGNw+cj4d+b4vQXVUlqXxIo8atndklBMo/9J+6K9BPevXWOWGT+dhINqrE0EdOQh1FVRVWNvnUHMj24NCXwggAfFSACY2Yhqy0wMK1GOGUtNzEzCjMJQ8xUYPjfvPXx/0K1XKpV+nVIhshD+AdA3TufrNHnVAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Amazon S3 Upload Workflow diagram dark&quot;
        title=&quot;&quot;
        src=&quot;/static/91a8e6568c6965526a1c655cf5e57c34/fcda8/Amazon-S3-Upload-Workflow-dark.png&quot;
        srcset=&quot;/static/91a8e6568c6965526a1c655cf5e57c34/12f09/Amazon-S3-Upload-Workflow-dark.png 148w,
/static/91a8e6568c6965526a1c655cf5e57c34/e4a3f/Amazon-S3-Upload-Workflow-dark.png 295w,
/static/91a8e6568c6965526a1c655cf5e57c34/fcda8/Amazon-S3-Upload-Workflow-dark.png 590w,
/static/91a8e6568c6965526a1c655cf5e57c34/748f4/Amazon-S3-Upload-Workflow-dark.png 656w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/67865f4c4fea3ecd7276a8e1f35d9f6f/58bb7/Amazon-S3-Upload-Workflow-sequence-light.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACcklEQVR42mVTS27bMBDVyXqAnqQH6KpXKHqMdtVNlkmBICnQJkWbpI6d2oZhfS2R+lASvyIpUerIDrJoB4JAkXwz770ZedM0jRDT1A9DZ6w2vda6pqIoirIiRStwnnPOnq+NY98PndZmcG4cvZqylrT8w2XzZV0kj2W4yfNCJwtje3V45GdvJ04eGvJu8bWGrJqn1S7LDiJ+7Dvu+VGcxVn25mP5+Z4XS5FuORdsc8U5xw/n/vtXBofXafL6/FNU1zXBQbpsG1IuLwmKvE4bY6zUXWe0VFp1WqmOCgkLoJ2inDKugSg82sA6L6qqqpMUlSXx+r6nlEIdLuYXY0xKudvtoiiqmwYQ8CnEfAZvOA2THc4LsABUz2AplT3GzMEa2IHFXMhapRRwOu0crVJ3q4ssw1pS53oPMMPoaFzUZQVk2YnAsQ5CyN/v89ltDuwY43VDfi4u0gxn+yerhKek7KzJv61xnKE0JCimXACgbdsgCDKEXpgrqVrarP3vfe9U14E1nnMOBLS/9rzmiha8iIEJIRUAAMaSFZwC7dM125tdfDuN0HPYcM9g/hBa3p0m4WUeIMjyGmSHYZgkCRSnrPm9vmRUwJ0ZDOntOJQ/tjhOKWfQhziOywqcbjHChb+CybNH58BNIdk2uHHDONtpjCePmovbLYoOVU3KY6Bg09T1avX0Z7OFdNAhEAxgGJ+1f9PbAVCQ7kWzz6sGWgftglLssIHEYDKkmDuv1CJLjpr1Lr4Z/9V8F1iu/td8+oQ4u78NgyA5JH68ylDu3PxneKObj1kEfSYcNEGjhcQYI4RPQyeFhK2AlPNUDQPwOpnvnPsLpxpIrUrxHaYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Amazon S3 Upload Workflow sequence diagram light&quot;
        title=&quot;&quot;
        src=&quot;/static/67865f4c4fea3ecd7276a8e1f35d9f6f/fcda8/Amazon-S3-Upload-Workflow-sequence-light.png&quot;
        srcset=&quot;/static/67865f4c4fea3ecd7276a8e1f35d9f6f/12f09/Amazon-S3-Upload-Workflow-sequence-light.png 148w,
/static/67865f4c4fea3ecd7276a8e1f35d9f6f/e4a3f/Amazon-S3-Upload-Workflow-sequence-light.png 295w,
/static/67865f4c4fea3ecd7276a8e1f35d9f6f/fcda8/Amazon-S3-Upload-Workflow-sequence-light.png 590w,
/static/67865f4c4fea3ecd7276a8e1f35d9f6f/efc66/Amazon-S3-Upload-Workflow-sequence-light.png 885w,
/static/67865f4c4fea3ecd7276a8e1f35d9f6f/58bb7/Amazon-S3-Upload-Workflow-sequence-light.png 985w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2ad776547c8496e6bc7df410e3d24d79/58bb7/Amazon-S3-Upload-Workflow-sequence-dark.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaElEQVR42m1TyY7UMBB1HNvxGmdxkk7S6X16GuhhFmYQ0gjECYkr4saZMwdunBF/gPgO/oOP4qUDCCRKkV1VrrLrvaoQQkgURVjjOBaJ4olMksT6oqrqogwqLetm5qybwiCMcSklZSKKKCnKsvTFl9Wb19X1fpUe5ohujjPOuLicm69v6yqJ4s1q/vE9c6lSrBls37fHTtskJrv92bIbvt98eNe/2LbxWW2sdfdrhfXV49mPTxfrTPknV4dvn3VTV8EP2zzP/Yt9PjQ5QQ2JlFwmQiZKW6mN1sY4r5QpQxXq1nmvEMRxLtPU19UM/rYfylADKlPaSKXEeIuCwoVYrdZt1xnrYsZhJrheKqzYh/WsbVtQQCmdeJIxYxQaY5PCTjnYkQBl8kQ05oJdPp03TWckZzElgnPK6NyFLM3wMqpVSuPDW1VdL5fLoigUkFgLp/P24nbIi2rbB+QTBALws7Bviqaty67KlLEhBOfcYrFompkQAlciHZUjeX9RsXjsFsxT6YRcu6WVNre8zSWJ4ixDFZIxdj7TOIUyhTEebx5mEaFo+OiZvFdmMFz+GZjotzzfOTS87+dgaQRl5PG2S53/RRjmifL4rtg2Ra2MzrIcPKdZYZ0rQzgMBRvZG+tE/dqo3aOSUhAJSxCtNTDflbu2bKxPfZZ5n2/6kPr0cHiw25+DMGMMWi24MFbvjxVu06BK/YXZawcD76Alu1pzhv7rNE2RicrtZjliFsCcRlH8D+Ybu7D/wxxNNiHDy/uhH6qmWWxC13aUnpKn07kuvfVgGE3BYIRRqnHgToM1umf19OdBQAE9yU+B2DNJ2UpsFAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Amazon S3 Upload Workflow sequence diagram dark&quot;
        title=&quot;&quot;
        src=&quot;/static/2ad776547c8496e6bc7df410e3d24d79/fcda8/Amazon-S3-Upload-Workflow-sequence-dark.png&quot;
        srcset=&quot;/static/2ad776547c8496e6bc7df410e3d24d79/12f09/Amazon-S3-Upload-Workflow-sequence-dark.png 148w,
/static/2ad776547c8496e6bc7df410e3d24d79/e4a3f/Amazon-S3-Upload-Workflow-sequence-dark.png 295w,
/static/2ad776547c8496e6bc7df410e3d24d79/fcda8/Amazon-S3-Upload-Workflow-sequence-dark.png 590w,
/static/2ad776547c8496e6bc7df410e3d24d79/efc66/Amazon-S3-Upload-Workflow-sequence-dark.png 885w,
/static/2ad776547c8496e6bc7df410e3d24d79/58bb7/Amazon-S3-Upload-Workflow-sequence-dark.png 985w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content:encoded></item><item><title><![CDATA[Song lyrics represented using Cedar policy language]]></title><description><![CDATA[Cedar is an open source policy language and evaluation engine. Cedar enables developers to express fine-grained permissions as easy-to…]]></description><link>https://kevinhakanson.com/2023-05-16-song-lyrics-represented-using-cedar-policy-language/</link><guid isPermaLink="false">https://kevinhakanson.com/2023-05-16-song-lyrics-represented-using-cedar-policy-language/</guid><pubDate>Tue, 16 May 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/cedar-policy&quot;&gt;Cedar&lt;/a&gt; is an open source policy language and evaluation engine. Cedar enables developers to express fine-grained permissions as easy-to-understand policies enforced in their applications, and decouple access control from application logic.&lt;/p&gt;
&lt;p&gt;However, I had some fun with my own version of &lt;a href=&quot;https://en.wikipedia.org/wiki/Name_That_Tune&quot;&gt;Name That Tune&lt;/a&gt; representing various song lyrics using the Cedar policy language.  See &lt;a href=&quot;https://twitter.com/Sarah_Cecc/status/1658498008382861312&quot;&gt;this tweet&lt;/a&gt; for an example of next level &lt;a href=&quot;https://en.wikipedia.org/wiki/Rickrolling&quot;&gt;Rickrolling &lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 339px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/80cdabb651bbc9d3e7962764e9e65d9e/16caa/FwQq8IeaYAAhn2k.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36.486486486486484%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfUlEQVR42mNgLN7NkLPDoO+EWsdRhrydQC5/zX6RuoOCNQeYS3YzFO5iKNrNAFRTtAvKhjCKwYLspXtKN9+ae/Jp8IKLRn0nGIt2izccVO84atx/UqrxkGjdAf7q/Syle4CkcO0B9rI9gjX7BWoOAEVABiWuuHr28aeqbXcil1y+9vKLRudRhpztHKV7VNuPAtnKbUfE6g/KNh0CGqfSflSo9oBm1zGD3hNyzYdBNnfuu3/h6acJhx5OPvzo////1lNOAzWzl+8B6gRqkG0+LFCzX6rpkFbXMZmmQ0I1+zU7gYzDvFX7GIGespx06teff1uuvb7/7tut11+BokAEdBVX5T4eMJu9fC9ryR7uyn0cZXuZS/bwVe1jBtpZsAsUWAy5O3zmnJ946OGUI4+1wGHGWr6HERJCEFS4C2g50Bfa3ce1u48pth6Razms23OCt2o/A8j2zG2aLYc58nYCDQJxIcELR0W7gU5QaD0C9LNa+1GFFpBmlfYjXBV7ASLDya9OEGbbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Cedar policy&quot;
        title=&quot;&quot;
        src=&quot;/static/80cdabb651bbc9d3e7962764e9e65d9e/16caa/FwQq8IeaYAAhn2k.png&quot;
        srcset=&quot;/static/80cdabb651bbc9d3e7962764e9e65d9e/12f09/FwQq8IeaYAAhn2k.png 148w,
/static/80cdabb651bbc9d3e7962764e9e65d9e/e4a3f/FwQq8IeaYAAhn2k.png 295w,
/static/80cdabb651bbc9d3e7962764e9e65d9e/16caa/FwQq8IeaYAAhn2k.png 339w&quot;
        sizes=&quot;(max-width: 339px) 100vw, 339px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;cedar&quot;&gt;&lt;pre class=&quot;language-cedar&quot;&gt;&lt;code class=&quot;language-cedar&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;forbid&lt;/span&gt; (
    &lt;span class=&quot;token variable&quot;&gt;principal&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;::&lt;span class=&quot;token string&quot;&gt;&quot;Rick&quot;&lt;/span&gt;,
    &lt;span class=&quot;token variable&quot;&gt;action&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Action&lt;/span&gt;::&lt;span class=&quot;token string&quot;&gt;&quot;GiveUp&quot;&lt;/span&gt;,
    &lt;span class=&quot;token variable&quot;&gt;resource&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;::&lt;span class=&quot;token string&quot;&gt;&quot;You&quot;&lt;/span&gt;
);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I’m an 80s rap fan, and took inspiration from &lt;a href=&quot;https://www.youtube.com/watch?v=07Y0cy-nvAg&quot;&gt;Beastie Boys - No Sleep Till Brooklyn (Official Music Video)&lt;/a&gt; for my next creation.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;cedar&quot;&gt;&lt;pre class=&quot;language-cedar&quot;&gt;&lt;code class=&quot;language-cedar&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;forbid&lt;/span&gt; (
    &lt;span class=&quot;token variable&quot;&gt;principal&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Group&lt;/span&gt;::&lt;span class=&quot;token string&quot;&gt;&quot;BeastieBoys&quot;&lt;/span&gt;,
    &lt;span class=&quot;token variable&quot;&gt;action&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Action&lt;/span&gt;::&lt;span class=&quot;token string&quot;&gt;&quot;sleep&quot;&lt;/span&gt;,
    &lt;span class=&quot;token variable&quot;&gt;resource&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Location&lt;/span&gt;::&lt;span class=&quot;token string&quot;&gt;&quot;Brooklyn&quot;&lt;/span&gt;
)
&lt;span class=&quot;token keyword&quot;&gt;unless&lt;/span&gt; { &lt;span class=&quot;token variable&quot;&gt;principal&lt;/span&gt;.location &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;resource&lt;/span&gt; };&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I’ll close this post out with a full stanza from &lt;a href=&quot;https://www.youtube.com/watch?v=qXzWlPL_TKw&quot;&gt;RUN DMC - King Of Rock (Official Video)&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I’m the king of rock, there is none higher&lt;br&gt;
Sucker MC’s should call me sire&lt;br&gt;
To burn my kingdom, you must use fire&lt;br&gt;
I won’t stop rockin’ till I retire&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;cedar&quot;&gt;&lt;pre class=&quot;language-cedar&quot;&gt;&lt;code class=&quot;language-cedar&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;forbid&lt;/span&gt; (
    &lt;span class=&quot;token variable&quot;&gt;principal&lt;/span&gt;,
    &lt;span class=&quot;token variable&quot;&gt;action&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Action&lt;/span&gt;::&lt;span class=&quot;token string&quot;&gt;&quot;areHigher&quot;&lt;/span&gt;,
    &lt;span class=&quot;token variable&quot;&gt;resource&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;::&lt;span class=&quot;token string&quot;&gt;&quot;KingOfRock&quot;&lt;/span&gt;
);

&lt;span class=&quot;token keyword&quot;&gt;permit&lt;/span&gt; (
    &lt;span class=&quot;token variable&quot;&gt;principal&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Group&lt;/span&gt;::&lt;span class=&quot;token string&quot;&gt;&quot;SuckerMCs&quot;&lt;/span&gt;,
    &lt;span class=&quot;token variable&quot;&gt;action&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Action&lt;/span&gt;::&lt;span class=&quot;token string&quot;&gt;&quot;callSire&quot;&lt;/span&gt;,
    &lt;span class=&quot;token variable&quot;&gt;resource&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;::&lt;span class=&quot;token string&quot;&gt;&quot;KingOfRock&quot;&lt;/span&gt;
);

&lt;span class=&quot;token keyword&quot;&gt;forbid&lt;/span&gt; (
    &lt;span class=&quot;token variable&quot;&gt;principal&lt;/span&gt;,
    &lt;span class=&quot;token variable&quot;&gt;action&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Action&lt;/span&gt;::&lt;span class=&quot;token string&quot;&gt;&quot;burnKingdom&quot;&lt;/span&gt;,
    &lt;span class=&quot;token variable&quot;&gt;resource&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Kingdom&lt;/span&gt;::&lt;span class=&quot;token string&quot;&gt;&quot;KingOfRock&quot;&lt;/span&gt;
)
&lt;span class=&quot;token keyword&quot;&gt;unless&lt;/span&gt; { &lt;span class=&quot;token variable&quot;&gt;principal&lt;/span&gt;.use &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;fire&quot;&lt;/span&gt; };

&lt;span class=&quot;token keyword&quot;&gt;forbid&lt;/span&gt; (
    &lt;span class=&quot;token variable&quot;&gt;principal&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;::&lt;span class=&quot;token string&quot;&gt;&quot;KingOfRock&quot;&lt;/span&gt;,
    &lt;span class=&quot;token variable&quot;&gt;action&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Action&lt;/span&gt;::&lt;span class=&quot;token string&quot;&gt;&quot;stopRockin&quot;&lt;/span&gt;,
    &lt;span class=&quot;token variable&quot;&gt;resource&lt;/span&gt;
)
&lt;span class=&quot;token keyword&quot;&gt;unless&lt;/span&gt; { &lt;span class=&quot;token variable&quot;&gt;principal&lt;/span&gt;.retired &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; };&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[CloudFormation Output Values using the AWS CLI]]></title><description><![CDATA[I was updating the Hello Go CDK sample project and looking for an easy way to get a CloudFormation stack output value for use in a CLI…]]></description><link>https://kevinhakanson.com/2023-03-13-cloudformation-output-values-using-the-aws-cli/</link><guid isPermaLink="false">https://kevinhakanson.com/2023-03-13-cloudformation-output-values-using-the-aws-cli/</guid><pubDate>Mon, 13 Mar 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was updating the &lt;a href=&quot;https://github.com/aws-samples/hello-go-cdk&quot;&gt;Hello Go CDK&lt;/a&gt; sample project and looking for an easy way to get a CloudFormation stack output value for use in a CLI command.&lt;/p&gt;
&lt;p&gt;The AWS CLI &lt;a href=&quot;https://docs.aws.amazon.com/cli/latest/reference/cloudformation/describe-stacks.html&quot;&gt;describe-stacks&lt;/a&gt; command will get that value, but there is an entire page of JSON to parse through.  Most AWS CLI command support the &lt;code class=&quot;language-text&quot;&gt;--query&lt;/code&gt; global option, which is a “JMESPath query to use in filtering the response data.”  See the &lt;a href=&quot;https://jmespath.org/specification.html&quot;&gt;JMESPath Specification¶&lt;/a&gt; for full details.&lt;/p&gt;
&lt;p&gt;I ran the command below using &lt;code class=&quot;language-text&quot;&gt;Stacks[].Outputs[]&lt;/code&gt; as the JMESPath query to see all the &lt;code class=&quot;language-text&quot;&gt;Outputs&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;$ aws cloudformation describe-stacks --stack-name HelloGoAppStage-HelloGoAppStack --query Stacks[].Outputs[]&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;OutputKey&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;FargateServiceLoadBalancerDNSXXXXXXXX&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;OutputValue&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;hello-alb-0000000000.us-east-1.elb.amazonaws.com&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;OutputKey&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;FargateServiceServiceURLXXXXXXXX&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;OutputValue&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://hello-alb-0000000000.us-east-1.elb.amazonaws.com&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The above JSON had unique values I redacted using &lt;code class=&quot;language-text&quot;&gt;XXXXXXXX&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;0000000000&lt;/code&gt;.  This makes finding the correct output harder than just matching an exact key value.  Narrowing the &lt;code class=&quot;language-text&quot;&gt;describe-stacks&lt;/code&gt; command down to just &lt;code class=&quot;language-text&quot;&gt;FargateServiceServiceURLXXXXXXXX&lt;/code&gt; required a more complicated JMESPath query - one that would select the “OutputKey” that &lt;a href=&quot;https://jmespath.org/specification.html#starts-with&quot;&gt;starts_with&lt;/a&gt; a “FargateServiceServiceURL” value.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws cloudformation describe-stacks --stack-name HelloGoAppStage-HelloGoAppStack &lt;span class=&quot;token parameter variable&quot;&gt;--query&lt;/span&gt;  &lt;span class=&quot;token string&quot;&gt;&quot;Stacks[0].Outputs[?starts_with(OutputKey, &apos;FargateServiceServiceURL&apos;)].OutputValue&quot;&lt;/span&gt; 
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;http://hello-alb-0000000000.us-east-1.elb.amazonaws.com&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This output is better, but still a JSON string array with a quoted value.  Another AWS CLI global option is &lt;code class=&quot;language-text&quot;&gt;--output&lt;/code&gt; which indicates the “formatting style for command output” and takes “json”, “text”, or “table” as values.&lt;/p&gt;
&lt;p&gt;I changed my command to use &lt;code class=&quot;language-text&quot;&gt;--output text&lt;/code&gt; and now the value is in the format I need.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws cloudformation describe-stacks --stack-name HelloGoAppStage-HelloGoAppStack &lt;span class=&quot;token parameter variable&quot;&gt;--query&lt;/span&gt;  &lt;span class=&quot;token string&quot;&gt;&quot;Stacks[0].Outputs[?starts_with(OutputKey, &apos;FargateServiceServiceURL&apos;)].OutputValue&quot;&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--output&lt;/span&gt; text
http://hello-alb-0000000000.us-east-1.elb.amazonaws.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The last step was to use the backtick operator to interpolate the value and assign it to the &lt;code class=&quot;language-text&quot;&gt;HELLO_GO_URL&lt;/code&gt; environment variable so I can use it in the subsequent &lt;code class=&quot;language-text&quot;&gt;curl&lt;/code&gt; command.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;HELLO_GO_URL&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;aws cloudformation describe-stacks --stack-name HelloGoAppStage-HelloGoAppStack &lt;span class=&quot;token parameter variable&quot;&gt;--query&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Stacks[0].Outputs[?starts_with(OutputKey, &apos;FargateServiceServiceURL&apos;)].OutputValue&quot;&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--output&lt;/span&gt; text&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-w&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$HELLO_GO_URL&lt;/span&gt;/servicetest&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Finding outdated AWS icons in draw.io files]]></title><description><![CDATA[I admit to being an AWS service icon snob - when I see outdated icons being used, I look down on the diagram.  For example, this image with…]]></description><link>https://kevinhakanson.com/2023-03-04-finding-outdated-aws-icons-in-drawio-files/</link><guid isPermaLink="false">https://kevinhakanson.com/2023-03-04-finding-outdated-aws-icons-in-drawio-files/</guid><pubDate>Sat, 04 Mar 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I admit to being an AWS service icon snob - when I see outdated icons being used, I look down on the diagram.  For example, this image with multiple versions of old AWS Lambda icons:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 350px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d4cb9ce63745fddb5025fc4f2a22b420/13ae7/LambdaLambdaLambda.drawio.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 38.513513513513516%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAACB0lEQVR42lWSW0iTcRjGv5su66qrLryI9CYKCbUF2ckR6YUr7STSSUKKWhS4pBvTC6nAiqQuCiTIjkO0rFgFluA6LKSFulZ52Lc5Fm5zJ7fv2/nXf7v4rBde3oc/7/P8H973lRCRii2SDrgLkHw+X6zZbJbBYQv9Twd5MjBM34NnjIxaWQ7Rl02JTEIuLTIjnnJIEbsF+5X9uDsqSb+9Rj4eLLarqsrmXXsp31pH1U4DK9esp6nFqMnlFiZQH9eQtLSiDhhQ7leQcZqR7MYybK0lzHRWM9PTQMz6sEhICsFttQfZUXeIw0JoXfl2jp9u0wTT8hjBjhWE72widKOUQJuEYu1BmmyvYPz8RhymchxdNYQ+mYsERVHQG5rR1zcLZ+eo3nOAk8Z2TTApf8FrWkWgrxH/bT3eS6uJjd4SDs+WYju1Fle3Hv+9E8Jhf5EQjy9R23iMLfoGNuh2o9Pvo+WMSRNUpj8ye6EEuUuH3FnF7MUywu/vIsW+veR7twHf5Ur4cF2bYWE5r96M8Mj8nBev34nlDDH2+asmqLon8PQewXOzCflqPfO9R4nahpC8/hA+eZrAr3H+BCOEojGNFBF4MRRmKZ4gFI4I14nlGabSOH84cbtk5uZcOKYcxKJRJKdjCr/fj28hwO+fTrzznv/Op1D/xdrRCKyIxSlJlURCKX6azmT4C3zVCHYA4DKiAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Lambda icons from AWS17, AWS18, and AWS19&quot;
        title=&quot;&quot;
        src=&quot;/static/d4cb9ce63745fddb5025fc4f2a22b420/13ae7/LambdaLambdaLambda.drawio.png&quot;
        srcset=&quot;/static/d4cb9ce63745fddb5025fc4f2a22b420/12f09/LambdaLambdaLambda.drawio.png 148w,
/static/d4cb9ce63745fddb5025fc4f2a22b420/e4a3f/LambdaLambdaLambda.drawio.png 295w,
/static/d4cb9ce63745fddb5025fc4f2a22b420/13ae7/LambdaLambdaLambda.drawio.png 350w&quot;
        sizes=&quot;(max-width: 350px) 100vw, 350px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;However, these are a pain to update by hand.  Last month I created GitHub issue #3337: &lt;a href=&quot;https://github.com/jgraph/drawio/issues/3337&quot;&gt;Feature to “upgrade” AWS Icons from old icons sets (e.g. AWS 17, AWS 18)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Today I wrote a quick and dirty TypeScript CLI that checks &lt;code class=&quot;language-text&quot;&gt;.drawio&lt;/code&gt; files for outdated AWS icons.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;$ npx ts-node drawiolint LambdaLambdaLambda.drawio 
Processing &lt;span class=&quot;token function&quot;&gt;file&lt;/span&gt; LambdaLambdaLambda.drawio &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;modified &lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-02-04T19:04:48.267Z&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

Checking tab Page-1 

❌ &lt;span class=&quot;token assign-left variable&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;-sQPLy2-axNeOzcSWdUq-1
  AWS17 Lambda
  mxgraph.aws3.lambda 


❌ &lt;span class=&quot;token assign-left variable&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;-sQPLy2-axNeOzcSWdUq-3
  AWS18 Lambda
  mxgraph.aws4.productIcon mxgraph.aws4.lambda&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here are the relevant parts of the draw.io XML for those three icons:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;mxCell&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;-sQPLy2-axNeOzcSWdUq-1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;AWS17 Lambda&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.lambda;fillColor=#F58534;gradientColor=none;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;vertex&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;mxGeometry&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;80&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;163&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;76.5&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;93&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;geometry&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;mxCell&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;mxCell&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;-sQPLy2-axNeOzcSWdUq-2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;AWS Lambda&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;vertex&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;mxGeometry&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;330&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;170.5&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;78&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;78&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;geometry&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;mxCell&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;mxCell&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;-sQPLy2-axNeOzcSWdUq-3&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;AWS18 Lambda&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#ffffff;fillColor=#232F3E;dashed=0;verticalLabelPosition=middle;verticalAlign=bottom;align=center;html=1;whiteSpace=wrap;fontSize=10;fontStyle=1;spacing=3;shape=mxgraph.aws4.productIcon;prIcon=mxgraph.aws4.lambda;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;vertex&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;mxGeometry&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;200&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;159.5&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;80&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;100&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;geometry&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;mxCell&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After a bunch of XML parsing code to pull out the &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;label&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;style&lt;/code&gt; from the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;mxCell&gt;&lt;/code&gt;, the &lt;code class=&quot;language-text&quot;&gt;verifyShape&lt;/code&gt; function gets called and looks for &lt;code class=&quot;language-text&quot;&gt;mxgraph.aws3&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;mxgraph.aws4.productIcon&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;verifyShape&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  label&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  styles&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Record&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; shape &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; styles&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;shape&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; prIcon &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; styles&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;prIcon&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; resIcon &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; styles&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;resIcon&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    shape&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;mxgraph.aws3.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
    shape&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;mxgraph.aws4.productIcon&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;\n❌ id=&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;id&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;\n  &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;label&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;\n  &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;shape&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;prIcon&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maybe once day I’ll clean up the code, add update capabilities, and publish it somewhere.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Hello Rust WASM NodeJS]]></title><description><![CDATA[I am working on a project that requires calling some Rust crates from a NodeJS runtime.  I had a project with some working code (which I…]]></description><link>https://kevinhakanson.com/2023-02-06-hello-rust-wasm-nodejs/</link><guid isPermaLink="false">https://kevinhakanson.com/2023-02-06-hello-rust-wasm-nodejs/</guid><pubDate>Mon, 06 Feb 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I am working on a project that requires calling some Rust crates from a NodeJS runtime.  I had a project with some working code (which I didn’t fully understand), so I wanted to start by implementing the classic “Hello World!” problem.  Let’s start at the end with the TypeScript code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; wasm &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;hello-wasm&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

wasm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;greet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;WASM&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It’s “Hello WASM!” instead of “Hello World!”, but you get the point.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;rust&quot;&gt;&lt;pre class=&quot;language-rust&quot;&gt;&lt;code class=&quot;language-rust&quot;&gt;&lt;span class=&quot;token attribute attr-name&quot;&gt;#[wasm_bindgen]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function-definition function&quot;&gt;greet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;web_sys&lt;span class=&quot;token punctuation&quot;&gt;::&lt;/span&gt;&lt;/span&gt;console&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token namespace&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;::&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log_1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;JsValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from_str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token macro property&quot;&gt;format!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Hello, {}!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Most of the Rust “magic” comes from &lt;a href=&quot;https://docs.rs/wasm-bindgen/latest/wasm_bindgen/&quot;&gt;wasm-bindgen&lt;/a&gt; and &lt;a href=&quot;https://docs.rs/web-sys/latest/web_sys/&quot;&gt;web_sys&lt;/a&gt;, but &lt;a href=&quot;https://rustwasm.github.io/docs/wasm-pack/introduction.html&quot;&gt;wasm-pack&lt;/a&gt; is what allows me to build rust-generated WebAssembly and use alongside my TypeScript.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;wasm-pack build &lt;span class=&quot;token parameter variable&quot;&gt;--target&lt;/span&gt; nodejs&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Check out my “Hello World” in Rust, compiled to WASM, and called from NodeJS project on GitHub at &lt;a href=&quot;https://github.com/hakanson/hello-rust-wasm-nodejs&quot;&gt;hakanson/hello-rust-wasm-nodejs&lt;/a&gt;.  You don’t even need to install Rust because I used Visual Studio Code Dev Containers to &lt;a href=&quot;https://code.visualstudio.com/docs/devcontainers/containers&quot;&gt;develop in a container&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Resilience on AWS at CodeFreeze 2023]]></title><description><![CDATA[I had a great time talking about Resilience on AWS at Code Freeze 2023 and wanted to share some links to related content. Some definitions…]]></description><link>https://kevinhakanson.com/2023-01-12-resilience-on-aws-at-codefreeze-2023/</link><guid isPermaLink="false">https://kevinhakanson.com/2023-01-12-resilience-on-aws-at-codefreeze-2023/</guid><pubDate>Thu, 12 Jan 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I had a great time talking about &lt;a href=&quot;https://cse.umn.edu/umsec/cf23/kevin-hakanson&quot;&gt;Resilience on AWS&lt;/a&gt; at Code Freeze 2023 and wanted to share some links to related content.&lt;/p&gt;
&lt;p&gt;Some &lt;a href=&quot;https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/definitions.html&quot;&gt;definitions&lt;/a&gt; from the AWS Well Architected Framework reliability pillar:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Resilience&lt;/strong&gt; - The ability of a &lt;em&gt;workload&lt;/em&gt; to recover from infrastructure or service disruptions, dynamically acquire computing resources to meet demand, and mitigate disruptions, such as misconfigurations or transient network issues&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Reliability&lt;/strong&gt; - The ability of a &lt;em&gt;workload&lt;/em&gt; or application to perform its intended function correctly and consistently&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Availability&lt;/strong&gt; - The percentage of time that a &lt;em&gt;workload&lt;/em&gt; is available for use (e.g. 99.99% available)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some key Best Practices from the reliability pillar that are key to Resilience.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;REL05 &lt;a href=&quot;https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/design-interactions-in-a-distributed-system-to-mitigate-or-withstand-failures.html&quot;&gt;Design interactions in a distributed system to mitigate or withstand failures&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;REL04 &lt;a href=&quot;https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/design-interactions-in-a-distributed-system-to-prevent-failures.html&quot;&gt;Design interactions in a distributed system to prevent failures&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As with security and sustainability, resilience is a shared responsibility between AWS and the customer; AWS is responsible for resilience of the cloud, and our customers are responsible for resilience of their workloads in the cloud.  Some resources to help:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/whitepapers/latest/disaster-recovery-workloads-on-aws/shared-responsibility-model-for-resiliency.html&quot;&gt;Shared Responsibility Model for Resiliency&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;AWS Solutions Library &lt;a href=&quot;https://aws.amazon.com/solutions/resilience/&quot;&gt;Solutions for Resilience&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/builders-library/&quot;&gt;The Amazon Builders’ Library&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/whitepapers/latest/aws-fault-isolation-boundaries/abstract-and-introduction.html&quot;&gt;AWS Fault Isolation Boundaries&lt;/a&gt; AWS Whitepaper (Publication date: November 16, 2022)&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Diagrams-as-Code Episode on Twitch]]></title><description><![CDATA[So much fun on the Build On AWS weekly - Code me some diagrams Twitch stream today talking diagrams-as-code with Darko, and surprising him…]]></description><link>https://kevinhakanson.com/2022-12-15-diagrams-as-code-episode-on-twitch/</link><guid isPermaLink="false">https://kevinhakanson.com/2022-12-15-diagrams-as-code-episode-on-twitch/</guid><pubDate>Thu, 15 Dec 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;So much fun on the &lt;a href=&quot;https://www.twitch.tv/videos/1679798127&quot;&gt;Build On AWS weekly - Code me some diagrams&lt;/a&gt; Twitch stream today talking diagrams-as-code with Darko, and surprising him with this:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3fa9b443f67932ccf3fd5d3df0c666e2/1b853/Darko.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.10810810810811%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1UlEQVR42n1RPW8TQRD1n+BH0FEi8Rco+A+pSBUhAekoaGgoogQKBBQukCIQkaDAIkSRLIOEFD4Sisg6sOOQ4MNn+3x3O7s7szt7zNmyhUTCarSa1eybefNerfznhBDkzvNi5dadvc/7k3Qcx/08z40xen4AoCiK2nlgAL354lWv0zk9+XnUPZLvi9IskRZngOeHO0m+2vg+AudDqdAri56ZQylBnuF/4MCdOF1rdePMpkAjReRlbuDgufTSRajVuEr835xn3Lz3oE1FYPrMTLq+c7fd30cHxgE6kuq5kwWswIT5nhMYP21tRGnXBO88GYdawI1n91/WHyqlKpG0bkc/DtuRc07ASLZ3QvWtyZv3hGWJ6THu3uMvD0jHlrkS7Nrli7eXlwbDgYCT4ejj3ted5gcFIHBy0NiOr1z9trQaKy6Hh63eyoVs/ZJN2rYsRf/a4yebb7eb4iARxfHvd7vN51uvB0lirTUIBwfjGzc/rT06Nhyy0yjauN6vL1P+y3LQIliWZQBqtmSapvIs8lwSRAQjA0prgb1zTMbrTIOSpl4bstXOUz3CmYKJnlJgrowVm6xHaSFBjMRTnxfeLHxaWCUqIpGxaBCtMEFnLcktYYQPwB9nlZ4x/0DSvQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Darko on AWS&quot;
        title=&quot;&quot;
        src=&quot;/static/3fa9b443f67932ccf3fd5d3df0c666e2/fcda8/Darko.png&quot;
        srcset=&quot;/static/3fa9b443f67932ccf3fd5d3df0c666e2/12f09/Darko.png 148w,
/static/3fa9b443f67932ccf3fd5d3df0c666e2/e4a3f/Darko.png 295w,
/static/3fa9b443f67932ccf3fd5d3df0c666e2/fcda8/Darko.png 590w,
/static/3fa9b443f67932ccf3fd5d3df0c666e2/1b853/Darko.png 592w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The PlantUML source code (except for the full base64 PNG).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;@startuml Darko

!include &amp;lt;awslib/AWSCommon.puml&gt;
!include &amp;lt;awslib/Compute/EC2.puml&gt;
!include &amp;lt;awslib/DeveloperTools/CommandLineInterface.puml&gt;
!include &amp;lt;awslib/General/all.puml&gt;
!include &amp;lt;awslib/Groups/all.puml&gt;
!include &amp;lt;awslib/ManagementGovernance/ManagementConsole.puml&gt;

&apos; truncating PNG for blog code sample
!function $DarkoIMG($scale=1)
!return &quot;&amp;lt;img data:image/png;base64,iVBORw...ggg=={scale=&quot;+$scale+&quot;}&gt;&quot;
!endfunction

&apos; Groups are rectangles with a custom style using stereotype - need to hide
hide stereotype
skinparam linetype ortho
skinparam rectangle {
    BackgroundColor AWS_BG_COLOR
    BorderColor transparent
}

rectangle &quot;$DarkoIMG()\nDarko&quot; as darko
rectangle &quot;$ClientIMG()\nCommodore 128&quot; as client
AWSCloudGroup(cloud){
  RegionGroup(region, &quot;eu-central-1&quot;) {
    rectangle &quot;$CommandLineInterfaceIMG()\nCLI&quot; as cli
    VPCGroup(vpc) {
      rectangle &quot;$EC2IMG()\nEC2&quot; as ec2
    }
  }
}

darko -&gt; client
client -&gt; cli
cli -&gt; ec2

@enduml&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I also got to talk about Architecture Decision Records and the context for when I choose diagrams-as-code over presentation software or drawing tools.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ADR001 - Use PowerPoint for presentations
&lt;ul&gt;
&lt;li&gt;AWS Solutions Architects deliver lots of customer facing presentations, many of which combine slides from existing presentations.  These presentations are expected to meet the high bar for quality.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ADR002 - Use DrawIO (desktop) for documentation
&lt;ul&gt;
&lt;li&gt;Diagram images are included in project documentation, often created in markdown format.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ADR003 - Use PlantUML for sequence diagrams
&lt;ul&gt;
&lt;li&gt;Sequence diagrams help improve understanding of design across success and error use cases.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some things didn’t make it on the show, but I played with both &lt;a href=&quot;https://cloudgram.dedalusone.com/#&quot;&gt;CloudGram&lt;/a&gt; and &lt;a href=&quot;https://diagrams.mingrammer.com/&quot;&gt;mingrammer Diagrams&lt;/a&gt; to attempt a recreation of PlantUML-based Figure 1 from &lt;a href=&quot;https://aws.amazon.com/blogs/architecture/sequence-diagrams-enrich-your-understanding-of-distributed-architectures/&quot;&gt;Sequence Diagrams enrich your understanding of distributed architectures&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;CloudGram&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/dedalusj/cloudgram/tree/main/src/images/aws&quot;&gt;AWS Icons&lt;/a&gt; have pre-rounded corners and were last updated 2 years ago&lt;/li&gt;
&lt;li&gt;No multi-line label support&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;diagram &quot;Figure 1&quot; [direction=lr] {
  generic.user user [label=&quot;User&quot;, labelPosition=&quot;s&quot;];

  group cloud [label=&quot;AWS Cloud&quot;,style=solid,stroke=black,opacity=0] {
    aws.cloudfront cf [label=&quot;Web Distribution&quot;, labelPosition=&quot;s&quot;];
    aws.cloudfrontEdgeLocation edge [label=&quot;Origin Request&quot;, labelPosition=&quot;s&quot;];
    aws.dynamodb dynamodb [label=&quot;Version Mappings&quot;, labelPosition=&quot;s&quot;];
    
    aws.apiGateway api1 [label=&quot;API V1&quot;, labelPosition=&quot;s&quot;];
    aws.lambdaFunction lambda1 [label=&quot;Function V1&quot;, labelPosition=&quot;s&quot;];
    aws.apiGateway api2 [label=&quot;API V2&quot;, labelPosition=&quot;s&quot;];
    aws.lambdaFunction lambda2 [label=&quot;Function V2&quot;, labelPosition=&quot;s&quot;];
  }

  user -&gt; cf [label=&quot;(1)&quot;];
  cf -&gt; edge [label=&quot;(2)&quot;];
  edge -&gt; dynamodb [label=&quot;(3)&quot;];
  cf -&gt; api1 [label=&quot;(4)&quot;];
  api1  -&gt; lambda1;
  cf -&gt; api2 -&gt; lambda2;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/29d2515cdb3837fb01ee2fb92978c2f3/764d0/cloudgram-figure1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 69.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAUlEQVR42mNgwA5YgJgNDbPKyFhwOmqmaDtrpKiFhoay6em5cgPFmdzCDusHFzzIdkw6Ko/DPAZWIGZEFzyT9p91bc5//Q3F/7X+///PUVExWRgkHpVwrbys8/9/94wv7sQaCGZXZFYI+hhXanholyiDXAaT1FZrNLVxXlIor12mSbSBGzZs4N2/fz8HsgXoFgIBM1EGzpw5k7++vp6HASf4zwjB9Uww09FtZK0HS/5nOnPmDNetW7fY4Vrr/zPVAzGGkfXgIACLJ7KysuqDGLm5uezFMd2gmGNoCLuUPi3r+aPFhV8tQHxgrHLW557g64y7dWxm9tv54Eg6c4YVbNhiEcn/sxgsztQzcIH48zk4OMJBjM7OTt45czbwgtjJTmvKasKOf2iNOuMI4m86s4mrrWK3cLHfgQutUZeXAWOZaefOndxn/v9n3V8vr3CrkcF1VRoDP0gtDzSdIQM2qLhQaKgLP1AzXF5cXJwbi3pWUYh6FqIi5cKFC9z3798HxzDQcEbckcPARHTCRjaUGgaC2atm7ubvjbkbPCftkx2y+K2JDOz/ZzKI1NcTaeB/Bog3o8228fUnPX+7oPDHof//65mACZ2n/sp/to8LFdX+z2PwvV/PIIDPQBZoyodhJmOGmaxhZvPSM502BUCTElto6CrmWGde4SZ/Bl0rdQZeAMrTriOpJ3yZAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Figure 1&quot;
        title=&quot;&quot;
        src=&quot;/static/29d2515cdb3837fb01ee2fb92978c2f3/fcda8/cloudgram-figure1.png&quot;
        srcset=&quot;/static/29d2515cdb3837fb01ee2fb92978c2f3/12f09/cloudgram-figure1.png 148w,
/static/29d2515cdb3837fb01ee2fb92978c2f3/e4a3f/cloudgram-figure1.png 295w,
/static/29d2515cdb3837fb01ee2fb92978c2f3/fcda8/cloudgram-figure1.png 590w,
/static/29d2515cdb3837fb01ee2fb92978c2f3/efc66/cloudgram-figure1.png 885w,
/static/29d2515cdb3837fb01ee2fb92978c2f3/c83ae/cloudgram-figure1.png 1180w,
/static/29d2515cdb3837fb01ee2fb92978c2f3/764d0/cloudgram-figure1.png 1898w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;mingrammer Diagrams&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/mingrammer/diagrams/tree/master/resources/aws&quot;&gt;AWS Icons&lt;/a&gt; have pre-rounded corners and most were last updated 2 years ago.&lt;/li&gt;
&lt;li&gt;Can generate GraphViz &lt;code class=&quot;language-text&quot;&gt;.dot&lt;/code&gt; file and directly takes graph/cluster/node/edge attributes&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# using https://github.com/mingrammer/diagrams&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; diagrams &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Diagram&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cluster&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Edge
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; diagrams&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;aws&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;general &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; User
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; diagrams&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;aws&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;network &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CloudFront&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; CloudFrontEdgeLocation
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; diagrams&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;aws&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mobile &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; APIGateway
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; diagrams&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;aws&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;database &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Dynamodb
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; diagrams&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;aws&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;compute &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; LambdaFunction

&lt;span class=&quot;token comment&quot;&gt;# https://www.graphviz.org/docs/graph/&lt;/span&gt;
graph_attr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;nodesep&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;.3&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;ranksep&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1.6&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# https://www.graphviz.org/docs/clusters/&lt;/span&gt;
cluster_attr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;margin&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;40&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;fontsize&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;18&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;bgcolor&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;style&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;diagonals&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;penwidth&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;3&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;pencolor&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;FFFFFF&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# https://www.graphviz.org/docs/nodes/&lt;/span&gt;
node_attr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;width&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1.2&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;height&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1.2&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# https://www.graphviz.org/docs/edges/&lt;/span&gt;
edge_attr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; Diagram&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Figure 1. High-level architecture diagram&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graph_attr&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;graph_attr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; node_attr&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;node_attr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; edge_attr&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;edge_attr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; show&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; filename&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Figure1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; outformat&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;png&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;dot&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; User&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;User&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; Cluster&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;AWS Cloud&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graph_attr&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;cluster_attr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    cf &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; CloudFront&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Web Distribution\nAmazon CloudFront&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    user &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; Edge&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;label&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(1)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; cf
    
    &lt;span class=&quot;token comment&quot;&gt;# The order of rendered diagrams is the reverse of the declaration order.&lt;/span&gt;
    cf &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; APIGateway&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;API V2\nAmazon API Gateway&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; LambdaFunction&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Function V2\nAWS Lambda&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    cf &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; Edge&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;label&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(4)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; APIGateway&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;API V1\nAmazon API Gateway&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; LambdaFunction&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Function V1\nAWS Lambda&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    cf &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; Edge&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;label&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(2)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; CloudFrontEdgeLocation&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Origin Request\nAWS Lambda@Edge&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; Edge&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;label&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(3)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; Dynamodb&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Version Mappings\nAmazon DynamoDB&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a818537562f5dc616ecc3855be80ed38/73a2e/mingrammer-figure1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 90.54054054054053%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB80lEQVR42r2Uz27UMBDG+0jceApufQEOXLjwApx5EE5cKlEJhMQJhFAlKKItZbVoi5ZuW6Wbdf45jh07tj/GzkZQ0cBWIEayVnbGv5lvxrNbGDHvfVwb2uDYbuHf2O+BXdchSRKsVitUVTW6SlpFWaJt2wh0zl0FDhKVUkjTFFLKCLfWwjpLabhwqd/TCmaMDvDrgYNRRDRNcyWIsx4NtzDaxb1UDodTjUtm0Ai+ObDPxENwg8VUIl/qcBXHkwrb907w5FlB23ozoF9nGGSKWuJ0vkSR19GHMYGd3RmOPi+h5AjQWjcqOWTamhaGarq+HNoHrVuq4TWSg+NFckmHHsYqTA9SPH6Y4HzS9o36coLs/gN07/f7AEpAnx5CVwy8Fj+AQwZ0iNnXbxBCwnmNj3sLPLp7hNmHMn6vDo4xu7MN8ep13GvBUU3eQGUJuGh+zTCAjTG9s9ZgGUOWM3o6vXTdWZT0Xa0lW5JccIFGKtSc36wp0Zlz6Ld78IxhXUR4WaKjGvKNgQTrKKvgXb3bx/zWbcjnLxDaoXmO5tNLtOyMJMubP2y1YjjfeYpmcdZLpkDZxZzeZ4n656aMAcMclzSnWZ4jI5mMflMlwWh+SWKc5awoqdbZnyUPjznMcl3XERAhFEDRmV3P8zDX///v62+A3wEaenhEgNoHqAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Figure 1&quot;
        title=&quot;&quot;
        src=&quot;/static/a818537562f5dc616ecc3855be80ed38/fcda8/mingrammer-figure1.png&quot;
        srcset=&quot;/static/a818537562f5dc616ecc3855be80ed38/12f09/mingrammer-figure1.png 148w,
/static/a818537562f5dc616ecc3855be80ed38/e4a3f/mingrammer-figure1.png 295w,
/static/a818537562f5dc616ecc3855be80ed38/fcda8/mingrammer-figure1.png 590w,
/static/a818537562f5dc616ecc3855be80ed38/efc66/mingrammer-figure1.png 885w,
/static/a818537562f5dc616ecc3855be80ed38/c83ae/mingrammer-figure1.png 1180w,
/static/a818537562f5dc616ecc3855be80ed38/73a2e/mingrammer-figure1.png 1439w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Sequence Diagrams with Mermaid and Diagrams.net]]></title><description><![CDATA[I’m still having fun creating UML Sequence Diagrams using PlantUML.  On August 19, 2022 I published Sequence Diagrams enrich your…]]></description><link>https://kevinhakanson.com/2022-10-02-sequence-diagrams-with-mermaid-and-diagramsnet/</link><guid isPermaLink="false">https://kevinhakanson.com/2022-10-02-sequence-diagrams-with-mermaid-and-diagramsnet/</guid><pubDate>Sun, 02 Oct 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I’m still having fun creating UML Sequence Diagrams using PlantUML.  On August 19, 2022 I published &lt;a href=&quot;https://aws.amazon.com/blogs/architecture/sequence-diagrams-enrich-your-understanding-of-distributed-architectures/&quot;&gt;Sequence Diagrams enrich your understanding of distributed architectures&lt;/a&gt; on the AWS Architecture Blog.  The &lt;code class=&quot;language-text&quot;&gt;.puml&lt;/code&gt; source files from that blog post are available in the &lt;a href=&quot;https://github.com/awslabs/aws-icons-for-plantuml/tree/main/examples/architecture-blog&quot;&gt;architecture-blog&lt;/a&gt; examples folder inside the &lt;a href=&quot;https://github.com/awslabs/aws-icons-for-plantuml&quot;&gt;AWS Icons for PlantUML&lt;/a&gt; GitHub project.  This blog was included as one of the five stories in &lt;a href=&quot;https://mailchi.mp/deararchitects/103-dear-architects&quot;&gt;#103 Dear Architects&lt;/a&gt; and both the blog and the AWS Icons for PlantUML project were mentioned in &lt;a href=&quot;https://dev.to/094459/aws-open-source-news-and-updates-127-56n9&quot;&gt;AWS open source news and updates, #127&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Mermaid&lt;/h2&gt;
&lt;p&gt;Another tool that gets mentioned for Diagrams-as-Code is &lt;a href=&quot;https://mermaid-js.github.io/mermaid/#/&quot;&gt;Mermaid&lt;/a&gt; which “uses Markdown-inspired text definitions and a renderer to create and modify complex diagrams.”  For a target diagram to create with Mermaid, I used the end-state, PlantUML-based diagram from my &lt;a href=&quot;https://github.com/awslabs/aws-icons-for-plantuml/tree/main/examples/cognito-scenario&quot;&gt;Creating a Sequence Diagram for an Amazon Cognito scenario&lt;/a&gt; tutorial, which adds AWS service icons and colors for greater visual impact.  Below is a PNG export of that diagram (SVG always seems to look better).&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d8c120f37c36cdf56debe226cac998ff/8efc2/plantuml.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAACx0lEQVR42o1Uy3LTMBT1b7HkM1jxDWz4JVgydAdl2mERMm2T0pY0aZLGTezET/khy7ItyTZHMm2hK85kNFfSPbrnPhyr73ullJSi7zohpOs6IYn3URQEvrvfe4QcfM877J3tbmvbdVXBH57DamHlLLdtW4la81vFTk+royMl68p12IeP8n5dVmxp/3pwV6pi5XKlaCY8r+WlJjNWbLauBLlV2Nrv3j+8eYuX0/F4/uo1+3qMw3vvzk13fc2zH2fNwSWTS5GlmlzzMgzDFsr7XiqxHI1vvnwrivxhMZ98+ry+upKCzxez7XYjKxY5Ds+T+XRKAs8y4tvOxKxpGG0uEn+eRcvIvmDRpjO3vXbQPxiA9teHnYWNQp6MxTEpMlLkYby5y5yNrKmsKG57A8PpjNGZeHq1gig+eH5ZckopnuBCpNsd23uDhyYPnG7w/5dsPDqF6H8gcZ77d/5qFNrnxLkku2l4f0aca1BekgdVnPMkSdI0xarjl6zijKUkvJ1xRuuq1I181P8PueseNfX931uVU+f4xNsfqhpopMF/kxkLRmPMGkmSKNSAkQVh91g8TW7Ne0M9AeQ9JFZ7vn/ynaYZIiMvFLVpmpqVz2RYfOvgpmAaZVnmeQ4n08KW2nYrmw6ZKtG2iCGVFE/SjOy2bQxMzNZ8JxKLUl1J/WA9Du7PYnuSbC/JwwTDI2vWPX0YQFVVCFgbwNb1Mai41isbsXbmIQmwLWiOd4XQs2yhPfPFAsXwfT+OY9BKA26g0+AlZvfsbjRbzeKIBGEYE+Ku1kVRWBiswTszwBYB8fDQGGM3CHJtTx1/h1Rwhdxy9I9zCwSEBXlwRWRh8IL8c3N+CF3ZQHADcnbwkZ5VsIJyigJBJEo1zNBz27SpD2+dG594+JaGOdF/PUJYejBTND8hhEAFyjbozw1QEaw0pzGJaaETpFT3tDD4DdP2cd1I5oIzAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;PlantUML based sequence diagram&quot;
        title=&quot;&quot;
        src=&quot;/static/d8c120f37c36cdf56debe226cac998ff/fcda8/plantuml.png&quot;
        srcset=&quot;/static/d8c120f37c36cdf56debe226cac998ff/12f09/plantuml.png 148w,
/static/d8c120f37c36cdf56debe226cac998ff/e4a3f/plantuml.png 295w,
/static/d8c120f37c36cdf56debe226cac998ff/fcda8/plantuml.png 590w,
/static/d8c120f37c36cdf56debe226cac998ff/8efc2/plantuml.png 828w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I wanted to see how close I could reproduce that look.  Using Mermaid &lt;a href=&quot;https://mermaid-js.github.io/mermaid/#/directives&quot;&gt;directives&lt;/a&gt; I was able to get some control over colors and styling by including the &lt;code class=&quot;language-text&quot;&gt;%%{init: {...}}%%&lt;/code&gt; blocks in the source below.  The &lt;a href=&quot;https://mermaid-js.github.io/mermaid/#/theming?id=sequence-diagram&quot;&gt;theming for sequence digrams&lt;/a&gt; is documented, but I found &lt;a href=&quot;https://github.com/mermaid-js/mermaid/blob/develop/packages/mermaid/src/diagrams/sequence/styles.js&quot;&gt;styles.js&lt;/a&gt; to be the authoritive source.  The configurations specific for sequence diagrams were also best found in the &lt;a href=&quot;https://github.com/mermaid-js/mermaid/blob/develop/packages/mermaid/src/defaultConfig.ts&quot;&gt;defaultConfig.ts&lt;/a&gt; source code.  I did not find a way to use images for the AWS icons inside my Mermaid sequence diagram.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;%%{init: {&apos;sequence&apos;: { &apos;mirrorActors&apos;: false, &apos;rightAngles&apos;: true, &apos;messageAlign&apos;: &apos;center&apos;, &apos;actorFontSize&apos;: 20, &apos;actorFontWeight&apos;: 900, &apos;noteFontSize&apos;: 18, &apos;noteFontWeight&apos;: 600, &apos;messageFontSize&apos;: 14}}}%%
%%{init: {&apos;theme&apos;: &apos;base&apos;, &apos;themeVariables&apos;: {&apos;labelBoxBkgColor&apos;: &apos;lightgrey&apos;, &apos;labelBoxBorderColor&apos;: &apos;#000000&apos;, &apos;actorBorder&apos;: &apos;#D86613&apos;, &apos;actorBkg&apos;: &apos;#ffffff&apos;, &apos;activationBorderColor&apos;: &apos;#232F3E&apos;, &apos;activationBkgColor&apos;: &apos;#D86613&apos;, &apos;noteBkgColor&apos;: &apos;rgba(255, 153, 0, .25)&apos;, &apos;noteBorderColor&apos;: &apos;#232F3E&apos;}}}%%
sequenceDiagram
    title Amazon S3 objects using IAM Temporary Credentials

    participant user as «Tenant 1»&amp;lt;br /&gt;&amp;lt;br /&gt;User
    participant userpool as &amp;lt;br /&gt;Amazon Cognito&amp;lt;br /&gt;User Pool
    participant idpool as &amp;lt;br /&gt;Amazon Cognito&amp;lt;br /&gt;Identity Pool
    participant s3 as «Multi-tenant»&amp;lt;br /&gt;Amazon S3&amp;lt;br /&gt;bucket
    participant sts as &amp;lt;br /&gt;AWS STS&amp;lt;br /&gt;
    participant permissions as &amp;lt;br /&gt;AWS IAM&amp;lt;br /&gt;policy

    note over userpool: 1. Authenticate and get tokens
    user -&gt;&gt;+ userpool: InitiateAuth
    userpool --&gt;&gt;- user: ID Token and Access Token

    note over idpool: 2. Exchange tokens for AWS credentials
    user -&gt;&gt;+ idpool: GetCredentialsForIdentity
    idpool -&gt;&gt; idpool: map to IAM Role
    idpool -&gt;&gt;+ sts: AssumeRoleWithWebIdentity(Role)
    sts --&gt;&gt;- idpool: temporary security credentials
    idpool --&gt;&gt;- user: temporary security credentials
   
    note over s3: 3. Access AWS services with credentials
    user -&gt;&gt;+ s3: GetObject
    s3 -&gt;&gt;+ permissions: check permissions
    alt no access
      permissions --&gt;&gt; s3: ❌ Deny
      s3 --&gt;&gt; user: error (AccessDenied)
    else access
      permissions --&gt;&gt;- s3: ✅ Allow
      s3 --&gt;&gt;- user: S3 object
    end &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Below is the PNG rendered by that source.  Clicking the image will bring you to the &lt;a href=&quot;https://mermaid.live&quot;&gt;Mermaid Live Editor&lt;/a&gt;, which displays the image as the better looking SVG version. Some differences you will see are the text in &lt;code class=&quot;language-text&quot;&gt;note&lt;/code&gt; not spilling out the left and right sides or the emoji font characters rendering differently.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://mermaid-js.github.io/mermaid-live-editor/edit#pako:eNqNVc1O20AQfpWRKxQQhEJcEI0qJPNXcUCtGlouuWzWg7ONvZvuroEQ5dhbH6F9gj5CbzxKn6Szu7YxgZb6EGVnvm9-vpm15xFXKUb9aGVlLqSwfZh3DH4pUXLs0AE6hdBa6YRbpQ1ZLllucAM6WmRjm8gsR2e1unTGAo1hGSa5yCRZOxylRd0hD3P8EyXtQNy6wL2ttvECXTQyv95ydqkstrDbey1bA9310CpjG_1qsVisrAxlqyM7xsL5OiNm0JXjDZ-YFmwUGph3cjbC_EDdHEyyQ5Ur7eC5y5VpnDlOA1A6Rd1gXmz5p2kyuL3naG93dzu-90wyb770T2UWV8wKJZeD9uLeSXy8hGlV1ortlGm7dDZiq72dnQ3Y3ok3gFTa7O2sNcinE1Wa1aM_EizTrBhKoMcKmyMkBbtVEgYxqNFn5NZAaYTM4DQ5g3MspkozPYNDjSkNXdCWDGWgT5m2gospk5YoqIEZuPt5jtIZtu9-vRlpeLkffj-S_2nWVKncMQOuKuZQZTRhdc-F9wR7HECkz9NPfd129pcQJg51n5W5FV3rq69rb6QJx1HJJ2ifCEGa3ZdwMYDB-SAcHmOnqAthDE19iUNyh8NU5YLPapHdaEFdkQK1WHQTNiEpadOpLc7IzWQKGVqwaoLSBJ4fSHd_f73FOyVRBBEc-R7lFewStOuPBDuCcxfJx004p5sYDI9rCvrTrd-E4xs-ZjLDqgq4VBpcX7y9OA8rq9lv0bbW60TpemSBUA2ZKA2jYFPK41f0g8pxGbfuRtKHxJiyQAe4EHZ8gaM67qqzrQWWG17ovg5um6U3yEvtVudRE3Wulmz_QVuWz8R9iDdrjZ1aFOlK0AmuqeJ_aeeopNs7f2WrTuLgaq1YH_gY-aRtCliWW6oDmM8cTPBgN11nPsnvH9_gCOWsBrkszheaRvcNgdXQAcEEppWuSJ-TZ-J3Q4LvXyHJc3W9lKHWtXkxVXFpKelftBEVFI6JlL5xc-caRv7lP4z69DfFS0YXehgN5YKgrLRqMJM86vsPWlROU7oH1csw6vtv3-IP3EVgcg&quot;&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.24324324324324%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB30lEQVR42n2S25KbMAyG8/6v1ot2s9m0s91kwzGBgDHgs2Xob5PJ7MVONQMYSZ8k//aOnBXzFMgvyxIIX1pC8NaMfIC/79qqyPnArNHe2gVpwSO6EK3ruiNnhu4OrxV9/v7r4/BDdGVTl5fzyWop5+n88e6tXshx1qMTWV0VmTc6wni8d8aY8rRvzz+7bD+1n4EwQayNcRBdk3kfp8PCObstIqyUatum6djY363gZGY9NnK46bE1YqBU5Sv8XOxSJYcMrVTTNNcq77JXVryx8sjr3+M9p7D8D7bWumTzPAshw7oKMV+OLz5EEeHfYKLwDfz8Ccmix6ju9GKsr+o6L8rbrXEU5NAtW/QrDLXASCnvyRDDWU3XszWyvea3Krs3pVazGtk3cMwOEJhQRSejELAcqiMr9kPxOtUHfv3rKTw2T5TYBAshgKEE3lCeMZaqKOe8VmK85ZBMK13XNTKRpsS8PjsjG6pgErwR2zZvo4zeiIlnR0eLs4YzBh9U6z8PuIkRBoNulAzwNE04MHRAnvfktOT5H4yL+yjGETnoOFzeArkHDKngRTfAifHbFoyxTgnAIHDlhJTeOWyBXY6PznhwvDHRWkiFQn3fb5tHZy1nVp6sJ0Q55/DH6Tjb1P4HzCAoWrDZKKcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Mermaid based sequence diagram&quot;
        title=&quot;&quot;
        src=&quot;/static/616f3fecd8ff4942d6bb476768c28ff0/fcda8/mermaid.png&quot;
        srcset=&quot;/static/616f3fecd8ff4942d6bb476768c28ff0/12f09/mermaid.png 148w,
/static/616f3fecd8ff4942d6bb476768c28ff0/e4a3f/mermaid.png 295w,
/static/616f3fecd8ff4942d6bb476768c28ff0/fcda8/mermaid.png 590w,
/static/616f3fecd8ff4942d6bb476768c28ff0/efc66/mermaid.png 885w,
/static/616f3fecd8ff4942d6bb476768c28ff0/c83ae/mermaid.png 1180w,
/static/616f3fecd8ff4942d6bb476768c28ff0/9ba38/mermaid.png 1329w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Diagrams.net (Draw.IO)&lt;/h2&gt;
&lt;p&gt;You can use Diagrams.net (Draw.IO) as a drawing tool and create “pixel perfect” versions of your sequence diagrams (which I spent too much time doing and it doesn’t look perfect).  You can also insert your PlantUML or Mermaid by clicking &lt;code class=&quot;language-text&quot;&gt;Arrange&lt;/code&gt; then &lt;code class=&quot;language-text&quot;&gt;Insert &gt; Advanced&lt;/code&gt; and choose which diagram type.  I created a &lt;code class=&quot;language-text&quot;&gt;.drawio&lt;/code&gt; file with three tabs:  the hand drawn version; the PlantUML rendered import; and the Mermaid rendered import.&lt;/p&gt;
&lt;p&gt;Below is a PNG export of that drawn diagram with the “Grid” option. I also chose the “Include a copy of my diagram” option, so (hopefully) you can click this PNG and edit it in &lt;code class=&quot;language-text&quot;&gt;app.diagrams.net&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://app.diagrams.net/#Uhttps%3A%2F%2Fraw.githubusercontent.com%2Fhakanson%2Fblog-posts-markdown%2Fmain%2F2022-10-02-sequence-diagrams-with-mermaid-and-diagramsnet%2Fimages%2FSequenceDiagrams-Diagrams.net.drawio.png&quot;&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 83.78378378378379%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAADRElEQVR42l1U227bRhTU5/Whv9GgKNBfKPqQAv2APvRDAgRNgeSlKFo4cSzbFWxZkSyL9zt3SS7JJTWds5KNogIOdrlczs7MmdVi7DQO+x2MrnGcLaZxgL1dwl4vMZkWdrPGePE3jnyfZh7ut0u0usDU1GjWfFdkmO0A87THkKVYmEbjfrNFWRQAjtxQIH31LbJX32GIfJSvf0L01dfoV7dITIJ1fIu49mDjCMXv79HttrA8TH/8hFEA67LA9vEJSZJgnifYtsPmh9fY/PgzN1Z4/OVX3HzzPcxuBz3UWHt36HrtmFVXtzB+gKlvkfz1EW0QYTENHTqeMI/9ibpKEXob+IcvaHMPWRohJJu+1TCU6XsH2L6DNQ10VWLg+tH2yOMQmuQWR8oU35RS/KhGfbhCsfuE+umK9Zk+Kno7Y5ror7U4ykglUrMd3frM97OMrEWSZsizDH4QIOPYjhP81R0K+iq/aZphCTQfj67sKCCTA5leALluT+sEzKFrdozNEZZK1VBsjNrfoNh/Rnm4gfI5J+OKZbsadprdx5bKZgdOldPo5gthMRjjmvJcTdMwRiValRF0A+/6EmUWok7ZgMHQJPxH5v8Ap7M/81nG80aRKR+qL49YvXkLP44RBCEC30cYBk5JU1fOVwdoz4CW7HqR3LZotHbsGq0wDj0mAuaXV9gyb4VuGewScZIiKypGxyL2fNhhcN6+AA55AR2GUASqCVyxap4s/lhu6JsWihEydQhTBRjOY1cy3EyAePnsp7B1HspDkecY5DRH35LhgNF1dCYA/fP+QeWt8HT3J+rgDrW/wtjkIDkWw8cYSbwWmjIrdrUsS1RVBcVnRZaaHsk7TflaaSdRdwbvLt4hTgtESU4SxWkf1QW8y5KWxXJ5jYf1vWMoOTT01HTtqWTO6uSWmA5t1+D9xVskzKwcJl7LgYZq/IcHlCnvchRF6JhB54NIPct1HtpTt6VBMg68nh8ufyPDyB3U8xApS6nRdufyuwjigI3IKVOhZafdh33vQMRD8XXojZv3XPvj+gP26d4BynrPUZpXkV1H6YtKVfSuQE7J4qOiX7V4ST/k5kjn66p8mef8i2rZeYnXyWeR3Zwjp/EvKzMKyBtbocEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Diagrams.net based sequence diagram&quot;
        title=&quot;&quot;
        src=&quot;/static/a845e90783de0acb1fcac680fe355eb2/fcda8/SequenceDiagrams-Diagrams.net.drawio.png&quot;
        srcset=&quot;/static/a845e90783de0acb1fcac680fe355eb2/12f09/SequenceDiagrams-Diagrams.net.drawio.png 148w,
/static/a845e90783de0acb1fcac680fe355eb2/e4a3f/SequenceDiagrams-Diagrams.net.drawio.png 295w,
/static/a845e90783de0acb1fcac680fe355eb2/fcda8/SequenceDiagrams-Diagrams.net.drawio.png 590w,
/static/a845e90783de0acb1fcac680fe355eb2/31aff/SequenceDiagrams-Diagrams.net.drawio.png 823w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Refactoring Python-based AWS Lambda functions for testing]]></title><description><![CDATA[I’ve been looking at serverless, event-driven architectures using AWS Lambda and how to test individual components.  In this post, I take an…]]></description><link>https://kevinhakanson.com/2022-08-06-refactoring-python-based-aws-lambda-functions-for-testing/</link><guid isPermaLink="false">https://kevinhakanson.com/2022-08-06-refactoring-python-based-aws-lambda-functions-for-testing/</guid><pubDate>Sat, 06 Aug 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I’ve been looking at serverless, &lt;a href=&quot;https://docs.aws.amazon.com/lambda/latest/operatorguide/event-driven-architectures.html&quot;&gt;event-driven architectures&lt;/a&gt; using AWS Lambda and how to test individual components.  In this post, I take an example AWS Lambda function using the Python &lt;a href=&quot;https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html&quot;&gt;runtime&lt;/a&gt; which was not designed for testability.  I then incrementally introduce changes that result in an updated version.&lt;/p&gt;
&lt;h2&gt;Example Scenario&lt;/h2&gt;
&lt;p&gt;A developer is using their local development environment to code and test an AWS Lambda function. The Python-based Lambda function implements a simple hit counter, using Amazon DynamoDB to persist the counts.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/86cf661b05302ad57da78e7112f94cfd/339e3/DevEnv.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.43243243243243%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABcSAAAXEgFnn9JSAAABcklEQVR42i2RwS4EQRCGPYSH8DIkbk4uLpycCYm4IB6AE0E4SIQQEcLFhkSyB9mDIAyG3RnM7PZ090xP90zPr6ZXJZ2/0lX95a+ugaIoUZ8eE+j2uFPGBbiQ0Magjnf/EzMLK3h9+8BXJ0QUx8hVDq0VCkOaK1uWJTjn3kBBSR1Kl8iURp4byEzjJ1ak1tXC71/sH5yARQFEtw2VSXevTQWeVqRwjf/AOq9QJQGs0a6xec8xNdfG0mYKYwrnNGMRensTkGtDKD6vXd/RaYjJ+QAbx8oBEy76QJOTm6cbiPjHwS+vvjEy1sL0YghFrmWqELV9+KvDCGYHoZ7OHXBr28Po+AOW16M+MKmB9H9hGKLVaqHT6bjG9hfDzm4TZxfPsLaCKQokjMFrnOL1chu98ANlVeHu7gUHh49o3Ho2VymklH2gpWKaKZTkllL6yxS+/4wgoIeWJqCRGQFZmqMrNRJamOCcHMW0GA6exDbNMkghvD+xcrlCl5LT5gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Development Environment&quot;
        title=&quot;&quot;
        src=&quot;/static/86cf661b05302ad57da78e7112f94cfd/fcda8/DevEnv.png&quot;
        srcset=&quot;/static/86cf661b05302ad57da78e7112f94cfd/12f09/DevEnv.png 148w,
/static/86cf661b05302ad57da78e7112f94cfd/e4a3f/DevEnv.png 295w,
/static/86cf661b05302ad57da78e7112f94cfd/fcda8/DevEnv.png 590w,
/static/86cf661b05302ad57da78e7112f94cfd/efc66/DevEnv.png 885w,
/static/86cf661b05302ad57da78e7112f94cfd/339e3/DevEnv.png 977w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The Python code below represents the first iteration which was not designed for testability.  The &lt;code class=&quot;language-text&quot;&gt;lambda_handler&lt;/code&gt; receives an &lt;code class=&quot;language-text&quot;&gt;event&lt;/code&gt; object with a string &lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt; and optional integer between 1 and 9 (inclusive). If the validation logics passes, it creates or updates a DynamoDB table item, adding the &lt;code class=&quot;language-text&quot;&gt;increment&lt;/code&gt; value to the &lt;code class=&quot;language-text&quot;&gt;hits&lt;/code&gt; field, and returns a response with the updated &lt;code class=&quot;language-text&quot;&gt;count&lt;/code&gt; value.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# &quot;before&quot; version of hitcounter - not designed for testability&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; os
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; boto3

&lt;span class=&quot;token comment&quot;&gt;# run once when the execution environment is created&lt;/span&gt;
DYNAMODB_TABLE_NAME &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;environ&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;DYNAMODB_TABLE_NAME&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
dynamodb_resource &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resource&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dynamodb&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
dynamodb_table &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dynamodb_resource&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Table&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;DYNAMODB_TABLE_NAME&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    increment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;increment&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;increment &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;or&lt;/span&gt; increment &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;count&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dynamodb_table&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;update_item&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        Key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;PK&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;key&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        UpdateExpression&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ADD hits :num&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        ExpressionAttributeValues&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;:num&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; increment
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        ReturnValues&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;UPDATED_NEW&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;count&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Attributes&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hits&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This code follows the &lt;a href=&quot;https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html&quot;&gt;best practices for working with AWS Lambda functions&lt;/a&gt; recommendations of using &lt;a href=&quot;https://docs.aws.amazon.com/lambda/latest/dg/configuration-envvars.html&quot;&gt;environment variables&lt;/a&gt; to pass operational parameters (&lt;code class=&quot;language-text&quot;&gt;DYNAMODB_TABLE_NAME&lt;/code&gt;) and initializing the DynamoDB connection outside of the function handler for reuse by subsequent invocations processed by the same instance.  However, it did not separate the Lambda handler and core logic to make a more unit-testable function.  The developer wants to test the full functionality of this Lambda function prior to deployment in AWS, including its interactions with the DynamoDB table.&lt;/p&gt;
&lt;h2&gt;Defining an Event Schema&lt;/h2&gt;
&lt;p&gt;An &lt;a href=&quot;https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-concepts.html#gettingstarted-concepts-event&quot;&gt;event&lt;/a&gt; is a JSON-formatted document that contains data for a Lambda function to process. The Python runtime converts this event into a &lt;a href=&quot;https://docs.python.org/3/c-api/dict.html&quot;&gt;dictionary object&lt;/a&gt; and passes it to the handler.  When a Lambda function is invoked synchronously, the function’s response is sent back to the invoker.  From inspecting the Python code above, you can infer the event and response structure have the following shape.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// sample event&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;SampleEvent&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;increment&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// sample response&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;count&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Type annotations are a more formal way to define the event and response structures.  The Python &lt;a href=&quot;https://docs.python.org/3/library/typing.html&quot;&gt;typing&lt;/a&gt; module provides runtime support for type hints with &lt;a href=&quot;https://docs.python.org/3/library/typing.html#typing.TypedDict&quot;&gt;TypeDict&lt;/a&gt; being a special construct which declares a dictionary type.  The &lt;a href=&quot;https://awslabs.github.io/aws-lambda-powertools-python/latest/&quot;&gt;AWS Lambda Powertools for Python&lt;/a&gt; provides a static typing class for &lt;a href=&quot;https://awslabs.github.io/aws-lambda-powertools-python/latest/utilities/typing/#lambdacontext&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;LambdaContext&lt;/code&gt;&lt;/a&gt; and a &lt;a href=&quot;https://awslabs.github.io/aws-lambda-powertools-python/latest/utilities/parser/&quot;&gt;Parser&lt;/a&gt; utility for data validation.&lt;/p&gt;
&lt;p&gt;The code below creates &lt;a href=&quot;https://docs.python.org/3/tutorial/classes.html&quot;&gt;Python classes&lt;/a&gt; for &lt;code class=&quot;language-text&quot;&gt;HitCounterEvent&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;HitCounterResponse&lt;/code&gt;, then annotates the &lt;code class=&quot;language-text&quot;&gt;lambda_handler&lt;/code&gt; function with them.  This is not enforced by the Python runtime, but enables type checking and autocompletion inside IDEs. The &lt;code class=&quot;language-text&quot;&gt;HitCounterEvent&lt;/code&gt; class inherits from &lt;code class=&quot;language-text&quot;&gt;BaseModel&lt;/code&gt; which supports decorating of methods to provide validation.  The logic that defaults the &lt;code class=&quot;language-text&quot;&gt;increment&lt;/code&gt; value to 1 and performs a range check between 1 and 9 (inclusive) has moved out of &lt;code class=&quot;language-text&quot;&gt;lambda_handler&lt;/code&gt; and into &lt;code class=&quot;language-text&quot;&gt;HitCounterEvent&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; typing &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; TypedDict
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; aws_lambda_powertools&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;utilities&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;parser &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; BaseModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; parse&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; validator
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; aws_lambda_powertools&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;utilities&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;typing &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; LambdaContext

&lt;span class=&quot;token comment&quot;&gt;# new class definitions for Event and Response&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HitCounterEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;BaseModel&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    key&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;
    increment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;

    &lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@validator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;increment&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;set_increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cls&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; v&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;or&lt;/span&gt; v &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; ValueError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;increment must be between 1-9 (inclusive)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; v

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HitCounterResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;TypedDict&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    count&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HitCounterEvent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; LambdaContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; HitCounterResponse&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# function body from above returning result&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;First Unit Tests&lt;/h2&gt;
&lt;p&gt;By using well-defined event and response objects, writing unit tests is simplified by not searching for dictionary key string values.  The &lt;code class=&quot;language-text&quot;&gt;@validator&lt;/code&gt; decorated method is executed when constructing &lt;code class=&quot;language-text&quot;&gt;HitCounterEvent&lt;/code&gt; objects.   The tests below use the &lt;a href=&quot;https://docs.python.org/3/library/unittest.html&quot;&gt;unittest&lt;/a&gt; unit testing framework which look similar to other testing frameworks from other languages.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; unittest &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; TestCase
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; src&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hitcounter2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;app &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;HitCounterEvent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; HitCounterResponse&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; lambda_handler&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TestHitCounterEventValidation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;TestCase&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test_get_increment_default&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        event &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; HitCounterEvent&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;assertEqual&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;increment&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test_get_increment_2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        event &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; HitCounterEvent&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; increment&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;assertEqual&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;increment&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test_get_increment_0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;assertRaises&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ValueError&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            event &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; HitCounterEvent&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; increment&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Next Unit Test&lt;/h2&gt;
&lt;p&gt;The Lambda runtime doesn’t know about or construct &lt;code class=&quot;language-text&quot;&gt;HitCounterEvent&lt;/code&gt;, but as mentioned earlier, deserializes JSON into a dictionary object.  The &lt;code class=&quot;language-text&quot;&gt;lambda_handler&lt;/code&gt; needs to explicitly call parse with the &lt;code class=&quot;language-text&quot;&gt;event&lt;/code&gt; object and specify the &lt;code class=&quot;language-text&quot;&gt;HitCounterEvent&lt;/code&gt; model.  The Lambda handler is still responsible for handling &lt;code class=&quot;language-text&quot;&gt;ValueError&lt;/code&gt; and returning a &lt;code class=&quot;language-text&quot;&gt;HitCounterResponse&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HitCounterEvent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; LambdaContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; HitCounterResponse&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        event &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; parse&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; model&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;HitCounterEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt; ValueError&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; HitCounterResponse&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
    &lt;span class=&quot;token comment&quot;&gt;# remaining function body from above returning result&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The test below creates a &lt;code class=&quot;language-text&quot;&gt;dict&lt;/code&gt; with the &lt;code class=&quot;language-text&quot;&gt;increment&lt;/code&gt; value of 0 and calls the &lt;code class=&quot;language-text&quot;&gt;lambda_handler&lt;/code&gt; . Since this is outside of the allowed range, the test expects validation failure and asserts the &lt;code class=&quot;language-text&quot;&gt;HitCounterResponse&lt;/code&gt; has a &lt;code class=&quot;language-text&quot;&gt;count&lt;/code&gt; of -1.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test_lambda_handler_increment_0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        test_event_dict &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;HandlerTest&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;increment&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        test_response&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HitCounterResponse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; lambda_handler&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            event&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;test_event_dict&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;assertEqual&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;test_response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;count&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Preparing for Mocking&lt;/h2&gt;
&lt;p&gt;The original code unconditionally creates DynamoDB resources, causing challenges for mocking and patching inside unit tests.  To continue the best practice to create once and reuse, I declare a global variable named &lt;code class=&quot;language-text&quot;&gt;_SERVICES&lt;/code&gt; and initially set to &lt;a href=&quot;https://docs.python.org/3/c-api/none.html&quot;&gt;&lt;em&gt;None&lt;/em&gt;&lt;/a&gt;.  I also create a &lt;code class=&quot;language-text&quot;&gt;Services&lt;/code&gt; class to hold the set of AWS resource, using resource names as incoming parameters to remove the dependency on specific environment variable names.  Finding one of the &lt;a href=&quot;https://docs.aws.amazon.com/lambda/latest/dg/configuration-envvars.html#configuration-envvars-runtime&quot;&gt;defined runtime environment variables&lt;/a&gt; indicates this code is running inside a Lambda runtime, and a &lt;code class=&quot;language-text&quot;&gt;Services&lt;/code&gt; object should be constructed.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# define a Services class for AWS service resources&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Services&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dynamodb_table_name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dynamodb_resource &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resource&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dynamodb&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dynamodb_table &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dynamodb_resource&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Table&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            dynamodb_table_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

_SERVICES&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Services &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;getenv&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;AWS_LAMBDA_FUNCTION_NAME&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# only initialize _SERVICES under Lambda runtime&lt;/span&gt;
    _SERVICES &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Services&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dynamodb_table_name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;getenv&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;DYNAMODB_TABLE_NAME&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The code which updates DynamoDB items is extracted into an &lt;code class=&quot;language-text&quot;&gt;update_hits&lt;/code&gt; function, taking a &lt;code class=&quot;language-text&quot;&gt;Services&lt;/code&gt; object parameter rather than directly accessing the global variable.  This refactoring enables both mocking for unit tests and independence for future integration tests.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;update_hits&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;services&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Services&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; increment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; services&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dynamodb_table&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;update_item&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        Key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;PK&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        UpdateExpression&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ADD hits :num&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        ExpressionAttributeValues&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;:num&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; increment
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        ReturnValues&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;UPDATED_NEW&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Attributes&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The updated &lt;code class=&quot;language-text&quot;&gt;lambda_handler&lt;/code&gt; now calls &lt;code class=&quot;language-text&quot;&gt;parse&lt;/code&gt; and explicitly passes &lt;code class=&quot;language-text&quot;&gt;_SERVICES&lt;/code&gt; lazy into &lt;code class=&quot;language-text&quot;&gt;update_hits&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HitCounterEvent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; LambdaContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; HitCounterResponse&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        event &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; parse&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; model&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;HitCounterEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt; ValueError&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; HitCounterResponse&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# explicitly pass _SERVICES into function&lt;/span&gt;
    hits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; update_hits&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        services&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;_SERVICES&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; increment&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;increment&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; HitCounterResponse&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;hits&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Unit Testing with Mock Amazon DynamoDB&lt;/h2&gt;
&lt;p&gt;During normal execution, the Lambda function code accesses AWS resources such as a DynamoDB table.  When running tests, I want to test interactions with these services without accidentally changing live data in DynamoDB. I may also want to run tests in an environment without a connection to AWS.&lt;/p&gt;
&lt;p&gt;This solution uses the &lt;a href=&quot;http://docs.getmoto.org/en/latest/index.html#&quot;&gt;Moto&lt;/a&gt; third-party library to mock out AWS services, replacing them with simulated versions running locally.  Instead of using the live AWS service, DynamoDB is mocked and simulated for the entire test class using the &lt;a href=&quot;http://docs.getmoto.org/en/latest/docs/services/dynamodb.html?highlight=mock_dynamodb&quot;&gt;moto.mock_dynamodb&lt;/a&gt; decorator.  This both replaces the &lt;a href=&quot;https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/dynamodb.html&quot;&gt;boto3 dynamodb resource&lt;/a&gt; with a mock object storing data in memory and enables assertions about how that object has been used.  In the &lt;code class=&quot;language-text&quot;&gt;TestCase&lt;/code&gt; below, the &lt;code class=&quot;language-text&quot;&gt;setUp&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;tearDown&lt;/code&gt; methods construct and remove a mocked DynamoDB table and manipulate &lt;a href=&quot;https://docs.python.org/3/library/sys.html#sys.modules&quot;&gt;sys.modules&lt;/a&gt; to set the &lt;code class=&quot;language-text&quot;&gt;_SERVICES&lt;/code&gt; global to an instances of the &lt;code class=&quot;language-text&quot;&gt;Services&lt;/code&gt; class.  Also note there is no dependency on setting specific environment variables.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; moto

&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@moto&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mock_dynamodb&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TestHitCounterLambdaDynamoDB&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;TestCase&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# Test Set up&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setUp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# Set up the services: construct a (mocked!) DynamoDB table&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DYNAMODB_TABLE_NAME &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;unit_test_ddb&quot;&lt;/span&gt;
        dynamodb &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resource&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;dynamodb&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; region_name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;us-east-1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        dynamodb&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create_table&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            TableName&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DYNAMODB_TABLE_NAME&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            KeySchema&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;AttributeName&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;PK&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;KeyType&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;HASH&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            AttributeDefinitions&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;AttributeName&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;PK&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AttributeType&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;S&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            BillingMode&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;PAY_PER_REQUEST&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# set the _SERVICES global&lt;/span&gt;
        sys&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;modules&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;src.hitcounter2.app&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_SERVICES &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Services&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            dynamodb_table_name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DYNAMODB_TABLE_NAME&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            
    &lt;span class=&quot;token comment&quot;&gt;# tests go here&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;tearDown&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# [12] Remove (mocked!) DynamoDB Table&lt;/span&gt;
        dynamodb &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;dynamodb&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; region_name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;us-east-1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        dynamodb&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;delete_table&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;TableName&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DYNAMODB_TABLE_NAME&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        sys&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;modules&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;src.hitcounter2.app&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_SERVICES &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The following code tests the entire Lambda function at once, including the &lt;code class=&quot;language-text&quot;&gt;lambda_handler&lt;/code&gt; and all the extracted functions.  It passes because &lt;code class=&quot;language-text&quot;&gt;moto.mock_dynamodb&lt;/code&gt; implements both the DynamoDB resource creation and the update item logic.  This is more course-grained than an ideal unit test and also relies on the moto emulation of DynamoDB.&lt;/p&gt;
&lt;p&gt;For the test event data, a good practice is saving them with as separate JSON files in your project rather than hard coding them inline.  The test code also introduces a &lt;code class=&quot;language-text&quot;&gt;load_test_event&lt;/code&gt; helper method which allows &lt;code class=&quot;language-text&quot;&gt;test_event&lt;/code&gt; to be loaded from the test data location.  The &lt;code class=&quot;language-text&quot;&gt;tests/events/SampleEvent.json&lt;/code&gt; file used in the test below  contains the same sample event from earlier in this blog.  Externalizing test data info files also scales out test coverage without repeating similar test methods.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;load_test_event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; test_event_file_name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; HitCounterEvent&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; HitCounterEvent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;parse_file&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&quot;tests/events/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;test_event_file_name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.json&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test_lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# invoke lambda_handler&lt;/span&gt;
        test_event&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HitCounterEvent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;load_test_event&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;SampleEvent&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        test_response&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HitCounterResponse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; lambda_handler&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            event&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;test_event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;assertEqual&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;test_response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;count&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;update_hits&lt;/code&gt; method can be tested directly. This realizes the value of passing in the &lt;code class=&quot;language-text&quot;&gt;Services&lt;/code&gt; object instead of taking a dependency on a Global. This test doesn’t depend on &lt;code class=&quot;language-text&quot;&gt;lambda_handler&lt;/code&gt; logic, but still uses &lt;code class=&quot;language-text&quot;&gt;mock_dynamodb&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test_lambda_handler_update_hits&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# call update_hits with explicit Services object&lt;/span&gt;
        services &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Services&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dynamodb_table_name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DYNAMODB_TABLE_NAME&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        hits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; update_hits&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            services&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;services&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;update_hits&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; increment&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;assertEqual&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hits&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With &lt;code class=&quot;language-text&quot;&gt;update_hits&lt;/code&gt; separately tested, this enables internal testing of &lt;code class=&quot;language-text&quot;&gt;lambda_handler&lt;/code&gt; logic independent of &lt;code class=&quot;language-text&quot;&gt;update_hits&lt;/code&gt; behaviors. The code below uses &lt;a href=&quot;https://docs.python.org/3/library/unittest.mock.html#unittest.mock.patch&quot;&gt;patch&lt;/a&gt; decorators and a &lt;a href=&quot;https://docs.python.org/3/library/unittest.mock.html#unittest.mock.MagicMock&quot;&gt;MagicMock&lt;/a&gt; object from &lt;code class=&quot;language-text&quot;&gt;unittest.mock&lt;/code&gt;.  This sets a &lt;code class=&quot;language-text&quot;&gt;return_value&lt;/code&gt; for the function call and use &lt;code class=&quot;language-text&quot;&gt;assert_called_once_with&lt;/code&gt; to inspect the incoming parameter values.  The test still calls &lt;code class=&quot;language-text&quot;&gt;lambda_handler&lt;/code&gt;, but two implicit dependencies are removed: 1) Mocking &lt;code class=&quot;language-text&quot;&gt;_SERVICES&lt;/code&gt; with a &lt;a href=&quot;https://docs.python.org/3/library/unittest.mock.html#sentinel&quot;&gt;&lt;em&gt;sentinel&lt;/em&gt;&lt;/a&gt; removes all dependencies on &lt;code class=&quot;language-text&quot;&gt;dynamodb&lt;/code&gt; resources ; and 2) Mocking &lt;code class=&quot;language-text&quot;&gt;update_hits&lt;/code&gt; still provides a return value even when the &lt;code class=&quot;language-text&quot;&gt;moto.mock_dynamodb&lt;/code&gt; implementation logic emulating &lt;a href=&quot;https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.UpdateExpressions.html&quot;&gt;DynamoDB update expressions&lt;/a&gt; was removed.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;    &lt;span class=&quot;token comment&quot;&gt;# Patch _SERVICES attribute and update_hits function call&lt;/span&gt;
    &lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@patch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;src.hitcounter2.app._SERVICES&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sentinel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;attribute&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@patch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;src.hitcounter2.app.update_hits&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test_lambda_handler_mocks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                  mock_update_hits&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MagicMock&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# Test setup - Return mocked data&lt;/span&gt;
        mock_update_hits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;return_value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# invoke lambda_handler&lt;/span&gt;
        test_event&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HitCounterEvent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;load_test_event&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;SampleEvent&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        test_response&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HitCounterResponse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; lambda_handler&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            event&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;test_event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# Validate function called with parameter values&lt;/span&gt;
        mock_update_hits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;assert_called_once_with&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;services&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;sentinel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;attribute&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                                 key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;test_event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                                 increment&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;test_event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;increment&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;assertEqual&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;test_response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;count&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Running the Unit Tests&lt;/h2&gt;
&lt;p&gt;Many IDEs and other tools support running Python tests based on &lt;a href=&quot;https://docs.python.org/3/library/unittest.html&quot;&gt;unitest&lt;/a&gt;, including the &lt;a href=&quot;https://coverage.readthedocs.io/en/6.4.2/index.html&quot;&gt;coverage&lt;/a&gt; tool for measuring code coverage.  An example of running this command is below and will provide a &lt;code class=&quot;language-text&quot;&gt;OK&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;FAIL&lt;/code&gt; status, indicating if all the tests pass.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;coverage run &lt;span class=&quot;token parameter variable&quot;&gt;-m&lt;/span&gt; unittest discover&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The status can be used to determine if the code should then be deployed to AWS.  Tests should be run both in your local development environment and as part of your deployment pipeline.  For example, using &lt;a href=&quot;https://aws.amazon.com/codepipeline/&quot;&gt;AWS CodePipeline&lt;/a&gt;, you could run these tests in an &lt;a href=&quot;https://aws.amazon.com/codebuild/&quot;&gt;AWS CodeBuild&lt;/a&gt; stage, which would abort any subsequent deployment steps if the tests did not pass.&lt;/p&gt;
&lt;h2&gt;Local Integration Testing using Test Events&lt;/h2&gt;
&lt;p&gt;The &lt;a href=&quot;https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-sam-cli-install.html&quot;&gt;AWS SAM CLI&lt;/a&gt; makes it easy to create and manage serverless applications.  You can run an integration test with the Lambda function code running in local docker container using the &lt;a href=&quot;https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-cli-command-reference-sam-local-invoke.html&quot;&gt;sam local invoke&lt;/a&gt; command and integrate with a deployed DynamoDB table.  In the example below, &lt;code class=&quot;language-text&quot;&gt;env.json&lt;/code&gt; is an &lt;a href=&quot;https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-sam-cli-using-invoke.html#serverless-sam-cli-using-invoke-environment-file&quot;&gt;environment variable file&lt;/a&gt; containing the value for &lt;code class=&quot;language-text&quot;&gt;DYNAMODB_TABLE_NAME&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;tests/events/SampleEvent.json&lt;/code&gt; is the same JSON file as the unit test.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;sam &lt;span class=&quot;token builtin class-name&quot;&gt;local&lt;/span&gt; invoke &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --env-vars env.json &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;token parameter variable&quot;&gt;--event&lt;/span&gt; tests/events/SampleEvent.json &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  HitCounter2Function &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;a href=&quot;https://aws.amazon.com/cli/&quot;&gt;AWS Command Line Interface&lt;/a&gt; (AWS CLI) has a command to invoke a Lambda function. In the example below, the deployed Lambda function name is specified, the payload uses the same &lt;code class=&quot;language-text&quot;&gt;tests/events/SampleEvent.json&lt;/code&gt; from earlier, and the response is saved to a &lt;code class=&quot;language-text&quot;&gt;SampleResponse.json&lt;/code&gt; file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;aws lambda invoke &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --cli-binary-format raw-in-base64-out &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --function-name stackname-HitCounter2Function-XXXXXXXX &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;token parameter variable&quot;&gt;--payload&lt;/span&gt; file://tests/events/SampleEvent.json &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  SampleResponse.json&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/lambda/latest/dg/testing-functions.html&quot;&gt;Testing Lambda functions from the AWS console&lt;/a&gt; is possible using either private test events or sharable test events. Lambda saves shareable test events as schemas in an &lt;a href=&quot;https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-schema-registry.html&quot;&gt;Amazon EventBridge (CloudWatch Events) schema registry&lt;/a&gt; named &lt;code class=&quot;language-text&quot;&gt;lambda-testevent-schemas&lt;/code&gt;.  Sharable test events can be created either in the console or via a &lt;a href=&quot;https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-eventschemas-schema.html&quot;&gt;AWS::EventSchemas::Schema&lt;/a&gt; CloudFormation resource.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[My First AWS Blog]]></title><description><![CDATA[Posts on this blog have been fewer lately, but today my first official AWS Blog post was published:  Partitioning and Isolating Multi-Tenant…]]></description><link>https://kevinhakanson.com/2022-06-14-my-first-aws-blog/</link><guid isPermaLink="false">https://kevinhakanson.com/2022-06-14-my-first-aws-blog/</guid><pubDate>Tue, 14 Jun 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Posts on this blog have been fewer lately, but today my first official AWS Blog post was published:  &lt;a href=&quot;https://aws.amazon.com/blogs/apn/partitioning-and-isolating-multi-tenant-saas-data-with-amazon-s3/&quot;&gt;Partitioning and Isolating Multi-Tenant SaaS Data with Amazon S3&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[aws-icons-for-plantuml v13.0 Released]]></title><description><![CDATA[Last year with Adding AWS Icons to PlantUML Sequence Diagrams I started making my diagrams look a bit better.  However, the native sprite…]]></description><link>https://kevinhakanson.com/2022-06-06-aws-icons-for-plantuml-v130-released/</link><guid isPermaLink="false">https://kevinhakanson.com/2022-06-06-aws-icons-for-plantuml-v130-released/</guid><pubDate>Mon, 06 Jun 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Last year with &lt;a href=&quot;/2021-08-12-adding-aws-icons-to-plantuml-sequence-diagrams&quot;&gt;Adding AWS Icons to PlantUML Sequence Diagrams&lt;/a&gt; I started making my diagrams look a bit better.  However, the native sprite format looked somewhat washed out to me.&lt;/p&gt;
&lt;p&gt;My investigations resulted in some Python coding and deeper understanding of the &lt;a href=&quot;https://plantuml.com/sequence-diagram&quot;&gt;PlantUML syntax&lt;/a&gt;, which resulted in using PNG icons with full color fidelity.  This was included in &lt;a href=&quot;https://github.com/awslabs/aws-icons-for-plantuml/releases/tag/v13.0&quot;&gt;Release 13.0&lt;/a&gt; and now I’m a maintainer on another open-source project.&lt;/p&gt;
&lt;p&gt;Here is an example of what they look like:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5feead418cb412fe29dddfe006c2d12b/a1dd2/SequenceDiagram.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIUlEQVR42l2S2Y7TMBSG+2q8BuIZeIK5QLwBEhdIc8F2M3eMQEJim06lKdOkJWmaZo/txFnaNKFVmmZ1Fpy2IDG/ZClW/J3//McedF1HSBVu1q6FXBv9DoPN2lMlYc5NbQSicLPyUOCDle9GYVCVZX++qpqmoR+Dum5qUpGG4It30fOrtutirKxfPsp/vSrqjpSHLzfw8gpE211Dyv0uijYb24LBenWId4OiKGtC9ul+efHaePb+UFcRkPUXj4Px2ySvuq69fGM/eYqyoiVVVhUZPS9KWpwc2qYexHFc5DkwNNM2IUbYAg5GwMIQId+xVr4jicZ0qnmu4zkWKfOmrsMwLIuia+tBmqYYY3Y25e5ZXZQN09Q1DQAIAQCmSZdtQ4z7rWmaeZ7RqE1Dw/Ua0FXkBcCWNJxMrr/OBJ5lp8KMAYYOIYIQ6rqhqpphGLRaQQ17uGnb9j9YHjHykEGODS1HHF4r3L1uAlVVZkfxPK8oSpIkVVXlefHQWb5lpJsJciyA7OXok8ozugm1o6gt7VnX9SQ50MthZnwQBLTQQxj2MBZvP2pz1kQWZVRVlY+iJbKszzy6m2y3W0LIGYaOLY9Y2jYdOHVe/PjA/xwKoiQIAsdxkiSd/ClM02ZZfm6736SpjoD4fcx9HnKiwM2FxfibuuBoZtrqCQPnafdY0/6dNnWnV93/XKpwqbm+72DXcVzX9f7JPcsrj8/z9Da7rvsDV6d+jnq4e3IAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Sequence Diagram&quot;
        title=&quot;&quot;
        src=&quot;/static/5feead418cb412fe29dddfe006c2d12b/fcda8/SequenceDiagram.png&quot;
        srcset=&quot;/static/5feead418cb412fe29dddfe006c2d12b/12f09/SequenceDiagram.png 148w,
/static/5feead418cb412fe29dddfe006c2d12b/e4a3f/SequenceDiagram.png 295w,
/static/5feead418cb412fe29dddfe006c2d12b/fcda8/SequenceDiagram.png 590w,
/static/5feead418cb412fe29dddfe006c2d12b/a1dd2/SequenceDiagram.png 838w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Python Typings for AWS Lambda Function Events]]></title><description><![CDATA[I was building a Python-based AWS Lambda function similar to what was announced by New – Use Amazon S3 Event Notifications with Amazon…]]></description><link>https://kevinhakanson.com/2022-04-10-python-typings-for-aws-lambda-function-events/</link><guid isPermaLink="false">https://kevinhakanson.com/2022-04-10-python-typings-for-aws-lambda-function-events/</guid><pubDate>Sun, 10 Apr 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was building a Python-based AWS Lambda function similar to what was announced by &lt;a href=&quot;https://aws.amazon.com/blogs/aws/new-use-amazon-s3-event-notifications-with-amazon-eventbridge/&quot;&gt;New – Use Amazon S3 Event Notifications with Amazon EventBridge&lt;/a&gt; and the code looked similar to this - full of “magic strings” that I had to discover.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; boto3

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    bucket &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;detail&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;bucket&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;name&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    file_key &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;detail&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;object&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;key&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

    s3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;s3&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    file_to_process &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; s3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_object&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Bucket&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;bucket&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;file_key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Python has a module called &lt;a href=&quot;https://docs.python.org/3/library/typing.html&quot;&gt;typing&lt;/a&gt; that provides support for type hints, which make for a nice autocomplete experience in Visual Studio Code.  I started googling for some options and first found &lt;a href=&quot;https://pypi.org/project/aws-lambda-typing/&quot;&gt;AWS Lambda Typing&lt;/a&gt; and it’s &lt;a href=&quot;https://github.com/MousaZeidBaker/aws-lambda-typing/blob/master/src/aws_lambda_typing/events/s3.py&quot;&gt;events/s3.py&lt;/a&gt; uses TypedDict from typing.&lt;/p&gt;
&lt;p&gt;Here is the same code using those type definitions - still “magic strings” but they autocomplete.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; aws_lambda_typing &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; context &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; context_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; events
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; aws_lambda_typing&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;s3 &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; S3

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; events&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;EventBridgeEvent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; context_&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    event_detail&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; S3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; S3&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;detail&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    bucket &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event_detail&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;bucket&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;name&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    file_key &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event_detail&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;object&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;key&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

    s3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;s3&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    file_to_process &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; s3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_object&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Bucket&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;bucket&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;file_key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next I found that &lt;a href=&quot;https://awslabs.github.io/aws-lambda-powertools-python/latest/&quot;&gt;Lambda Powertools Python&lt;/a&gt; has &lt;a href=&quot;https://awslabs.github.io/aws-lambda-powertools-python/latest/utilities/data_classes/&quot;&gt;Event Source Data Classes&lt;/a&gt; and it’s &lt;a href=&quot;https://github.com/awslabs/aws-lambda-powertools-python/blob/develop/aws_lambda_powertools/utilities/data_classes/s3_event.py&quot;&gt;s3_event.py&lt;/a&gt; uses custom &lt;a href=&quot;https://github.com/awslabs/aws-lambda-powertools-python/blob/develop/aws_lambda_powertools/utilities/data_classes/common.py&quot;&gt;DictWrapper&lt;/a&gt; class which “Provides a single read only access to a wrapper dict.”&lt;/p&gt;
&lt;p&gt;Here is the same code using those type definitions - less “magic strings” and some properties.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; boto3
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; aws_lambda_powertools&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;utilities&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;typing &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; LambdaContext
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; aws_lambda_powertools&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;utilities&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data_classes &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; event_source&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; EventBridgeEvent
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; aws_lambda_powertools&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;utilities&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data_classes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;s3_event &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; S3Message

&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@event_source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data_class&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;EventBridgeEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; EventBridgeEvent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; LambdaContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# can use either event[&apos;detail&apos;] or event.detail&lt;/span&gt;
    event_detail&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; S3Message &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; S3Message&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;detail&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    bucket &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event_detail&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bucket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name
    file_key &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event_detail&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key

    s3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;s3&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    file_to_process &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; s3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_object&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Bucket&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;bucket&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;file_key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[aws-jwt-verify v3.0.0 Released]]></title><description><![CDATA[What started as pull request #60, escalated to becoming a maintainer on aws-jwt-verify and releasing v3.0.0. AWS JWT Verify is a JavaScript…]]></description><link>https://kevinhakanson.com/2022-03-29-aws-jwt-verify-v300-released/</link><guid isPermaLink="false">https://kevinhakanson.com/2022-03-29-aws-jwt-verify-v300-released/</guid><pubDate>Tue, 29 Mar 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;What started as &lt;a href=&quot;https://github.com/awslabs/aws-jwt-verify/pull/60&quot;&gt;pull request #60&lt;/a&gt;, escalated to becoming a maintainer on &lt;a href=&quot;https://github.com/awslabs/aws-jwt-verify&quot;&gt;aws-jwt-verify&lt;/a&gt; and releasing &lt;a href=&quot;https://github.com/awslabs/aws-jwt-verify/releases/tag/v3.0.0&quot;&gt;v3.0.0&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;AWS JWT Verify is a JavaScript library for verifying JWTs signed by Amazon Cognito, and any OIDC-compatible IDP that signs JWTs with RS256 / RS384 / RS512.  I wanted to add web browser compatibility for a project I was working on.  It was a nice return to using the Web Cryptography API as I had done in various &lt;a href=&quot;/presentations&quot;&gt;presentations&lt;/a&gt; over the years.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Fun with Emoji ZWJ Sequences]]></title><description><![CDATA[Today I learned about Emoji ZWJ Sequences and what it takes to create the “man technologist: light skin tone” emoji I often set in my slack…]]></description><link>https://kevinhakanson.com/2022-02-09-fun-with-emoji-zwj-sequences/</link><guid isPermaLink="false">https://kevinhakanson.com/2022-02-09-fun-with-emoji-zwj-sequences/</guid><pubDate>Wed, 09 Feb 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Today I learned about &lt;a href=&quot;https://unicode.org/emoji/charts/emoji-zwj-sequences.html&quot;&gt;Emoji ZWJ Sequences&lt;/a&gt; and what it takes to create the “man technologist: light skin tone” emoji I often set in my slack status.  This is actually multiple unicode characters “smashed” together using a Zero Width Joiner (ZWJ) sequence.&lt;/p&gt;
&lt;p&gt;Since I am authoring this post on Windows, I used that emoji keyboard by typing Windows logo key + . (period) and selecting the emoji.  I then used the JavaScript &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax&quot;&gt;Spread syntax (…)&lt;/a&gt; to expand the characters involved.   Hopefully the JavaScript snippet below renders the character.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;👨🏻‍💻&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To make sure all these characters are visible, I took a screenshot on the Firefox developer tools console.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 520px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b9047adbb31770aba4c6426f2da7a343/69902/firefox-console.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABb0lEQVR42p2Sy07DMBRE+x/QlNhJ/HbikjRu01AQFMEGhIRA8BP8/2q4DrCjRWJxZcuPc2fGni2XHfp+gDE1sozh8eUJw26EUQ6clcjOxFRFITDPOOYLDs4FclaB0cjS+F1pfaa1hyWYdQHS93DtiDr0KIVHXnpslxq71iBbCFwNIy43W7BcwIoaotDQykJLh0rW1FQloIO1AS5E2HaHerhDdx5xs7F06ByXK4n94HCWa1xvR9yMO7qoYQmgCORJiNM1Kh1QlBqzPC9oYiDMkixWUM0atdT4eCel0uMkI9uLarJ8Omdkm4EXyXL5u2XOK7JnoXw3dZB+hcYEvD08Q1QGaT/B0uGikFOl+aGaJVVlZSFdAiroJsKUlAlXKNNlJo4C/gDqCShoY7WKULTO+D+BioCMcvFxj/b2FfXmHtJSBE7Tq37l85PTMdsTMCkzpMy7Bk1oEdcXiHGLPg6kdA0pLULo0HVr+hENvA8HoZ+gagwSXsAXGgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Firefox dev tools console&quot;
        title=&quot;&quot;
        src=&quot;/static/b9047adbb31770aba4c6426f2da7a343/69902/firefox-console.png&quot;
        srcset=&quot;/static/b9047adbb31770aba4c6426f2da7a343/12f09/firefox-console.png 148w,
/static/b9047adbb31770aba4c6426f2da7a343/e4a3f/firefox-console.png 295w,
/static/b9047adbb31770aba4c6426f2da7a343/69902/firefox-console.png 520w&quot;
        sizes=&quot;(max-width: 520px) 100vw, 520px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I didn’t research all the technical details on how these ZWJ sequences work, but I’m sure someone has blogged about it.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[The #1 Search Result on Google]]></title><description><![CDATA[After I received my “Your December Search performance for kevinhakanson.com” email, I took a look at Search Console Insights.  I have a #…]]></description><link>https://kevinhakanson.com/2021-12-07-the-1-search-result-on-google/</link><guid isPermaLink="false">https://kevinhakanson.com/2021-12-07-the-1-search-result-on-google/</guid><pubDate>Tue, 07 Dec 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;After I received my “Your December Search performance for kevinhakanson.com” email, I took a look at Search Console Insights.  I have a #1 position search result on Google for my &lt;a href=&quot;/2017-08-08-the-frozen-caveman-antipattern&quot;&gt;The Frozen Caveman Antipattern&lt;/a&gt; blog.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b669797f9dbabb090a4988702b830be7/1ef88/search-console-insights.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.75675675675676%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHcatJKF//EABgQAAIDAAAAAAAAAAAAAAAAAAABEBEx/9oACAEBAAEFAhFIex//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAcEAACAAcAAAAAAAAAAAAAAAAAAREgITFBUZH/2gAIAQEAAT8hd8dICs3uQ//aAAwDAQACAAMAAAAQdA//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPxCn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFBgZHB/9oACAEBAAE/EKix2rLtOeQblRDKtb21XwifBArUdz//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;frozen caveman antipattern has average position 1&quot;
        title=&quot;&quot;
        src=&quot;/static/b669797f9dbabb090a4988702b830be7/1c72d/search-console-insights.jpg&quot;
        srcset=&quot;/static/b669797f9dbabb090a4988702b830be7/a80bd/search-console-insights.jpg 148w,
/static/b669797f9dbabb090a4988702b830be7/1c91a/search-console-insights.jpg 295w,
/static/b669797f9dbabb090a4988702b830be7/1c72d/search-console-insights.jpg 590w,
/static/b669797f9dbabb090a4988702b830be7/a8a14/search-console-insights.jpg 885w,
/static/b669797f9dbabb090a4988702b830be7/fbd2c/search-console-insights.jpg 1180w,
/static/b669797f9dbabb090a4988702b830be7/1ef88/search-console-insights.jpg 1242w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Since this was fun for me to see, I shared with my family and almost immediately got this message from my daughter.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“Anything can be #1 if the search criteria is specific enough”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Funny and true.  I was glad to see her use &lt;a href=&quot;https://en.wikipedia.org/wiki/Digital_literacy&quot;&gt;digital literacy&lt;/a&gt; skills to “assess and critically evaluate information.”&lt;/p&gt;</content:encoded></item><item><title><![CDATA[The Mystery of the 100 Mbps Internet Speed]]></title><description><![CDATA[My current workstation setup includes a ThinkVision P27h-20 Flat Panel Monitor which offers a “full-functioned USB Type-C one cable solution…]]></description><link>https://kevinhakanson.com/2021-09-24-the-mystery-of-the-100-mbps-internet-speed/</link><guid isPermaLink="false">https://kevinhakanson.com/2021-09-24-the-mystery-of-the-100-mbps-internet-speed/</guid><pubDate>Fri, 24 Sep 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;My current workstation setup includes a &lt;a href=&quot;https://support.lenovo.com/us/en/solutions/pd500392-thinkvision-p27h-20-flat-panel-monitor-overview&quot;&gt;ThinkVision P27h-20 Flat Panel Monitor&lt;/a&gt; which offers a “full-functioned USB Type-C one cable solution with the capability to deliver up to 90W power delivery and an Ethernet signal.” There are a lot of devices on my Wi-Fi, so I often choose to “hard-wire” with a Cat6 cable.&lt;/p&gt;
&lt;p&gt;During some recent network issues, I decide to visit &lt;a href=&quot;https://fast.com/&quot;&gt;fast.com&lt;/a&gt; to check my internet speed. My current plan is rated at 300 Mbps downstream and I often get faster speeds reported. I was surprised to see the result below of exactly 100 Mbps.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 281px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/671549c007510707cf35e5b222706b12/6b1e2/internet-speed-100Mbps.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.54054054054055%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACBklEQVR42p1SXU8aURDlr5n+DJPGhIpU+mqxpu8GsZoojWwJNaVgsfSpD7Q2NFYFRUyQgoJYUr4JbIl8NGzdsrun904XI1FJ00k2d87M3jPnTK4BI0K7vMSv90G0hZfoLDug1Bt6Q7vzjuHWqqrS0Q99Ab4XcBAMojFpgeJ583+Emk549uEjkrEYPm1tYfdtAKebAUBRRpm6nVDVCbfDYdjsdjgcDghuN8JHR0P9kYSabqPX66FcKqHZbKJWrVKez+fpFBsNVMplVFm90+ncTcgnXieMx+MoFAo4SaUQ3tvD10QCxWIRh9EoPodCSCWTqFQqQ0JuKEwcH0OSJMq/nZ/D6/GQKh5lpuo1w7lcjnCr1cIPUUS/32crVYZWYOAThLU13BsbgyzLqNfreGA0YsPnw6PpaSI1T03Bx7HFgkw6jcczMzBPmvBqfR1Odtftcg0T7kciuD8+ToV3gQCeLS5SbrfZYGWX7QsLV3jT70etVkM2m8X+QQSx6CEymfSVdbLMpfPpvOjzevHC6aQmn26cmIBLEAg/X12Ff+PvW7yQLiD+FKFCvblDbvWhyYTf7Nzd2cHTuTlqPrFa4WeKuEXCs7Pkhke2dIbT3Akkle2dcWq4ppAvdnlpCd1ul4q2+XmY2QBBV+pYWaGB/J9ByKoMSZH+8WGzAe12m1Yw+Dge9aAHhH8AagOrHOoCRZIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Your internet speed is 100 Mbps&quot;
        title=&quot;&quot;
        src=&quot;/static/671549c007510707cf35e5b222706b12/6b1e2/internet-speed-100Mbps.png&quot;
        srcset=&quot;/static/671549c007510707cf35e5b222706b12/12f09/internet-speed-100Mbps.png 148w,
/static/671549c007510707cf35e5b222706b12/6b1e2/internet-speed-100Mbps.png 281w&quot;
        sizes=&quot;(max-width: 281px) 100vw, 281px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The LED light on the corresponding router port indicated a &lt;a href=&quot;https://en.wikipedia.org/wiki/Gigabit_Ethernet&quot;&gt;Gigabit Ethernet&lt;/a&gt; (GbE) connection - not the slower &lt;a href=&quot;https://en.wikipedia.org/wiki/Fast_Ethernet&quot;&gt;Fast Ethernet&lt;/a&gt; (FE) which would match that 100 Mbit/s rate.  My best guess (after some internet searches) is that integrated USB 2.1 Hub with its “Up to 480 Mb/s” speed is the limiting factor.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 409px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a32a2d28100fb25b524391db00b9e25d/7a75e/usb-bus-hardware.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 87.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACf0lEQVR42pVUTW/aQBD1PWqPFRhjbONvDC5JAAPh+yOAY0MpraKEKKISl6jqqVLbe5VUVf/z685GrlCUonB4mrW9+97M7BsLrm2j1+kgnE4RzmbosvXbUgmVkxPYpgnHsg6CYOo6PNdFq9nEZDzGBSM9Z5HWQbXKSQ8BJ6SFZRjottuYsUyJbB5FGA2HGA4G8ItFJPteQMgWls0ebFQrVcSMKI5ijEdj1IM6atUa/JIPQzdgmRbftw+Crcnw8hIKugQzl8agVcO7cIRw1MF8OkC/eYpjNw9Pz6JoyijQ3j0QcoU2MsfvIZdjNGafEN1+w8X6K+Lb75hvfqAR3aES3iGIPqMx/wIt+AjRjyGVF89CeHN6i6PeH6TH9/A//IY1f4C/+sVjYfkA8fweR62feNV5xOvu/V4IpirBVdOwlTQMOcXLJliKCFvNwNEycA+AoFGzHQ82wX2EZRdgWg4UTYei6si9AIpmcAjlchmTyQRjZpUps8yM+XDArNJqtSBJEmRZ5jFBJpPh2H2XvKe9gqqqqNfrODs7g+/7SKVSEEWRb8hms8jn8+j1euh2uzDJr2waKBrMt0nUmUcp5nI5Zhs2epvNBldXV6hUKlxFURQOUqZDNzc3iGPmgkaDk5P4Lmq1Go90RqADETNzv99HEAQosTkmIlKjDEl9yCaG2tFhc06ZUAW7oGoo8pIdx8F2u8VqteJluWyu6SORJRleX19jvV5zYspQ0zR+mER3wQlJkTbSpdBleJ7Hs0gyoRiGIf9GJVMF1HcSJIKn4CVT/y4vL3kvk34uFgveExJYLpf8cpL+Pkf0j5B6RMpkEyqZ+kS3nuCE/RdJ9H8ZPSX8Czs1EPTnPZWPAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;USB 10/100/1000 LAN&quot;
        title=&quot;&quot;
        src=&quot;/static/a32a2d28100fb25b524391db00b9e25d/7a75e/usb-bus-hardware.png&quot;
        srcset=&quot;/static/a32a2d28100fb25b524391db00b9e25d/12f09/usb-bus-hardware.png 148w,
/static/a32a2d28100fb25b524391db00b9e25d/e4a3f/usb-bus-hardware.png 295w,
/static/a32a2d28100fb25b524391db00b9e25d/7a75e/usb-bus-hardware.png 409w&quot;
        sizes=&quot;(max-width: 409px) 100vw, 409px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;How did this hardware get designed with a USB C 3.1 interface on one side, a USB 10/100/1000 LAN on the other, but put a limiting USB 2.1 Hub in the middle?  Needless to say, I switched to a wireless connection.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Adding AWS Icons to PlantUML Sequence Diagrams]]></title><description><![CDATA[I’ve blogged about UML Sequence Diagrams using PlantUML before, but now my Sequence Diagrams are more beautiful after using the AWS Icons…]]></description><link>https://kevinhakanson.com/2021-08-12-adding-aws-icons-to-plantuml-sequence-diagrams/</link><guid isPermaLink="false">https://kevinhakanson.com/2021-08-12-adding-aws-icons-to-plantuml-sequence-diagrams/</guid><pubDate>Thu, 12 Aug 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I’ve blogged about &lt;a href=&quot;/2019-06-09-uml-sequence-diagrams-using-plantuml&quot;&gt;UML Sequence Diagrams using PlantUML&lt;/a&gt; before, but now my Sequence Diagrams are more beautiful after using the &lt;a href=&quot;https://github.com/awslabs/aws-icons-for-plantuml&quot;&gt;AWS Icons for PlantUML&lt;/a&gt; and reading the &lt;a href=&quot;https://plantuml-documentation.readthedocs.io/en/latest/diagrams/sequence.html&quot;&gt;PlantUML Sequence Diagram docs&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Let’s start with a basic PlantUML sequence diagram.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;@startuml

actor &quot;Client&quot; as c
participant &quot;API Gateway&quot; as api
participant &quot;Lambda Function&quot; as f

c-&gt;api: request
activate api
api-&gt;api: Method Request &amp;amp; Integration Request
api-&gt;&gt;f: invoke
api&amp;lt;&amp;lt;--f: 
api-&gt;api: Integration Response &amp;amp; Method Response
c&amp;lt;&amp;lt;--api: response
deactivate api

@enduml&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 476px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/40d4675d2ec2af21d11c3029a7c81144/f2205/Basic.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 79.05405405405406%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAElEQVR42p1S2W7bMBDU/39N0cIB2jR5KNDEbVNYjq8YlmVX1kVZF0VK4ilnddgF3OSlg8VqSO5wuKSMKvCi1fwEaJpTj/P3Cs0/i0a2dXY/J8A0041o2pDNm9JhlZ9DNgYJj/gQldH+6HxLvMc0eAg3P5TUV5aK1+n+IQnGif+Y+mMcjePdxEBhmGU5jRx7+XU7v18+jVa/7qRUXR8DOjHbTu7W5mfr+XYzvbVmX7bT78ZJ6TRAoRvQhPCENM07HZ+huNJCQRWE0Shd4YLgQtAyt5wg8NM0jeMYclEUPc/zHEiSxDWrG6m0lP25QKwg+l3zvev8nmMfYYxBUJZlQQjIKKVAYIZzDmaX+tZZS9WfFoPxzjmGSAnZ7qw1xEDa3BJVMZBcxH+dseOnfzyOqcBUFqUiJWSJS9XmbqaoGEq1vDiD7XmAD+Fhu3OdQxRFAXQf+EmSeB3CMPR8H0UIGjjp4VIN3V7AuefdAc3WVZwpBc3oSx6IlO1IiOZyYfBUNM5cxw09dLRcVtbvvlLnN5j1T5XGSZFhFvtFYOauSdEsd1+00ldCLTjx5+S4IGhG0LxKlkWwMWLbckyTINtefrSXN+vnD6vxjRTq+vdk9d4cWYtP9mIEZfuXkWXeG9Cn8zSFZUYqXjJOmaj5m2cWFW8LumC0FkwYNErzQ3j6L7wCVp+SldaMFN8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Basic Sequence Diagram&quot;
        title=&quot;&quot;
        src=&quot;/static/40d4675d2ec2af21d11c3029a7c81144/f2205/Basic.png&quot;
        srcset=&quot;/static/40d4675d2ec2af21d11c3029a7c81144/12f09/Basic.png 148w,
/static/40d4675d2ec2af21d11c3029a7c81144/e4a3f/Basic.png 295w,
/static/40d4675d2ec2af21d11c3029a7c81144/f2205/Basic.png 476w&quot;
        sizes=&quot;(max-width: 476px) 100vw, 476px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let’s modify that first paragraph to include some definitions for AWS Icons for our participants.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v10.0/dist
!includeurl AWSPuml/AWSCommon.puml
!includeurl AWSPuml/Compute/Lambda.puml
!includeurl AWSPuml/ApplicationIntegration/APIGateway.puml

actor &quot;Client&quot; as c
APIGatewayParticipant(api, &quot;API Gateway&quot;, )
LambdaParticipant(f, &quot;Lambda Function&quot;,)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 467px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5b6fe82a404e55850e8cddc54592871c/85ff8/AWS_Icons.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 87.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnUlEQVR42oVTWU8UQRCef200JhrjGzHx0XgFZEUf1UAIUQ4BkQAKhGtgZ2bn2Ln6mvvq7umxdxdQA8ZKTafn6/q6q77uUmoInb0dBoZgZj549iH+sg3RMHB0FDg4GKTuUXHwKdmcyfc/CponJPAdHYdO22RJaCgVINbPYzo07UfvrftzoLcWJpGhGxd93XMdPNiLVl7gxafR6qswCE3LMU3Lth2EcGifKxnExA2pbdiPe4O7r8O3K13XNVXJGWV1hvSdeH0azk9F3+ZaVnedqMqi5bQTHDiqQjCW27Acg9NDcHKI9TPiG9jTsW8A55z4GrGPgfYDmkcSRK5GggH2deTp0DOUrhVZFAMIi6riXZfnRYGT7jYTQrQNHc8uEUXwllYN54xz3ratHKFhecNhFEUIQelZlo3DR9y2aSbzkQuhSKRl7HpvOQaaOdCNEADJxxinafr7ZMr+zGVEFoz/Re6boR/UdX1L2jfJ19CEDAw78PyiKJr60qqxJXHSFNUk7p9kaNgIwDzP47HJtMuylEucMV7T/5wMB/a5qrquG4ZhEARJkrCxKOO0b5A5pVJpTuXXSshVNQwR4624Sm9yPTdqHqktyrwgEYmLmLWsEy2xHdZItbgQTMZfVSj/6raWNUuECd7ISAUBAAEQCUi/bsdLG/nBUUqGKXLyyMuxU8J+Y2yVp0v14HvH0joJYmjLpY4mBRkqhe9rW5u1ZVoP35n3euHsqhX66pl6fHImr3vSGGjhCVl+LiXQZMNc9PuaDhEOLFWpIHH2T2VXOQ965p1pMDtqjKooKWW0KbGxm6y9xPNTycYb2Srd6P3mUj9ZCXT7SpNkqQ8p8fzPq97iMtjdzWI3RXaGh8TvI+swUtfh/gJWNyR47RmyQ/vsF7XMsYjQGGFaAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Sequence Diagram with AWS Icons&quot;
        title=&quot;&quot;
        src=&quot;/static/5b6fe82a404e55850e8cddc54592871c/85ff8/AWS_Icons.png&quot;
        srcset=&quot;/static/5b6fe82a404e55850e8cddc54592871c/12f09/AWS_Icons.png 148w,
/static/5b6fe82a404e55850e8cddc54592871c/e4a3f/AWS_Icons.png 295w,
/static/5b6fe82a404e55850e8cddc54592871c/85ff8/AWS_Icons.png 467w&quot;
        sizes=&quot;(max-width: 467px) 100vw, 467px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;That looks better, but I really like the icons only on top and more AWS orange in the diagram.  I create a separate &lt;code class=&quot;language-text&quot;&gt;aws.puml&lt;/code&gt; file for my definitions and settings so it could be reused across multiple diagrams.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v10.0/dist
!includeurl AWSPuml/AWSCommon.puml
!includeurl AWSPuml/Compute/Lambda.puml
!includeurl AWSPuml/ApplicationIntegration/APIGateway.puml

&apos;Comment out to use default PlantUML sequence formatting
skinparam participant {
    BackgroundColor AWS_BG_COLOR
    BorderColor AWS_BORDER_COLOR
}

skinparam actor {
    BackgroundColor AWS_BORDER_COLOR 
    BorderColor AWS_COLOR 
}

skinparam sequence { 
    ArrowThickness 2
    LifeLineBorderColor AWS_COLOR
    LifeLineBackgroundColor AWS_BORDER_COLOR
}

skinparam shadowing false
skinparam MaxMessageSize 400

&apos;Hide the bottom boxes
hide footbox

!definelong CustomLambdaParticipant(p_label, p_alias)
participant &quot;&amp;lt;color:#D86613&gt;&amp;lt;$Lambda&gt;&amp;lt;/color&gt;\np_label&quot; as p_alias
!enddefinelong

!definelong CustomAPIGatewayParticipant(p_label, p_alias)
participant &quot;&amp;lt;color:#CC2264&gt;&amp;lt;$APIGateway&gt;&amp;lt;/color&gt;\np_label&quot; as p_alias
!enddefinelong&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let’s modify that first paragraph again to include our &lt;code class=&quot;language-text&quot;&gt;aws.puml&lt;/code&gt; and use our newly defined custom AWS participants.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;!include aws.puml

actor &quot;Client&quot; as c
CustomAPIGatewayParticipant(&quot;API Gateway\n&quot;, api)
CustomLambdaParticipant(&quot;Lambda\nFunction&quot;, f)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 418px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/282b6fcfac56424c0192dbd92bede57c/d7398/AWS_Icons_Customized.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6UlEQVR42o1R32/TMBDO370XENIkpGkP/HzdhNjQxAsPjK4bQpMKWod4gYkWwdYmbRKnSZ3ESRo7tpPjkoyu06jgk3zxfc7n7+5sAECFC2QxGvovjvydw+hdD/is5qrmZBWV5MPj9PNBcrYvrb6hi4xe9QH04ttgvLFn3X/lPn0LRfh3MWj2cXfefea/ebi46Bgs9L50dwBKfjGYbLx07u3Nnh+uF6vsfJ8dP2Hdx1iCkS34yKZ4pT/8/vP16eXBh1H3rEjIXXGdVCL+dT7pd6x+h5OBQSm1rKnkiUi9XBa5zNMFU6m7/P+WWOdzzzKnjmW7nBEjSRJKQy05iLkWTPMYBIUiaoxvUCdIlUpnM85ckZAyDwzkojCaTCYO8V3HTqm9ptuVvpVG4MYoy1IIoaTUFaTeD7e3HdCYzoOoAdaFMQxDjHEc40Zwrmu1QodaLJVqO1KxeXn04Mq0Pa8eGF6Pp7pB2aA1bIzLa+elWEZj0tsmPvqEUspiDbCEm7JXnMfjk82AMhRHt4GCNuLXcRws/I9YyqWzfbrl+eE8CLBb1iDLMoyobFPkc85RddfZNN9vWlNCiIu8UjhH2fasGmB6TbZifD+8juJ8KQvMr+TTI1UBjua/ngoXFsNriEWWFlkE/0I7ewD4DeBaUR6lZtH8AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Sequence Diagram with customized AWS Icons&quot;
        title=&quot;&quot;
        src=&quot;/static/282b6fcfac56424c0192dbd92bede57c/d7398/AWS_Icons_Customized.png&quot;
        srcset=&quot;/static/282b6fcfac56424c0192dbd92bede57c/12f09/AWS_Icons_Customized.png 148w,
/static/282b6fcfac56424c0192dbd92bede57c/e4a3f/AWS_Icons_Customized.png 295w,
/static/282b6fcfac56424c0192dbd92bede57c/d7398/AWS_Icons_Customized.png 418w&quot;
        sizes=&quot;(max-width: 418px) 100vw, 418px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I think this looks a lot nicer, not only because of the icons and color, but by hiding the footer, thickening the arrows, and removing shadowing.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[My first C# AWS Lambda Function]]></title><description><![CDATA[Here it is - my very first AWS Lambda Function coded in C#. You can probably guess I didn’t write that code, but generated it from a…]]></description><link>https://kevinhakanson.com/2021-07-29-my-first-c-aws-lambda-function/</link><guid isPermaLink="false">https://kevinhakanson.com/2021-07-29-my-first-c-aws-lambda-function/</guid><pubDate>Thu, 29 Jul 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Here it is - my very first AWS Lambda Function coded in C#.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;csharp&quot;&gt;&lt;pre class=&quot;language-csharp&quot;&gt;&lt;code class=&quot;language-csharp&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;System&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Collections&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Generic&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;System&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Linq&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;System&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Net&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;System&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Threading&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Tasks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;Amazon&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Lambda&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Core&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;Amazon&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Lambda&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;APIGatewayEvents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Assembly attribute to enable the Lambda function&apos;s JSON input to be converted into a .NET class.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token attribute&quot;&gt;&lt;span class=&quot;token target keyword&quot;&gt;assembly&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LambdaSerializer&lt;/span&gt;&lt;span class=&quot;token attribute-arguments&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token type-expression class-name&quot;&gt;Amazon&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Lambda&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Serialization&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;SystemTextJson&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DefaultLambdaJsonSerializer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;MyFirstCsharpLambda&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Functions&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// &amp;lt;summary&gt;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// Default constructor that Lambda will invoke.&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// &amp;lt;/summary&gt;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Functions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;


        &lt;span class=&quot;token comment&quot;&gt;/// &amp;lt;summary&gt;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// A Lambda function to respond to HTTP Get methods from API Gateway&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// &amp;lt;/summary&gt;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// &amp;lt;param name=&quot;request&quot;&gt;&amp;lt;/param&gt;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// &amp;lt;returns&gt;The API Gateway response.&amp;lt;/returns&gt;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token return-type class-name&quot;&gt;APIGatewayProxyResponse&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;APIGatewayProxyRequest&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ILambdaContext&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;LogLine&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Get Request\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt;&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token constructor-invocation class-name&quot;&gt;APIGatewayProxyResponse&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                StatusCode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;HttpStatusCode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;OK&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                Body &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hello AWS Serverless&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                Headers &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token constructor-invocation class-name&quot;&gt;Dictionary&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;text/plain&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can probably guess I didn’t write that code, but generated it from a template.  There is &lt;a href=&quot;https://docs.aws.amazon.com/lambda/latest/dg/csharp-package-cli.html&quot;&gt;.NET Core CLI&lt;/a&gt; support for creating .NET-based Lambda applications.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ dotnet tool &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-g&lt;/span&gt; Amazon.Lambda.Tools
$ dotnet new &lt;span class=&quot;token parameter variable&quot;&gt;-i&lt;/span&gt; Amazon.Lambda.Templates
$ dotnet new serverless.EmptyServerless &lt;span class=&quot;token parameter variable&quot;&gt;--name&lt;/span&gt; MyFirstCsharpLambda&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Most of my Lambda functions have been JavaScript/Node.js where I am processing the fields on a loosely types &lt;code class=&quot;language-text&quot;&gt;event&lt;/code&gt; object, so it was nice to see the &lt;code class=&quot;language-text&quot;&gt;LambdaSerializer&lt;/code&gt; helps create strongly typed &lt;code class=&quot;language-text&quot;&gt;APIGatewayProxyRequest&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;APIGatewayProxyResponse&lt;/code&gt; objects to understand the event payload.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;csharp&quot;&gt;&lt;pre class=&quot;language-csharp&quot;&gt;&lt;code class=&quot;language-csharp&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token return-type class-name&quot;&gt;APIGatewayProxyResponse&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;APIGatewayProxyRequest&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ILambdaContext&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I used to code C# using Visual Studio on Windows Desktop and run under IIS on Windows Server, and now my C# development uses Visual Studio Code on macOS and runs on AWS Lambda on Linux.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS CloudFormation Linter Custom Rules]]></title><description><![CDATA[While diving deep on AWS CloudFormation Linter (cfn-lint), I discovered Custom Rules support. The linter supports the creation of custom one…]]></description><link>https://kevinhakanson.com/2021-06-30-aws-cloudformation-linter-custom-rules/</link><guid isPermaLink="false">https://kevinhakanson.com/2021-06-30-aws-cloudformation-linter-custom-rules/</guid><pubDate>Wed, 30 Jun 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;While diving deep on &lt;a href=&quot;https://github.com/aws-cloudformation/cfn-lint&quot;&gt;AWS CloudFormation Linter&lt;/a&gt; (cfn-lint), I discovered &lt;a href=&quot;https://github.com/aws-cloudformation/cfn-lint/blob/main/docs/custom_rules.md&quot;&gt;Custom Rules&lt;/a&gt; support.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The linter supports the creation of custom one-line rules which compare any resource with a property using pre-defined operators.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;To give it a try, I created a simple rule that enforced a naming standard for my Python Lambda functions by creating &lt;code class=&quot;language-text&quot;&gt;cfn_custom_rules.txt&lt;/code&gt; containing my custom rule.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;AWS::Lambda::Function Handler EQUALS &quot;app.lambda_handler&quot; WARN &quot;Lambda function handler should be app.lambda_handler&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then when I run &lt;code class=&quot;language-text&quot;&gt;cfn-lint&lt;/code&gt;, I can include evaluation of this custom rule file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ cfn-lint template.yaml --custom-rules cfn_custom_rules.txt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Of course, I need this in my &lt;code class=&quot;language-text&quot;&gt;buildspec.yml&lt;/code&gt; so AWS CodePipeline and AWS CodeBuild would enforce this.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;pre_build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;commands&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; cfn&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;lint template.yaml &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;custom&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;rules cfn_custom_rules.txt
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; status=$&lt;span class=&quot;token punctuation&quot;&gt;?&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
        if [ $status -ne 0 ]; then 
          exit 1;
        fi&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;An alternative to the &lt;code class=&quot;language-text&quot;&gt;--custom-rules&lt;/code&gt; CLI option is to add a section to my &lt;code class=&quot;language-text&quot;&gt;.cfnlintrc.yaml&lt;/code&gt; to automatically enable this option and allows for easy integration with the Visual Studio Code &lt;a href=&quot;https://marketplace.visualstudio.com/items?itemName=kddejong.vscode-cfn-lint&quot;&gt;vscode-cfn-lint&lt;/a&gt; extension.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# https://github.com/aws-cloudformation/cfn-lint#configuration&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;custom_rules&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cfn_custom_rules.txt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[It's Day 1 at AWS]]></title><description><![CDATA[Today I start at AWS as a Sr. Solutions Architect at AWS.  It is “Day 1” for me both in the English definition of the phrase as well as…]]></description><link>https://kevinhakanson.com/2021-03-22-its-day-1-at-aws/</link><guid isPermaLink="false">https://kevinhakanson.com/2021-03-22-its-day-1-at-aws/</guid><pubDate>Mon, 22 Mar 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Today I start at AWS as a Sr. Solutions Architect at AWS.  It is “Day 1” for me both in the English definition of the phrase as well as using the Amazon vernacular.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“Day 1 is both a culture and an operating model that puts the customer at the center of everything Amazon does.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There is a lot more to the &lt;a href=&quot;https://aws.amazon.com/executive-insights/content/how-amazon-defines-and-operationalizes-a-day-1-culture/&quot;&gt;Elements of Amazon’s Day 1 Culture&lt;/a&gt; than just this pull quote.  I recommend reading about Day 1 vs Day 2 mentalities.&lt;/p&gt;
&lt;p&gt;I’m excited to start, and anticipate I will be quite busy for a while.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Acclaim Badges to CSV]]></title><description><![CDATA[From previous blog posts like I’m a Microsoft Azure Solutions Architect Expert or I’m a Microsoft Azure Solutions Architect Expert you can…]]></description><link>https://kevinhakanson.com/2021-02-27-acclaim-badges-to-csv/</link><guid isPermaLink="false">https://kevinhakanson.com/2021-02-27-acclaim-badges-to-csv/</guid><pubDate>Sat, 27 Feb 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;From previous blog posts like &lt;a href=&quot;/2020-10-30-im-a-microsoft-azure-solutions-architect-expert&quot;&gt;I’m a Microsoft Azure Solutions Architect Expert&lt;/a&gt; or &lt;a href=&quot;/2020-10-30-im-a-microsoft-azure-solutions-architect-expert&quot;&gt;I’m a Microsoft Azure Solutions Architect Expert&lt;/a&gt; you can see I like to celebrate when I pass another certification exam.  I also link to the specific digital badge hosted on the Credly Acclaim platform.  You can see all my badges at &lt;a href=&quot;https://www.youracclaim.com/users/kevin-hakanson/badges&quot;&gt;Kevin Hakanson - Badges - Acclaim&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;However, I also wanted to celebrate my co-workers and was looking for an API to monitor whey they achieved additional certifications.  I didn’t find exactly what I wanted, but I appending &lt;code class=&quot;language-text&quot;&gt;.json&lt;/code&gt; to that badges URL gave me what I needed.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youracclaim.com/users/kevin-hakanson/badges.json&quot;&gt;https://www.youracclaim.com/users/kevin-hakanson/badges.json&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So I did what builders do and wrote a utility script that can scrape this data and save to a &lt;code class=&quot;language-text&quot;&gt;.csv&lt;/code&gt; file.  Check out the &lt;a href=&quot;https://github.com/hakanson/acclaim-badges-to-csv&quot;&gt;acclaim-badges-to-csv&lt;/a&gt; GitHub repo to see it in action.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A utility that calls into the JSON endpoint for a set of Acclaim user’s badges and builds up a CSV file.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But please don’t look to closely at my code, because I had to use a hack to get the Unicode &lt;a href=&quot;https://en.wikipedia.org/wiki/Byte_order_mark&quot;&gt;byte order mark (BOM)&lt;/a&gt; into the &lt;code class=&quot;language-text&quot;&gt;.csv&lt;/code&gt; file.  I ended up prefixing the &lt;code class=&quot;language-text&quot;&gt;Name&lt;/code&gt; column with the &lt;code class=&quot;language-text&quot;&gt;U+FEFF&lt;/code&gt; character resulting in the &lt;code class=&quot;language-text&quot;&gt;\ufeffName&lt;/code&gt; string below.  This shouldn’t be strictly needed, except Excel wouldn’t display the file correctly without it.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; createCsvWriter &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;csv-writer&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;createArrayCsvWriter&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; csvWriter &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createCsvWriter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;\ufeffName&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Issuer&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Certification&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Issued At&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Expires At&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;certifications.csv&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[I'm a Microsoft Azure Security Engineer Associate]]></title><description><![CDATA[I wanted to get this Microsoft Azure Security Engineer Associate certification to pair with my AWS Certified Security – Specialty…]]></description><link>https://kevinhakanson.com/2021-01-22-im-a-microsoft-azure-security-engineer-associate/</link><guid isPermaLink="false">https://kevinhakanson.com/2021-01-22-im-a-microsoft-azure-security-engineer-associate/</guid><pubDate>Fri, 22 Jan 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I wanted to get this Microsoft &lt;a href=&quot;https://www.youracclaim.com/earner/earned/badge/90d25898-59a8-46d6-a287-059fa413f201&quot;&gt;Azure Security Engineer Associate&lt;/a&gt; certification to pair with my &lt;a href=&quot;https://www.youracclaim.com/earner/earned/badge/53e9cb80-565c-403a-80ca-35658329d8a0&quot;&gt;AWS Certified Security – Specialty&lt;/a&gt; accomplishment, but I kept seeing how hard it was to pass the exam. I want to give credit a couple of my LinkedIn connections for giving me the extra push I needed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/chris-h-97680442/&quot;&gt;Chris Hughes&lt;/a&gt; for sharing his journey that involved not passing the first time thus removing the stigma of not being perfect.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.linkedin.com/in/petezerger/&quot;&gt;Pete Zerger&lt;/a&gt; for both his &lt;a href=&quot;https://www.linkedin.com/learning/paths/become-an-azure-security-engineer&quot;&gt;Become an Azure Security Engineer&lt;/a&gt; LinkedIn learning courses and the free &lt;a href=&quot;https://www.youtube.com/watch?v=BkP6NZ83U5c&quot;&gt;How to pass the Microsoft AZ-500 Exam&lt;/a&gt; YouTube content he publishes.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Neither of these people knows who I am, but both helped me achieve my goal. Thank you.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/03db04bc910e5e6569a3a0a34b8e573b/0a47e/azure-security-engineer-associate600x600.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAEJvAABCbwFRKOG9AAAEJklEQVR42o2Ua0ybVRjHT6tBFiGbYd42zUxWxMUoOMRdMqkaJI6lL7232AIb88OoQSjETyjMiDUTmJmCid/MQIVpNkoBaymIyYQyEjBcHLciXoDgQMZcuKR9+/d9DhWBYeKTPDlPz/n/f+c5b9/3MLY5ZP+WyrvZvbon2aMae2Ss2k1JNZ+jtW09d4Qhgu1WK9lj6vein0jv3ndQWE16UY/jKj3SBD2ee8kAmouKS++WSRquJc82wXeJUAgXYw/rcCxVL6ZrDMgwG2E2aoMatcBTp1EFLa+aodYauYa05NnaabgwRD0Ur503GXRIV6UFCu0FYk1tLSorz6OsrAwOhwMVFZWoqqqGLfeMqBZOBEhLHvJuZIWBQvSeBPWfGq0WKpUQyszMRH5+PoqKipCXl4fCwkLY7XbYbDZYrZlQCUKItOQh7zqwtLRUzsuYN6P3Jmhu6nQ6CJLYaDQiKysLOTk5MJlMoA2sViv/bTabuYa05CEvIf5hhTuM3/VgbMpNlaCCWq3mYoPBAAJnZGRwCKVerwetkUalUoE85F3vUBLHVlV99FmD03WtwdUidnR0YHBwEH6/H9PT05ibm8P8/DwWFhYwOzuLmZkZTExMoL+/H6S94mwSnZKXGMRiBQUF9lAohOXl5YB/fBwDAwPo6+tDW1sb6urqMDk5ifb2djQ1NXHAyMgImpub4fF4eD0yPIzV1dWAKIogFpOOIdDOU1NTotvths/n48BhSdjb28s7HB0dxdDQEMbGxnhN6z09PfwENC4tLYnUucViEZhCodjf1dW1DClWVlZCNBLMJXXU3v4dnE4nOjs7pW7r0dzSwtPpbJRgUyRFIBDgHmIQix7kPdJxxmgyGAyKNN74Yxa//uzHb5PjGB38ETO//4Lx6wPwj/4k5XW+dvuvW9joIQax+F9TXf1J/eLiIvoHBgPfeDvwubMV5TUtKP7UCfvHDcg9/xXyLlyGveqKNNeICmmttsEDt/d77iEvMda/O61Wuy9Drz8V87xtTm79AjJTbSiuyIX4Yg8SS9uQ9E4Hni72IuFtLxJLvHjc7gIz1ITkmV+CPOQlxoZPD2vvYtzJVna6BRGve4OpH/ZA+YEPyed8UJb7cNjRiaPvdyG5vBvJ0jw70xokLYvL9qxhOCP8TivD19EDSjV74SxYbpvIspwh+SkXDjl+QFSuGzttbg6V50jdZTeGuEZZAhaTLKxdBYa7tlw44S73Hn9XnnoO7LVvxQNnr4o3bq3gxIVrSJOS6gMlV0V22i3KUxxgj7xSssl7Z4QXHk4pYEmFSztOXsZBR3do1xtekZLqHdlfgyUV3GZ7XratecJ3wX9HWLDz2WeYwtTMjr4VklkuQWapBztSLLL9hkZ2X+JT/xO2BSo95MjdR5JlCtMlmcJYH3n/oWPbaDbF36nhxAHBHyzdAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Microsoft Certified: Azure Security Engineer Associate&quot;
        title=&quot;&quot;
        src=&quot;/static/03db04bc910e5e6569a3a0a34b8e573b/fcda8/azure-security-engineer-associate600x600.png&quot;
        srcset=&quot;/static/03db04bc910e5e6569a3a0a34b8e573b/12f09/azure-security-engineer-associate600x600.png 148w,
/static/03db04bc910e5e6569a3a0a34b8e573b/e4a3f/azure-security-engineer-associate600x600.png 295w,
/static/03db04bc910e5e6569a3a0a34b8e573b/fcda8/azure-security-engineer-associate600x600.png 590w,
/static/03db04bc910e5e6569a3a0a34b8e573b/0a47e/azure-security-engineer-associate600x600.png 600w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Cloud State Monitoring]]></title><description><![CDATA[Last week I gave a presentation about a concept I decided to call Cloud State Monitoring.  The premise was that much of cloud configuration…]]></description><link>https://kevinhakanson.com/2020-12-18-cloud-state-monitoring/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-12-18-cloud-state-monitoring/</guid><pubDate>Fri, 18 Dec 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Last week I gave a presentation about a concept I decided to call &lt;strong&gt;Cloud State Monitoring&lt;/strong&gt;.  The premise was that much of cloud configuration monitoring is point-in-time evaluations, but there is additional value in monitoring the change in state of these resource configurations.&lt;/p&gt;
&lt;p&gt;For a definition of &lt;strong&gt;state&lt;/strong&gt;, I leveraged language from the &lt;a href=&quot;https://en.wikipedia.org/wiki/State_(computer_science)&quot;&gt;State (Computer Science)&lt;/a&gt; entry on Wikipedia.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A specialized definition of state is used for computer programs that operate sequentially on streams of data.&lt;/li&gt;
&lt;li&gt;Information about previous data received is stored and used to affect the processing of the current data.&lt;/li&gt;
&lt;li&gt;This is called a stateful protocol and the data carried over from the previous processing cycle is called the state.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I then proposed this for the definition of &lt;strong&gt;Cloud State Monitoring&lt;/strong&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Treats cloud resource changes as a stream of data and intelligently monitors both the current data as well as changes from the previous data (state).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;A few of the examples I highlighted were:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Monitor current data for security misconfigurations&lt;/li&gt;
&lt;li&gt;Monitor changes in data for configuration drift&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When I think about who is making changes, it is both you (as the customer)…&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Workload teams releasing software&lt;/li&gt;
&lt;li&gt;Platform teams enhancing automation&lt;/li&gt;
&lt;li&gt;Security teams updating policies&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;…and the cloud provider themselves.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Adding new cloud-native service features&lt;/li&gt;
&lt;li&gt;Updating versions of hosted open-source software&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I recorded and edited the presentation, including adding a full transcript for closed caption viewing.  Check out my &lt;a href=&quot;/presentations&quot;&gt;presentations&lt;/a&gt; page for full details, include the links to both the &lt;a href=&quot;https://www.slideshare.net/kevinhakanson/whos-in-your-cloud-cloud-state-monitoring&quot;&gt;slide deck&lt;/a&gt; and &lt;a href=&quot;https://youtu.be/a4CNQsaRPts&quot;&gt;video&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[My Amazon Alexa Skills Journey]]></title><description><![CDATA[Today (December 1, 2020) is the day Amazon Alexa is deprecating the Echo Buttons Skill API. In 2018, I published a couple Alexa skills for…]]></description><link>https://kevinhakanson.com/2020-12-01-my-amazon-alexa-skills-journey/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-12-01-my-amazon-alexa-skills-journey/</guid><pubDate>Tue, 01 Dec 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Today (December 1, 2020) is the day Amazon Alexa is &lt;a href=&quot;https://developer.amazon.com/en-US/docs/alexa/ask-overviews/deprecated-features.html#deprecated-echo-button-skills&quot;&gt;deprecating the Echo Buttons Skill API&lt;/a&gt;. In 2018, I published a couple Alexa skills for Echo Buttons (&lt;a href=&quot;https://www.amazon.com/KJH-Software-LLC-Color-Stumper/dp/B07K1FNR31&quot;&gt;Color Stumper&lt;/a&gt;; &lt;a href=&quot;https://www.amazon.com/KJH-Software-LLC-Rochambeau-Buttons/dp/B07JJ216XZ/&quot;&gt;Rochambeau Buttons&lt;/a&gt;) and even have two unopened sets of buttons which I won as prizes.&lt;/p&gt;
&lt;p&gt;Receiving free Amazon Echo devices started when I attended AWS re:Invent 2016 with both the Echo Dot swag gift and winning a “full size” Echo as a finalist in that year’s AWS re:Invent Alexa Skill Contest with &lt;a href=&quot;/2016-12-21-my-first-published-alexa-skill-mars-rover-mission&quot;&gt;My First Published Alexa Skill: Mars Rover Mission&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;That didn’t give me fame and fortune, but the hands-on coding and skill publishing did provide me the knowledge to achieve the &lt;a href=&quot;https://www.youracclaim.com/earner/earned/badge/18716c6f-2343-45c6-89a5-3d2cbbc7ef50&quot;&gt;AWS Certified Alexa Skill Builder - Specialty&lt;/a&gt; last week.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b38e5364fe7a95869abd8c92fc8bcbc8/0a47e/AWS-AlexaSkillBuilder-Specialty-2020.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADgElEQVR42oWVXUybVRjHD1zNRZIlU9kys7AYr+Y2F2cChGUXjqlRY5xZvICMaDL1ZjGLGkVjerkJg+ESL+Y+ZEy2ZkAtRZiCFAqj0xYKpUWg6welLR9lwGxLC30//p5z3r5NsaR7kifnbc9zfu/zdZ6XkC1Fk080VLl8s6fqqOHm6TLDz/R5t7LN9tT9HAKCPI0GKcOPt5944ZcvLn9tDT8KClgKCGj4yrpYvu/2OULe3q5wNfnszFaoPJIGkbxXdtx497sPTY4pawRUZKpSSmWnZQ3fVvXbD++4+k7G+XyyGaz8KCKXD336RtdvPa0BSCJjCdLGRlKminhiHaIoUfiyJAkyuu8G8MnrnYY9pOFgJoNLSWHTcx8c0f1w69JEPLrCHII09PeI/ONPTdC2daCx+S6af/0TC6NaQPsiJNcd7nVsRUBT3cQaPVtftuv6s2ngyQO62hkHByVToWFkdBzGATOMJjP66TpkdWJmvBswfwTJ3wXltRKzTXrHZJw80HohDTxdari0HoUSo8RNsfRoBTOzQQRC83B5fPwF054Apl1u+ENhbiOK3FaIPwYqiw0X08DK4vaGREQByrICnJtfhG3MCZ8/AJfbi/DSMiYmpzFqd9K9BSgOKsC1VaCiWL8ZqHrIeAyqRLNZ2H9sT1HFTvUwG5jyUBBEmrf7sAyP8jAnp11wPfQgGJxDb98A+gaGqOcO3OsxIkErzz3MBWRGvf2DFGhDj9GEoQcWmAYfYCEcxrDNju5eE+yOf9A/aEZifSMHMF0UJdTZQAgPae4i0RjPYWhuHm6vD/9GoojHEzxkNYdbhqwWhTYvf/jLOoI7LXpoW/XQtXeho+sPXGtsRouuAwEafs6iZLaNnGoblnBRFFlSeTHUVUoVJROY1TbvH2yr8dqlTY0djcVoz3l4i7B+DIbm4Kb96PX5kUwmoTLZGbdNwnv7W86ngceevvLMqcNtFxtrnWvq1WN32DkxxaEM4vHO8JUVhBaOX73Isowb3zti9GzNqwU3d2YNh+dJ7Utnyjv1v2v9siSkPZAzWpGDRBrHvds++czxTl0hqd+fNRz+N77IoYJrb1VX9I2Nm1ezxpf9/iqqK4y2lwuuvJljfGUOWHUSn3rqeFHzZ3VfWhbCswIW/UnUfW6Zf23vrbOEVG17woDN9QnQ7Kosbb9eWaK/Skh14ZM+Af8BVi3IjSMtGMMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AWS Certified Alexa Skill Builder – Specialty&quot;
        title=&quot;&quot;
        src=&quot;/static/b38e5364fe7a95869abd8c92fc8bcbc8/fcda8/AWS-AlexaSkillBuilder-Specialty-2020.png&quot;
        srcset=&quot;/static/b38e5364fe7a95869abd8c92fc8bcbc8/12f09/AWS-AlexaSkillBuilder-Specialty-2020.png 148w,
/static/b38e5364fe7a95869abd8c92fc8bcbc8/e4a3f/AWS-AlexaSkillBuilder-Specialty-2020.png 295w,
/static/b38e5364fe7a95869abd8c92fc8bcbc8/fcda8/AWS-AlexaSkillBuilder-Specialty-2020.png 590w,
/static/b38e5364fe7a95869abd8c92fc8bcbc8/0a47e/AWS-AlexaSkillBuilder-Specialty-2020.png 600w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;However, it was recently announced that cert is being retired in March 2021.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Retirements&lt;/strong&gt;&lt;br&gt;
AWS Certified Alexa Skill Builder - Specialty&lt;/p&gt;
&lt;p&gt;Please note that we will be retiring the AWS Certified Alexa Skill Builder - Specialty exam (AXS-C01) and the corresponding practice exam (AXS-P01) on March 23, 2021. The last day to take the exam will be March 22, 2021.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;AWS re:Invent 2020 starts today, and I’m off to learn something new.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[I'm a Microsoft Azure Solutions Architect Expert]]></title><description><![CDATA[I can now add Microsoft Certified: Azure Solutions Architect Expert to my resume.  This certification requires passing two exams, AZ-303 and…]]></description><link>https://kevinhakanson.com/2020-10-30-im-a-microsoft-azure-solutions-architect-expert/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-10-30-im-a-microsoft-azure-solutions-architect-expert/</guid><pubDate>Fri, 30 Oct 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I can now add &lt;a href=&quot;https://www.youracclaim.com/earner/earned/badge/fc68e9e7-e271-429a-b3c9-e68205b1f250&quot;&gt;Microsoft Certified: Azure Solutions Architect Expert&lt;/a&gt; to my resume.  This certification requires passing two exams, &lt;a href=&quot;https://docs.microsoft.com/en-us/learn/certifications/exams/az-303&quot;&gt;AZ-303&lt;/a&gt; and &lt;a href=&quot;https://docs.microsoft.com/en-us/learn/certifications/exams/az-304&quot;&gt;AZ-304&lt;/a&gt;, both of which I completed this month.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3e970253558c410b2fe0d1a7cefa8f3d/0a47e/azure-solutions-architect-expert-600x600.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAEJvAABCbwFRKOG9AAAEQ0lEQVR42o2Ue0ybVRjGz1fqFoXpcJMMuRQKBGWZwITgZaHoZpxDCisUqAzn2HAMw4Ch0WwKW4b7w4niAiYm/jEdShAVMmkLlEkcWy9uIwITw21cVGy3lVEuA0K/7/Gcr0UZIcY3eXNO3/P8nvN+pzmHkHuD+3eqkJKA1M1EtruYyFKaXUnnrMbWVmVWRoR6DQlKUdB8n8iSLVygcoEEp4GTL6UaYi0w2SJqmJYxq4RrF5nySxKcCiJP46WhaniGp+O+EJXTQ6Z0SmhygUlOr4hMSMPSQTfiRS1jVnTKubvzIsEqu0RORb67FqN2FfFHT9fglcKP8HJOOVJyT0FTUIEDb1cjLCGPJ36JixzTUkZkl3m5DMOV6+gnTHDBKpAApbAxOhuROwsRk1SCzS8UYGviEUQnFuPx7fnYGJUtakQtZUR2ybCsrEzi8ntrHRe0e5IEpYri++ln+US9Cr/YHDwYngGfyGw8smUPHo3JgedjmSD+SoFpGcNY5rHk5erwocj1xGfHpDQoEd4RyYJvlAqBMWmQx6Uj/FkNwp7JQAidsxpbYxqmZYzILnWo0WjCqqqqzjY0Nv7ccF7HXzKa8WtvL8bGRnHTZsWUY0LM2WkHZqYmYf1rHMM3bqC39zcYTRYwhrHMg3mRkpKSYp7nQWPxj9/HMDIyQsW90Ol06O7uRk/PdZhMJhiNRgwMDMJitoh1M6319/djdHRUZJ1OJ5gXycrKUlqtVtjtdr7VYIDFYkFnZ6c4Dg4OYnh4GH19fejq6qLmPRgaGhJ/s01MJjP0ej3m5ub48fFxMC8SGhoaQhfn2Dbz8/MCG203bdBqtfihSYur1Lyl1YCOjg6wDS8bTbh67RqmpqeZFAsLCyLDPJgXO8i1TU1NA6xI2xa/fe7uLO7Yb+POLSsct22YmrBhZnqS1m7BbhvHND1L9zGxUZwwD+Yl/jXV1Z/WORwOdPdcX2y+8BPONbbik6/1OPZZIw5XfotDFfXI+7AOBR/X411aq6zR4ovvm8G0jGEs8/jn3qlUKpkmLW3fhm35tyXZtSDp5wSPzFqEHNHhiWNtiD3eTscLeOpEOwKLtCDqr0AyagTJnlowhrHMY9nVg/u2vGYgB/Tg8gxO6UE9Yk5exvMVFsR/YEbCaTNerLwCv5IfQXK08DjU5iT7dSDhe1tdNqKH+z4r3M+RjyKFJBwHyWvjvd5oFpLOXMHDBS0gmQ20owZsKjQg+/Nf4H24RSAH23hOUQqyIV4psmq1x4oHx9UlF/DSSfLcKQQdvcR3/znLx5Z3IOdsF/bT3HriIszDU7z/Oxd5oiiHxH9n6XJ2lXAv+O4okj795l3v3EaQ11uFM+1jPEuS2yJ47vsOHnHFM2TT9nwX47q//xFuwQMx0SRYrZUoSoU1e+uxliYX/x5P38rzxPPJLf/TbIUpO+T1sfFErv6GyNPriFfctlU098TfPG+uIq/KQgAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Microsoft Certified: Azure Solutions Architect Expert&quot;
        title=&quot;&quot;
        src=&quot;/static/3e970253558c410b2fe0d1a7cefa8f3d/fcda8/azure-solutions-architect-expert-600x600.png&quot;
        srcset=&quot;/static/3e970253558c410b2fe0d1a7cefa8f3d/12f09/azure-solutions-architect-expert-600x600.png 148w,
/static/3e970253558c410b2fe0d1a7cefa8f3d/e4a3f/azure-solutions-architect-expert-600x600.png 295w,
/static/3e970253558c410b2fe0d1a7cefa8f3d/fcda8/azure-solutions-architect-expert-600x600.png 590w,
/static/3e970253558c410b2fe0d1a7cefa8f3d/0a47e/azure-solutions-architect-expert-600x600.png 600w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;However, my certification journey was not as quick as it may appear.  I started studying for &lt;a href=&quot;https://docs.microsoft.com/en-us/learn/certifications/exams/az-300&quot;&gt;AZ-300&lt;/a&gt;, off and on, earlier this year and was almost ready to take that exam in July.  However, when I saw that AZ-300/AZ-301 was schedule to be retired in September, I decided to wait until their replacements (AZ-303/AZ-304) came out of beta.&lt;/p&gt;
&lt;p&gt;Luckily, I had a recommendation not to wait too long between the exams because of the content overlap.  That plus the voucher for a free Microsoft Certification exam I received via in the &lt;a href=&quot;https://csc.docs.microsoft.com/ignite/registration&quot;&gt;Microsoft Ignite Cloud Skills Challenge&lt;/a&gt; gave me the confidence I needed. I even scored higher on the second exam.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Azure Managed Identity Resources]]></title><description><![CDATA[As part of studying for the Azure Architect exams using Microsoft Learn, I was experimenting with Managed Identities.  Here is the…]]></description><link>https://kevinhakanson.com/2020-10-10-azure-managed-identity-resources/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-10-10-azure-managed-identity-resources/</guid><pubDate>Sat, 10 Oct 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;As part of studying for the Azure Architect exams using &lt;a href=&quot;https://docs.microsoft.com/en-us/learn/&quot;&gt;Microsoft Learn&lt;/a&gt;, I was experimenting with Managed Identities.  Here is the definition from the &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/overview&quot;&gt;What are managed identities for Azure resources?&lt;/a&gt; page of the Azure docs:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There are two types of managed identities:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;System-assigned&lt;/strong&gt; Some Azure services allow you to enable a managed identity directly on a service instance. When you enable a system-assigned managed identity an identity is created in Azure AD that is tied to the lifecycle of that service instance. So when the resource is deleted, Azure automatically deletes the identity for you. By design, only that Azure resource can use this identity to request tokens from Azure AD.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;User-assigned&lt;/strong&gt; You may also create a managed identity as a standalone Azure resource. You can &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/how-to-manage-ua-identity-portal&quot;&gt;create a user-assigned managed identity&lt;/a&gt; and assign it to one or more instances of an Azure service. In the case of user-assigned managed identities, the identity is managed separately from the resources that use it.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Using the Azure CLI, I can show the &lt;code class=&quot;language-text&quot;&gt;kjh-mi&lt;/code&gt; managed identity which I created as an Azure resource.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kevin@Azure:~$ az identity show &lt;span class=&quot;token parameter variable&quot;&gt;--name&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kjh-mi&quot;&lt;/span&gt; --resource-group &lt;span class=&quot;token string&quot;&gt;&quot;kjh-microsoft-learn&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;clientId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a72223ed-0a1e-4683-9b4b-44bed448bccc&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;clientSecretUrl&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://control-northcentralus.identity.azure.net/subscriptions/1b877039-42c8-467f-a80b-950b770fa4ff/resourcegroups/kjh-microsoft-learn/providers/Microsoft.ManagedIdentity/userAssignedIdentities/kjh-mi/credentials?tid=01177861-2ff6-4b20-b546-49fd6cada0ec&amp;amp;oid=8097154c-b14f-4898-928c-16ca80e12dfd&amp;amp;aid=a72223ed-0a1e-4683-9b4b-44bed448bccc&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/subscriptions/1b877039-42c8-467f-a80b-950b770fa4ff/resourcegroups/kjh-microsoft-learn/providers/Microsoft.ManagedIdentity/userAssignedIdentities/kjh-mi&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;location&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;northcentralus&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kjh-mi&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;principalId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;8097154c-b14f-4898-928c-16ca80e12dfd&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;resourceGroup&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kjh-microsoft-learn&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;tags&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;tenantId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;01177861-2ff6-4b20-b546-49fd6cada0ec&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Microsoft.ManagedIdentity/userAssignedIdentities&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Similar to a User or Group, a managed identity is a security principal object in Azure AD.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 325px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5a49debd7a71f40862472552b7d7a209/ff46a/rbac-security-principal.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 42.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAFxFAABcRQG5LWIsAAABzklEQVR42m1SwY7TMBDtmSPfwG9wRiBx4EPgsiDxB0h8AELcESdAe6HaE7sFxKGL1C6sVtmKpk3bTdq0aZw4thM7eUzsbE9Ymoznjd/LeDw90GqaunXw2RCT/XfwTIAxhjzPkaYppJTW32JZlhGnwf9Wr/2YTvAi7uPX5hPShGMWBIiiCIvFAqvVylqwWOLv1Mcmjjt6K1p3vhOsqgqNrlCTGW3I1zDG0DkDrTU07du4ptiRXb7lVZVGpRsyF7c3sRW+Xyv0d6r7UwNRN/BkDXKHqyWFxpdLhpMrhh2vXH0mRx29RlOc21iIwgk+PvPx7Hx1KHu4l7h/Nsfzfgh/58g/tyXufI5w93iNb7GymNEptPcAIj62sRQcvZOI4+Fghic/5rhMpU28utri0WCKe++u8XHMLOZRhU+nGY5mOSbSHDqYhh8wmAdOUAr0vi4SvDj18HIwwe84t4k34yWOKH47CrFmjlyoGl4o4VN1+8Jh1xuF8Y3AMMgxS7TrYdunkEhhanA7CYoaHSQGczrESzcBS6bxJypxESpMttUBG90ojJYKm4IeR5Fgq1p01u6VUm5PSWExhZIwxqW1Hc1oygXKUiEvaD47nAsFzjn+ASsupIBH48QcAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;security principals&quot;
        title=&quot;&quot;
        src=&quot;/static/5a49debd7a71f40862472552b7d7a209/ff46a/rbac-security-principal.png&quot;
        srcset=&quot;/static/5a49debd7a71f40862472552b7d7a209/12f09/rbac-security-principal.png 148w,
/static/5a49debd7a71f40862472552b7d7a209/e4a3f/rbac-security-principal.png 295w,
/static/5a49debd7a71f40862472552b7d7a209/ff46a/rbac-security-principal.png 325w&quot;
        sizes=&quot;(max-width: 325px) 100vw, 325px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Using the &lt;code class=&quot;language-text&quot;&gt;principalId&lt;/code&gt; value of &lt;code class=&quot;language-text&quot;&gt;8097154c-b14f-4898-928c-16ca80e12dfd&lt;/code&gt;, I can call into the &lt;code class=&quot;language-text&quot;&gt;directoryObjects&lt;/code&gt; Microsoft Graph API to get the corresponding object from Azure AD.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kevin@Azure:~$ az rest &lt;span class=&quot;token parameter variable&quot;&gt;--url&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/v1.0/directoryObjects/8097154c-b14f-4898-928c-16ca80e12dfd?\&lt;span class=&quot;token variable&quot;&gt;$select&lt;/span&gt;=id,alternativeNames,appId,displayName,servicePrincipalType,servicePrincipalNames&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;@odata.context&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/v1.0/&lt;span class=&quot;token variable&quot;&gt;$metadata&lt;/span&gt;#directoryObjects(id,alternativeNames,appId,displayName,servicePrincipalType,servicePrincipalNames)/&lt;span class=&quot;token variable&quot;&gt;$entity&lt;/span&gt;&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;@odata.type&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#microsoft.graph.servicePrincipal&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;alternativeNames&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;isExplicit=True&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;/subscriptions/1b877039-42c8-467f-a80b-950b770fa4ff/resourcegroups/kjh-microsoft-learn/providers/Microsoft.ManagedIdentity/userAssignedIdentities/kjh-mi&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;appId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a72223ed-0a1e-4683-9b4b-44bed448bccc&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;displayName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kjh-mi&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;8097154c-b14f-4898-928c-16ca80e12dfd&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;servicePrincipalNames&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;a72223ed-0a1e-4683-9b4b-44bed448bccc&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;https://identity.azure.net/ClNzn4fxz/63fEHulvQtfB7agLtUDIkCJSx4OFAC3Tw=&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;servicePrincipalType&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ManagedIdentity&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice that the &lt;code class=&quot;language-text&quot;&gt;@odata.type&lt;/code&gt; is &lt;code class=&quot;language-text&quot;&gt;microsoft.graph.servicePrincipal&lt;/code&gt; and the &lt;code class=&quot;language-text&quot;&gt;servicePrincipalType&lt;/code&gt; has a &lt;code class=&quot;language-text&quot;&gt;ManagedIdentity&lt;/code&gt; value.&lt;/p&gt;
&lt;p&gt;The Azure &lt;code class=&quot;language-text&quot;&gt;Microsoft.ManagedIdentity/userAssignedIdentities&lt;/code&gt; resource &lt;code class=&quot;language-text&quot;&gt;principalId&lt;/code&gt; value of &lt;code class=&quot;language-text&quot;&gt;8097154c-b14f-4898-928c-16ca80e12dfd&lt;/code&gt; appears as &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;, the &lt;code class=&quot;language-text&quot;&gt;clientId&lt;/code&gt; value of &lt;code class=&quot;language-text&quot;&gt;a72223ed-0a1e-4683-9b4b-44bed448bccc&lt;/code&gt; appears as &lt;code class=&quot;language-text&quot;&gt;appId&lt;/code&gt;, and the &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt; of &lt;code class=&quot;language-text&quot;&gt;kjh-mi&lt;/code&gt; maps to the &lt;code class=&quot;language-text&quot;&gt;displayName&lt;/code&gt; property.  The &lt;code class=&quot;language-text&quot;&gt;alternativeNames&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;servicePrincipalNames&lt;/code&gt; also have interesting corresponding values.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[7 Attempts at Slide Deck Humor]]></title><description><![CDATA[With the transition of SlideShare from LinkedIn to Scribd, I looked through my old tech conference presentation slide decks and wanted to…]]></description><link>https://kevinhakanson.com/2020-09-18-7-attempts-at-slide-deck-humor/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-09-18-7-attempts-at-slide-deck-humor/</guid><pubDate>Fri, 18 Sep 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;With the transition of &lt;a href=&quot;https://news.linkedin.com/2020/august/digital-library-leader-scribd-is-acquiring-slideshare&quot;&gt;SlideShare from LinkedIn to Scribd&lt;/a&gt;, I looked through my old tech conference presentation slide decks and wanted to highlight some of my slides that (maybe) were not as humorous as I planned. They say “If you have to explain a joke, it’s not funny” but I don’t care what “they” say - these are getting an explanation.&lt;/p&gt;
&lt;p&gt;From &lt;a href=&quot;https://www.slideshare.net/kevinhakanson/implementing-messaging-patterns-in-java-script-using-the-openajax-hub/51&quot;&gt;Implementing Messaging Patterns in JavaScript using the OpenAjax Hub&lt;/a&gt;, this “Q &amp;#x26; A” slide refers to &lt;a href=&quot;https://en.wikipedia.org/wiki/Q_(Star_Trek)&quot;&gt;Q&lt;/a&gt; from Star Trek: The Next Generation (1987) and &lt;a href=&quot;https://en.wikipedia.org/wiki/The_Scarlet_Letter&quot;&gt;A&lt;/a&gt; as the Scarlet Letter from the classic Nathaniel Hawthorn novel (1850).&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8a3718282e68735d15874924db8ca0a7/8608d/implementing-messaging-patterns-in-javascript-using-the-openajax-hub-51-638.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAHTXNtKtEKf/8QAGhAAAwADAQAAAAAAAAAAAAAAAQIDAAQTEv/aAAgBAQABBQJrhS9/GSfpPYnU2qrcNZSsf//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPwHIr//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAECAQE/Aaf/xAAdEAACAgIDAQAAAAAAAAAAAAACEQABEjEhIkFx/9oACAEBAAY/Aua9UHEXlT3KJKFiLr7A6O1Botz/xAAZEAEBAQEBAQAAAAAAAAAAAAABEQAhMUH/2gAIAQEAAT8hdEOqzUgW3xrj0+W566tGDKIhI9OYOp1v/9oADAMBAAIAAwAAABCzP//EABcRAAMBAAAAAAAAAAAAAAAAAAARIQH/2gAIAQMBAT8QyFEcP//EABgRAQADAQAAAAAAAAAAAAAAAAEAESEx/9oACAECAQE/EFo1Dmz/xAAcEAEBAAICAwAAAAAAAAAAAAABEQBhITFBUXH/2gAIAQEAAT8Qn2HIUIWv3VyBLigATW8Y4V8IEU7ysW9lDki5FBikqFKuvGDyGkG9qmf/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Q (Star Trek) &amp;amp; A (Scarlet Letter)&quot;
        title=&quot;&quot;
        src=&quot;/static/8a3718282e68735d15874924db8ca0a7/1c72d/implementing-messaging-patterns-in-javascript-using-the-openajax-hub-51-638.jpg&quot;
        srcset=&quot;/static/8a3718282e68735d15874924db8ca0a7/a80bd/implementing-messaging-patterns-in-javascript-using-the-openajax-hub-51-638.jpg 148w,
/static/8a3718282e68735d15874924db8ca0a7/1c91a/implementing-messaging-patterns-in-javascript-using-the-openajax-hub-51-638.jpg 295w,
/static/8a3718282e68735d15874924db8ca0a7/1c72d/implementing-messaging-patterns-in-javascript-using-the-openajax-hub-51-638.jpg 590w,
/static/8a3718282e68735d15874924db8ca0a7/8608d/implementing-messaging-patterns-in-javascript-using-the-openajax-hub-51-638.jpg 638w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;From &lt;a href=&quot;https://www.slideshare.net/kevinhakanson/developers-guide-to-javascript-and-web-cryptography/21&quot;&gt;Developer’s Guide to JavaScript and Web Cryptography&lt;/a&gt;, this pre-apology slide for when I accidentally said SSL (Secure Sockets Layer) instead of TLS (Transport Layer Security), was a reference to the They Might be Giants 1990 version of &lt;a href=&quot;https://en.wikipedia.org/wiki/Istanbul_(Not_Constantinople)&quot;&gt;Istanbul (Not Constantinople)&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bbed3f5766f48df817b43a29b474d003/8608d/developers-guide-to-javascript-and-web-cryptography-21-638.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIDBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHaV4hsgJ//xAAZEAACAwEAAAAAAAAAAAAAAAABAgAQEQP/2gAIAQEAAQUCY5B02mECmv/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAMBAQAAAAAAAAAAAAAAAAAQMQER/9oACAEBAAY/AiLOEX//xAAaEAEAAgMBAAAAAAAAAAAAAAABESEAEDFR/9oACAEBAAE/IWjC24qQFdvTNExhl9a//9oADAMBAAIAAwAAABA7z//EABYRAAMAAAAAAAAAAAAAAAAAAAEQEf/aAAgBAwEBPxARf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQEAAgIDAAAAAAAAAAAAAAERABAhoUFRkf/aAAgBAQABPxC3XxSgHWMxVPT1ptBRUs8YvQVWJ91//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Istanbul (Not Constantinople)&quot;
        title=&quot;&quot;
        src=&quot;/static/bbed3f5766f48df817b43a29b474d003/1c72d/developers-guide-to-javascript-and-web-cryptography-21-638.jpg&quot;
        srcset=&quot;/static/bbed3f5766f48df817b43a29b474d003/a80bd/developers-guide-to-javascript-and-web-cryptography-21-638.jpg 148w,
/static/bbed3f5766f48df817b43a29b474d003/1c91a/developers-guide-to-javascript-and-web-cryptography-21-638.jpg 295w,
/static/bbed3f5766f48df817b43a29b474d003/1c72d/developers-guide-to-javascript-and-web-cryptography-21-638.jpg 590w,
/static/bbed3f5766f48df817b43a29b474d003/8608d/developers-guide-to-javascript-and-web-cryptography-21-638.jpg 638w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;From &lt;a href=&quot;https://www.slideshare.net/kevinhakanson/internationalize-your-javascript-application-prepare-for-the-next-billion-internet-users/13&quot;&gt;Internationalize your JavaScript Application: Prepare for “the next billion” internet users&lt;/a&gt;, following where I explained that internationalization was abbreviated as &lt;strong&gt;i18n&lt;/strong&gt; and localization was abbreviated as &lt;strong&gt;l10n&lt;/strong&gt;, I attempted to make a &lt;a href=&quot;https://en.wikipedia.org/wiki/Numeronym&quot;&gt;numeronym&lt;/a&gt; joke out of my own name (which also ends in &lt;strong&gt;n&lt;/strong&gt;) with Kevin Hakanson being replaced by &lt;strong&gt;K3n H6n&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/081511f6f75816b0ac08768e3c4f6e9d/8608d/internationalize-your-javascript-application-prepare-for-the-next-billion-internet-users-13-638.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe/NDQf/xAAWEAEBAQAAAAAAAAAAAAAAAAABACD/2gAIAQEAAQUChHP/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAADAAAAAAAAAAAAAAAAAAAAICH/2gAIAQEABj8CIv8A/8QAGBAAAwEBAAAAAAAAAAAAAAAAARARADH/2gAIAQEAAT8h5ikKuL//2gAMAwEAAgADAAAAEOAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAQADAQEAAAAAAAAAAAAAAREAECFhkf/aAAgBAQABPxBQK8DrkcVLPNJSYAaX7r//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;K3n H6n numeronym joke&quot;
        title=&quot;&quot;
        src=&quot;/static/081511f6f75816b0ac08768e3c4f6e9d/1c72d/internationalize-your-javascript-application-prepare-for-the-next-billion-internet-users-13-638.jpg&quot;
        srcset=&quot;/static/081511f6f75816b0ac08768e3c4f6e9d/a80bd/internationalize-your-javascript-application-prepare-for-the-next-billion-internet-users-13-638.jpg 148w,
/static/081511f6f75816b0ac08768e3c4f6e9d/1c91a/internationalize-your-javascript-application-prepare-for-the-next-billion-internet-users-13-638.jpg 295w,
/static/081511f6f75816b0ac08768e3c4f6e9d/1c72d/internationalize-your-javascript-application-prepare-for-the-next-billion-internet-users-13-638.jpg 590w,
/static/081511f6f75816b0ac08768e3c4f6e9d/8608d/internationalize-your-javascript-application-prepare-for-the-next-billion-internet-users-13-638.jpg 638w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;From &lt;a href=&quot;https://www.slideshare.net/kevinhakanson/make-your-own-print-play-card-game-using-svg-and-java-script/103&quot;&gt;Make your own Print &amp;#x26; Play card game using SVG and JavaScript&lt;/a&gt;, after I built up this personalized trading card using SVG (Scalable Vector Graphics), I egotistically put it side by side with the original template. This was not just another Star Trek: The Next Generation reference but also honored the &lt;a href=&quot;https://en.wikipedia.org/wiki/TableTop#International_TableTop_Day&quot;&gt;second International TableTop Day&lt;/a&gt; that was being live streamed by Wil Wheaton that very same day in 2014.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/92c050df9dc380cd628358fc567f9b48/8608d/make-your-own-print-play-card-game-using-svg-and-javascript-103-638.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAECAwQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgH/2gAMAwEAAhADEAAAAdqqRXSIFP8A/8QAGRAAAwEBAQAAAAAAAAAAAAAAAgMEAAET/9oACAEBAAEFAmUkLDp6GSfoDpzNrpmHpg6tX//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EAB4QAAIBBAMBAAAAAAAAAAAAAAACEQESMUEhIlFh/9oACAEBAAY/AmW2nH0XrlZyTX0ZqbEjSwWtk//EABoQAQACAwEAAAAAAAAAAAAAAAEAESExQWH/2gAIAQEAAT8hJaHbtCkBqd6XFpgbGPIdpXdzUeNZ7B+gs//aAAwDAQACAAMAAAAQH/8A/8QAGBEAAgMAAAAAAAAAAAAAAAAAACEBETH/2gAIAQMBAT8QVInT/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAgEBPxBW6I//xAAeEAEAAgIBBQAAAAAAAAAAAAABABEhMUFRYXGxwf/aAAgBAQABPxAXclIGwPTvKMSRMlVSvVLFZknyPhkAtaDjz6mDNxjRi3ikpzbc/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Wil Wheaton and Kevin Hakanson as Evil Twins&quot;
        title=&quot;&quot;
        src=&quot;/static/92c050df9dc380cd628358fc567f9b48/1c72d/make-your-own-print-play-card-game-using-svg-and-javascript-103-638.jpg&quot;
        srcset=&quot;/static/92c050df9dc380cd628358fc567f9b48/a80bd/make-your-own-print-play-card-game-using-svg-and-javascript-103-638.jpg 148w,
/static/92c050df9dc380cd628358fc567f9b48/1c91a/make-your-own-print-play-card-game-using-svg-and-javascript-103-638.jpg 295w,
/static/92c050df9dc380cd628358fc567f9b48/1c72d/make-your-own-print-play-card-game-using-svg-and-javascript-103-638.jpg 590w,
/static/92c050df9dc380cd628358fc567f9b48/8608d/make-your-own-print-play-card-game-using-svg-and-javascript-103-638.jpg 638w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;From &lt;a href=&quot;https://www.slideshare.net/kevinhakanson/securing-todomvc-using-the-web-cryptography-api/56&quot;&gt;Securing TodoMVC Using the Web Cryptography API&lt;/a&gt;, back when internet meme options were not as rich as they are today, I used &lt;a href=&quot;https://en.wikipedia.org/wiki/The_Most_Interesting_Man_in_the_World&quot;&gt;The Most Interesting Man in the World&lt;/a&gt; to make a substitution cipher joke about ROT26 (which is equivalent to no encryption at all). Another throwback to my college years when &lt;a href=&quot;https://en.wikipedia.org/wiki/Network_News_Transfer_Protocol&quot;&gt;NTTP&lt;/a&gt; group posts used &lt;a href=&quot;https://en.wikipedia.org/wiki/ROT13&quot;&gt;ROT13&lt;/a&gt; to obscure answers to jokes and puzzles.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2d138a57fe30146d268bd53479485ab7/8608d/securing-todomvc-using-the-web-cryptography-api-56-638.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABQAE/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAUzlcUK1V//EABkQAAMBAQEAAAAAAAAAAAAAAAIDBAABE//aAAgBAQABBQKsyWkaGdozw9FDOXD3/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGxAAAgIDAQAAAAAAAAAAAAAAAREAAhASISL/2gAIAQEABj8C2qUXK0bD7g1TlDzzj//EABoQAAIDAQEAAAAAAAAAAAAAAAERABAhQVH/2gAIAQEAAT8hK0gIO+Uy5SZBvYeAQh05X//aAAwDAQACAAMAAAAQP8//xAAWEQEBAQAAAAAAAAAAAAAAAAARARD/2gAIAQMBAT8QgZ//xAAVEQEBAAAAAAAAAAAAAAAAAAAQIf/aAAgBAgEBPxCn/8QAHBABAQEAAgMBAAAAAAAAAAAAAREhABAxQVGB/9oACAEBAAE/EIxA2XF3iY3gjV+Z5OmQJmNAjbnFa4HqHzXZOv/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;I don&amp;#39;t always use encryption, but when I do, I use ROT26&quot;
        title=&quot;&quot;
        src=&quot;/static/2d138a57fe30146d268bd53479485ab7/1c72d/securing-todomvc-using-the-web-cryptography-api-56-638.jpg&quot;
        srcset=&quot;/static/2d138a57fe30146d268bd53479485ab7/a80bd/securing-todomvc-using-the-web-cryptography-api-56-638.jpg 148w,
/static/2d138a57fe30146d268bd53479485ab7/1c91a/securing-todomvc-using-the-web-cryptography-api-56-638.jpg 295w,
/static/2d138a57fe30146d268bd53479485ab7/1c72d/securing-todomvc-using-the-web-cryptography-api-56-638.jpg 590w,
/static/2d138a57fe30146d268bd53479485ab7/8608d/securing-todomvc-using-the-web-cryptography-api-56-638.jpg 638w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;From &lt;a href=&quot;https://www.slideshare.net/kevinhakanson/ng-owasp-ndc/8&quot;&gt;ng-owasp: OWASP Top 10 for AngularJS Applications&lt;/a&gt;, as I was explaining the presentation would focus on front-end technologies like HTML and JavaScript. I made the slide title of &lt;code class=&quot;language-text&quot;&gt;html[ng-app]:focus, script:focus&lt;/code&gt; a syntactically correct CSS selector. This referenced that AngularJS added &lt;code class=&quot;language-text&quot;&gt;class=&quot;ng-app&quot;&lt;/code&gt; to the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;html&gt;&lt;/code&gt; element, JavaScript uses the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;script&gt;&lt;/code&gt; element, and I misappropriated the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/:focus&quot;&gt;:focus&lt;/a&gt; CSS pseudo-class.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4bf1f29e5bf9c6a86e7bc1c5e87f7dae/8608d/ngowasp-owasp-top-10-for-angularjs-applications-8-638.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdyaoYg//8QAGRABAQADAQAAAAAAAAAAAAAAEQABITFC/9oACAEBAAEFAjfqGMPL/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFxAAAwEAAAAAAAAAAAAAAAAAEBEgQf/aAAgBAQAGPwLYY//EABwQAAICAgMAAAAAAAAAAAAAAAERACEQMUFx4f/aAAgBAQABPyEh6GLS12cLtOIuAIhP/9oADAMBAAIAAwAAABBjz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQEAAgIDAAAAAAAAAAAAAAERADEQIbHB8P/aAAgBAQABPxBKFt76l5yk3179uuAVKq3afaMUpoluAAwM/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;html[ng-app]:focus, script:focus&quot;
        title=&quot;&quot;
        src=&quot;/static/4bf1f29e5bf9c6a86e7bc1c5e87f7dae/1c72d/ngowasp-owasp-top-10-for-angularjs-applications-8-638.jpg&quot;
        srcset=&quot;/static/4bf1f29e5bf9c6a86e7bc1c5e87f7dae/a80bd/ngowasp-owasp-top-10-for-angularjs-applications-8-638.jpg 148w,
/static/4bf1f29e5bf9c6a86e7bc1c5e87f7dae/1c91a/ngowasp-owasp-top-10-for-angularjs-applications-8-638.jpg 295w,
/static/4bf1f29e5bf9c6a86e7bc1c5e87f7dae/1c72d/ngowasp-owasp-top-10-for-angularjs-applications-8-638.jpg 590w,
/static/4bf1f29e5bf9c6a86e7bc1c5e87f7dae/8608d/ngowasp-owasp-top-10-for-angularjs-applications-8-638.jpg 638w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;From &lt;a href=&quot;https://www.slideshare.net/kevinhakanson/introduction-to-speech-interfaces-for-web-applications/46&quot;&gt;Introduction to Speech Interfaces for Web Applications&lt;/a&gt;, where I made a Star Wars reference to line ”&lt;a href=&quot;https://starwars.fandom.com/wiki/TK-421&quot;&gt;TK-421&lt;/a&gt; why aren’t you at your post?” Each digit of 421 is enumerated by the actor, but most speech-to-text engines will say “four-hundred twenty-one” requiring custom mark-up to hear the intended result.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f1013c5dc28afbd6bff74caedb2e9a16/8608d/introduction-to-speech-interfaces-for-web-applications-46-638.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd6WpQsaH//EABkQAQEAAwEAAAAAAAAAAAAAAAMCAAEEEf/aAAgBAQABBQLOlNmfOm0PzEOUk4k5/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAgMBAQAAAAAAAAAAAAAAAAECERJREP/aAAgBAQAGPwI1Hpcu+ZkrRUVSP//EABgQAAMBAQAAAAAAAAAAAAAAAAABESEx/9oACAEBAAE/IbrMeWFqHZybpYiLw7VFlh3GL0//2gAMAwEAAgADAAAAEBAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAQEAAgMBAAAAAAAAAAAAAREAITFRYXGB/9oACAEBAAE/EAFL37wCLvZI3FUhGRCatIvncRaBTkfHN6hRTz+u/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;TK-421&quot;
        title=&quot;&quot;
        src=&quot;/static/f1013c5dc28afbd6bff74caedb2e9a16/1c72d/introduction-to-speech-interfaces-for-web-applications-46-638.jpg&quot;
        srcset=&quot;/static/f1013c5dc28afbd6bff74caedb2e9a16/a80bd/introduction-to-speech-interfaces-for-web-applications-46-638.jpg 148w,
/static/f1013c5dc28afbd6bff74caedb2e9a16/1c91a/introduction-to-speech-interfaces-for-web-applications-46-638.jpg 295w,
/static/f1013c5dc28afbd6bff74caedb2e9a16/1c72d/introduction-to-speech-interfaces-for-web-applications-46-638.jpg 590w,
/static/f1013c5dc28afbd6bff74caedb2e9a16/8608d/introduction-to-speech-interfaces-for-web-applications-46-638.jpg 638w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Hopefully, you found at least one of these funny without the explanation. Visit &lt;a href=&quot;https://kevinhakanson.com/presentations&quot;&gt;kevinhakanson.com/presentations&lt;/a&gt; for links to all my slide decks, associated code samples, and some video recordings.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;Original version appears as a &lt;a href=&quot;https://www.linkedin.com/pulse/7-attempts-slide-deck-humor-kevin-hakanson/&quot;&gt;LinkedIn article&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[7 Multi-Cloud Governance Best Practices]]></title><description><![CDATA[I recently authored a presentation on adopting multi-cloud, and pulled together this list of 7 multi-cloud best practices as a quick summary…]]></description><link>https://kevinhakanson.com/2020-09-12-7-multi-cloud-governance-best-practices/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-09-12-7-multi-cloud-governance-best-practices/</guid><pubDate>Sat, 12 Sep 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I recently authored a &lt;a href=&quot;https://www.brighttalk.com/webcast/14725/430858&quot;&gt;presentation on adopting multi-cloud&lt;/a&gt;, and pulled together this list of 7 multi-cloud best practices as a quick summary of the session. While I don’t claim this is an exhaustive list, it is a good starting point for those on a multi-cloud adoption journey.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;#1 - Know why you are multi-cloud&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Organizations use multiple clouds for a variety of reasons. But it is not always right for every company or every situation. When I read &lt;a href=&quot;https://www.lastweekinaws.com/blog/multi-cloud-is-the-worst-practice/&quot;&gt;Multi-Cloud is the Worst Practice&lt;/a&gt;, I was drawn to this comment:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In practice, every “we’re multi-cloud” story I’ve ever seen in the wild means “we’re over 80% on our primary provider, then have a smattering of workloads on others.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Sometimes multi-cloud is just a fact of doing business, whether you have a strategic initiative to migrate between clouds, or the result of a merger or acquisition has left you with a multi-cloud footprint. It is critical to understand your reason for being multi-cloud.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;#2 – Write down “your” definitions&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;“Common” terminology like &lt;strong&gt;cloud-native&lt;/strong&gt; and &lt;strong&gt;cloud-agnostic&lt;/strong&gt; seem to have different meanings, depending on the situation and whom you ask. Document your contextual meaning and provide examples. Take the case of Amazon DocumentDB (with &lt;em&gt;MongoDB&lt;/em&gt; compatibility) or Azure Cosmos DB’s API for &lt;em&gt;MongoDB&lt;/em&gt; – are these cloud-native because they are a PaaS service, cloud-agnostic because they support the &lt;em&gt;MongoDB&lt;/em&gt; protocol, or is the only “approved” implementation hosting your own &lt;em&gt;MongoDB&lt;/em&gt; instance on IaaS?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;#3 – Review multiple Shared Responsibility Models&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;When it comes to shared responsibility for cloud security, a common theme emerges of separating the cloud provider’s responsibility and your responsibility as the cloud customer&lt;a href=&quot;#_ftn1&quot;&gt;[1]&lt;/a&gt;. These models have differences in their layers, but the top level of each highlights protecting customer data.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/compliance/shared-responsibility-model/&quot;&gt;AWS - Shared Responsibility Model&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://cloud.google.com/blog/products/containers-kubernetes/exploring-container-security-the-shared-responsibility-model-in-gke-container-security-shared-responsibility-model-gke&quot;&gt;Google Cloud - Shared Responsibility Model&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/azure/security/fundamentals/shared-responsibility&quot;&gt;Microsoft Azure - Shared Responsibility Model&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;#4 – Evaluate multiple Cloud Adoption Frameworks&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Each framework has a different approach and adds value to the ongoing conversation about multi-cloud adoption. There is a common understanding that alignment between Business and IT is needed for a successful cloud adoption and that security plays a central and ongoing role.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/professional-services/CAF/&quot;&gt;AWS Cloud Adoption Framework&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://cloud.google.com/adoption-framework/&quot;&gt;The Google Cloud Adoption Framework&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/azure/cloud-adoption-framework/overview&quot;&gt;Microsoft Cloud Adoption Framework for Azure&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;#5 – Consult multiple Well-Architected Frameworks&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This set of documents has more cloud-native than cloud-agnostic advice, but each cloud provider has (basically) aligned on a common set of pillars: Operational Excellence, Security, Reliability, Performance Efficiency, and Cost Optimization.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/architecture/well-architected/&quot;&gt;AWS Well-Architected Framework&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://cloud.google.com/architecture/framework&quot;&gt;Google Cloud’s Architecture Framework&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/azure/architecture/framework/&quot;&gt;Microsoft Azure Well-Architected Framework&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;#6 – Know your proper names&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Each hyperscale cloud provider has similar core concepts, but often use different names. An &lt;strong&gt;Account&lt;/strong&gt; in AWS is like a &lt;strong&gt;Project&lt;/strong&gt; in GCP and is like a &lt;strong&gt;Subscription&lt;/strong&gt; in Microsoft Azure. Each of these terms describe the core container of cloud resources and can be organized into a hierarchy with policies applied at different levels. Another common element, a “load balancer” might be at the application level (e.g. OSI Layer 4 or HTTP), or at the network level (e.g. OSI Layer 4 or TCP), or allow for either. Watch out when trying to make your terminology cloud-agnostic when you really need to be using the cloud-native service names.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;#7 – Plan for the impact on your Cloud Center of Excellence&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Hopefully your &lt;a href=&quot;/blog/cloud-center-of-excellence-drives-success&quot;&gt;Cloud Center of Excellence (CCoE)&lt;/a&gt; team members are already experts at the cloud adoption functions of governance, security, and automation. But, people and skills are often an organization’s limiting factor, and you need to focus on workloads and business outcomes. A CCoE team needs to have multi-cloud insight into the security and governance across all your workloads and their corresponding dependencies whether IaaS, PaaS, or SaaS. My recommendation is to find an independent, trusted partner (specialty consultant or software vendor) who focuses all their time thinking about multi-cloud to help.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;#_ftnref1&quot;&gt;[1]&lt;/a&gt; &lt;a href=&quot;https://www.cisecurity.org/blog/shared-responsibility-cloud-security-what-you-need-to-know/&quot;&gt;CIS: &lt;em&gt;Shared Responsibility for Cloud Security: What You Need to Know&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;Original version appears on the &lt;a href=&quot;https://discover.opscompass.com/blog/7-multi-cloud-governance-best-practices&quot;&gt;OpsCompass blog&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[What is the OWASP Cyber Defense Matrix?]]></title><description><![CDATA[The OWASP® Foundation works to improve the security of software through its community-led open source software projects, including the OWASP…]]></description><link>https://kevinhakanson.com/2020-08-12-what-is-the-owasp-cyber-defense-matrix/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-08-12-what-is-the-owasp-cyber-defense-matrix/</guid><pubDate>Wed, 12 Aug 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://owasp.org/&quot;&gt;The OWASP® Foundation&lt;/a&gt; works to improve the security of software through its community-led open source software projects, including the &lt;a href=&quot;https://owasp.org/www-project-cyber-defense-matrix/&quot;&gt;OWASP Cyber Defense Matrix&lt;/a&gt;, a project initially created to help organize security technologies across the cybersecurity vendor marketplace. They address some of the confusion that still exists as a result of both a cybersecurity community that doesn’t use consistent terminology and vendors who use marketecture language based on trendy jargon.&lt;/p&gt;
&lt;p&gt;Let’s first take a peek at an empty Cyber Defense Matrix and then dig into the components that define its structure.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.72972972972974%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACA0lEQVR42q2Sy2sUQRDG568U0bAegmI2PlgPOQR0wSgmoATiKxB8HNTg6xJv4lXwFETYg2J0szrubtidncdOv3s+q3o20YNHG4r6dU9P1VdVHeFwVbVTeYH0y1eIZAJjLfJuD+XBAaz3KH7EmP4awDoXOPvWhZYSYpTULAQiDqKNw14/xSApYJSCUzp4Td4ZU7Omc017bSiIgqUzS3tFzHcsBWYfWeeRlwrjXCItZAjifQVDP/JlZmts/SPdZZNCwlp3xI7YE/O9KKNgn3+OsT+sFfIhL0dlGcrIy8+4qqpgWnNSH9j8xexDyVLb2hSVoyV94ABUjqrZztg5G0xKQQpNYCXlEbMPAfvJlHo4wZAUKu4hKWIVkvvC6mZsrQ0mqPmsmJlLPmT20Wy4SAqFeJRTP/5DycQQmp5CSdmUoGhUApVuRImKy+EpkyrHHFT9USjEP0rmNcpkGEpGalLajynbmKZXEOeUMSOW/E7JSn5KrIifHAXxrJSNJh3x6LuDFJ04Qbw3wPfFB/g0/wgfFl/i3dxT7BzbxvbJHWw13mLj9HusNnex3OygdbGL5qU+5ltDLCyP0F5PsbY1RTSclPhIgTq9BPu9GG/unsOrWw283jyL52un8OzKcTy5OofH7QbuXTiB260G7l8/gzs3FrC+eh7Xbi7h8kYbS5srWHnxEL8B15UzB3oZLhgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;OWASP Cyber Defense Matrix&quot;
        title=&quot;&quot;
        src=&quot;/static/d3a5e54ee8a9147f83cb66ee879fe5d1/fcda8/OWASP_Cyber_Defense_Matrix.png&quot;
        srcset=&quot;/static/d3a5e54ee8a9147f83cb66ee879fe5d1/12f09/OWASP_Cyber_Defense_Matrix.png 148w,
/static/d3a5e54ee8a9147f83cb66ee879fe5d1/e4a3f/OWASP_Cyber_Defense_Matrix.png 295w,
/static/d3a5e54ee8a9147f83cb66ee879fe5d1/fcda8/OWASP_Cyber_Defense_Matrix.png 590w,
/static/d3a5e54ee8a9147f83cb66ee879fe5d1/efc66/OWASP_Cyber_Defense_Matrix.png 885w,
/static/d3a5e54ee8a9147f83cb66ee879fe5d1/c83ae/OWASP_Cyber_Defense_Matrix.png 1180w,
/static/d3a5e54ee8a9147f83cb66ee879fe5d1/4ca46/OWASP_Cyber_Defense_Matrix.png 1944w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
Source: &lt;a href=&quot;https://owasp.org/www-project-cyber-defense-matrix/&quot;&gt;https://owasp.org/www-project-cyber-defense-matrix/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The raw matrix is structured as a five-by-five grid with the left column labels consisting of Asset Types and the top row labels of Security Functions.&lt;/p&gt;
&lt;p&gt;These five high level security functions, described in detail in the &lt;a href=&quot;/2020-06-26-introduction-to-the-nist-cybersecurity-framework&quot;&gt;Introduction to the NIST Cybersecurity Framework&lt;/a&gt;, are listed below for reference:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Identify (ID)&lt;/strong&gt; – Develop an organizational understanding to manage cybersecurity risk to systems, people, assets, data, and capabilities. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Protect (PR)&lt;/strong&gt; – Develop and implement appropriate safeguards to ensure delivery of critical services. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Detect (DE)&lt;/strong&gt; – Develop and implement appropriate activities to identify the occurrence of a cybersecurity event. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Respond (RS)&lt;/strong&gt; – Develop and implement appropriate activities to take action regarding a detected cybersecurity incident. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Recover (RC)&lt;/strong&gt; – Develop and implement appropriate activities to maintain plans for resilience and to restore any capabilities or services that were impaired due to a cybersecurity incident.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &lt;strong&gt;CIS Controls&lt;/strong&gt;, in conjunction with the five NIST functions, uses five Asset Types to classify almost every individual CIS Sub-Control.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Devices&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Applications&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Networks&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Data&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Users&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;While the image below is an arbitrary example taken from the CIS Controls v7.1 document, it illustrates how &lt;strong&gt;CIS Sub-Control 4.1: Maintain Inventory of Administrative Accounts&lt;/strong&gt; applies to the intersection of the Users asset type and the Detect security function. For a deeper dive on CIS, take a look at our recent blog &lt;a href=&quot;/2020-06-11-understanding-cis-controls-and-benchmarks&quot;&gt;Understanding CIS Controls and Benchmarks&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c014247db49d9cc3c598dc7ee1b26d21/3707e/CIS_Control_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.7027027027027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABOElEQVR42nWOeU/CUBDE+/2/D4mieCvRIHfpIZdCORpoS+/752uJf2jiJpOZN7s7b6Vr1eBW3/I42/GyMLlSDBrDJZX/NN/TVNZcyF9cTlait6alGbRErzFacqdv2IUZ2yBlI7APUyQvSrC8gIrdMObo+uIdcjx52J5fe44f4QQRlhsIHRIkGQehLaH/lrRYGTy/dYgLmAvdvLln+rmqvb3lkIqhpARfhLQ7XR7arxjmgazyi5IgF8gKvCQnSHMkPxTX2DYijx8dJQmO6xLFCWEU15zlBa4vrrIdnJNLGMf1XMWx4LIsKasL0yzDck51YLVgn85B8kRhoqhnqGr9kaZ/0O33GQxH9IfDeua916PXHzCdLzA2GyT+qaIofiHPc2azGbIso+s6uqahKgrj8RhNaNM0sW2bbyaCwShuguKFAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;CIS Control 4&quot;
        title=&quot;&quot;
        src=&quot;/static/c014247db49d9cc3c598dc7ee1b26d21/fcda8/CIS_Control_4.png&quot;
        srcset=&quot;/static/c014247db49d9cc3c598dc7ee1b26d21/12f09/CIS_Control_4.png 148w,
/static/c014247db49d9cc3c598dc7ee1b26d21/e4a3f/CIS_Control_4.png 295w,
/static/c014247db49d9cc3c598dc7ee1b26d21/fcda8/CIS_Control_4.png 590w,
/static/c014247db49d9cc3c598dc7ee1b26d21/efc66/CIS_Control_4.png 885w,
/static/c014247db49d9cc3c598dc7ee1b26d21/c83ae/CIS_Control_4.png 1180w,
/static/c014247db49d9cc3c598dc7ee1b26d21/3707e/CIS_Control_4.png 1878w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now let’s use the Cyber Defense Matrix as a tool to organize some data pertaining to security controls. As you review the entire set of &lt;a href=&quot;https://nvlpubs.nist.gov/nistpubs/CSWP/NIST.CSWP.04162018.pdf&quot;&gt;NIST CSF Subcategories&lt;/a&gt; and &lt;a href=&quot;https://www.cisecurity.org/white-papers/cis-controls-v7-1-implementation-groups/&quot;&gt;CIS Sub-Controls&lt;/a&gt; totaled by their related security function, &lt;strong&gt;Protect&lt;/strong&gt; receives by far the most attention, followed by &lt;strong&gt;Detect&lt;/strong&gt; and &lt;strong&gt;Identify&lt;/strong&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Identify&lt;/strong&gt; – NIST CSF: &lt;strong&gt;29&lt;/strong&gt; / CIS &lt;strong&gt;18&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Protect&lt;/strong&gt; – NIST CSF: &lt;strong&gt;39&lt;/strong&gt; / CIS &lt;strong&gt;75&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Detect&lt;/strong&gt; – NIST CSF: &lt;strong&gt;18&lt;/strong&gt; / CIS &lt;strong&gt;36&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Respond&lt;/strong&gt; – NIST CSF: &lt;strong&gt;16&lt;/strong&gt; / CIS &lt;strong&gt;6&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Recover&lt;/strong&gt; – NIST CSF: &lt;strong&gt;6&lt;/strong&gt; / CIS &lt;strong&gt;0&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Going back to the matrix structure, there is a categorization of the &lt;strong&gt;People / Process / Technology&lt;/strong&gt; model represented as a continuum characterizing the &lt;strong&gt;Degree of Dependency&lt;/strong&gt; for each.  There is a consistent reliance on &lt;strong&gt;Process&lt;/strong&gt;, a strong dependency on &lt;strong&gt;Technology&lt;/strong&gt; solutions to &lt;strong&gt;Identify&lt;/strong&gt; and &lt;strong&gt;Protect&lt;/strong&gt;, and an increasing need to apply your human expertise &lt;strong&gt;(People)&lt;/strong&gt; as you move into &lt;strong&gt;Detect, Respond,&lt;/strong&gt; and &lt;strong&gt;Recover&lt;/strong&gt;. &lt;/p&gt;
&lt;p&gt;When a Security Event occurs related to one of our assets, it happens between the &lt;strong&gt;Protect&lt;/strong&gt; and &lt;strong&gt;Detect&lt;/strong&gt; columns.  This highlights the importance of leveraging &lt;strong&gt;Technology&lt;/strong&gt; solutions along with the &lt;strong&gt;Identify&lt;/strong&gt; and &lt;strong&gt;Protect&lt;/strong&gt; functions.  However, keep in mind that this is not a one-time effort, but rather an ongoing struggle to keep up with new assets and their ever-changing configurations. &lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;Original version appears on the &lt;a href=&quot;https://discover.opscompass.com/blog/owasp-cyber-defense-matrix&quot;&gt;OpsCompass blog&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Introduction to the NIST Cybersecurity Framework]]></title><description><![CDATA[The NIST Cybersecurity Framework (NIST CSF) was created via a collaboration between the United States government and industry as a voluntary…]]></description><link>https://kevinhakanson.com/2020-06-26-introduction-to-the-nist-cybersecurity-framework/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-06-26-introduction-to-the-nist-cybersecurity-framework/</guid><pubDate>Fri, 26 Jun 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The &lt;a href=&quot;https://www.nist.gov/cyberframework&quot;&gt;NIST Cybersecurity Framework&lt;/a&gt; (NIST CSF) was created via a collaboration between the United States government and industry as a voluntary framework to promote the protection of critical infrastructure, and is based on existing standards, guidelines, and practices.  The NIST CSF consists of three main components: Core, Implementation Tiers, and Profiles. In this blog, we will explore the Framework Core with the same example we used in &lt;a href=&quot;/2020-06-11-understanding-cis-controls-and-benchmarks&quot;&gt;Understanding CIS Controls and Benchmarks&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 220px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEe0lEQVR42oWUe0zbVRTHf4DuH4nJTKYi24ybmVmZw40NNpry7oPQIhSaEWPm4iNEkyUuJkuGzPLYxiZjTF5Sug3LQ1lt6CAgEIp7MEAoKC2l8uoKtLQ/WlpoaYE+6PHX3w9qNTJPcnN/+d17P+d7zj33IMi/jCPkBHGBG4g8zwACOABByP8aF/GBjgtpESebGTeixPSn5KZPspmC2eZkwXgt7Z6SSuIKd+HbueDdH7CDV0JVuJD6XuSD5D5yTxqcaGWoSc1k8UEBmx57R1NBrZuYeF+0ACmN02ra3TEmDgUI3BF27Efqh9HdqRD5C0P6QlXoqcLCwrdmuiYSejsffTwqEbGE3xeTXr/0gJRYp7qf0bYCNIHiKhGZX4q8OcNhTbQMSi8bwluTrilID4OVQ4oqnU5n94AHzCaTx+F0gslsdk8qRrsUfO7bUTxlVma7BRiCiW8IjvDvnFJuUUKiO1mWiA763dGv+l6dmpycAMI2seFeWlpyYebGvj3en/MareOPFj45tmH2s3TxIlB5w1F+OUWQIxJWcWQ3czk8OzxUNa0a2IK5PB78PBgNBnA4HODnBPR6vfWn0oLDDKH2MbN5occHBCTixdIL9DxSySGGbHDs0431dZDL5W6pVAptbW1gNBrBarGAyWSC4eFh6OnpAYlE4kYXF2FeNVUXktNx/INCScH5SO7LuDpNfHy49XSSewbZfWQG1Xc4NxzQ3d3t7urshMbGRljEDlow4MrKCshkMhCJRN7hGRsbg2XLiuHi2YthhYySP/NTb3MIYEwS20BJsDWmpERoUXTaP6ztkFG9HhwbG+Bn+ILXSZNIlMRlVsjz2WW5OHCOknjGQE5c/jkr64QGRedwGmH4SZvNBiqVCg95aw3cbjcOtdvt0N7eQr3MKB3MT/8uDwfqKQmRxhiq59GhsJNqFJVuA72zF7Kg1eJKvblEUXQbiis0m01r1UXVMXmsstm8tPKPcOBDUmzwUhzNqj1AOjekmr6+fcNmsxnPnb/ZVlfBgOUUU4g7nNPM9n9+6lLslfQKZ25q6Tu+OlyKodZZo+MGSxoa3jWg6Pqq1QpqtdozNDQE3jEyMgLj4+OgxMb83Bx469KDiRwYfXoml3ar8lpmlRR/cAgQ73oqOvqgOY7utIRHnasdeJK1uoyps1o3W1tbXfX19S6xWOzCysUlEAhcWP25vOoe//Zr2QXKlciizOrNnJSbdKIOsSco5BBPT0dOyLbFJ4PmwNEE8fhymmZea/O/0e3ZZDJDv0xVdPYY92hRBs9YwC6v9MF8vQEh2tZ8VOJlHYtcY7+DZPxQ8GVYW/+z878rNS3KZ2iffFrX9USmL+DXNpGhCon4lpNX+TWz7P4WIuA/Gg4BXap85bC9JkTn4O/RrJcH3bAWI+yFqwjVWISw1m4H5jh5u+Xrd0LW1KVvniZ67U79ELPt8PV1r71k5u39YpW/v3eNv3fBXhNqwWajnb9v1MLbf1178419hAjucxqsr7sjAf5egYMEKSr2BCu4yK5/7NsB9BcZP0CdAABWVQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Core, Tiers, Profile&quot;
        title=&quot;&quot;
        src=&quot;/static/d57d0d5a9c313be089f2239f141f1df1/c8042/wheel_pie.png&quot;
        srcset=&quot;/static/d57d0d5a9c313be089f2239f141f1df1/12f09/wheel_pie.png 148w,
/static/d57d0d5a9c313be089f2239f141f1df1/c8042/wheel_pie.png 220w&quot;
        sizes=&quot;(max-width: 220px) 100vw, 220px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;br&gt;
&lt;a href=&quot;https://www.nist.gov/cyberframework&quot;&gt;Source: NIST Cybersecurity Framework&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;Framework Core&lt;/strong&gt; provides a “set of activities to achieve specific cybersecurity outcomes, and references examples of guidance to achieve those outcomes” and is separated into five high level &lt;strong&gt;Functions&lt;/strong&gt; (Identify, Protect, Detect, Respond, Recover).  Each function is further divided to 23 &lt;strong&gt;Categories&lt;/strong&gt; (see figure below), each of which are assigned an identifier (ID) and are closely tied to needs and activities.  The deepest level of abstraction in the NIST CSF are the supporting 108 &lt;strong&gt;Subcategories&lt;/strong&gt;, which are associated with multiple &lt;strong&gt;Informative References&lt;/strong&gt; linking back to other standards, guidance, and publications including the CIS Controls (CIS CSC). As with many frameworks, consider the details as illustrative and risk informing and not as exhaustive listing.&lt;/p&gt;
&lt;p&gt;As described in section 2.1 of the (NIST) &lt;a href=&quot;https://nvlpubs.nist.gov/nistpubs/CSWP/NIST.CSWP.04162018.pdf&quot;&gt;Framework for Improving Critical Infrastructure Cybersecurity Version 1.1 Update&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Identify&lt;/strong&gt; &lt;strong&gt;(ID)&lt;/strong&gt; – Develop an organizational understanding to manage cybersecurity risk to systems, people, assets, data, and capabilities.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Protect&lt;/strong&gt; &lt;strong&gt;(PR)&lt;/strong&gt; – Develop and implement appropriate safeguards to ensure delivery of critical services.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Detect&lt;/strong&gt; &lt;strong&gt;(DE)&lt;/strong&gt; – Develop and implement appropriate activities to identify the occurrence of a cybersecurity event.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Respond&lt;/strong&gt; &lt;strong&gt;(RS)&lt;/strong&gt; – Develop and implement appropriate activities to take action regarding a detected cybersecurity incident.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Recover&lt;/strong&gt; &lt;strong&gt;(RC)&lt;/strong&gt; – Develop and implement appropriate activities to maintain plans for resilience and to restore any capabilities or services that were impaired due to a cybersecurity incident.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 107.43243243243244%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAVABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQCA//EABYBAQEBAAAAAAAAAAAAAAAAAAECAP/aAAwDAQACEAMQAAAB60aprcFY0FpBoU//xAAcEAABBAMBAAAAAAAAAAAAAAADAAECBBEUMTP/2gAIAQEAAQUCAEc4awc6wVWi0Rt1VfJur//EABcRAQEBAQAAAAAAAAAAAAAAAAEQIRH/2gAIAQMBAT8BTmQV1n//xAAbEQACAQUAAAAAAAAAAAAAAAAAARICAxAhMf/aAAgBAgEBPwF3JbRJlPMf/8QAHRAAAQQCAwAAAAAAAAAAAAAAAQACEBESMiFxof/aAAgBAQAGPwIkiza0Wnqdi7LmXdz/AP/EABsQAAIDAAMAAAAAAAAAAAAAAAABESExEJGh/9oACAEBAAE/IYt5S2LX6YlYnYRkB6jkWBbDP//aAAwDAQACAAMAAAAQvCh8/8QAFxEBAQEBAAAAAAAAAAAAAAAAEQABEP/aAAgBAwEBPxBcLFR3n//EABsRAAIBBQAAAAAAAAAAAAAAAAABEBEhMWFx/9oACAECAQE/EGNXs+o2mGP/xAAeEAEAAgIBBQAAAAAAAAAAAAABABEhMfBBUXGBsf/aAAgBAQABPxA56QtVBWmWjueWYHRhzwYF1BQimjE20PrEQO75lYvr+EOHFb1Bmf/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;NIST Categories&quot;
        title=&quot;&quot;
        src=&quot;/static/1c7aef746f609914e73c89f016e546ab/1c72d/NIST_Categories.jpg&quot;
        srcset=&quot;/static/1c7aef746f609914e73c89f016e546ab/a80bd/NIST_Categories.jpg 148w,
/static/1c7aef746f609914e73c89f016e546ab/1c91a/NIST_Categories.jpg 295w,
/static/1c7aef746f609914e73c89f016e546ab/1c72d/NIST_Categories.jpg 590w,
/static/1c7aef746f609914e73c89f016e546ab/a8a14/NIST_Categories.jpg 885w,
/static/1c7aef746f609914e73c89f016e546ab/38044/NIST_Categories.jpg 936w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;br&gt;
Source: Table 1, &lt;a href=&quot;https://nvlpubs.nist.gov/nistpubs/CSWP/NIST.CSWP.04162018.pdf&quot;&gt;Framework for Improving Critical Infrastructure Cybersecurity&lt;/a&gt; &lt;a href=&quot;https://nvlpubs.nist.gov/nistpubs/CSWP/NIST.CSWP.04162018.pdf&quot;&gt;Version 1.1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;To continue with the Multi-Factor Authentication (MFA) example from our previous CIS Controls and Benchmarks post, let’s drill into the &lt;strong&gt;Protect (PR)&lt;/strong&gt; Function and look at the &lt;strong&gt;PR.AC&lt;/strong&gt; Category described by NIST as:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Identity Management, Authentication and Access Control (PR.AC)&lt;/strong&gt;: Access to physical and logical assets and associated facilities is limited to authorized users, processes, and devices, and is managed consistent with the assessed risk of unauthorized access to authorized activities and transactions.&lt;/p&gt;
&lt;p&gt;This clearly pertains to the identity of users and how they authenticate into systems. Going further down into the &lt;strong&gt;PR.AC-7&lt;/strong&gt; subcategory:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PR.AC-7&lt;/strong&gt;: Users, devices, and other assets are authenticated (e.g., single-factor, multi-factor) commensurate with the risk of the transaction (e.g., individuals’ security and privacy risks and other organizational risks)&lt;/p&gt;
&lt;p&gt;Additionally, the &lt;a href=&quot;https://nvlpubs.nist.gov/nistpubs/CSWP/NIST.CSWP.04162018.pdf#page=37%26zoom=100,92,96&quot;&gt;Informative References for &lt;strong&gt;PR.AC-7&lt;/strong&gt;&lt;/a&gt; include a reference to &lt;strong&gt;CIS CSC 1, 12, 15, 16.&lt;/strong&gt; That list contains &lt;strong&gt;CIS Control 16,&lt;/strong&gt; which is &lt;strong&gt;Account Monitoring and Control&lt;/strong&gt; and includes subcontrol &lt;strong&gt;16.3 Require Multi-factor Authentication&lt;/strong&gt;. However, PR.AC-7 doesn’t seem to mention &lt;strong&gt;CIS Control 4: Controlled Use of Administrative Privileges&lt;/strong&gt; and subcontrol &lt;strong&gt;4.5: Use Multi-Factor Authentication for All Administrative Access.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Combining NIST CSF together with the CIS Controls, a user with admin access requires MFA according to this set of recommendations.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CIS Controls v7.1 4.5&lt;/li&gt;
&lt;li&gt;CIS Controls v7.1 16.3&lt;/li&gt;
&lt;li&gt;NIST CSF v1.1 PR.AC-7&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;Original version appears on the &lt;a href=&quot;https://discover.opscompass.com/blog/intro-to-nist-cybersecurity-framework&quot;&gt;OpsCompass blog&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Customizing Azure Cloud Shell using a PowerShell Profile]]></title><description><![CDATA[After creating resources in the wrong subscription during some Azure training, I wrote Setting Subscription used inside Azure Cloud Shell…]]></description><link>https://kevinhakanson.com/2020-06-12-customizing-azure-cloud-shell-using-a-powershell-profile/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-06-12-customizing-azure-cloud-shell-using-a-powershell-profile/</guid><pubDate>Fri, 12 Jun 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;After creating resources in the wrong subscription during some Azure training, I wrote &lt;a href=&quot;/2020-01-08-setting-subscription-used-inside-azure-cloud-shell&quot;&gt;Setting Subscription used inside Azure Cloud Shell&lt;/a&gt;.  There I had used the PowerShell &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/az.accounts/get-azcontext?view=azps-4.2.0&quot;&gt;Get-AzContext&lt;/a&gt; cmdlet to determine my active Azure subscription.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;home/kevin&gt; &lt;span class=&quot;token function&quot;&gt;Get-AzContext&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Select-Object&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Property Name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Subscription&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Tenant &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Format-List&lt;/span&gt;

Name         : Windows Azure  MSDN &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; Visual Studio Premium &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;11111111-1111-4000-11111111111111111&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; MSI@50342
Subscription : 1111111-1111-4000-11111111111111111
Tenant       : 00000000-0000-4000-00000000000000000&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I was recently reminded &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_profiles?view=powershell-7&quot;&gt;about PowerShell profiles&lt;/a&gt; and found I could &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/cloud-shell/quickstart-powershell#use-custom-profile&quot;&gt;use a custom profile&lt;/a&gt; inside Azure Cloud Shell.  If you create a script and save it under &lt;code class=&quot;language-text&quot;&gt;$profile.CurrentUserAllHosts&lt;/code&gt;, it will be loaded during every PowerShell based Azure Cloud Shell session.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;home/kevin&gt; &lt;span class=&quot;token function&quot;&gt;Write-Output&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$profile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CurrentUserAllHosts
&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;home/kevin/&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;config/PowerShell/profile&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ps1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Outputting the &lt;code class=&quot;language-text&quot;&gt;Name&lt;/code&gt; property from &lt;code class=&quot;language-text&quot;&gt;Get-AzContext&lt;/code&gt; seemed like and easy way to remind myself of both the Azure subscription name and GUID as soon as I clicked on &lt;a href=&quot;https://shell.azure.com/&quot;&gt;shell.azure.com&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;home/kevin&gt; &lt;span class=&quot;token function&quot;&gt;Get-Content&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$profile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CurrentUserAllHosts
Microsoft&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;PowerShell&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Utility\&lt;span class=&quot;token function&quot;&gt;Write-Verbose&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Verbose &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Message &lt;span class=&quot;token string&quot;&gt;&quot;Active Azure Subscription = &lt;span class=&quot;token function&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Get-AzContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;.Name)&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, when starting a new Azure Cloud Shell session using PowerShell, I am greeted with a reminder of my active Azure subscription:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;Requesting a Cloud Shell&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Succeeded&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
Connecting terminal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;


MOTD: Scripts installed with &lt;span class=&quot;token string&quot;&gt;&apos;Install-Script&apos;&lt;/span&gt; can be run &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; the shell

VERBOSE: Authenticating to Azure &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
VERBOSE: Loading AllHosts profile &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
VERBOSE: Active Azure Subscription = Windows Azure  MSDN &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; Visual Studio Premium &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;1111111-1111-4000-11111111111111111&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; MSI@50342
VERBOSE: Building your Azure drive &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;home/kevin&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice that I decided to output using &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/write-verbose?view=powershell-7&quot;&gt;Write-Verbose&lt;/a&gt; with the &lt;code class=&quot;language-text&quot;&gt;-Verbose&lt;/code&gt; option to match the style of the other startup messages, instead of using &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/write-output?view=powershell-7&quot;&gt;Write-Output&lt;/a&gt; or &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/write-host?view=powershell-7&quot;&gt;Write-Host&lt;/a&gt;.  Here is how they each behave.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;home/kevin&gt; &lt;span class=&quot;token function&quot;&gt;Write-Output&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;test output&quot;&lt;/span&gt;
test output

&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;home/kevin&gt; &lt;span class=&quot;token function&quot;&gt;Write-Host&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;test host&quot;&lt;/span&gt;
test host

&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;home/kevin&gt; &lt;span class=&quot;token function&quot;&gt;Write-Verbose&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;test verbose&quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;home/kevin&gt; &lt;span class=&quot;token function&quot;&gt;Write-Verbose&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Verbose &lt;span class=&quot;token string&quot;&gt;&quot;test verbose&quot;&lt;/span&gt;
VERBOSE: test verbose
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;home/kevin&gt; &lt;span class=&quot;token variable&quot;&gt;$VerbosePreference&lt;/span&gt;
SilentlyContinue
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;home/kevin&gt; &lt;span class=&quot;token variable&quot;&gt;$VerbosePreference&lt;/span&gt; = &lt;span class=&quot;token string&quot;&gt;&quot;Continue&quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;home/kevin&gt; &lt;span class=&quot;token function&quot;&gt;Write-Verbose&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;test verbose&quot;&lt;/span&gt;
VERBOSE: test verbose&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Understanding CIS Controls and Benchmarks]]></title><description><![CDATA[In a conversation about cyber security or cyber defense, you might hear the terms CIS and security controls mentioned as a recommended best…]]></description><link>https://kevinhakanson.com/2020-06-11-understanding-cis-controls-and-benchmarks/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-06-11-understanding-cis-controls-and-benchmarks/</guid><pubDate>Thu, 11 Jun 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In a conversation about cyber security or cyber defense, you might hear the terms CIS and security controls mentioned as a recommended best practice.  However, without some additional context this is just another TLA (Three Letter Acronym).&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;https://www.cisecurity.org/&quot;&gt;Center for Internet Security&lt;/a&gt;, Inc. (CIS®) is an independent, non-profit organization that curates consensus-based guides using a volunteer community of security practitioners and cyber experts.  CIS is often used as shorthand for their well-known CIS Controls® and CIS Benchmarks™, which they define as:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CIS Controls&lt;/strong&gt; - prescriptive, prioritized, and simplified set of cybersecurity best practices&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CIS Benchmarks&lt;/strong&gt; - consensus-developed secure configuration guidelines for hardening&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Together, they take the most pervasive and dangerous cyber threats and pair them with specific and actionable ways to stop or mitigate a cyber-attack.&lt;/p&gt;
&lt;h2&gt;CIS Controls&lt;/h2&gt;
&lt;p&gt;As a foundational element, CIS Controls are often mapped to regulatory and compliance frameworks, allowing them to be used as a common reference point.  CIS &lt;a href=&quot;https://www.cisecurity.org/cybersecurity-tools/mapping-compliance/&quot;&gt;Mapping and Compliance&lt;/a&gt; tools include PCI DSS, NIST Cybersecurity Framework (CSF), HIPPA, and ISO 27001.&lt;/p&gt;
&lt;p&gt;Sometimes it can be informative to dig into a specific example in order to better understand how the concepts apply. For example, take a scenario where a privileged or “admin” level user account should be protected with more than just a password. This is often referred to as a second factor or multi-factor authentication (MFA).  In the &lt;strong&gt;&lt;a href=&quot;https://learn.cisecurity.org/cis-controls-download&quot;&gt;CIS Controls V7.1&lt;/a&gt;&lt;/strong&gt; document from April 2019, this scenario is part of &lt;strong&gt;CIS Control 4: Controlled Use of Administrative Privileges&lt;/strong&gt;.  Included in this &lt;strong&gt;Control&lt;/strong&gt; are specific actions that organizations should implement, which are known as &lt;strong&gt;Sub-Controls&lt;/strong&gt;.  Related to this example, &lt;strong&gt;Sub-Control 4.5&lt;/strong&gt; is &lt;strong&gt;Use Multi-Factor Authentication for All Administrative Access&lt;/strong&gt;.&lt;/p&gt;
&lt;h2&gt;CIS Benchmarks&lt;/h2&gt;
&lt;p&gt;There are more than 140 CIS Benchmarks covering different technologies.  The individual recommendations from these benchmarks usually map to the most applicable CIS Control.  Each of the hyperscale public cloud providers have worked with CIS to publish a CIS Benchmark related to their cloud computing services. &lt;/p&gt;
&lt;p&gt;In the &lt;strong&gt;CIS Microsoft Azure Foundations Benchmark v1.1.0&lt;/strong&gt; from February 2019, there is a recommendation relating to our “admin” use case:  &lt;strong&gt;1.1 Ensure that multi-factor authentication is enabled for all privileged users&lt;/strong&gt;.  The 1.1 numbering is specific to this CIS Benchmark, but there is a reference back to the &lt;strong&gt;4.5 Use Multifactor Authentication For All Administrative Access&lt;/strong&gt; Sub-Control. &lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;CIS Amazon Web Services Foundations v1.2.0&lt;/strong&gt; from May 2018 also includes this “admin” use case (&lt;strong&gt;1.13 Ensure MFA is enabled for the “root” account)&lt;/strong&gt; and references &lt;strong&gt;Sub-Control 4.5&lt;/strong&gt; in the recommendation.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;CIS Google Cloud Platform Foundation Benchmark v1.1.0&lt;/strong&gt; from March 2020 includes &lt;strong&gt;1.3 Ensure that Security Key Enforcement is enabled for all admin accounts,&lt;/strong&gt; but it references a different CIS Control and Sub-Control related to MFA.  &lt;strong&gt;CIS Control 16&lt;/strong&gt; is &lt;strong&gt;Account Monitoring and Control&lt;/strong&gt; which includes Sub-Control &lt;strong&gt;16.3 Require Multi-factor Authentication&lt;/strong&gt; – an action that targets “all user accounts” and not just “privileged” users.  This isn’t wrong per se, but illustrates that even specific guidance can be subject to interpretation.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;CIS Microsoft 365 Foundations Benchmark v1.1.0&lt;/strong&gt; from December 2019 takes the same approach when &lt;strong&gt;1.1.1 (L1) Ensure multifactor authentication is enabled for all users in administrative roles&lt;/strong&gt; (also references Sub-Control 16.3).&lt;/p&gt;
&lt;h2&gt;Cybersecurity Tools&lt;/h2&gt;
&lt;p&gt;The &lt;a href=&quot;https://www.cisecurity.org/cybersecurity-tools/&quot;&gt;CIS Cybersecurity Tools&lt;/a&gt; page groups CIS Controls and CIS Benchmarks in the ‘Do it yourself’ category. For those on a multi-cloud journey, the single scenario being discussed above involved four separate CIS Benchmark recommendations and not one, but two, CIS Controls.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;Original version appears on the &lt;a href=&quot;https://discover.opscompass.com/blog/cis-controls-and-benchmarks&quot;&gt;OpsCompass blog&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Playing with Terraform inside Azure Cloud Shell]]></title><description><![CDATA[I noticed that terraform was one of the tools pre-configured in Azure Cloud Shell, so I decided to play around with it based on the…]]></description><link>https://kevinhakanson.com/2020-05-29-playing-with-terraform-inside-azure-cloud-shell/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-05-29-playing-with-terraform-inside-azure-cloud-shell/</guid><pubDate>Fri, 29 May 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I noticed that &lt;a href=&quot;https://www.terraform.io/&quot;&gt;terraform&lt;/a&gt; was one of the &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/cloud-shell/features#tools&quot;&gt;tools pre-configured in Azure Cloud Shell&lt;/a&gt;, so I decided to play around with it based on the Terraform &lt;a href=&quot;https://learn.hashicorp.com/terraform/azure/intro_az&quot;&gt;Getting Started - Azure&lt;/a&gt; learning track.&lt;/p&gt;
&lt;p&gt;I created a &lt;code class=&quot;language-text&quot;&gt;azuredeploy.tf&lt;/code&gt; file which would just create an Azure Resource Group named &lt;code class=&quot;language-text&quot;&gt;myResourceGroupT&lt;/code&gt; and Storage Account named &lt;code class=&quot;language-text&quot;&gt;terraformlabkjh20200529&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kevin@Azure:~$ &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; azuredeploy.tf
provider &lt;span class=&quot;token string&quot;&gt;&quot;azurerm&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  version         &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&gt;= 2.0&quot;&lt;/span&gt;
  features &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

resource &lt;span class=&quot;token string&quot;&gt;&quot;azurerm_resource_group&quot;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;example&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name     &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;myResourceGroupT&quot;&lt;/span&gt;
  location &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Central US&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

resource &lt;span class=&quot;token string&quot;&gt;&quot;azurerm_storage_account&quot;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;example&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name                     &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;terraformlabkjh20200529&quot;&lt;/span&gt;
  resource_group_name      &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; azurerm_resource_group.example.name
  location                 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; azurerm_resource_group.example.location
  account_tier             &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Standard&quot;&lt;/span&gt;
  account_replication_type &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;LRS&quot;&lt;/span&gt;

  tags &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    environment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;staging&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then after executing a &lt;code class=&quot;language-text&quot;&gt;terraform init&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;terraform apply&lt;/code&gt;, I could see the &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt; values of the created resources in the partial output below.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;azurerm_resource_group.example: Creation complete after 1s &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;/subscriptions/11111111-1111-4000-11111111111111111/resourceGroups/myResourceGroupT&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
azurerm_storage_account.example: Creating&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
azurerm_storage_account.example: Still creating&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;. &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;10s elapsed&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
azurerm_storage_account.example: Creation complete after 20s &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;/subscriptions/11111111-1111-4000-11111111111111111/resourceGroups/myResourceGroupT/providers/Microsoft.Storage/storageAccounts/terraformlabkjh20200529&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

Apply complete&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; Resources: &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; added, &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; changed, &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; destroyed.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I also could find these &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt; values from inspecting the &lt;code class=&quot;language-text&quot;&gt;terraform.tfstate&lt;/code&gt; file using a &lt;a href=&quot;https://stedolan.github.io/jq/&quot;&gt;jq&lt;/a&gt; query of &lt;code class=&quot;language-text&quot;&gt;&quot;.resources[].instances[].attributes.id&quot;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kevin@Azure:~$ &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; terraform.tfstate &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; jq &lt;span class=&quot;token string&quot;&gt;&quot;.resources[].instances[].attributes.id&quot;&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&quot;/subscriptions/11111111-1111-4000-11111111111111111/resourceGroups/myResourceGroupT&quot;&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&quot;/subscriptions/11111111-1111-4000-11111111111111111/resourceGroups/myResourceGroupT/providers/Microsoft.Storage/storageAccounts/terraformlabkjh20200529&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I did notice the &lt;code class=&quot;language-text&quot;&gt;terraform&lt;/code&gt; version was out of date inside Azure Cloud Shell.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kevin@Azure:~$ terraform &lt;span class=&quot;token parameter variable&quot;&gt;--version&lt;/span&gt;
Terraform v0.12.25
+ provider.azurerm v2.12.0

Your version of Terraform is out of date&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; The latest version
is &lt;span class=&quot;token number&quot;&gt;0.12&lt;/span&gt;.26. You can update by downloading from https://www.terraform.io/downloads.html&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But, then again, so is the version of the Azure CLI.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kevin@Azure:~$ az &lt;span class=&quot;token parameter variable&quot;&gt;--version&lt;/span&gt;
azure-cli                          &lt;span class=&quot;token number&quot;&gt;2.5&lt;/span&gt;.1 *

command-modules-nspkg              &lt;span class=&quot;token number&quot;&gt;2.0&lt;/span&gt;.3
core                               &lt;span class=&quot;token number&quot;&gt;2.5&lt;/span&gt;.1 *
nspkg                              &lt;span class=&quot;token number&quot;&gt;3.0&lt;/span&gt;.4
telemetry                          &lt;span class=&quot;token number&quot;&gt;1.0&lt;/span&gt;.4

Python location &lt;span class=&quot;token string&quot;&gt;&apos;/opt/az/bin/python3&apos;&lt;/span&gt;
Extensions directory &lt;span class=&quot;token string&quot;&gt;&apos;/home/kevin/.azure/cliextensions&apos;&lt;/span&gt;

Python &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Linux&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3.6&lt;/span&gt;.5 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;default, Apr &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2020&lt;/span&gt;, 06:22:39&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;GCC &lt;span class=&quot;token number&quot;&gt;5.4&lt;/span&gt;.0 &lt;span class=&quot;token number&quot;&gt;20160609&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

Legal docs and information: aka.ms/AzureCliLegal


You have &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; updates available. Consider updating your CLI installation with &lt;span class=&quot;token string&quot;&gt;&apos;sudo apt-get update &amp;amp;&amp;amp; sudo apt-get install --only-upgrade -y azure-cli&apos;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt; Detailed instructions can be found at https://aka.ms/doc/UpdateAzureCliApt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A simple example, but now I can add Terraform experience to my resume. :)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Connecting to Azure Cache for Redis from RedisInsight]]></title><description><![CDATA[I’ve blogged about Redis Security Investigation on AWS before, so thought I would see what the defaults in Azure look like.  It is nice to…]]></description><link>https://kevinhakanson.com/2020-05-20-connecting-to-azure-cache-for-redis-from-redisinsight/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-05-20-connecting-to-azure-cache-for-redis-from-redisinsight/</guid><pubDate>Wed, 20 May 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I’ve blogged about &lt;a href=&quot;/2018-06-22-redis-security-investigation&quot;&gt;Redis Security Investigation&lt;/a&gt; on AWS before, so thought I would see what the defaults in Azure look like.  It is nice to see a TLS connection is the default.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/47cff9fbe8437c31bb74abd9d70e4fea/f941f/AzureRedisNew.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 213.51351351351352%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAArCAYAAAB4pah1AAAACXBIWXMAABYlAAAWJQFJUiTwAAAGHklEQVR42oVXSXMTRxQ2XohtbbOvGmmkmdEujRZbkk0QNiFQJKnKAQJFqqgEB1+o4sAhtxxTUMUlxY/KL8g/yH/I+ct7LbcZjGQOX3W/nu7Xb389G4ZhwHBDOGEbdtCE5dVgWg4sPxZzO0hgEUyaW/Td4DXbQhzHqNfraLfbqNVqgnZdFxuOY8OpNmFWurDCHqxyDFUz4Nb7goHuJ7CrXbjVFvwohRt24DoOhsMUg8EAk8mYxj6Ojo7R6XSwYZoGUlr4+dlT3PvmBE9+eoTnz59jcfsWvv/uIZ49fYIkrqOQ24emFAUURYHneQIOMa9UKnTBkJhPsOG6DnRSu0biB0EgPoakgut6gmZ1bNuGqqrQdH0JTYMwFYHnfObg4GDJ0Pc9+qDD4I2qAlUpQScJdNqoEq2UiNa15Z4MLMvE/t4uHj9+hDdv3qDVauHw8BAb/CGgG9LRBM12B51uDw7ZsKSwRMZKqATdsnFjcxPnL1/i/fv3winT6RQbtmWRU4i4fRdHd+7h9MEPWHz7EI3eCJoTQHcrGQRizaC5EdZwo6Tg7MULvH37FkmSLCV0yD667aLeaKOeNBE3O0haPbjlCvxKiEa7h1rcRCS+t4juIowaSDo97BZLeEEM3717JxgKCTl2ioUCCvkc8oUccuTNQiGPYqlIxg7INg1EUZ0OxALNZgMx0S0a2YafMeQgDcoB0v4QXZJsQGOjGsEsqMjnitjfzaGYLyG/V0BuLy/GUp6cV9KwSTY8Ozu7VPmCoQ3fKmM2nuNwPMWwP0LaS9GKWxj0hphOZohrCTrNLgadFJ1GF57to+JVsbeTEww/kZAD01AsdJIeRv0x+u0B+q0BHR4i7Y7EWqPWFPR4cCC+B24VoV/D3vb+5wxZQtdzRRDbtgOH4Pk+XMOEXihSLGqkep5snCf7kspkb6XEcapjc2udysTg6GiO8XgkIn46m2GYDhBRlvDGICiLbLEoxDhueeQzN2/eXK2yTtKMxxMccvoQ036/hwOKqcWdO5gR89FoJJjIdDNNE9VqFbu7uysYkpe5fJV7p/CaxzSewCb76JpKKacLZHNXgi/Y3t5eIyEdYruVgwo806J8VkQxkODqchV8Zmtra7UNPc8nNftIqQTVymVRGFgKKeEqsIQ7OztrwoZscnx8LDCbz3FycoLZdCYKqU0S21QIPsKidZeyJV5jQzrENrKpcpvkQWEjuoAdZRAznQqwTrSog8ZyzuWM9660Id9YIdsNqbqMBhMK3B7i1gx+8wTlFjkquS3mYf8Bqr37iCc/IvLrVOKY4c6awDY8zA+ORNpNhgc4nh0TPae0m4p0HKdjmDppoJLUqgHbsFEth9hfnXq80UI77iCqUCcLIiQhVZhqgpjAace0qZiwNecSFUq/r7bX2JDtVibvcjvwCDIdORv4O3uURyUTTmz3lanHBdYhr3F/bTQaVO+aAtwj5DyKIoRhKC5lcN7z2ppMWeYo9wTZvLnTZccsI4n1DC/Chis3z7OQazxe/c49eWXYcPCWyDac8DLxORN4zrYqFosoUSvNpiKD913LkKsH24nV4ZHBDZxplo6Zyjzm+bWpxyrLB49kzDRDMmaJlvXQuvT6WgmVC5Wzh7Lqy+qSBYfWtSpLw4sYzDiAacn0qsorK7aUMCF1ORY5HFh1jkneJM0gg1mCpZf1cHW1uYjHj71jaSdpCl7PgsNmpVOEyqRCNmyyjPiyq9X6i15mdVhFVlmqK1VmsKe1K1X82p7Cm+VrNKsWH5Kel8H+RZWXbdQQzNghDBncvEk+ylliXuPMWdekxHPOvVCZS9Wc+gljsVgQo45gzB6WF/AoSxhLywzPz88/fXD6JLrCz2C1BNemuujZ1BJ8oeoy3WQrVcWzROfXq77sy8zw9evX+PDhg9DskiH/lzhUqa3yEga/UtnL4u2tENQLaBc0x6EhmlWtFiJNU/G6EI92U9lHfPoK9//6D7d+/xuLP/7B6Z//0g9Ond7RZfGacONDuI057LBP9BGNAyiqJiTP5XLC/pd/AY5FeVmnJ9vdV4i+/gXx4jdEt3+ldkm2Je/zqJm2gC7gUju1PnlVcPFgZszwf3uLza1IXeRQAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;New Azure Redis&quot;
        title=&quot;&quot;
        src=&quot;/static/47cff9fbe8437c31bb74abd9d70e4fea/fcda8/AzureRedisNew.png&quot;
        srcset=&quot;/static/47cff9fbe8437c31bb74abd9d70e4fea/12f09/AzureRedisNew.png 148w,
/static/47cff9fbe8437c31bb74abd9d70e4fea/e4a3f/AzureRedisNew.png 295w,
/static/47cff9fbe8437c31bb74abd9d70e4fea/fcda8/AzureRedisNew.png 590w,
/static/47cff9fbe8437c31bb74abd9d70e4fea/f941f/AzureRedisNew.png 736w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I wanted to connect to this Redis instance but didn’t want to (compile and) install the Redis CLI (and also install &lt;code class=&quot;language-text&quot;&gt;stunnel&lt;/code&gt; for TLS support), so I decided to check out &lt;a href=&quot;https://redislabs.com/redisinsight/&quot;&gt;RedisInsight&lt;/a&gt;, a lightweight multi-platform management GUI for Redis.  I left the password field below blank on the configuration, since I didn’t specifically set one up in Azure.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2eba820b986db4fc72b094a15e9c3c9a/f02b9/RedisInsightAdd.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABiklEQVR42o1SCY7CMAzk/79aLqH9AlcLiN7Q0jtNO2snaSnHCiKNHCXOZGzP5Gc6xXK5xGKxxGw2x3w+x263g20fsN9btN9/xHa7g2XZWK1+MTk7DtIsR5HnkFKirmvEcYwgCFQUQjygaZoX8Dmv0+mEie/7qCqB2hy2bYuyLFEUBZ1X+GZ1XaciVzbxPB95UUGKRhPKdlAYRdEQ+33/CZP04Mp4rddrrVATySGRVfblcPIYfDcmGxNuNhujMC8HQn4QhuGQ9M3iNwMhK+QWNETQmQQezDsl/+FBIRNmpDC6JGhNc3vCccPHA/hIKOlxVdXDY5VEZ63BuIfPH7wpOSCbCK2wvSsUBDUU47MeHxU6jgvr6CJJU+U//WOHS5zimiS4ZRkSiozr9ars8+zPB4Wu6yHxSGUQoiH/gQg6iiV7jqZdM4ExOX/I8dkBLyVTXeiIiPyjkd4UsdpzNA90f++RO8RRytYYW/nQ079wPzjxHYbpC9hHByUN0I1qWG6Jo1dify7U/eFwwB9HzD2778UWyQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;RedisInsight Add&quot;
        title=&quot;&quot;
        src=&quot;/static/2eba820b986db4fc72b094a15e9c3c9a/fcda8/RedisInsightAdd.png&quot;
        srcset=&quot;/static/2eba820b986db4fc72b094a15e9c3c9a/12f09/RedisInsightAdd.png 148w,
/static/2eba820b986db4fc72b094a15e9c3c9a/e4a3f/RedisInsightAdd.png 295w,
/static/2eba820b986db4fc72b094a15e9c3c9a/fcda8/RedisInsightAdd.png 590w,
/static/2eba820b986db4fc72b094a15e9c3c9a/efc66/RedisInsightAdd.png 885w,
/static/2eba820b986db4fc72b094a15e9c3c9a/c83ae/RedisInsightAdd.png 1180w,
/static/2eba820b986db4fc72b094a15e9c3c9a/f02b9/RedisInsightAdd.png 1554w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I was glad to see that I could not connect.  It looks like Azure not only sets a password (access token), but they make it long and random.   Additionally, they support two tokens allowing for a controlled password rotation workflow.  I am very impressed here.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cdadaf7a4b0d9fa71d09d74f172305d7/7f2ab/AzureRedisAccessKeys.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36.486486486486484%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAABYkAAAWJAGbFcYUAAAA7ElEQVR42nWQMY+EIBCF6dUYzV4EEUHhTlTcjVGLa/Y2Fna2/v+fcm81Flv4FcOQMO+9gRj15Vp7vz+MMUopxniapuxNyjnHcbuGJDyXqojjOAiCuq6FUBnnSUIpS7Mso5RGURRfQFhelNpQmnietyzLOI5d17m27RxKCzlIpBcQ+JalllKGYTjP8zAMfd9jzO2gQXL6CTshTV1XVSWEgBKc37bOoT52mqaRn+R5LnaQiDyfv6/X3zRN1lbbtiHnz8nRY96dIIi1VmuN3y2KgpjvUioJW9/313U93ADewR/1uELoaCBXYk+tlVL/9hg3rYL/QcwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Azure Redis Access Keys&quot;
        title=&quot;&quot;
        src=&quot;/static/cdadaf7a4b0d9fa71d09d74f172305d7/fcda8/AzureRedisAccessKeys.png&quot;
        srcset=&quot;/static/cdadaf7a4b0d9fa71d09d74f172305d7/12f09/AzureRedisAccessKeys.png 148w,
/static/cdadaf7a4b0d9fa71d09d74f172305d7/e4a3f/AzureRedisAccessKeys.png 295w,
/static/cdadaf7a4b0d9fa71d09d74f172305d7/fcda8/AzureRedisAccessKeys.png 590w,
/static/cdadaf7a4b0d9fa71d09d74f172305d7/efc66/AzureRedisAccessKeys.png 885w,
/static/cdadaf7a4b0d9fa71d09d74f172305d7/c83ae/AzureRedisAccessKeys.png 1180w,
/static/cdadaf7a4b0d9fa71d09d74f172305d7/7f2ab/AzureRedisAccessKeys.png 2236w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;After completing that connection in RedisInsight using the a password, I used the integrated CLI to execute a &lt;code class=&quot;language-text&quot;&gt;ping&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;info&lt;/code&gt; command.  I’m including both the partial text output and a screenshot.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;Connecting&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
Pinging Redis server on kjh-20200520.redis.cache.windows.net:6380&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;. Connected.
Ready to execute commands. 
&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ping&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&quot;PONG&quot;&lt;/span&gt; 
&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; info
&lt;span class=&quot;token comment&quot;&gt;# Server &lt;/span&gt;
redis_version:4.0.14
redis_mode:standalone 
os:Windows 
arch_bits:64 
multiplexing_api:winsock_IOCP &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c09cf7d597dc7a8bb0940b4b798da92c/061c7/RedisInsightCLI.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABxUlEQVR42p1U6Y6yQBCc93+n3Sfwh4mJokaF5T4EBORyxtruVr64ifuZlaSouajpnq5BlacaSVYgSXPU5xb8xNT2ggTmesV4ueBCYL5S/9Wj2rZHc+7QNB36YRSRumlpkxLlqUFeVIJjfsI4ahhz/S+UMSAR4EI80KsfDTFFpjm6O9/Bc6+gOOWirFHVZ4qA0tOGUtR3GOnraUybf/N6avO8Yb59o/a2D/srhOtF6LqeREcMwyDM4LGu6+QcJ0xzDO73fS9sSFjZhz32+x1c10FZlkjTFFVVoSgKxHEM27ZxOBxknPtRFAn7vo8gCJDnORzHEeaiqc/PD8xmMyyXS+x2O1loWRa2261EwIt4Z4bW+immOYmQ7RJGGaU5Smq3NDvBtOgvUJa1pvMLf0TC7cf+nwT9MIZDRXkUeldMBPnAHecLJypE0zSo6xpt274vOJ/PMYGLsVgspGpvp8y2YCHXdX9U9bf0X22k1us1VquViG42G4RhKBF6nkf+3MsxPBqaTc/t3yyk2JxsVuYg8MWHDBb0fQ9JEpOpE2RZIsymzrIUx2P2FCqKYvp1pXdk9BEhYxxpQU73vKRbU9If54bH9jN8A9/R1GHJC/T2AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;RedisInsight CLI&quot;
        title=&quot;&quot;
        src=&quot;/static/c09cf7d597dc7a8bb0940b4b798da92c/fcda8/RedisInsightCLI.png&quot;
        srcset=&quot;/static/c09cf7d597dc7a8bb0940b4b798da92c/12f09/RedisInsightCLI.png 148w,
/static/c09cf7d597dc7a8bb0940b4b798da92c/e4a3f/RedisInsightCLI.png 295w,
/static/c09cf7d597dc7a8bb0940b4b798da92c/fcda8/RedisInsightCLI.png 590w,
/static/c09cf7d597dc7a8bb0940b4b798da92c/efc66/RedisInsightCLI.png 885w,
/static/c09cf7d597dc7a8bb0940b4b798da92c/c83ae/RedisInsightCLI.png 1180w,
/static/c09cf7d597dc7a8bb0940b4b798da92c/061c7/RedisInsightCLI.png 1216w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Even with a strong password/access token, I don’t like leaving my Redis open to the internet.  In order to implement IP restrictions to this Redis instance, I can add firewall rules.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c8d5356b1b77d326fedbce65bcb02da9/d10b5/AzureRedisFirewall.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 15.54054054054054%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAk0lEQVR42lWOSwqDMBiE3WYZFSVRQyMNRsEHIaVukivU+19m2vwQoYuPeWxmiofWmOcZXdfBWgv9y8MwUBZCQEpJmn3btjdN0/zlRPF6n/DeYxxHXNcHIQSs64pt27DvO+lxHHDOkZ+miUjjy7LcOVPop6E3jDHEGGGMQVVVKMuSlHNOz/q+p66ua+rTY6UU+dRlvmlLUqlBVekBAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Azure Redis Firewall&quot;
        title=&quot;&quot;
        src=&quot;/static/c8d5356b1b77d326fedbce65bcb02da9/fcda8/AzureRedisFirewall.png&quot;
        srcset=&quot;/static/c8d5356b1b77d326fedbce65bcb02da9/12f09/AzureRedisFirewall.png 148w,
/static/c8d5356b1b77d326fedbce65bcb02da9/e4a3f/AzureRedisFirewall.png 295w,
/static/c8d5356b1b77d326fedbce65bcb02da9/fcda8/AzureRedisFirewall.png 590w,
/static/c8d5356b1b77d326fedbce65bcb02da9/efc66/AzureRedisFirewall.png 885w,
/static/c8d5356b1b77d326fedbce65bcb02da9/c83ae/AzureRedisFirewall.png 1180w,
/static/c8d5356b1b77d326fedbce65bcb02da9/d10b5/AzureRedisFirewall.png 2794w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The Azure CLI includes an &lt;a href=&quot;https://docs.microsoft.com/en-us/cli/azure/redis?view=azure-cli-latest&quot;&gt;az redis&lt;/a&gt; command to manage firewall rules.  However, this is a separate API call from listing information about the Redis instance.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;PS /home/kevin&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; az redis firewall-rules list --resource-group demo-playground &lt;span class=&quot;token parameter variable&quot;&gt;--name&lt;/span&gt; kjh-20200520
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;endIp&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[redacted]&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/subscriptions/11111111-1111-4000-11111111111111111/resourceGroups/demo-playground/providers/Microsoft.Cache/Redis/kjh-20200520/firewallRules/HomeIP&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kjh-20200520/HomeIP&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;resourceGroup&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;demo-playground&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;startIp&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[redacted]&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Microsoft.Cache/Redis/firewallRules&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;At the time of this blog post, &lt;strong&gt;Redis 6.0.3&lt;/strong&gt; is the latest stable version, but the Azure version is &lt;strong&gt;4.0.14&lt;/strong&gt; which is from March 2019 and the last release of the 4.x branch according to &lt;a href=&quot;http://download.redis.io/releases/&quot;&gt;http://download.redis.io/releases/&lt;/a&gt;).  Also, at the time of this blog post, AWS &lt;a href=&quot;https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/supported-engine-versions.html&quot;&gt;Supported ElastiCache for Redis Versions&lt;/a&gt; includes &lt;strong&gt;Redis 5.0.6 (Enhanced)&lt;/strong&gt; (from September 2019 where &lt;strong&gt;5.0.9&lt;/strong&gt; is latest) and &lt;strong&gt;Redis 4.0.10 (Enhanced)&lt;/strong&gt; (from June 2018).&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Exploring the Microsoft Graph API from Azure Cloud Shell]]></title><description><![CDATA[When I’m first exploring a new API, it is comfortable to use a GUI based API explorer tool.  For the Microsoft Graph API, this is the Graph…]]></description><link>https://kevinhakanson.com/2020-04-22-exploring-the-microsoft-graph-api-from-azure-cloud-shell/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-04-22-exploring-the-microsoft-graph-api-from-azure-cloud-shell/</guid><pubDate>Wed, 22 Apr 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;When I’m first exploring a new API, it is comfortable to use a GUI based API explorer tool.  For the Microsoft Graph API, this is the Graph Explorer and a tool I enjoy working with.  Try it out with this direct link which will query &lt;a href=&quot;https://developer.microsoft.com/en-US/graph/graph-explorer?request=me&amp;#x26;method=GET&amp;#x26;version=v1.0&amp;#x26;GraphUrl=https://graph.microsoft.com&amp;#x26;requestBody=dW5kZWZpbmVk&quot;&gt;https://graph.microsoft.com/v1.0/me/&lt;/a&gt; and get a response similar to:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;@odata.context&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/v1.0/$metadata#users/$entity&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;businessPhones&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;displayName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kevin Hakanson&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;givenName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kevin&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;jobTitle&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token null keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;mail&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kevin.hakanson@example.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;mobilePhone&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token null keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;officeLocation&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token null keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;preferredLanguage&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token null keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;surname&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hakanson&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;userPrincipalName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kevin.hakanson@example.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;11112222-3333-4444-5555-666677778888&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Other times I want to explore an API using the command line, since it is easier for me to document my research in markdown than using browser screenshots.  I opened up &lt;a href=&quot;https://shell.azure.com/&quot;&gt;Azure Cloud Shell&lt;/a&gt; …
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 73.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC60lEQVR42n1TWU+aURD9wJRFpCwugCiyKUQi1AVXolZbEy2iD/68vjdpuliMRZNGBRQFrFt9sk+0opaqdcGmPp3eGYvtQ/XhZOaeb+7MnHPzST09PejrCyEYDILyzs5ODAwMIBQKIRAIMN/a2or+/n50dHSgt7eX0dXVxd+6u7vR3t6O5uZm+Hw+SCNPnyASHsPg4GOMjIxgaGgI4XAYo6OjfJE4GjA1NcV5JBLBxMQEx7GxZ5icnOQ7NJwGS69ji3gxl8JcbA6zsXm8F3g7HeU4/W4GL1+9QXRmFgtLCSzFkxxLWPxzXkosI7myypDmt/fxPH2CtXRWfIxjZTWNTPYj4sllrKYz+LCwyPH49Bzfvp8wCsenHI8Kx7dc/vAbDo4KkD7v7eFLLofi1U/8ur7GZbGIYvEKZ2fnOD39IeIZx3w+j/39vIgHyOW+4khcLoiGh6IRcVfi/sXFJaRYLIaZaBSbGxvY3f2E9fV1ZLNZrK2tMeicyWQYqVQKy6kk4ssLSGdSWN/MILuZRiKZwM72Dra2tiCRkcPDw/y69FJ0bmhoYJDR9IJ2u13wj+ByNsJs18PWrkGtrxz2oAauXi00+geQJAmSTMBiscDr9cLj8cBms3FeU1MDp9OJpqYm5mtra6FUKlFWVnZz8T4YDAZUVFRAp9NBq9VCrVajvLycc+JVKhXnVEe80WCERqOBTCb7f0O3283bkFySZjKZQFvTdnSuqqpi+VRHPNVRvUKh4AbUWC6X/x1AU2kiFdBGJI04irRZacMSp9frucGdksns8cg4akzV4mGC8Hg9cLldvAX9avQw9Ju1tLTA7/ejra0NlZWVrIS8NhqNqK+v55w91uuM8DQ2Q6lQQvfQAIfNJTauYM9oOyq2Wq3scUk2Kamrq+MzNSd7zGbzzeZ6q5BqlqPapYLJq4DWIofRqhYWqPhfpmKScq/Mf6G3qGCwKhlVdpHXCZ/MKuGXGv6AHw6H47Zhyfy7QA1/AzksNHSwI/YDAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Azure Cloud Shell&quot;
        title=&quot;&quot;
        src=&quot;/static/93fef210b157719c8e24a229d4c921b2/fcda8/AzureCloudShell.png&quot;
        srcset=&quot;/static/93fef210b157719c8e24a229d4c921b2/12f09/AzureCloudShell.png 148w,
/static/93fef210b157719c8e24a229d4c921b2/e4a3f/AzureCloudShell.png 295w,
/static/93fef210b157719c8e24a229d4c921b2/fcda8/AzureCloudShell.png 590w,
/static/93fef210b157719c8e24a229d4c921b2/2e195/AzureCloudShell.png 782w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;…and gave &lt;code class=&quot;language-text&quot;&gt;curl&lt;/code&gt; a try:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kevin@Azure:~$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; https://graph.microsoft.com/v1.0/me/
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;InvalidAuthenticationToken&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Access token is empty.&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;innerError&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;request-id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;613cf582-fd4f-4c28-8504-063e78d5334e&quot;&lt;/span&gt;,
      &lt;span class=&quot;token string&quot;&gt;&quot;date&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2020-05-27T14:01:22&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This error makes sense, because without an access token, how would it know who &lt;code class=&quot;language-text&quot;&gt;/me/&lt;/code&gt; was?  Using browser DevTools to look at the outgoing HTTP request from Graph Explorer, I see it includes an &lt;code class=&quot;language-text&quot;&gt;Authorization&lt;/code&gt; header with a &lt;code class=&quot;language-text&quot;&gt;Bearer&lt;/code&gt; token.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;http&quot;&gt;&lt;pre class=&quot;language-http&quot;&gt;&lt;code class=&quot;language-http&quot;&gt;&lt;span class=&quot;token request-line&quot;&gt;&lt;span class=&quot;token method property&quot;&gt;GET&lt;/span&gt; &lt;span class=&quot;token request-target url&quot;&gt;/v1.0/me/&lt;/span&gt; &lt;span class=&quot;token http-version property&quot;&gt;HTTP/1.1&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token header&quot;&gt;&lt;span class=&quot;token header-name keyword&quot;&gt;Host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token header-value&quot;&gt;graph.microsoft.com&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token header&quot;&gt;&lt;span class=&quot;token header-name keyword&quot;&gt;SdkVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token header-value&quot;&gt;GraphExplorer/4.0, graph-js/2.0.0 (featureUsage=6)&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token header&quot;&gt;&lt;span class=&quot;token header-name keyword&quot;&gt;Authorization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token header-value&quot;&gt;Bearer [redacted]&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/37de597778c1205b098d8921d124b9d0/5bd27/GraphAccessToken.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 33.78378378378378%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABPElEQVR42oWQy07DMBBF/WVsQeJ/+BY2wFewLqKbvqKqSCz6oM2LJG7zbhwnTZOLx1IqQEiMdHTnjsf22Oz2aYfrhy1uHre4uv/A3bOH9nyGEAKN0rZtNU3ToOs6+PsMyw8f612ArX3ASulG6drk8A8C7GUZYaB43aQYrBIYVoKqqlCWJeq6hpRSU5Eq/xnmcHkCh8dwDznyosSxkFqFPIGdZIG6LNA2NWqpiscUWZ6jKAp9cJoqn2U4Uk1ILL0U706EN3MPMxT4HSzL1C2qmSaiJ/0X3Tf+CmaaJhzHged5CIJA0+e+72s455e1wPc0ex78qFPuui7YZDLBYrHAfD7HbDYD+dFopNUwjIsS4/FY++l0elHaQ9DacDgEsywLtm2DJiVooiRJNHEcIwxDrVEUaehPe9/3UN73fgFmsQdFILhbrwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Graph API Access Token&quot;
        title=&quot;&quot;
        src=&quot;/static/37de597778c1205b098d8921d124b9d0/fcda8/GraphAccessToken.png&quot;
        srcset=&quot;/static/37de597778c1205b098d8921d124b9d0/12f09/GraphAccessToken.png 148w,
/static/37de597778c1205b098d8921d124b9d0/e4a3f/GraphAccessToken.png 295w,
/static/37de597778c1205b098d8921d124b9d0/fcda8/GraphAccessToken.png 590w,
/static/37de597778c1205b098d8921d124b9d0/efc66/GraphAccessToken.png 885w,
/static/37de597778c1205b098d8921d124b9d0/c83ae/GraphAccessToken.png 1180w,
/static/37de597778c1205b098d8921d124b9d0/5bd27/GraphAccessToken.png 1432w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;How can I get a token without having to cut/paste from Graph Explorer?  Luckily, one can &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/cloud-shell/msi-authorization#acquire-access-token-in-cloud-shell&quot;&gt;acquire an access token in Cloud Shell&lt;/a&gt; by using the &lt;code class=&quot;language-text&quot;&gt;$MSI_ENDPOINT&lt;/code&gt;. I pipe the output through &lt;a href=&quot;https://stedolan.github.io/jq/&quot;&gt;jq&lt;/a&gt; for formatting and use &lt;a href=&quot;https://curl.haxx.se/docs/manpage.html#-s&quot;&gt;—silent&lt;/a&gt; to not have the progress meter get in the way.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kevin@Azure:~$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$MSI_ENDPOINT&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/&quot;&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--header&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;metadata: true&quot;&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--silent&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; jq
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;access_token&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[redacted]&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;refresh_token&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;expires_in&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;3851&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;expires_on&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1587590674&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;not_before&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1587586823&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;resource&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;token_type&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Bearer&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That worked great for inspection, but now to save it in the &lt;code class=&quot;language-text&quot;&gt;$GRAPH_JWT&lt;/code&gt; environment variable for later use.  I’ll also generate a link to the &lt;a href=&quot;https://jwt.ms/&quot;&gt;jwt.ms&lt;/a&gt; website to decode the token and inspect the claims.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kevin@Azure:~$ &lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;GRAPH_JWT&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; $MSI_ENDPOINT &lt;span class=&quot;token parameter variable&quot;&gt;--data&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;resource=https://graph.microsoft.com/&quot;&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--header&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;metadata: true&quot;&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--silent&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; jq .access_token &lt;span class=&quot;token parameter variable&quot;&gt;-r&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;

kevin@Azure:~$ &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://jwt.ms/?#access_token=&lt;span class=&quot;token variable&quot;&gt;$GRAPH_JWT&lt;/span&gt;&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/965a82dc97fdc970f6fe338fb5254295/6297e/CloudShellOpenLink.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 45.94594594594595%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABs0lEQVR42oWROY/aUBSFn+nglwASHR1CULBvNovYCgMNDRI4LMMmdjAoI0eTX5aOmSRdiAeYyX848b0KlJPi07m+eu/43PvEt+8nHJ9/4nh8wfPLD5x+m/h1MnEyzzDPF7xakJqvF5wvV1zf/+D69s5c/inxRn0LMV50sTNmWG9W2O10bDYb5nA4wDAMPD5+hvHFwNenJ+i6jsHDA8bjMTOdTjGZTLgejUaMqDdUaJ/a6Ggd9Ho99Pt9DAYDrrvdLqNpGvebzSaCwSBisRgSiQQi0SgikQhCoRB8Ph+raLVa2O/3WK/XWCwWmM1mmM/nXBOr1eqeejgcolwuo1KpoFgsIp1OI5VKMZlMhnui3e5gt9Wx3W750s3s9oPlcnlXSp7NZvkypUwmk3cURUapZBkqxQTUZhmlSgmKrMDr9cLpdMLlcsHtdrPevj0ez90wHo/z2ATVuVwO4XAYQrJJEDZhFRbiYxwOBwqFAvL5PKeiUcmQ0lLf7/dbPpLNOixBkj6GDO12O2RZhqqqbEo7jFoPQ4a020AgQIbSf5PdzlBCWnyj0WDTWq2Ger3Oj1StVnnkv5hOdkoaSB6fAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Go to &amp;quot;https://jwt.ms/?#access_token=...&amp;quot;&quot;
        title=&quot;&quot;
        src=&quot;/static/965a82dc97fdc970f6fe338fb5254295/fcda8/CloudShellOpenLink.png&quot;
        srcset=&quot;/static/965a82dc97fdc970f6fe338fb5254295/12f09/CloudShellOpenLink.png 148w,
/static/965a82dc97fdc970f6fe338fb5254295/e4a3f/CloudShellOpenLink.png 295w,
/static/965a82dc97fdc970f6fe338fb5254295/fcda8/CloudShellOpenLink.png 590w,
/static/965a82dc97fdc970f6fe338fb5254295/efc66/CloudShellOpenLink.png 885w,
/static/965a82dc97fdc970f6fe338fb5254295/c83ae/CloudShellOpenLink.png 1180w,
/static/965a82dc97fdc970f6fe338fb5254295/6297e/CloudShellOpenLink.png 2044w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Since I am submitting the request to &lt;code class=&quot;language-text&quot;&gt;/me/&lt;/code&gt;, you would expect the data values to match.  However, the JWT claims of “name”, “oid”, and “upn” don’t exact the keys of “displayName”, “id”, and “userPrincipalName from the Graph API JSON.  Here is a subset of the JWT claims:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;aud&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  &lt;span class=&quot;token property&quot;&gt;&quot;app_displayname&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AzurePortal Console App&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kevin Hakanson&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;oid&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;11112222-3333-4444-5555-666677778888&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;upn&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kevin.hakanson@example.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let’s run that &lt;code class=&quot;language-text&quot;&gt;curl&lt;/code&gt; request using the &lt;code class=&quot;language-text&quot;&gt;$GRAPH_JWT&lt;/code&gt; as the Bearer token in our Authorization header:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kevin@Azure:~$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; https://graph.microsoft.com/v1.0/me/ &lt;span class=&quot;token parameter variable&quot;&gt;--header&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Authorization: Bearer &lt;span class=&quot;token variable&quot;&gt;$GRAPH_JWT&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--silent&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; jq
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;@odata.context&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/v1.0/&lt;span class=&quot;token variable&quot;&gt;$metadata&lt;/span&gt;#users/&lt;span class=&quot;token variable&quot;&gt;$entity&lt;/span&gt;&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;businessPhones&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;displayName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kevin Hakanson&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;givenName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kevin&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;jobTitle&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; null,
  &lt;span class=&quot;token string&quot;&gt;&quot;mail&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kevin.hakanson@example.com&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;mobilePhone&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; null,
  &lt;span class=&quot;token string&quot;&gt;&quot;officeLocation&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; null,
  &lt;span class=&quot;token string&quot;&gt;&quot;preferredLanguage&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; null,
  &lt;span class=&quot;token string&quot;&gt;&quot;surname&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hakanson&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;userPrincipalName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kevin.hakanson@example.com&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;11112222-3333-4444-5555-666677778888&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;There’s a lot of &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt; value fields in that response I want to ignore, so let’s add an OData &lt;code class=&quot;language-text&quot;&gt;$select&lt;/code&gt; to the URL.  In the examples above that included &lt;code class=&quot;language-text&quot;&gt;$MSI_ENDPOINT&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;$GRAPH_JWT&lt;/code&gt;, the &lt;code class=&quot;language-text&quot;&gt;$&lt;/code&gt; indicated an environment variable, but the &lt;code class=&quot;language-text&quot;&gt;$select&lt;/code&gt; below is a literal string so we need to escape the &lt;code class=&quot;language-text&quot;&gt;$&lt;/code&gt; as &lt;code class=&quot;language-text&quot;&gt;\$&lt;/code&gt; for it to work correctly.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kevin@Azure:~$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/v1.0/me/?\&lt;span class=&quot;token variable&quot;&gt;$select&lt;/span&gt;=id,userPrincipalName,displayName&quot;&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--header&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Authorization: Bearer &lt;span class=&quot;token variable&quot;&gt;$GRAPH_JWT&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--silent&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; jq
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;@odata.context&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/v1.0/&lt;span class=&quot;token variable&quot;&gt;$metadata&lt;/span&gt;#users(id,userPrincipalName,displayName)/&lt;span class=&quot;token variable&quot;&gt;$entity&lt;/span&gt;&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;11112222-3333-4444-5555-666677778888&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;userPrincipalName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kevin.hakanson@example.com&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;displayName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kevin Hakanson&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The Azure CLI includes an &lt;a href=&quot;https://docs.microsoft.com/en-us/cli/azure/reference-index?view=azure-cli-latest#az-rest&quot;&gt;az rest&lt;/a&gt; command that invokes a request and automatically authenticates using the logged in credentials.  Therefore, there is no need to pass the &lt;code class=&quot;language-text&quot;&gt;$GRAPH_JWT&lt;/code&gt; ourselves.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kevin@Azure:~$ az rest &lt;span class=&quot;token parameter variable&quot;&gt;--url&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/v1.0/me/?\&lt;span class=&quot;token variable&quot;&gt;$select&lt;/span&gt;=id,userPrincipalName,displayName&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;@odata.context&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/v1.0/&lt;span class=&quot;token variable&quot;&gt;$metadata&lt;/span&gt;#users(id,userPrincipalName,displayName)/&lt;span class=&quot;token variable&quot;&gt;$entity&lt;/span&gt;&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;displayName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kevin Hakanson&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;11112222-3333-4444-5555-666677778888&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;userPrincipalName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kevin.hakanson@example.com&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The result is the same, but the JSON fields are in a different order.  Let’s redirect the output to a file and compare.  It looks like &lt;code class=&quot;language-text&quot;&gt;az rest&lt;/code&gt; is not preserving the original order and sorting them instead.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kevin@Azure:~$ az rest &lt;span class=&quot;token parameter variable&quot;&gt;--url&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/v1.0/me/?\&lt;span class=&quot;token variable&quot;&gt;$select&lt;/span&gt;=id,userPrincipalName,displayName&quot;&lt;/span&gt; --output-file me.json

kevin@Azure:~$ &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; me.json &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; jq
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;@odata.context&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/v1.0/&lt;span class=&quot;token variable&quot;&gt;$metadata&lt;/span&gt;#users(id,userPrincipalName,displayName)/&lt;span class=&quot;token variable&quot;&gt;$entity&lt;/span&gt;&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;11112222-3333-4444-5555-666677778888&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;userPrincipalName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kevin.hakanson@example.com&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;displayName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kevin Hakanson&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: Each of these Graph API URLs return the same JSON response:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://graph.microsoft.com/v1.0/me/&quot;&gt;https://graph.microsoft.com/v1.0/me/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://graph.microsoft.com/v1.0/users/11112222-3333-4444-5555-666677778888&quot;&gt;https://graph.microsoft.com/v1.0/users/11112222-3333-4444-5555-666677778888&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://graph.microsoft.com/v1.0/users(&amp;#x27;11112222-3333-4444-5555-666677778888&quot;&gt;https://graph.microsoft.com/v1.0/users(‘11112222-3333-4444-5555-666677778888&lt;/a&gt;‘)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The same user data can be fetched using &lt;code class=&quot;language-text&quot;&gt;/directoryObjects&lt;/code&gt; but this response includes an &lt;code class=&quot;language-text&quot;&gt;@odata.type&lt;/code&gt; field with the &lt;code class=&quot;language-text&quot;&gt;#microsoft.graph.user&lt;/code&gt; value.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kevin@Azure:~$ az rest &lt;span class=&quot;token parameter variable&quot;&gt;--url&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/v1.0/directoryObjects/11112222-3333-4444-5555-666677778888?\&lt;span class=&quot;token variable&quot;&gt;$select&lt;/span&gt;=id,userPrincipalName,displayName&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;@odata.context&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/v1.0/&lt;span class=&quot;token variable&quot;&gt;$metadata&lt;/span&gt;#directoryObjects(id,userPrincipalName,displayName)/&lt;span class=&quot;token variable&quot;&gt;$entity&lt;/span&gt;&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;@odata.type&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#microsoft.graph.user&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;displayName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kevin Hakanson&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;11112222-3333-4444-5555-666677778888&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;userPrincipalName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kevin.hakanson@example.com&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Yet another way to get this data is calling &lt;code class=&quot;language-text&quot;&gt;/users&lt;/code&gt; with using a &lt;code class=&quot;language-text&quot;&gt;$filter&lt;/code&gt; of my &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;, but that response is a &lt;code class=&quot;language-text&quot;&gt;value[]&lt;/code&gt; of users.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kevin@Azure:~$ az rest &lt;span class=&quot;token parameter variable&quot;&gt;--url&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/v1.0/users?\&lt;span class=&quot;token variable&quot;&gt;$filter&lt;/span&gt;=id eq &apos;11112222-3333-4444-5555-666677778888&apos;&amp;amp;\&lt;span class=&quot;token variable&quot;&gt;$select&lt;/span&gt;=id,userPrincipalName,displayName&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;@odata.context&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://graph.microsoft.com/v1.0/&lt;span class=&quot;token variable&quot;&gt;$metadata&lt;/span&gt;#users(id,userPrincipalName,displayName)&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;displayName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kevin Hakanson&quot;&lt;/span&gt;,
      &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;11112222-3333-4444-5555-666677778888&quot;&lt;/span&gt;,
      &lt;span class=&quot;token string&quot;&gt;&quot;userPrincipalName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kevin.hakanson@example.com&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I bet you are sick of &lt;code class=&quot;language-text&quot;&gt;/me/&lt;/code&gt; by now - I know I just want to &lt;code class=&quot;language-text&quot;&gt;curl&lt;/code&gt; up and &lt;code class=&quot;language-text&quot;&gt;rest&lt;/code&gt; after all this exploration.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Will the real Azure please stand up?]]></title><description><![CDATA[Naming things is hard.  Each of these “Azure” names appear somewhere (or at some time) in the documentation: Azure Microsoft Azure Azure…]]></description><link>https://kevinhakanson.com/2020-04-18-will-the-real-azure-please-stand-up/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-04-18-will-the-real-azure-please-stand-up/</guid><pubDate>Sat, 18 Apr 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Naming things is hard.  Each of these “Azure” names appear somewhere (or at some time) in the documentation:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Azure&lt;/li&gt;
&lt;li&gt;Microsoft Azure&lt;/li&gt;
&lt;li&gt;Azure Cloud&lt;/li&gt;
&lt;li&gt;Microsoft Cloud&lt;/li&gt;
&lt;li&gt;Windows Azure&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;At the time of this post, Azure has 58 regions worldwide and available in 140 countries.  Some of the Azure definitions include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A &lt;strong&gt;region&lt;/strong&gt; is a set of datacenters deployed within a latency-defined perimeter and connected through a dedicated regional low-latency network.&lt;/li&gt;
&lt;li&gt;A &lt;strong&gt;geography&lt;/strong&gt; is a discrete market, typically containing two or more regions, that preserves data residency and compliance boundaries.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Availability Zones&lt;/strong&gt; are physically separate locations within an Azure region. Each Availability Zone is made up of one or more datacenters equipped with independent power, cooling, and networking&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are also references to “Sovereign regions” or ”&lt;a href=&quot;https://docs.microsoft.com/en-us/graph/deployments&quot;&gt;National cloud deployments&lt;/a&gt;“:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In addition to our global network of datacenters, Microsoft cloud services are available in three separate national clouds. These national cloud versions are physical and logical network-isolated instances of Microsoft enterprise cloud services that are confined within the geographic borders of specific countries and operated by local personnel.&lt;/p&gt;
&lt;p&gt;Current national clouds include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Microsoft Cloud for US Government&lt;/li&gt;
&lt;li&gt;Microsoft Cloud Germany&lt;/li&gt;
&lt;li&gt;Azure and Office 365 operated by 21Vianet in China&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Microsoft Cloud for US Government (a.k.a. ”&lt;a href=&quot;https://azure.microsoft.com/en-us/global-infrastructure/government/&quot;&gt;Azure Government&lt;/a&gt;”) is only for US government agencies and their partners. It uses physically isolated datacenters and networks (located in U.S. only) but has the same underlying technologies as global Azure.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://azure.microsoft.com/en-us/global-infrastructure/china/&quot;&gt;Microsoft Azure China&lt;/a&gt; is a physically isolated instance of Azure operated by 21Vianet and requires an account separate from an Azure global account.&lt;/p&gt;
&lt;p&gt;Microsoft Cloud Germany (a.k.a. “Microsoft Cloud Germany (Sovereign)”) is a physically isolated instance of Microsoft Azure operated by a data trustee.  However, &lt;a href=&quot;https://azure.microsoft.com/en-us/global-infrastructure/germany/&quot;&gt;Microsoft Azure Germany&lt;/a&gt; are the Frankfurt and Berlin datacenter regions of global Azure. Confused?  &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/germany/germany-welcome&quot;&gt;Welcome to Azure Germany&lt;/a&gt; explains it as:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Since August 2018, we have not been accepting new customers or deploying any new features and services into the original Microsoft Cloud Germany locations.&lt;/p&gt;
&lt;p&gt;Based on the evolution in customers’ needs, we recently launched two new datacenter regions in Germany, offering customer data residency, full connectivity to Microsoft’s global cloud network, as well as market competitive pricing.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you prefer code to documentation, &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/az.accounts/get-azenvironment?view=azps-3.7.0&quot;&gt;Get-AzEnvironment&lt;/a&gt; “gets endpoints and metadata for an instance of Azure services,” and
&lt;a href=&quot;https://docs.microsoft.com/en-us/cli/azure/cloud?view=azure-cli-latest#az-cloud-list&quot;&gt;az cloud list&lt;/a&gt; can “list registered clouds,” giving you programmatic ways to uncover even different names.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;PS /home/kevin&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Get-AzEnvironment &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Select-Object &lt;span class=&quot;token parameter variable&quot;&gt;-Property&lt;/span&gt; Name, ActiveDirectoryAuthority, ResourceManagerUrl &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Format-Table

Name              ActiveDirectoryAuthority           ResourceManagerUrl
----              ------------------------           ------------------
AzureCloud        https://login.microsoftonline.com/ https://management.azure.com/
AzureUSGovernment https://login.microsoftonline.us/  https://management.usgovcloudapi.net/
AzureGermanCloud  https://login.microsoftonline.de/  https://management.microsoftazure.de/
AzureChinaCloud   https://login.chinacloudapi.cn/    https://management.chinacloudapi.cn/

PS /home/kevin&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; az cloud list &lt;span class=&quot;token parameter variable&quot;&gt;--query&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[].{Name:name,ActiveDirectoryAuthority:endpoints.activeDirectory,ResourceManagerUrl:endpoints.resourceManager}&quot;&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--output&lt;/span&gt; table
Name               ActiveDirectoryAuthority           ResourceManagerUrl
-----------------  ---------------------------------  -------------------------------------
AzureCloud         https://login.microsoftonline.com  https://management.azure.com/
AzureChinaCloud    https://login.chinacloudapi.cn     https://management.chinacloudapi.cn
AzureUSGovernment  https://login.microsoftonline.us   https://management.usgovcloudapi.net/
AzureGermanCloud   https://login.microsoftonline.de   https://management.microsoftazure.de&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But wait, there’s more. If you have an “Azure Stack” (a.k.a ”&lt;a href=&quot;https://docs.microsoft.com/en-us/azure-stack/user/?view=azs-2002&quot;&gt;Azure Stack Hub&lt;/a&gt;”) and make a call to &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/az.accounts/set-azenvironment?view=azps-3.7.0&quot;&gt;Set-AzEnvironment&lt;/a&gt; or &lt;a href=&quot;https://docs.microsoft.com/en-us/cli/azure/cloud?view=azure-cli-latest#az-cloud-register&quot;&gt;az cloud register&lt;/a&gt;, you can name it whatver your want. I call dibs on &lt;code class=&quot;language-text&quot;&gt;AzureKevinHakansonCloud&lt;/code&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS UX Issues when Under Load]]></title><description><![CDATA[Last week, I attended an Architecting for Machine Learning on AWS event at their Minneapolis office along with about 40 people. This three…]]></description><link>https://kevinhakanson.com/2020-02-03-aws-ux-issues-when-under-load/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-02-03-aws-ux-issues-when-under-load/</guid><pubDate>Mon, 03 Feb 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Last week, I attended an &lt;strong&gt;Architecting for Machine Learning on AWS&lt;/strong&gt; event at their Minneapolis office along with about 40 people.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This three-day technical workshop is designed to provide architects and developers hands-on training for designing production machine learning and deep learning systems using Amazon SageMaker. AWS Solutions Architects will provide training through lecture and hands-on labs with Amazon SageMaker and go over proven approaches to successfully train, and deploy machine learning models for enterprise applications. Attendees will design and implement a completely new machine learning solution using Amazon SageMaker and their own Python code.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As a group, we walked through labs and exercises using credentials provisioned into an AWS owned account.  The instructor warned us that we would hit “throtting” exceptions when we all all tried to create resources at the same time.  However, I did not expect to see errors when trying to view documenation.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/efe4acdd64943344bfbd04c84242974f/90712/AWS-Documentation-Server-Busy.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 91.8918918918919%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABJ0AAASdAHeZh94AAACCUlEQVR42pVUyW7bMBD1//9Ag7TooR/Qi4GkSAP03gBJndryqhqoHS/aqYWLJOp1hnEOQS8SgYchR+Qj582MRsfjEcE5QBSGKIoCVVU5nM9nTKdTePM5PM9zmNN8flnPZjNnF4sFlsulA89HZVlCKQW2eZ7DGIOiLJALgTRNkSQJkjSBoDV/50ullHRGur1d18Fa69A0DUbs6As+xJYvT0VOl9ADtH5HOsKAwQd5PP96xP3NV/y4/4Y4Tt5960VoO4tKG5QsDekrKdxGJbBtjaa1qCnUuq6d7UXYti0CUeIURtjv99gRwjhFmmWvYI1JX0WX9iY0WiGKIvi+j42/oay+Zne9XsP/4yOm5GnTm9BCk/hBEODl5eAyzhWQZQSRuTlXhe77Qs6eIkJDOjUXvd4s+9jy64wZELKmhHANci1y2YiL5ZqUUtEFrYuiPyFt5u7ZkIbb7ZbCzSj0DH93O8q8dPsGEXI38VitVvh+d4fxeIzb2xs8PPx0GvLgPYNeyAdCSkwcxxRugSQTKHWDvCL9Guu6ZhBhTiEyOLvWks80EKVCLg2k5qQMIOQMuhZ7a8P/KqEboKEFKnFEFT5DRlOI0wTpkXCYoAh+O18VeVQJsg8h/UnoOeX5CfniCvn6M8LpNU6TKxyePiD2PqJYfSL/F2hZDCnsGsp0DrruqKAJDc0vPmWsa71/QQJyr1VyLX8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Amazon Server Busy&quot;
        title=&quot;&quot;
        src=&quot;/static/efe4acdd64943344bfbd04c84242974f/fcda8/AWS-Documentation-Server-Busy.png&quot;
        srcset=&quot;/static/efe4acdd64943344bfbd04c84242974f/12f09/AWS-Documentation-Server-Busy.png 148w,
/static/efe4acdd64943344bfbd04c84242974f/e4a3f/AWS-Documentation-Server-Busy.png 295w,
/static/efe4acdd64943344bfbd04c84242974f/fcda8/AWS-Documentation-Server-Busy.png 590w,
/static/efe4acdd64943344bfbd04c84242974f/90712/AWS-Documentation-Server-Busy.png 882w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;A couple of observations related to that screen:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Shouldn’t this be “static HTML” or something highly cachable and served from CloudFront?&lt;/li&gt;
&lt;li&gt;The error message mentions “to continue shopping” indicating it is generic for all of Amazon.&lt;/li&gt;
&lt;li&gt;Suprissing that so few people hitting a documentation page from inside an AWS network would trigger this.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;However, I can understand this isn’t a page that often displays for legitmate users.  The next Amazon Sagemaker example is more bothersome because of the implication of a partially rendered UI.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9fa8b8d53869cd62d0c1bc3760e8eb0a/ea64c/SageMaker-Git-Repo-Throttle-noresources.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 69.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAABjklEQVR42pVS2WrDMBDU/39foZCH0iYkPiXZkm87me7IUbBNKNRhWGlX2WNmVXv6QHr6hP75wmJLzKYIdj3/H0onKfIkgykKmNLAW42qzFHrEm1t/w11vt5wuQmuCb7PFyR5Dtc0qL3f2XdgLMR9s0J8SksnSZIgy1J45zAMA8ZxfGGaJkyb+xYzY1uME1Tf9yB4echv+/GRkw5GsY/HY4dlWVDVNRrpisnZCN8rOpzza8V5Dk5a/oFnbQzatsPxu9/v8FKsadvwnqBPteJgJXY5DGu3XdetXc8TOrEsxgJbhKKSgGcmIngXDg0yEYJI80xsgVyQpjmMtTLuiF7GCXjS8xeUl5HZZRRgPBAdx9mRH+5v/OSQCZj53Uhx3GNyclfVbqVl4+dbZasKpYxdllqsDiJosUXJsw2CdF2/gw9754OYx7iywpOxFWoRxskesroPyypW6IgdBDri/m1oOO6mItlUNaq1RMg97lZMEMFO2Nl08JM+9VqTl5JPO/RBrHWdhh24ZqTKebeLU+VfIx49faaGyOEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;no default associated notebook&quot;
        title=&quot;&quot;
        src=&quot;/static/9fa8b8d53869cd62d0c1bc3760e8eb0a/fcda8/SageMaker-Git-Repo-Throttle-noresources.png&quot;
        srcset=&quot;/static/9fa8b8d53869cd62d0c1bc3760e8eb0a/12f09/SageMaker-Git-Repo-Throttle-noresources.png 148w,
/static/9fa8b8d53869cd62d0c1bc3760e8eb0a/e4a3f/SageMaker-Git-Repo-Throttle-noresources.png 295w,
/static/9fa8b8d53869cd62d0c1bc3760e8eb0a/fcda8/SageMaker-Git-Repo-Throttle-noresources.png 590w,
/static/9fa8b8d53869cd62d0c1bc3760e8eb0a/efc66/SageMaker-Git-Repo-Throttle-noresources.png 885w,
/static/9fa8b8d53869cd62d0c1bc3760e8eb0a/ea64c/SageMaker-Git-Repo-Throttle-noresources.png 1116w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Above you clearly see the &lt;code class=&quot;language-text&quot;&gt;ThrottlingException Rate exceeded&lt;/code&gt; error at the top as well as a &lt;code class=&quot;language-text&quot;&gt;There are currently no resources&lt;/code&gt; message.  Reloading the page later, you can see there are indeed reources listed.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3d8b1ef84baf06253e1ba28ac5273659/4cdf7/SageMaker-Git-Repo-Throttle-resources.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 71.62162162162163%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAAB1UlEQVR42o1T23KrMAz0/39iOwkNN0MIV4O5R9UKTN0z56Ge2QFbsrRaySpOEvp6hBR8Peh2vxP2weNBH583ugUBdcaQ6fs/Q7VtS1EUy+Uojul+DyjLn7TvO63rSsuyCOZ5PoB/D7/s/FV2HGmaJrnsAIdt2wSHM9v5//1+SyIH+M5nMPjiTE286bqO+mGgkYMD/jJccvEq2ceIDZcuG5dYFC96lYddAiL6YC1ZezDFJTBxy7INzkg6jhN5JoJcIcuVZTklSUp9PxwM8+dTdMsZZVVJCW41TUNaZ2zPqeWg+/4TcWQCnemEKUhhKWiAQOhyGEaUpClVVX2VDrY+/OX2YjvPFLJg61+ShnjiX83AlyGNc01kXx8yNjrLGDmXXjBDLRJoLjHjb14UlHLJsmfADyWiif+DghFlQlSIG4YhpRwUs5lqfZxFhxRAHCfnmP3MpptFMFaGo0JQaAnHbd+u0vez1H91XL1yNzePZ2CFVqMBmDd8lwUTP9N0ZofGSGRMf51NJzBSuL8s62WTlwIWZd1QYwayEzOdV++lrJJAFzxntpczxxCz+WSN3UsBlJuhyljKakO66qhGYE4EgCECZXVKr7Y8HsF53jHrsq6p4cDO/xv17DtV6I2/1wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;default associated notebook&quot;
        title=&quot;&quot;
        src=&quot;/static/3d8b1ef84baf06253e1ba28ac5273659/fcda8/SageMaker-Git-Repo-Throttle-resources.png&quot;
        srcset=&quot;/static/3d8b1ef84baf06253e1ba28ac5273659/12f09/SageMaker-Git-Repo-Throttle-resources.png 148w,
/static/3d8b1ef84baf06253e1ba28ac5273659/e4a3f/SageMaker-Git-Repo-Throttle-resources.png 295w,
/static/3d8b1ef84baf06253e1ba28ac5273659/fcda8/SageMaker-Git-Repo-Throttle-resources.png 590w,
/static/3d8b1ef84baf06253e1ba28ac5273659/efc66/SageMaker-Git-Repo-Throttle-resources.png 885w,
/static/3d8b1ef84baf06253e1ba28ac5273659/4cdf7/SageMaker-Git-Repo-Throttle-resources.png 995w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This UI architecture failed the user when it couldn’t load the assocated resouces.  The UI should have put error messages into the same areas of the screen where the data would load, or have started with a &lt;code class=&quot;language-text&quot;&gt;Loading resources...&lt;/code&gt; message and only replacing with &lt;code class=&quot;language-text&quot;&gt;There are currently no resources&lt;/code&gt; if that is a true fact.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Using AWS X-Ray with Lambda@Edge]]></title><description><![CDATA[One of my original Lambda@Edge functions was still running on an old Node.js runtime, which I needed to update.  That function dynamically…]]></description><link>https://kevinhakanson.com/2020-01-20-using-aws-x-ray-with-lambdaedge/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-01-20-using-aws-x-ray-with-lambdaedge/</guid><pubDate>Mon, 20 Jan 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;One of my original Lambda@Edge functions was still running on an old Node.js runtime, which I needed to update.  That function dynamically generated images of a United States map with various states shaded based on the filename.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;https://redacted.cloudfront.net/license-plate-zone/dynamic/usmap.MN.small.jpg&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fe6fcec49e1284752a7dc71d3d408859/80e3c/usmap.MN.small.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHrPVFFB//EABoQAAICAwAAAAAAAAAAAAAAAAERAAIQEjH/2gAIAQEAAQUCZYsYOKaDH//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABgQAAMBAQAAAAAAAAAAAAAAAAABESFB/9oACAEBAAE/IWhtYk9dLdPo6t0QcP/aAAwDAQACAAMAAAAQAM//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAwADAQAAAAAAAAAAAAABABEhMUFRYf/aAAgBAQABPxDO5ty4qWL0xjfdUdQUubT5KG2vsOE//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;United States map with Minnesota highlighted&quot;
        title=&quot;&quot;
        src=&quot;/static/fe6fcec49e1284752a7dc71d3d408859/1c72d/usmap.MN.small.jpg&quot;
        srcset=&quot;/static/fe6fcec49e1284752a7dc71d3d408859/a80bd/usmap.MN.small.jpg 148w,
/static/fe6fcec49e1284752a7dc71d3d408859/1c91a/usmap.MN.small.jpg 295w,
/static/fe6fcec49e1284752a7dc71d3d408859/1c72d/usmap.MN.small.jpg 590w,
/static/fe6fcec49e1284752a7dc71d3d408859/80e3c/usmap.MN.small.jpg 720w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This image was created from a base SVG, which was parsed and the &lt;code class=&quot;language-text&quot;&gt;fill&lt;/code&gt; color set for each state.  This was subsequently converted into either a JPEG or PNG.  When I first authored this function, I used the X-Ray subsegment functionality to understand the duration of each of these steps.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; subsegment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getSegment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addNewSubsegment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;generateSVG&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, after updating the code and trying to “Deploy to Lambda@Edge”…&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0e851d19534f7fc92194da854f7304ee/eb390/deploy.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 38.513513513513516%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABGUlEQVR42m1Qa2/DIAzk//+/qVu3Ngl58UrAhiSQSO2u65epGzqsw3fGYKG0ruq67fu6kbWUjZSeqOyllDwqhWTTtteqAqmappEt9tflCj4qLaydgHn2ShttwLwPFIg5Rh8CrnZuImLixxHq0wwPMqLumtEqF1zV1nJoQSDi5mFUxtphGNOyrGWNG8/sofZmCCn45GkhwSXQ5sM6g3D2YZvTmvoeVWNK6TiO+/1OW5hXBwmg7OG3pLVXIhZC2TNyDnGnZU3GWCClBZW32y2VGH88D1sOzzhFK6boXsCJuw6dVc5l39H7wCNdtK9OdiIw/wZGbZx7O53ez+fPy+Xj/Cm7DskXG0AxivjfwpC1MRgvOqM/Pv/Xw8zfLzy+zkgGEAAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Deploy to Lambda@Edge&amp;quot;&quot;
        title=&quot;&quot;
        src=&quot;/static/0e851d19534f7fc92194da854f7304ee/fcda8/deploy.png&quot;
        srcset=&quot;/static/0e851d19534f7fc92194da854f7304ee/12f09/deploy.png 148w,
/static/0e851d19534f7fc92194da854f7304ee/e4a3f/deploy.png 295w,
/static/0e851d19534f7fc92194da854f7304ee/fcda8/deploy.png 590w,
/static/0e851d19534f7fc92194da854f7304ee/efc66/deploy.png 885w,
/static/0e851d19534f7fc92194da854f7304ee/eb390/deploy.png 935w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;…I saw this “X-Ray is not supported” error message:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8a01888ad23d9b01cb347a13c132176d/0d1a4/xray-not-supported.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABkklEQVR42n1S247TMBD1Z/M1UCTgDR55A16RkJA22pXotixNmuZix44vSXwbO8zuChZQ6dGRPbZ8RnNmTChjh7Jsu+5QHXf773XTeu+tc877C1ysM9NEtFJcCKOUHMXAqJJyTZAhQvCX6ZwlcRyW4ku739W33067LbK72+Nqhz7pEZQ4Qy0s64OSJEjhbq9FU/O66g8/xubkpbB8iEomo/5H0BImTSaj6cA5ZcG5FGMMPkFcc84AOcYnwl9cISYAwo1tO3qssVPtqWkxUFovdgkhrBeRciZcTZQyzoVSBmVSKqxjHEfsd0qYHXDBOs6LpZRN13/4+Gmzefnq9ZvnLzZXV8X9MBY7zfO8LPNivQ+oR09/ivGG4FS9s2VZ3txcb7fboig45/eJE6Z+ApYQwi9xTg/jBCKUqVrW9gx/S9f3lNKmaarjkbKBDQN+AbSApjBAO3hAMiHN4tAJsT7OHsw0mwdorbHYaZojwBmfiHWF4RDvPgOvCA4HW5J+I+fHHcX/EB9po9Xs5q9v5btnc/H+J6BJqt7hktZqAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;X-Ray is not Support&quot;
        title=&quot;&quot;
        src=&quot;/static/8a01888ad23d9b01cb347a13c132176d/fcda8/xray-not-supported.png&quot;
        srcset=&quot;/static/8a01888ad23d9b01cb347a13c132176d/12f09/xray-not-supported.png 148w,
/static/8a01888ad23d9b01cb347a13c132176d/e4a3f/xray-not-supported.png 295w,
/static/8a01888ad23d9b01cb347a13c132176d/fcda8/xray-not-supported.png 590w,
/static/8a01888ad23d9b01cb347a13c132176d/efc66/xray-not-supported.png 885w,
/static/8a01888ad23d9b01cb347a13c132176d/0d1a4/xray-not-supported.png 1036w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Sure enough, when I look at the &lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/lambda-requirements-limits.html#lambda-requirements-lambda-function-configuration&quot;&gt;Lambda Function Supported Runtimes and Configuration &lt;/a&gt; I see this lack of X-Ray support explicitly listed.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;AWS X-Ray is not supported.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;How was it working for me before?  What had I done differently, or was this a feature which has been disabled for new deployments?  Instead of using the AWS Console, I used the AWS CLI &lt;a href=&quot;https://docs.aws.amazon.com/cli/latest/reference/lambda/publish-version.html?highlight=edge&quot;&gt;publish-version&lt;/a&gt; command.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws lambda publish-version --function-name LicensePlateZone-CloudFront-OriginRequest&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I then used the AWS Console to update the Behavior on this CloudFront Distribution to specify the version as &lt;code class=&quot;language-text&quot;&gt;:2&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/779fc3c6cb5b90fe4523adbf5acb0ca3/264eb/cloudfront-behavior.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 17.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABJ0AAASdAHeZh94AAAArElEQVR42m2Q3Q6DIAyFff93XKIzAgWBiUbAvzPKll0sNjk3p+35Cs0wDBAsKdB1HRQpXNeF/7rzuM7zRNu22LYNPNGklJFTQs4ZMcbS2LEsM4wxcM4ihPm3fBwH7DgW38F7X2f2ff+EfYHNHTWuKzQRtNaw1lYYL/E1QogqUgQpJJx3mF4TfIGQsfeBawns+76Kv4RDQwj8bpgCUUoVbwRpqldKKYsn8XgKvAEdqjRNUFm72gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Lambda Function Associates&quot;
        title=&quot;&quot;
        src=&quot;/static/779fc3c6cb5b90fe4523adbf5acb0ca3/fcda8/cloudfront-behavior.png&quot;
        srcset=&quot;/static/779fc3c6cb5b90fe4523adbf5acb0ca3/12f09/cloudfront-behavior.png 148w,
/static/779fc3c6cb5b90fe4523adbf5acb0ca3/e4a3f/cloudfront-behavior.png 295w,
/static/779fc3c6cb5b90fe4523adbf5acb0ca3/fcda8/cloudfront-behavior.png 590w,
/static/779fc3c6cb5b90fe4523adbf5acb0ca3/264eb/cloudfront-behavior.png 867w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In CloudFront Monitoring, when you look at the “Lambda@edge function metrics” section, it indicates in which regions the functions are invoked.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Lambda@Edge functions are triggered in Regions close to your end users.&lt;/p&gt;
&lt;p&gt;The metrics on this page provide an aggregate view of different Regions in which the Lambda@Edge function executed.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3a9667bef8bb83639703c7fd4af87d48/baaa6/cloudfront-monitoring.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABJ0AAASdAHeZh94AAABzElEQVR42q1U23ajMAz0/39jstkAxeHicDHGXAxTSYFsttuHbSnnzJE9kmVZNqNaH3BrJgzTgn4MyNoJDXHLEjAMA7z3Yge/YRzhB098jzkEfPyUtRZ1VaEoS2idis2yDBVxJY3L0uCmNcz9LlxRFNCplhhDfmOM8MuyPBLeKTCJY1wuvxFdr4iiGBHNk+SNNtCIY55HZBO8pSnxCc6nM64Ue/71sJx8mAJVvELxkZqmEdR1jda2sJ1F13VPOAJXwX7bWjjXPWLbVtA0xPejtExxT3pK6rlfG/q+R+ccLXRiZUyc2/h9vsc412+bWyhezH3LqTdsGXXd/LX4//DYUI3ThDzPkFK/8jyHvmnayW13tuKrn+KrnyjpfkuSZl2/DUnI7yyQfTrw/U9xopEu5rVCHE34T4VHjvxMSBWu2zUcgZrnWY67zh6YOoI7hD8VUuKVBOEoFB+VXztX+jM9/PGEdGQWiLBp2+7Yx6/2I/dZnDzsz97ha5KvvcPtyCyU/AuyPjr6lz1J1M6VppQYFpKK/IE49vGc+aqqJY4lTk1zgKmsCANrW5EX4hiKCzISipb075SdUN5L4Q2pkieR5XiZ02aFJjU3Dal5jnfAwRqbxQeN7wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;CloudFront &amp;gt; Monitoring &amp;gt; LicensePlateZone-CloudFront-OriginRequest:2&quot;
        title=&quot;&quot;
        src=&quot;/static/3a9667bef8bb83639703c7fd4af87d48/fcda8/cloudfront-monitoring.png&quot;
        srcset=&quot;/static/3a9667bef8bb83639703c7fd4af87d48/12f09/cloudfront-monitoring.png 148w,
/static/3a9667bef8bb83639703c7fd4af87d48/e4a3f/cloudfront-monitoring.png 295w,
/static/3a9667bef8bb83639703c7fd4af87d48/fcda8/cloudfront-monitoring.png 590w,
/static/3a9667bef8bb83639703c7fd4af87d48/baaa6/cloudfront-monitoring.png 813w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;AWS X-Ray is supported in Ohio (us-east-2) where this executed…&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e031cc1b5d07282fde5f97db1f874114/00172/xray-regions.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 13.513513513513512%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAmElEQVR42jWOyQ6DMAxE+f8v5IQKokADh8ZZiMMytd3WUuQXjT3jxq0rtF7OYZomoRsxRlz3tzMzvH+j73tjIkIpBTlnUCBUrui6DlwrnuOIRo20tm3DPC/GIQSc12ULKWUx9BiGwYyU1SylZEzk0bYt3Ook9IFmoYwoA+dxSBrbEsvb990u0n+V9OOnc2HTVfvraq7zGvQBPfvm13HeI3QAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AWS X-Ray Regions&quot;
        title=&quot;&quot;
        src=&quot;/static/e031cc1b5d07282fde5f97db1f874114/fcda8/xray-regions.png&quot;
        srcset=&quot;/static/e031cc1b5d07282fde5f97db1f874114/12f09/xray-regions.png 148w,
/static/e031cc1b5d07282fde5f97db1f874114/e4a3f/xray-regions.png 295w,
/static/e031cc1b5d07282fde5f97db1f874114/fcda8/xray-regions.png 590w,
/static/e031cc1b5d07282fde5f97db1f874114/efc66/xray-regions.png 885w,
/static/e031cc1b5d07282fde5f97db1f874114/00172/xray-regions.png 1044w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;..and my code dynamically detects X-Ray support and will &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt; the &lt;code class=&quot;language-text&quot;&gt;awsRequestId&lt;/code&gt; to assist my future debugging.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;AWS_XRAY_DAEMON_ADDRESS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; segmentName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_HANDLER &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;index.handler&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        subsegment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getSegment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addNewSubsegment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;segmentName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        subsegment&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addMetadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;event&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        subsegment&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addMetadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;context&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;awsRequestId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            subsegment&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addAnnotation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;awsRequestId&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;awsRequestId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;AWS X-Ray filter:  Annotation.awsRequestId = &quot;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;awsRequestId&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When I go to &lt;code class=&quot;language-text&quot;&gt;CloudWatch &gt; Log Groups &gt; /aws/lambda/us-east-1.LicensePlateZone-CloudFront-OriginRequest&lt;/code&gt; in Ohio, I can just copy that X-Ray filter expression…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2020-01-20T04:25:45.932Z	c80d37f9-1805-4233-8ca3-b0f86d73cd02	INFO	AWS X-Ray filter:  Annotation.awsRequestId = &quot;c80d37f9-1805-4233-8ca3-b0f86d73cd02&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;…and use to find the &lt;code class=&quot;language-text&quot;&gt;Trace&lt;/code&gt;.  Here is the &lt;code class=&quot;language-text&quot;&gt;Timeline&lt;/code&gt; for that request with a timing breakdown for &lt;code class=&quot;language-text&quot;&gt;generateSVG&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;generateImage&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3c83290017aed233adcd5d5db65ec2bb/236d7/xray-timeline.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 24.324324324324326%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAA40lEQVR42nXOXUvDMBTG8X7/L+NEEC+8ULzXOXWi3qlJ0yTr2ibrW9r+bcsYdOCBH88JhMMTGWOw1p5Mb6UUUso5lYpJrcaaZEknGK1OOdHjHiVJghCCOI7nFFKQ5znee5qmoWxa1t973kTG9h/vMuflN2PnaqLd1OzYcmo3mQ55f8CVnjB0pL7heqNYPQounySrmTiSXIx59Syx47+5YVlVnI9zDlPsafqWNvTcfWhuXhW3W83Dl124/zSsfzK6fiBK05R6bHQ+ZVmRHYrxYGAYBtqun9Who6jCgq8DuqhxdeAPtMt23+JSwAoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AWS X-Ray Timeline&quot;
        title=&quot;&quot;
        src=&quot;/static/3c83290017aed233adcd5d5db65ec2bb/fcda8/xray-timeline.png&quot;
        srcset=&quot;/static/3c83290017aed233adcd5d5db65ec2bb/12f09/xray-timeline.png 148w,
/static/3c83290017aed233adcd5d5db65ec2bb/e4a3f/xray-timeline.png 295w,
/static/3c83290017aed233adcd5d5db65ec2bb/fcda8/xray-timeline.png 590w,
/static/3c83290017aed233adcd5d5db65ec2bb/efc66/xray-timeline.png 885w,
/static/3c83290017aed233adcd5d5db65ec2bb/c83ae/xray-timeline.png 1180w,
/static/3c83290017aed233adcd5d5db65ec2bb/236d7/xray-timeline.png 1486w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Also, some of the &lt;code class=&quot;language-text&quot;&gt;Raw data&lt;/code&gt; JSON for that &lt;code class=&quot;language-text&quot;&gt;Trace&lt;/code&gt;, which shows the &lt;code class=&quot;language-text&quot;&gt;request_id&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;resource_arn&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;    &lt;span class=&quot;token property&quot;&gt;&quot;Document&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;48105c4f14533917&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;us-east-1.LicensePlateZone-CloudFront-OriginRequest&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;start_time&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1579494345.905&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;end_time&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1579494346.164&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;http&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;response&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token property&quot;&gt;&quot;status&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;aws&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;request_id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c80d37f9-1805-4233-8ca3-b0f86d73cd02&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;trace_id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1-5e252bc9-e3c78f382891b2ccf6c99a18&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;origin&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AWS::Lambda&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;resource_arn&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:lambda:us-east-2:0123456789012:function:us-east-1.LicensePlateZone-CloudFront-OriginRequest:2&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This shows that when CloudFront invokes a Lambda@Edge function in an AWS Region that supports AWS X-Ray, it works as expected.  However, this still might not mean it is “supported” by AWS, so use at your own risk.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Setting Subscription used inside Azure Cloud Shell]]></title><description><![CDATA[This week I am attending some Azure Architect training, listening to some lectures, and doing some labs.  The course includes Azure credits…]]></description><link>https://kevinhakanson.com/2020-01-08-setting-subscription-used-inside-azure-cloud-shell/</link><guid isPermaLink="false">https://kevinhakanson.com/2020-01-08-setting-subscription-used-inside-azure-cloud-shell/</guid><pubDate>Wed, 08 Jan 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;This week I am attending some Azure Architect training, listening to some lectures, and doing some labs.  The course includes Azure credits provided as an Azure Sponsorships subscription, which meant I don’t need to use any of my monthly MSDN credits - unless I do something wrong - which I did.&lt;/p&gt;
&lt;p&gt;When I first set up &lt;a href=&quot;https://shell.azure.com/&quot;&gt;Azure Cloud Shell&lt;/a&gt; it used my oldest subscription - so old that it includes “Windows Azure” in the name and was activated in 2014.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Windows Azure  MSDN - Visual Studio Premium&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;My &lt;code class=&quot;language-text&quot;&gt;cloud-shell-storage-eastus&lt;/code&gt; is in that subscription, and when I log into the Azure Cloud Shell, it is the default subscription for any resource groups I create.  I realized this after creating some things, but not before too long.  I learned is you can set the active subscription from inside the Azure Cloud Shell using both the Azure CLI and PowerShell.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/az.accounts/get-azcontext?view=azps-3.3.0&quot;&gt;Get-AzContext&lt;/a&gt; and &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/az.accounts/get-azsubscription?view=azps-3.3.0&quot;&gt;Get-AzSubscription&lt;/a&gt; give us some useful information, including the subscription identifiers.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;Azure:&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; Azure:\&gt; &lt;span class=&quot;token function&quot;&gt;Get-AzContext&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Select-Object&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Property Name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Subscription&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Tenant &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Format-List&lt;/span&gt;

Name               : Windows Azure  MSDN &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; Visual Studio Premium &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;11111111-1111-4000-11111111111111111&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; MSI@50342
Subscription       : 11111111-1111-4000-11111111111111111
Tenant             : 00000000-0000-4000-00000000000000000

Azure:&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; Azure:\&gt; &lt;span class=&quot;token function&quot;&gt;Get-AzSubscription&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Select-Object&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Property Id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; TenantId &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Format-List&lt;/span&gt;

Id                        : 11111111-1111-4000-11111111111111111
Name                      : Windows Azure  MSDN &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; Visual Studio Premium
TenantId                  : 00000000-0000-4000-00000000000000000

Id                        : 22222222-2222-4000-22222222222222222
Name                      : Azure Pass &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; Sponsorship
TenantId                  : 00000000-0000-4000-00000000000000000&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/az.accounts/set-azcontext?view=azps-3.3.0&quot;&gt;Set-AzContext&lt;/a&gt; lets me set &lt;code class=&quot;language-text&quot;&gt;22222222-2222-4000-22222222222222222&lt;/code&gt; as the default.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;Azure:&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; Azure:\&gt; &lt;span class=&quot;token function&quot;&gt;Set-AzContext&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;SubscriptionId 22222222-2222-4000-22222222222222222&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, that only affects PowerShell cmdlets and not the Azure CLI commands.  Running &lt;a href=&quot;https://docs.microsoft.com/en-us/cli/azure/account?view=azure-cli-latest#az-account-list&quot;&gt;az account list&lt;/a&gt; shows the default subscription for the Azure CLI is still &lt;code class=&quot;language-text&quot;&gt;11111111-1111-4000-11111111111111111&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;Azure:&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; Azure:\&gt; az account list &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;query &lt;span class=&quot;token string&quot;&gt;&quot;[].{Id:id,IsDefault:isDefault,Name:name,TenantId:tenantId}&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Id&quot;&lt;/span&gt;: &lt;span class=&quot;token string&quot;&gt;&quot;11111111-1111-4000-11111111111111111&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;IsDefault&quot;&lt;/span&gt;: true&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Name&quot;&lt;/span&gt;: &lt;span class=&quot;token string&quot;&gt;&quot;Windows Azure  MSDN - Visual Studio Premium&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;TenantId&quot;&lt;/span&gt;: &lt;span class=&quot;token string&quot;&gt;&quot;00000000-0000-4000-00000000000000000&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Id&quot;&lt;/span&gt;: &lt;span class=&quot;token string&quot;&gt;&quot;22222222-2222-4000-22222222222222222&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;IsDefault&quot;&lt;/span&gt;: false&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Name&quot;&lt;/span&gt;: &lt;span class=&quot;token string&quot;&gt;&quot;Azure Pass - Sponsorship&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;TenantId&quot;&lt;/span&gt;: &lt;span class=&quot;token string&quot;&gt;&quot;00000000-0000-4000-00000000000000000&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I would need to use &lt;a href=&quot;https://docs.microsoft.com/en-us/cli/azure/account?view=azure-cli-latest#az-account-set&quot;&gt;az account set&lt;/a&gt; with the &lt;code class=&quot;language-text&quot;&gt;--subscription&lt;/code&gt; parameter to use my “Azure Pass - Sponsorship” subscription.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;Azure:&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; Azure:\&gt; az account &lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;subscription 22222222-2222-4000-22222222222222222&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now I need to remember to do these steps every time I start an Azure Cloud Shell.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Exam AZ-900: Microsoft Azure Fundamentals]]></title><description><![CDATA[Since February 2019, I have been spending time in Microsoft Azure, primarily related to a “move and improve” project for a “.NET monolith…]]></description><link>https://kevinhakanson.com/2019-12-05-exam-az-900-microsoft-azure-fundamentals/</link><guid isPermaLink="false">https://kevinhakanson.com/2019-12-05-exam-az-900-microsoft-azure-fundamentals/</guid><pubDate>Thu, 05 Dec 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Since February 2019, I have been spending time in Microsoft Azure, primarily related to a “move and improve” project for a “.NET monolith” with heavy dependencies on SQL Server.  Through various proofs-of-concept and architecture design sessions with Microsoft, I felt I had a good baseline set of knowledge of Azure.   So, when I learned there was going to be an onsite class for AZ-900 Microsoft Azure Fundamentals on November 18th, I signed up to round out my knowledge and prepare for the certification exam.&lt;/p&gt;
&lt;p&gt;That classroom course had an onsite instructor that reviewed a presentation deck, led the group through some discussions, and asked us some knowledge check questions.  Just prior to the class day, I received a link to course material on Skillpipe which included videos, narrative sections, and sample questions.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 176px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/97b1686a5dda35b3b396fa55692ae10b/06437/pastedImage_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 154.72972972972974%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGEElEQVR42p2We1BU1xnANzaZ/tF/0mln2k7HmUw6dUz6stqmk3TatGmjlii+iJPRaNI82jQY4gs1ioihRkhMasYkahEEYQFFEsH4CigaBIlF2Qe7y77Ksgvusrx32Qe7C79+9wqEpjR1ema+Ofecved3vtf9vtUwmqDNP0h3MMJYPEYsFiMajRKJRAiHwzLffv58HSGkzOo7UXVPeX9kZIR4PI4G4mR8YqDeO8zEuOXzcTi/kCNFJRwuKOLvR4+pUnBMq67zZX7v4AcczDvKkcISPsgrYP/7h/B6fQJMjLCrxkijLzQJ7Osf4K1335+EHS0ppUhbTnHZCQ4cyuNYWQUFxSUUlR2nvPIUxeUn2ZKxG5vdIcB4lEzRsNEX/lxDuUm5tbCkjPwirRwu5VjpcRWoLS1Hqy3m5MkKKitOUF5WyumqU+TnH6HD7RZgLMLOT/Rc6uhnJBQgLP6AMQLDwwwMDTE4OESXtxud2Uprm5UGk4sqfQ9VOp9IN9V6P5U3fdS19RKUMyow84KesmYrVruNdp+fmou1rFqzhsrqagLi9PrrzWze8zbbsvfyyDYtmg3XuWtjA5qNjczYfA3Nugbm7tMRCI4DM87rKBegTn+DV7N2krxsGclLl5CUtAC3ux2n00766zlk7N7NT177UEDXuSe9kbu3XOPudAG+2sC8t6cAd5xr4YzFQ9aOrcx/IolX1q9n9dOrefRXD5Mpe73dXaRnZZOWvoWZm6rRpP+Du9LqRbN67t3ehOaVq8x7ZwpQCUpFs4XU59aw9pm1PP6737BwweMkL1rI0uQn0BYXkp2byx9T1/ONjefQvNzIL/fryTjjoqMvQvJhE7OymwmFFOBImD1XrOQeP82Ti+fz/PPPMvfHD/DQvDn8Yf5jPLVyBX956QW2bktn+Z828LVNdWScdTMQik1mRZMrQEqBmb7BoACjIXKuOlib8QYpi+bz7DOreXDW/cz+/v2qySnLk9m8MY19b+xi2bpMvr7jM9EqqoJi8QSjo2OMjY2RU+Oms2fotobZdWZ+unQVq1YsFsASgd3HAwL9rQBXrlhCxrZN1FWX8vKbhWjSGnkw5yaL8iwsOGRW55+/o+cXf9MzFFA0jEtQzrfwg6QUnlv1JEsWL2Tmd7/N7Fnf4+GH5vL0UynkZmfiMTayZm+JpEwTX9kgKbPuqhqMGWkyv/QpP5sMinwp2z++wY8WrWR50u+Z88PZfPWeGXzrm/dy38zv8NivHyH1zy9QVfguj24tRvOiQFKvoEmtV2WGRFrz4mXm7GlmaDIPJW0yC07wofYo7x3Yz+u7s3grdy/73swh7/BBKk4cp772LIdqzGyq6mD76XZeO+1SZfvHLjafaufA5S6Ck2lTY6DJf/tbFh//X2N0dJThiU8v62IrZ8ydfPbpJfQGA7W1NXz0USVXLl/mwoXzOBx29VB0JE4klphe5LdJ4K7aVmr/2YPHYcXf04Pf78flcuHxeKTGeSVhQ2pqJBIJVRNFlPVU+XcNBVjj9NMm37LBaMBsNmE0GtHpWtQKPd34UqBSYC+29+I0G7E7nFgsZkwmk5jqoLXVqK4Vs61WqUg2Kzab7T+0/IKGRupc/XQ6bQJ0qOYqZjudTtHWrIoCt9vt6rMyK+ZPD5TE3in1cKIFTERZeenLxn83WRL7r5dMXBsHxhOjk46fTiYCMx1QCZ5mJBrB5e/D1z9IMBBgUMr+0Hjpn3j+XxKQc4p2KlDpwwnpxwo4LBuRcIjwcIio2oeVdVj2h9U5JIeCweC0osCU/qyJSIO2eG5hcXdJ+enF3d1DV08fOmcHHb4e7F0+vH396n7fUIC48kdAzox8QRTF1EYflsX5m63UGdposjppMNu5KtJgdmATWL3JpkqdwYLT61f9PDXBp4riS01Q/k40Ozq4bmunRmfiVFML9QKs1Zu5JJdcFNA5uXBgOHRH0dcoFbezd4C2Tp+Y7qWxzSnPXnTtHlo7ulQtHaJZJBa7oyKhiYv6DRYHFoGYBXj2hpEWpxuT+5aq6a2+AQwuzx1XHY1iQFScGUvc7g9Kn4iP+ygx7pe4Mt8h8F9dGyJaamoPiQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AZ-900T01 book cover&quot;
        title=&quot;&quot;
        src=&quot;/static/97b1686a5dda35b3b396fa55692ae10b/06437/pastedImage_1.png&quot;
        srcset=&quot;/static/97b1686a5dda35b3b396fa55692ae10b/12f09/pastedImage_1.png 148w,
/static/97b1686a5dda35b3b396fa55692ae10b/06437/pastedImage_1.png 176w&quot;
        sizes=&quot;(max-width: 176px) 100vw, 176px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I also received a free voucher to take the exam. The instructor mentioned the best way to study was to review the Skillpipe content three days after the class, then do a quick “cram” session on the morning of the exam.&lt;/p&gt;
&lt;p&gt;Since I also have access to A Cloud Guru (and love watching streaming video), I went through many of the sections of &lt;a href=&quot;https://acloud.guru/learn/az-900-microsoft-azure-fundamentals&quot;&gt;AZ-900 Microsoft Azure Fundamentals 2020&lt;/a&gt; to fill in my knowledge gaps and take the section quizzes.  For the more boring sections, step up the playback speed to 1.5x and that will force your brain to pay better attention.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/654aab0c03049afd3e53d98aceb14c7f/e17e5/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.10810810810811%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADVklEQVR42i2SfUzUdRzHf2pRUyA3ebCjOO3kYUh35x135++e6Y7n7mABxSgT9A7wUKDQcsVGyiYRUKiRHoheYpaJQYv6y9E5tLYCrTAWuq5pbkiRmrFGW96rn9Bne+311/e993v7CiOhKY5dOE/wxjWGpybZ3efH27qHmvY2XgmcpHXwM5r6+9nZ24u38wCZ1S2YtuzBsnUvNk/Lgi3eFgzlTZR2HkMI/3ObS+PfAGHu/HGT3tcaaCrOodPjpqqygmpfI21t7ex/u4OXG3ayYoURQdCwZEmGZO0CS5fpJKeRkrtNCvx3nstTP3H/7szOctbv573aarobqjjqP0JX3xl2NbfS8c5+mlv2EfdoAStj8ohZXcCq+EViE1wsf9hOiqsegXCYq6HQQuBf0zMMd3TR4fWw9/liPnm3hy/OXebI8Y/58PQQlTVNqMVNBEaCHA8GeT94joDE4KWLtPeeIrmoTgqULnT9OvfC9wjPz3NlaJgTdfX01XmZGA1y8ccQX0qPxsbG8fecROf0ELj6Pf2/THBCoj/0A2dmf6bt02EUhTsWA6/9emOx4dwckyMjHNju42CDl29Hz3Lrz7v8/ts0gYEPpNlHSZQa1k6MclgKe3Xya3pD0oKbV3D1B5AXbkf4e+4u0zMzfHVhjFrfG3Q0dXJwVyP7PC/icjjxerbR1e2nvvl1VIYcIpPd6Hu6KR/4iM1DA1QMnqZ8eAB5/W5k+TUIt27P8uZbfjTqXDZmPE2GJg9RY0WVrkOrMbJBaUCjEikqLSUhWUFUopPHyqpZu8lHckUdSZt3kORpINZeRny2F2F87Dus9mdRq5yIYiEmQxZWgxWz3oJugwm91kRqsorMLBfN7YeIkecTqSkgSuciWu8mOsPFSrGISIWDWMdWhK7OQxhMZWw0lpBld5NttqNWmrGLNjJFk9TcwDrFeoxmJ6c+P0/CmmcQHjISEW3jwSjrIo/YpH+pJ85RhbDlBR+pKU/hsDxHtpiJSaVGn65B/6QWo1JJmiKVhPhEEmVynlibRsQDRpYKVpYJFsmLLI+4bx0xFqlhQWUjMm0m6x1l6HLcmHOzsOTlYMnPJt1iY400fbVSx+NaEZlaJGqdm8ikEqKSiv+nhLi0YqLlhciKX+I/bWwkIqNX+KcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;video still image&quot;
        title=&quot;&quot;
        src=&quot;/static/654aab0c03049afd3e53d98aceb14c7f/e17e5/pastedImage_2.png&quot;
        srcset=&quot;/static/654aab0c03049afd3e53d98aceb14c7f/12f09/pastedImage_2.png 148w,
/static/654aab0c03049afd3e53d98aceb14c7f/e4a3f/pastedImage_2.png 295w,
/static/654aab0c03049afd3e53d98aceb14c7f/e17e5/pastedImage_2.png 400w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Since I also love collecting virtual XP, I visited the Microsoft Learn site to review the &lt;a href=&quot;https://docs.microsoft.com/en-us/learn/paths/azure-fundamentals/&quot;&gt;Azure fundamentals&lt;/a&gt; learning path.  I didn’t spend the 9 hours and 59 minutes suggested but instead skimmed the text and took the quizzes.  &lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/92d7aa5905e83ba26f9f61f8411337e4/5a46d/pastedImage_5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 90.54054054054053%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClElEQVR42pWTy08TURTGZ+PGR6Cd152ZzqMz7dCZWqRCKY2kTRskxg0SEgJxpSbowrXBKNQgQRMjiXsTZKk7/wRNdCPBBdEGjAvduHEn+89zLy8VobD4zT1n5p4v5zWSM3wT+tQrsGtL0K8vCwyCHQceO/USzvAtSNbkIjrnfyA504L6YB1qcx2J2Q0kjwPFJkiDa0mp8QUkml8Qz63gxvIGJp63kG5+RGJ6FcrdVchHYfoDks0NWOOPKMOJJ1Dnv2FyqYXHXzex8P4nhp59gjzbgjzz+WjcX0Py4XdwLckqDMKuXkX96QoW1zZx7+0vlO68RroyAqVvFHr/KLT+K9BKhzECtX8M9rkqlWxocJmMntsvMDj3BqW5dyhMNmF1nIDSeRpqx0kohEa2njhzIFrnKTgWg2S7HphhIc7HKPaV0FsqIZ/PI8xF8HwfXVGMLrLNlA2NmdDp7v/g3xzSkmzbBmMGvEwINx0gnemC42eRjc7CCbJIhzn4YQTL9aHr+oFomgbHcSA5JKgbJvzSELzeGtyeC/DOVxFULsMvDyPd1yD7EoLyRRhmCjoFHi5ID/7CNE1YlgXDMITPttkK2BJhjLXPkJfMRcIwFORyOWSzWaiqCkVRduEBO3bbDLkTxzEKhYIgCAJEUYTu7m4BH5JPA+Lf+D1eifZP6fsEy+UyGo0GarWaCCoWi8Kv1+sYGBgQ2VerVVQqFaRSqfaCiqpAlmXIiix8XrLwiZ2Sd+z9JbM9Qc/zRA9NmrRJu/TXyTHbYxhMwLV2p8xsBuayrZNDW89MJiZ7KBRreQHdtfamrGoqdJ9Sz1AvAjo5NtkGoWqinAOhVqUyMXTaUZt6K/Hpua4Lj34bz/kDdxvvCIh4V2zCb9PWPkKAou5/AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Azure learning path&quot;
        title=&quot;&quot;
        src=&quot;/static/92d7aa5905e83ba26f9f61f8411337e4/5a46d/pastedImage_5.png&quot;
        srcset=&quot;/static/92d7aa5905e83ba26f9f61f8411337e4/12f09/pastedImage_5.png 148w,
/static/92d7aa5905e83ba26f9f61f8411337e4/e4a3f/pastedImage_5.png 295w,
/static/92d7aa5905e83ba26f9f61f8411337e4/5a46d/pastedImage_5.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Once you complete this learning path, you will have the necessary knowledge to take the &lt;a href=&quot;https://www.microsoft.com/learning/exam-AZ-900.aspx&quot;&gt;AZ900 Microsoft Azure Fundamentals Exam&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Pluralsight didn’t have an AZ-900 course, but if you have access to LinkedIn Learning (maybe through an MSDN offer), they have a &lt;a href=&quot;https://www.linkedin.com/learning/paths/prepare-for-azure-fundamentals-certification-az-900&quot;&gt;Prepare for Azure Fundamentals Certification (AZ-900)&lt;/a&gt; learning path as well. O’Reilly Learning (a.k.a Safari Books Online) also has both a book (&lt;a href=&quot;https://learning.oreilly.com/library/view/exam-ref-az-900/9780135732199/&quot;&gt;Exam Ref AZ-900: Microsoft Azure Fundamentals, First Edition&lt;/a&gt;) and video (&lt;a href=&quot;https://learning.oreilly.com/videos/microsoft-az-900-certification/10009AZ900454545&quot;&gt;Microsoft AZ-900 Certification Course: Azure Fundamentals&lt;/a&gt;) resource.&lt;/p&gt;
&lt;p&gt;I passed the exam on November 26 and have the &lt;a href=&quot;https://www.youracclaim.com/badges/a97b0278-c588-4711-9c03-e869ad9bb60e/linked_in&quot;&gt;badge&lt;/a&gt; to prove it.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0d98176d283f8a6f4ec9ec49f05b69ba/e9f84/0.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHapZSR8kH/xAAZEAEBAQADAAAAAAAAAAAAAAABAgADBBH/2gAIAQEAAQUC5ECKldUlT1ZPN//EABURAQEAAAAAAAAAAAAAAAAAABBB/9oACAEDAQE/Aaf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAgEBPwGH/8QAHBAAAQQDAQAAAAAAAAAAAAAAAQAQETECISJB/9oACAEBAAY/AtmAuSGg0jl7Tf/EABwQAQAABwEAAAAAAAAAAAAAAAEAEBEhMUFRYf/aAAgBAQABPyEC9iDt1w3JkdVqB0mV3kv/2gAMAwEAAgADAAAAEJsP/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/EFcE/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/EANM/8QAHBABAAEFAQEAAAAAAAAAAAAAAREAECExUWHw/9oACAEBAAE/ECQS5LA+fcomZPL6R5ywWyZVE7flVYaLf//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Azure Fundamentals badge&quot;
        title=&quot;&quot;
        src=&quot;/static/0d98176d283f8a6f4ec9ec49f05b69ba/1c72d/0.jpg&quot;
        srcset=&quot;/static/0d98176d283f8a6f4ec9ec49f05b69ba/a80bd/0.jpg 148w,
/static/0d98176d283f8a6f4ec9ec49f05b69ba/1c91a/0.jpg 295w,
/static/0d98176d283f8a6f4ec9ec49f05b69ba/1c72d/0.jpg 590w,
/static/0d98176d283f8a6f4ec9ec49f05b69ba/e9f84/0.jpg 672w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I won’t share my score but I did exceeding well on Understand Cloud Concepts, Understand Core Azure Services, and Understand Security, Privacy, Compliance, and Trust.  I also did embarrassingly horrible on Understand Azure Pricing and Support.  I attribute this to the fact I had spent my time on solutions architecture but leveraged efforts from the Cloud Center of Excellence related to account / subscription setup.  For those of you with similar backstories, I recommend doubling-down on studying for that Pricing and Support section.&lt;/p&gt;
&lt;p&gt;Overall, I thought this was a valuable set of knowledge and would agree with any recommendation that passing this should be a baseline requirement for those building solutions in Azure.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS ALB, Lambda Function Targets, and Multi-Value Headers]]></title><description><![CDATA[I finally took the time experiment with the ability of an AWS Application Load Balancer (ALB) to target a Lambda function for HTTP requests…]]></description><link>https://kevinhakanson.com/2019-10-25-aws-alb-lambda-function-targets-and-multi-value-headers/</link><guid isPermaLink="false">https://kevinhakanson.com/2019-10-25-aws-alb-lambda-function-targets-and-multi-value-headers/</guid><pubDate>Fri, 25 Oct 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I finally took the time experiment with the ability of an AWS Application Load Balancer (ALB) to &lt;a href=&quot;https://docs.aws.amazon.com/en_pv/elasticloadbalancing/latest/application/lambda-functions.html&quot;&gt;target a Lambda function&lt;/a&gt; for HTTP requests.&lt;/p&gt;
&lt;p&gt;I decided to start with some Python code based on the &lt;a href=&quot;https://github.com/aws/elastic-load-balancing-tools/tree/master/application-load-balancer-serverless-app/whatismyip&quot;&gt;whatismyip&lt;/a&gt; example.  I mapped the &lt;code class=&quot;language-text&quot;&gt;/whatismyip&lt;/code&gt; path to return the caller’s IP address and defaulted other paths to returning the event as JSON.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; json

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;

  response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;statusCode&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;headers&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;text/plain;&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;isBase64Encoded&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;False&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/whatismyip&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    sourceip_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;headers&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;x-forwarded-for&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;split&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;,&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; sourceip_list&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      sourceip &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sourceip_list&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;body&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;sourceip
    &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;body&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;?.?.?.?&apos;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; response

  response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;body&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dumps&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; indent&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; response&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;/whatismyip&lt;/code&gt; path returns my IP as expected.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;http://lambdatarget-test-1584240650.us-east-1.elb.amazonaws.com/whatismyip
198.179.137.209&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Executing against the &lt;code class=&quot;language-text&quot;&gt;/browser&lt;/code&gt; path reflects the event structure.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;requestContext&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;elb&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;targetGroupArn&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:elasticloadbalancing:us-east-1:123456789012:targetgroup/whatismyip-target/61f1fdd113474a4b&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;httpMethod&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;GET&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;path&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/browser&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;queryStringParameters&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;headers&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;accept&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;accept-encoding&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gzip, deflate&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;accept-language&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;en-US,en;q=0.9&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;connection&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;keep-alive&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;dnt&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;host&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;lambdatarget-test-1584240650.us-east-1.elb.amazonaws.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;upgrade-insecure-requests&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;user-agent&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &quot;Mozilla/&lt;span class=&quot;token number&quot;&gt;5.0&lt;/span&gt; (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/&lt;span class=&quot;token number&quot;&gt;537.36&lt;/span&gt; (KHTML&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; like Gecko) Chrome/&lt;span class=&quot;token number&quot;&gt;78.0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;3904.70&lt;/span&gt; Safari/&lt;span class=&quot;token number&quot;&gt;537.36&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;x-amzn-trace-id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Root=1-5db31bde-f102927a851f3aaa17ebd23a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;x-forwarded-for&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;198.179.137.209&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;x-forwarded-port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;80&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;x-forwarded-proto&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;body&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;isBase64Encoded&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next, I enabled &lt;a href=&quot;https://docs.aws.amazon.com/en_pv/elasticloadbalancing/latest/application/lambda-functions.html#multi-value-headers&quot;&gt;multi-value headers&lt;/a&gt; to see how that changes the JSON structure.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 459px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/df19a947546b782a0af63a40e738bbd2/48711/multi-value-headers.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 28.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAApElEQVR42oVRywqEMAzs//9a8dKLoL0I1uIDRSnVg3WWBCpd17IDIZDJTAYilFIoyxJ1XeM8T6S4ruu1nnwKMY4jpmnCPM8IIbwKozhnlGoEHoiL67qiqiq0bYumabhrrdH3PfMUgubUU92PYcRxHKD0y7Lcncy2bWPee89H933/CpM1zCEmGYYBRVGAfiCl5KLD4p849xTnHLqu49TWWhhjePYBD+TSyYZNQ/YAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;ALB Multi value headers Enabled&quot;
        title=&quot;&quot;
        src=&quot;/static/df19a947546b782a0af63a40e738bbd2/48711/multi-value-headers.png&quot;
        srcset=&quot;/static/df19a947546b782a0af63a40e738bbd2/12f09/multi-value-headers.png 148w,
/static/df19a947546b782a0af63a40e738bbd2/e4a3f/multi-value-headers.png 295w,
/static/df19a947546b782a0af63a40e738bbd2/48711/multi-value-headers.png 459w&quot;
        sizes=&quot;(max-width: 459px) 100vw, 459px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I hit &lt;code class=&quot;language-text&quot;&gt;/whatismyip&lt;/code&gt; again but received &lt;strong&gt;502 Bad Gateway&lt;/strong&gt; instead of an IP address.  Looking at the CloudWatch logs, I found this &lt;code class=&quot;language-text&quot;&gt;KeyError&lt;/code&gt; related to &lt;code class=&quot;language-text&quot;&gt;&apos;headers&apos;&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;ERROR&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; KeyError: &lt;span class=&quot;token string&quot;&gt;&apos;headers&apos;&lt;/span&gt;
Traceback &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;most recent call last&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
  File &lt;span class=&quot;token string&quot;&gt;&quot;/var/task/lambda_function.py&quot;&lt;/span&gt;, line &lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; lambda_handler
    sourceip_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;headers&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;x-forwarded-for&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;.split&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;,&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;My problem is that I didn’t read the documentation about field names being different.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The names of the fields used for headers differ depending on whether you enable multi-value headers for the target group. You must use multiValueHeaders if you have enabled multi-value headers and headers otherwise.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I instead needed to check &lt;code class=&quot;language-text&quot;&gt;event[&apos;multiValueHeaders&apos;][&apos;x-forwarded-for&apos;][0]&lt;/code&gt; for the IP address.  However, after that change, things still didn’t work as expected: The IP didn’t appear in the browser window but was download as a file.  When I used Chrome Developer Tools to inspect the HTTP Response Headers, I saw that &lt;code class=&quot;language-text&quot;&gt;Content-Type&lt;/code&gt; was &lt;code class=&quot;language-text&quot;&gt;application/octet-stream&lt;/code&gt; and not the &lt;code class=&quot;language-text&quot;&gt;text/plain&lt;/code&gt; required.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;http&quot;&gt;&lt;pre class=&quot;language-http&quot;&gt;&lt;code class=&quot;language-http&quot;&gt;&lt;span class=&quot;token response-status&quot;&gt;&lt;span class=&quot;token http-version property&quot;&gt;HTTP/1.1&lt;/span&gt; &lt;span class=&quot;token status-code number&quot;&gt;200&lt;/span&gt; &lt;span class=&quot;token reason-phrase string&quot;&gt;OK&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token header&quot;&gt;&lt;span class=&quot;token header-name keyword&quot;&gt;Server&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token header-value&quot;&gt;awselb/2.0&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token header&quot;&gt;&lt;span class=&quot;token header-name keyword&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token header-value&quot;&gt;Fri, 25 Oct 2019 20:00:04 GMT&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token header&quot;&gt;&lt;span class=&quot;token header-name keyword&quot;&gt;Content-Type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token header-value&quot;&gt;application/octet-stream&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token header&quot;&gt;&lt;span class=&quot;token header-name keyword&quot;&gt;Content-Length&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token header-value&quot;&gt;15&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token header&quot;&gt;&lt;span class=&quot;token header-name keyword&quot;&gt;Connection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token header-value&quot;&gt;keep-alive&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When multi-value headers are enabled, it affects &lt;strong&gt;both&lt;/strong&gt; the Request and Response headers structures.  I need to use &lt;code class=&quot;language-text&quot;&gt;multiValueHeaders&lt;/code&gt; instead of &lt;code class=&quot;language-text&quot;&gt;headers&lt;/code&gt; and set &lt;code class=&quot;language-text&quot;&gt;Content-Type&lt;/code&gt; to the string array &lt;code class=&quot;language-text&quot;&gt;[&quot;text/plain;&quot;]&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;  response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# ...&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;multiValueHeaders&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;text/plain;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# ...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; This behavior is different that a similar feature of API Gateway. According to the &lt;a href=&quot;https://aws.amazon.com/blogs/compute/support-for-multi-value-parameters-in-amazon-api-gateway/&quot;&gt;Support for multi-value parameters in Amazon API Gateway&lt;/a&gt; blog post:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You can also pass the header key along with the multiValueHeaders key. In that case, API Gateway merges the multiValueHeaders and headers maps while processing the integration response into a single Map&amp;#x3C;String, List&lt;String&gt;&gt; value. If the same key-value pair is sent in both, it isn’t duplicated.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Enabling multi-value headers in AWS ALB also affects the query string event structure.  Calling &lt;code class=&quot;language-text&quot;&gt;/browser?a=1&amp;amp;a=2&lt;/code&gt; when enabled produces an event that contains an array of values under &lt;code class=&quot;language-text&quot;&gt;multiValueQueryStringParameters&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;path&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/browser&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;multiValueQueryStringParameters&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;2&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;multiValueHeaders&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Calling &lt;code class=&quot;language-text&quot;&gt;/browser?a=1&amp;amp;a=2&lt;/code&gt; when not enabled yields only the last value or &lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt; under the &lt;code class=&quot;language-text&quot;&gt;queryStringParameters&lt;/code&gt; key.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;path&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/browser&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;queryStringParameters&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;headers&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For a production workload, I would probably look to a Python web framework to abstract these details for me.  I was hoping &lt;a href=&quot;https://chalice.readthedocs.io/en/latest/&quot;&gt;AWS Chalice&lt;/a&gt; would work, but as of now, it only supports “Amazon API Gateway and AWS Lambda” and not AWS ALBs.  Maybe it’s time to open a GitHub issue on &lt;a href=&quot;https://github.com/aws/chalice&quot;&gt;aws/chalice&lt;/a&gt; and ask about the roadmap?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Veracode API HMAC Authentication in Python]]></title><description><![CDATA[Back on 26 August 2019, I created a GitHub issue on veracode-python-hmac-example since it didn’t work with Python 3.7.  I also reached out…]]></description><link>https://kevinhakanson.com/2019-09-06-veracode-api-hmac-authentication-in-python/</link><guid isPermaLink="false">https://kevinhakanson.com/2019-09-06-veracode-api-hmac-authentication-in-python/</guid><pubDate>Fri, 06 Sep 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Back on 26 August 2019, I created a &lt;a href=&quot;https://github.com/ctcampbell/veracode-python-hmac-example/issues/1&quot;&gt;GitHub issue&lt;/a&gt; on &lt;a href=&quot;https://github.com/ctcampbell/veracode-python-hmac-example&quot;&gt;veracode-python-hmac-example&lt;/a&gt; since it didn’t work with Python 3.7.  I also reached out to Veracode Support who replied right away with a compatible &lt;code class=&quot;language-text&quot;&gt;.whl&lt;/code&gt; file.  Today I learned that the &lt;a href=&quot;https://pypi.org/project/veracode-api-signing/&quot;&gt;Veracode API Signing&lt;/a&gt; Library is now available on PyPI for HMAC authentication.&lt;/p&gt;
&lt;p&gt;As a test, I wanted to write some Python code for &lt;a href=&quot;https://help.veracode.com/reader/LMv_dtSHyb7iIxAQznC~9w/b94PkyMxvs8cz9nxt4rwVA&quot;&gt;getapplist.do&lt;/a&gt; to mimic this usage of the Java based CLI.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;java&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-jar&lt;/span&gt; ~/.veracode/VeracodeJavaAPI.jar &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;token parameter variable&quot;&gt;-vid&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;redacted&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;token parameter variable&quot;&gt;-vkey&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;redacted &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;token parameter variable&quot;&gt;-action&lt;/span&gt; getapplist&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I was able to run this code and get the same result from the &lt;a href=&quot;https://help.veracode.com/reader/LMv_dtSHyb7iIxAQznC~9w/pd_p6JjB9PcDNH3GzWF5Ag&quot;&gt;Veracode XML API&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; sys
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; requests
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; veracode_api_signing&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;plugin_requests &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; RequestsAuthPluginVeracodeHMAC

VERACODE_API_URL &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://analysiscenter.veracode.com/api/5.0/&apos;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; __name__ &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__main__&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;

    result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; requests&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;post&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;VERACODE_API_URL &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;getapplist.do&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
                           auth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; RequestsAuthPluginVeracodeHMAC&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
                           data&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;include_user_info&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This works because the Veracode API Key and Key Secret are located in my &lt;code class=&quot;language-text&quot;&gt;~/.veracode/credentials&lt;/code&gt; file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; ~/.veracode/credentials 
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;default&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
veracode_api_key_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;redacted&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
veracode_api_key_secret &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;redacted&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you prefer the newer JSON based &lt;a href=&quot;https://help.veracode.com/reader/LMv_dtSHyb7iIxAQznC~9w/gvZeRo~jgxY0DDN~~KfRkw&quot;&gt;Veracode REST APIs&lt;/a&gt;, the same HMAC authentication works.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; json
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; sys
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; requests
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; veracode_api_signing&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;plugin_requests &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; RequestsAuthPluginVeracodeHMAC

api_base &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://api.veracode.com/appsec/v1&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; __name__ &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__main__&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; requests&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;api_base &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/applications&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                auth&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;RequestsAuthPluginVeracodeHMAC&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                params&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;size&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;500&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt; requests&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;RequestException &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        sys&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exit&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ok&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dumps&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;json&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; indent&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status_code&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now it’s time to explore some more Veracode APIs and add some security automation to my pipelines.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Using the JFrog Artifactory CLI with API Keys or Access Tokens]]></title><description><![CDATA[I received early adopter access to our JFrog Artifactory instances located at .  After you log in via SSO you are redirected to  (note that…]]></description><link>https://kevinhakanson.com/2019-08-21-using-the-jfrog-artifactory-cli-with-api-keys-or-access-tokens/</link><guid isPermaLink="false">https://kevinhakanson.com/2019-08-21-using-the-jfrog-artifactory-cli-with-api-keys-or-access-tokens/</guid><pubDate>Wed, 21 Aug 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I received early adopter access to our &lt;a href=&quot;https://jfrog.com/artifactory/&quot;&gt;JFrog Artifactory&lt;/a&gt; instances located at &lt;code class=&quot;language-text&quot;&gt;https://redacted.jfrog.io&lt;/code&gt;.  After you log in via SSO you are redirected to &lt;code class=&quot;language-text&quot;&gt;https://redacted.jfrog.io/redacted/webapp/#/home&lt;/code&gt; (note that &lt;code class=&quot;language-text&quot;&gt;/redacted/&lt;/code&gt; path segment as this is needed for API URLs).  I wanted to try CLI access so I started with a simple unauthenticated ”&lt;a href=&quot;https://www.jfrog.com/confluence/display/RTF/Artifactory+REST+API#ArtifactoryRESTAPI-SystemHealthPing&quot;&gt;ping&lt;/a&gt;” using &lt;code class=&quot;language-text&quot;&gt;curl&lt;/code&gt; against the REST API using &lt;a href=&quot;https://curl.haxx.se/docs/manpage.html#-s&quot;&gt;-s&lt;/a&gt; for “silent mode” and &lt;a href=&quot;https://curl.haxx.se/docs/manpage.html#-i&quot;&gt;-i&lt;/a&gt; to include HTTP response header is output, but limit to the first line by piping through &lt;code class=&quot;language-text&quot;&gt;head&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-s&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-i&lt;/span&gt; https://redacted.jfrog.io/redacted/api/system/ping &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;head&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
HTTP/1.1 &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt; OK&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Success. Let’s try some negative testing of my user but with an invalid API key.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-s&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-u&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0038137:INVALID_APIKEY&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
https://redacted.jfrog.io/redacted/api/system/ping &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;head&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
HTTP/1.1 &lt;span class=&quot;token number&quot;&gt;401&lt;/span&gt; Unauthorized&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now let’s grab my API key and try again.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 288px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/94e55ca4dfb7dc82e2d7bccb5aee81e1/477c9/Screen%2BShot%2B2019-08-20%2Bat%2B6.00.29%2BPM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWUlEQVR42p2QTUvDQBCG89MEFf0FHkoLvVWNVioV/C+iNw9+gK2oeC7YWqrQgoLi1daaNNnNpt1k8/WaXclFUEMHHmZmYd55Z7VKQ4ferKLS2MTO1S42mlsonZaxcLCMxcMVxdLRam609Qsd9dt96JdV1G72ULuup6LbKJ6XUTwro3BSwtpxITfa4HmAzuM9+k99dHodtHvttB6gdddC96GLl7dXUNeBRW3YDvkXbfg+hDE2wByGiTmB8WnAsiyMhiN8jD5AbIIojBAGYS40QgjCMARjTDGdTuE4DlzXRRzHkJEkSW40Sik8z4NpmgrZS+Fs0V/xq2AURUpIuuIeh+d78H0fnHPMZjNFVmdZmpAXyFm5WGbZK8E4ir/PZC4YZXCoo3pCiVr0E+leLg+CQH1RZkYIAU0OM8EwdscgfirgU1jcVm/zhHIYJAF4wCEiAREKlf2UeQS/AB7ByA6Wv6PmAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;JFrog Artifactory API Key&quot;
        title=&quot;&quot;
        src=&quot;/static/94e55ca4dfb7dc82e2d7bccb5aee81e1/477c9/Screen%2BShot%2B2019-08-20%2Bat%2B6.00.29%2BPM.png&quot;
        srcset=&quot;/static/94e55ca4dfb7dc82e2d7bccb5aee81e1/12f09/Screen%2BShot%2B2019-08-20%2Bat%2B6.00.29%2BPM.png 148w,
/static/94e55ca4dfb7dc82e2d7bccb5aee81e1/477c9/Screen%2BShot%2B2019-08-20%2Bat%2B6.00.29%2BPM.png 288w&quot;
        sizes=&quot;(max-width: 288px) 100vw, 288px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-s&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-u&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0038137:REDACTED_APIKEY&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
https://redacted.jfrog.io/redacted/api/system/ping &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;head&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
HTTP/1.1 &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt; OK&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice that I’ve replaced my real API Key with REDACTED_APIKEY above.  Using the real API Key works, but it is long, hard to type, and using it that way exposes it to someone looking in my &lt;code class=&quot;language-text&quot;&gt;.bash_history&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;Let’s switch to using the &lt;a href=&quot;https://www.jfrog.com/confluence/display/CLI/JFrog+CLI&quot;&gt;JFrog CLI&lt;/a&gt; and see how that works with my API Key.  Visit the documentation site for full install instructions, including auto-completion scripts.  This CLI works with multiple JFrog products, and &lt;code class=&quot;language-text&quot;&gt;rt&lt;/code&gt; is the target argument for JFrog Artifactory.  The &lt;a href=&quot;https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory#CLIforJFrogArtifactory-Configuration&quot;&gt;config&lt;/a&gt; command will create a &lt;code class=&quot;language-text&quot;&gt;~/.jfrog/jfrog-cli.conf&lt;/code&gt; file that is used for other CLI commands.  For the command history reason above, I recommend not to use the &lt;code class=&quot;language-text&quot;&gt;--apikey&lt;/code&gt; parameter and enter your API Key in interactive mode.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ jfrog &lt;span class=&quot;token parameter variable&quot;&gt;--version&lt;/span&gt;
jfrog version &lt;span class=&quot;token number&quot;&gt;1.27&lt;/span&gt;.0

$ jfrog rt config &lt;span class=&quot;token parameter variable&quot;&gt;--url&lt;/span&gt; https://redacted.jfrog.io/redacted/ &lt;span class=&quot;token parameter variable&quot;&gt;--user&lt;/span&gt; 0038137
Artifactory server ID: redacted
Access token &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Leave blank &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; username and password/API key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;: 
Password/API key: 
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Info&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Encrypting password&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Similar to the REST API, the JFrog CLI supports a &lt;a href=&quot;https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory#CLIforJFrogArtifactory-VerifyingArtifactoryisAccessible&quot;&gt;ping command&lt;/a&gt; to verify that Artifactory is accessible.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ jfrog rt &lt;span class=&quot;token function&quot;&gt;ping&lt;/span&gt;
OK&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Taking a peek at the config file, you can see the API Key was stored in the “password” field during the interactive flow.  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; ~/.jfrog/jfrog-cli.conf
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;artifactory&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://redacted.jfrog.io/redacted/&quot;&lt;/span&gt;,
      &lt;span class=&quot;token string&quot;&gt;&quot;user&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0038137&quot;&lt;/span&gt;,
      &lt;span class=&quot;token string&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;REDACTED_APIKEY&quot;&lt;/span&gt;,
      &lt;span class=&quot;token string&quot;&gt;&quot;serverId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redacted&quot;&lt;/span&gt;,
      &lt;span class=&quot;token string&quot;&gt;&quot;isDefault&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;There is also a &lt;a href=&quot;https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory#CLIforJFrogArtifactory-RunningcUrl&quot;&gt;Running cUrl&lt;/a&gt; feature to invoke REST APIs not available in the JFrog CLI.  That takes the same arguments as native curl but uses a shortened REST API path and automatically includes login credentials.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ jfrog rt &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-X&lt;/span&gt; GET /api/system/ping
OK&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you really love complicated command lines, you could inject your API Key from the config file using &lt;code class=&quot;language-text&quot;&gt;jq&lt;/code&gt; and still execute &lt;code class=&quot;language-text&quot;&gt;curl&lt;/code&gt; yourself.  Have fun!&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ jq &lt;span class=&quot;token parameter variable&quot;&gt;-r&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;.artifactory[0].password&quot;&lt;/span&gt; ~/.jfrog/jfrog-cli.conf
REDACTED_APIKEY

$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-s&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;-u&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0038137:&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;jq &lt;span class=&quot;token parameter variable&quot;&gt;-r&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;.artifactory[0].password&quot;&lt;/span&gt; ~/.jfrog/jfrog-cli.conf&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
https://redacted.jfrog.io/redacted/api/system/ping &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;head&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
HTTP/1.1 &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt; OK&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now let’s trying something that is unique to my user by calling the REST API to &lt;a href=&quot;https://www.jfrog.com/confluence/display/RTF/Artifactory+REST+API#ArtifactoryRESTAPI-GetAPIKey&quot;&gt;Get API Key&lt;/a&gt;.  This should echo back the same REDACTED_APIKEY I have in my config file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ jfrog rt &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-X&lt;/span&gt; GET /api/security/apiKey
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;apiKey&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;REDACTED_APIKEY&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For my CI/CD pipelines, I don’t really want my personal API Key being used.  Luckily, JFrog also supports &lt;a href=&quot;https://www.jfrog.com/confluence/display/ACC/Access+Tokens&quot;&gt;Access Tokens&lt;/a&gt; “as a flexible means of authentication with a wide range of capabilities” including:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;User and non-user authentication&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The case for authenticating users is clear, however access tokens can also be assigned to non-user entities such as CI server jobs.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Flexible scope&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;By assigning Groups to tokens, you can control the level of access they provide.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let’s create an access token that is valid for the next 90 seconds and then configure a &lt;code class=&quot;language-text&quot;&gt;REDACTED_ID&lt;/code&gt; entry in our config file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ jfrog rt &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-X&lt;/span&gt; POST /api/security/token &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;username=0038137&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;scope=member-of-groups:readers&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;expires_in=90&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;scope&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;member-of-groups:readers api:*&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;access_token&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;REDACTED_TOKEN&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;expires_in&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;token_type&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Bearer&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

$ jfrog rt config &lt;span class=&quot;token parameter variable&quot;&gt;--url&lt;/span&gt; https://redacted.jfrog.io/redacted/ &lt;span class=&quot;token parameter variable&quot;&gt;--user&lt;/span&gt; 0038137
Artifactory server ID &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;redacted&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;: REDACTED_ID
Access token &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Leave blank &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; username and password/API key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;: &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Quickly use the token with a ping command specifying the &lt;code class=&quot;language-text&quot;&gt;REDACTED_ID&lt;/code&gt; config, then wait for 90 seconds for the token to expire and execute another ping command.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ jfrog rt &lt;span class=&quot;token function&quot;&gt;ping&lt;/span&gt; --server-id REDACTED_ID
OK

$ &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;wait 90 seconds&quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt; seconds

$ jfrog rt &lt;span class=&quot;token function&quot;&gt;ping&lt;/span&gt; --server-id REDACTED_ID
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Error&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; Artifactory response: &lt;span class=&quot;token number&quot;&gt;401&lt;/span&gt; Unauthorized
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;errors&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;status&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;401&lt;/span&gt;,
      &lt;span class=&quot;token string&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Token failed verification: expired&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When you inspect the JWT payload data from that token, you can see the &lt;code class=&quot;language-text&quot;&gt;exp&lt;/code&gt; time.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;sub&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;jfrt@01dc27m2makwbg11a8k5sr05z2/users/0038137&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;member-of-groups:readers api:*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;aud&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;jfrt@01dc27m2makwbg11a8k5sr05z2&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;iss&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;jfrt@01dc27m2makwbg11a8k5sr05z2&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;exp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1566405855&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;iat&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1566405765&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;jti&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;47e178d6-0263-4c13-969c-087f79a07a02&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Unfortunately, this still is an Access Token tied to my user account.  There is a way for Admin Users to create Access Token for “non-user entities such as CI server jobs” (mentioned above), so I need to work with our JFrog Artifactory admin to figure out the best way to move forward.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Scanning for OWS SQL Injection Protection]]></title><description><![CDATA[A few months ago, I was reviewing some code that was flagged by Veracode for multiple CWE-89: Improper Neutralization of Special Elements…]]></description><link>https://kevinhakanson.com/2019-08-12-scanning-for-ows-sql-injection-protection/</link><guid isPermaLink="false">https://kevinhakanson.com/2019-08-12-scanning-for-ows-sql-injection-protection/</guid><pubDate>Mon, 12 Aug 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;A few months ago, I was reviewing some code that was flagged by Veracode for multiple &lt;strong&gt;&lt;a href=&quot;http://cwe.mitre.org/data/definitions/89.html&quot;&gt;CWE-89&lt;/a&gt;: Improper Neutralization of Special Elements used in an SQL Command (‘SQL Injection’)&lt;/strong&gt; flaws. When working with the development team, they demonstrated that the SQL generation which triggers these flaws is part of &lt;a href=&quot;http://www.openwebstudio.com/&quot;&gt;OpenWebStudio&lt;/a&gt; (OWS) and is driven by configuration data.  I said that if we can prove we are generating from safe input, I could mitigate, but I wanted an in-depth review of the code paths.&lt;/p&gt;
&lt;p&gt;OWS does include the ability to &lt;a href=&quot;http://www.openwebstudio.com/topic/Action_Variable.aspx#Protect_Against_SQL_Injection&quot;&gt;Protect Against SQL Injection&lt;/a&gt; and even explicitly mentions to &lt;strong&gt;“ALWAYS check the box to protect against SQL Injection”&lt;/strong&gt;.  Here is a screenshot from the &lt;a href=&quot;http://www.openwebstudio.com/topic/Action_Variable.aspx&quot;&gt;Variable&lt;/a&gt; documentation.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/634c8f77a3d614bc097171cc5af0049b/86056/action.variable.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAgADBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe4gTWMf/8QAFxAAAwEAAAAAAAAAAAAAAAAAAAEQMf/aAAgBAQABBQLKxT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAEAAgMBAAAAAAAAAAAAAAABABEQIUFR/9oACAEBAAE/IXQuAeErDuWz/9oADAMBAAIAAwAAABATD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQACAwEBAAAAAAAAAAAAAAEAESExUWGR/9oACAEBAAE/EKrNdrM2ihzK8IlC24m8nc9H7P/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;OWS Variable configuration&quot;
        title=&quot;&quot;
        src=&quot;/static/634c8f77a3d614bc097171cc5af0049b/1c72d/action.variable.jpg&quot;
        srcset=&quot;/static/634c8f77a3d614bc097171cc5af0049b/a80bd/action.variable.jpg 148w,
/static/634c8f77a3d614bc097171cc5af0049b/1c91a/action.variable.jpg 295w,
/static/634c8f77a3d614bc097171cc5af0049b/1c72d/action.variable.jpg 590w,
/static/634c8f77a3d614bc097171cc5af0049b/86056/action.variable.jpg 689w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Since OWS is open source, I was able to search the code and find that the &lt;code class=&quot;language-text&quot;&gt;FormatQueryVariable&lt;/code&gt; implementation inside &lt;a href=&quot;https://github.com/kevinmschreiner/OpenWebStudio/blob/e4c16a349c33db82e25aa2200353cfff8d01f0cd/Source/Code/r2i.OWS/Engine/Plugins/Renderers/Render.Variable.vb#L1762&quot;&gt;Render.Variable.vb&lt;/a&gt; works as expected.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;vbnet&quot;&gt;&lt;pre class=&quot;language-vbnet&quot;&gt;&lt;code class=&quot;language-vbnet&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;If&lt;/span&gt; EscapeQuotes &lt;span class=&quot;token keyword&quot;&gt;Then&lt;/span&gt;
      Value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Value.Replace&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&apos;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&apos;&apos;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;If&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Left&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;Is&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;Nothing&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;OrElse&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Left&lt;/span&gt;.&lt;span class=&quot;token function&quot;&gt;Length&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;AndAlso&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Right&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;Is&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;Nothing&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;OrElse&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Right&lt;/span&gt;.&lt;span class=&quot;token function&quot;&gt;Length&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;Then&lt;/span&gt;
          &lt;span class=&quot;token comment&quot;&gt;&apos;NO LEFT AND RIGHT ARE PROVIDED, BUT SQL INJECTION IS CHECKED&lt;/span&gt;
          Firewall.Firewall&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Utilities.Firewall.FirewallDirectiveEnum.Any&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;End&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;If&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;End&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;If&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The configuration from that Variable UI Dialog above is serialized as JSON data into an XML based Microsoft ResX file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;data&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;Module.Load&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;xml:&lt;/span&gt;space&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;preserve&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- OWS JSON configuration --&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Inside that JSON configuration string is a block for each of the Variable configurations.  The JSON sample below is representative of the UI Dialog above.  Note that &lt;code class=&quot;language-text&quot;&gt;Protected&lt;/code&gt; is set to &lt;code class=&quot;language-text&quot;&gt;&quot;true&quot;&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;ChildActions&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Index&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;66&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Level&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Parameters&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;VariableType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&amp;amp;lt;Form&amp;amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;VariableDataType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Any&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;Formatters&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;QuerySource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;frmContent&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;QueryTarget&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@frmContent&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;QueryTargetLeft&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&apos;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;QueryTargetRight&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&apos;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;QueryTargetEmpty&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NULL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;EscapeListX&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;Protected&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;EscapeHTML&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;false&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;ActionType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Template-Variable&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;ChildActions&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I had asked the team to write a script to scan all &lt;code class=&quot;language-text&quot;&gt;.ascx.resx&lt;/code&gt; files in the project and verify SQL Protection is being set as expected.  However, when I checked back with them, this was still on the backlog.  I took this as an opportunity to help out and write the code myself.  I usually use python for my utility scripts, but I decided to try out PowerShell for this since it would be more familiar to that .NET based team.&lt;/p&gt;
&lt;p&gt;The first thing I wanted to do was initialize some counters and recursively find all the &lt;code class=&quot;language-text&quot;&gt;*.ascx.resx&lt;/code&gt; files.  Since I kept seeing examples using &lt;code class=&quot;language-text&quot;&gt;|&lt;/code&gt; in my google results, I read up on &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_pipelines?view=powershell-6#how-pipelines-work&quot;&gt;How Pipelines Work&lt;/a&gt; in PowerShell, including the &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_foreach?view=powershell-6&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ForEach-Object&lt;/code&gt;&lt;/a&gt; function and the &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_automatic_variables?view=powershell-6#_&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$_&lt;/code&gt;&lt;/a&gt; automatic variable.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$FileCount&lt;/span&gt; = 0
&lt;span class=&quot;token variable&quot;&gt;$IndexCount&lt;/span&gt; = 0
&lt;span class=&quot;token variable&quot;&gt;$FilePathLength&lt;/span&gt; = &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Get-Location&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Length &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; 1

&lt;span class=&quot;token function&quot;&gt;Get-ChildItem&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ascx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resx &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Recurse &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ForEach-Object&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token variable&quot;&gt;$CurrentFile&lt;/span&gt; = &lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;FullName&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;substring&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$FilePathLength&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token namespace&quot;&gt;[String[]]&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FileMessages&lt;/span&gt; = @&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  
  &lt;span class=&quot;token comment&quot;&gt;# continued below&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I used &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/select-xml?view=powershell-6&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Select-Xml&lt;/code&gt;&lt;/a&gt; with an &lt;code class=&quot;language-text&quot;&gt;XPath&lt;/code&gt; selector of &lt;code class=&quot;language-text&quot;&gt;//data[@name=&apos;Module.Load&apos;]/value&lt;/code&gt;, eventually converting the JSON string value into a &lt;code class=&quot;language-text&quot;&gt;PSCustomObject&lt;/code&gt; using &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/convertfrom-json?view=powershell-6&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ConvertFrom-Json&lt;/code&gt;&lt;/a&gt;.  I then iterated over the &lt;code class=&quot;language-text&quot;&gt;ChildActions&lt;/code&gt; and called a &lt;code class=&quot;language-text&quot;&gt;ScanChildActions&lt;/code&gt; function I created to return an array of any violations.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;  &lt;span class=&quot;token variable&quot;&gt;$obj&lt;/span&gt; = &lt;span class=&quot;token function&quot;&gt;Select-Xml&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Path &lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;FullName &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;XPath &lt;span class=&quot;token string&quot;&gt;&quot;//data[@name=&apos;Module.Load&apos;]/value&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;ForEach-Object&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;InnerXML&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;ConvertFrom-Json&lt;/span&gt;

  &lt;span class=&quot;token variable&quot;&gt;$obj&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;messageItems &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ForEach-Object&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ChildActions &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ForEach-Object&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token variable&quot;&gt;$FileMessages&lt;/span&gt; = ScanChildActions &lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FileMessages&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  
  &lt;span class=&quot;token comment&quot;&gt;# continued below&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;ChildActions&lt;/code&gt; function is a recursive scan that looks for any &lt;code class=&quot;language-text&quot;&gt;ActionType&lt;/code&gt; of &lt;code class=&quot;language-text&quot;&gt;Template-Variable&lt;/code&gt; and inspects the &lt;code class=&quot;language-text&quot;&gt;Protected&lt;/code&gt; parameter.  If &lt;code class=&quot;language-text&quot;&gt;&quot;false&quot;&lt;/code&gt;, it appends an error message with the &lt;code class=&quot;language-text&quot;&gt;️Index&lt;/code&gt; value as the key for finding the offending &lt;code class=&quot;language-text&quot;&gt;Variable&lt;/code&gt; later.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; ScanChildActions&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$ChildActions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;[String[]]&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$ErrorMessages&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token variable&quot;&gt;$ChildActions&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ForEach-Object&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ActionType &lt;span class=&quot;token operator&quot;&gt;-eq&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Template-Variable&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Parameters&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Protected &lt;span class=&quot;token operator&quot;&gt;-eq&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;false&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token variable&quot;&gt;$message&lt;/span&gt; = &lt;span class=&quot;token string&quot;&gt;&quot;️Index=&lt;span class=&quot;token function&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;  Protected=false&quot;&lt;/span&gt;
        &lt;span class=&quot;token variable&quot;&gt;$ErrorMessages&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$message&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token variable&quot;&gt;$ErrorMessages&lt;/span&gt; = &lt;span class=&quot;token namespace&quot;&gt;[String[]]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ScanChildActions &lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ChildActions &lt;span class=&quot;token variable&quot;&gt;$ErrorMessages&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$ErrorMessages&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With all the error messages gathered for the file, it was time to output the results and increment &lt;code class=&quot;language-text&quot;&gt;$FileCount&lt;/code&gt; / &lt;code class=&quot;language-text&quot;&gt;$IndexCount&lt;/code&gt; and output either a success (✅) or failure (❌) line for that filename.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;  &lt;span class=&quot;token comment&quot;&gt;# ... continued from above&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$FileMessages&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-eq&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;Write-Output&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;✅  &lt;span class=&quot;token function&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$CurrentFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt;

  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$script&lt;/span&gt;:FileCount+&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$script&lt;/span&gt;:IndexCount &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FileMessages&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Length

    &lt;span class=&quot;token function&quot;&gt;Write-Output&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;❌  &lt;span class=&quot;token function&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$CurrentFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$FileMessages&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ForEach-Object&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Write-Output&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;️  ☒ &lt;span class=&quot;token function&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Because I intended for this to be run as part of the build, I made sure to return a non-zero exit code so this script could be used to fail either the build or a pre-commit hook or whatever worked for the team’s development flow.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;Write-Output&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token function&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$FileCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; files had &lt;span class=&quot;token function&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$IndexCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; instances of Variable SQL Injection&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$FileCount&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-gt&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;1
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;exit&lt;/span&gt; 0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I am early in my PowerShell script development journey, so there are likely improvements I could make to this code.  However, since my goal was to improve security through automation, I feel good about the solution.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS Signature Authorization using Postman]]></title><description><![CDATA[The other day I ran across Use Postman to Call a REST API - Amazon API Gateway, which highlighted that Postman can generate AWS Signatures…]]></description><link>https://kevinhakanson.com/2019-07-07-aws-signature-authorization-using-postman/</link><guid isPermaLink="false">https://kevinhakanson.com/2019-07-07-aws-signature-authorization-using-postman/</guid><pubDate>Sun, 07 Jul 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The other day I ran across &lt;a href=&quot;https://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-use-postman-to-call-api.html&quot;&gt;Use Postman to Call a REST API - Amazon API Gateway&lt;/a&gt;, which highlighted that Postman can generate AWS Signatures for authorization (see &lt;a href=&quot;https://learning.getpostman.com/docs/postman/sending_api_requests/authorization#amazon-web-services-aws-authentication&quot;&gt;Authorization | Postman Learning Center&lt;/a&gt;).  When I wrote &lt;a href=&quot;../2017-08-15-aws-chalice-amazon-api-gateway-and-aws-iam-authorization&quot;&gt;AWS Chalice, Amazon API Gateway, and AWS IAM Authorization&lt;/a&gt;, I used the &lt;a href=&quot;https://github.com/jmenga/requests-aws-sign&quot;&gt;jmenga/requests-aws-sign&lt;/a&gt; library inside my Python code to sign my HTTP requests, but this would be an interesting way to be more interactive.&lt;/p&gt;
&lt;p&gt;I used &lt;a href=&quot;https://docs.aws.amazon.com/cli/latest/reference/configure/&quot;&gt;aws cli configure&lt;/a&gt; to get the values out of &lt;code class=&quot;language-text&quot;&gt;~/.aws/credentials&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws configure get aws_access_key_id
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;redacted&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
$ aws configure get aws_secret_access_key
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;redacted&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
$ aws configure get aws_session_token
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;redacted&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I created a &lt;a href=&quot;https://learning.getpostman.com/docs/postman/environments_and_globals/intro_to_environments_and_globals&quot;&gt;Postman environment&lt;/a&gt; and manually added these values as variables.  I was able to export this to a JSON format that can also be used for import.  I plan on looking at a way to script the creation of this file and avoid the extra cutting/pasting when my session credentials expire or maybe there is a way &lt;a href=&quot;https://learning.getpostman.com/docs/postman/scripts/pre_request_scripts&quot;&gt;Pre-request scripts&lt;/a&gt; can fetch them.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;638759e0-bc49-420d-be3a-794ff7c8a08b&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;aws&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;values&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;aws_access_key_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[redacted]&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;enabled&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;aws_secret_access_key&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[redacted]&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;enabled&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;aws_session_token&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[redacted]&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;enabled&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;_postman_variable_scope&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;environment&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;_postman_exported_at&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2019-07-07T17:23:27.037Z&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;_postman_exported_using&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Postman/7.2.2&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If I switch the Authorization Type to AWS Signature, I can set the AccessKey, SecretKey, and Session Token to the variables from my environment.  I also set the Service Name to &lt;code class=&quot;language-text&quot;&gt;sts&lt;/code&gt; for my first test, which is my favorite AWS API for testing: &lt;a href=&quot;https://docs.aws.amazon.com/STS/latest/APIReference/API_GetCallerIdentity.html&quot;&gt;GetCallerIdentity - AWS Security Token Service&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1c3efb7100d0dda51298416045cea6ed/84bf8/pastedImage_69.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACWklEQVR42o1Ty27VMBDNz/EnfAcfAEs2bPgI2CGQ6I4lQoJFBWoLbe+9uXHit+P3MOPcpK1oJSydzDi2j4/n0ZmxBz0NQNZrCSFEyDn/g5TShhgjaK2/cKHe7Uf5Q2gLnPOqlIKOjSMME4fD8QjHYw9936M9Nrv6wzCAEGLDxAXMagpn58o9e2vjq88GFB9AaQOddRbMcADJDuDIdw6MNWCtJRXNOvznQ3iAlCI4n+DANIxcg3cGDO7v6NCMh/zsYJ7n9iQiMMY0S4SGSBERL4pGLRafTaQlzgA1A37a/o5LhVI1aCXxkGnxKqU04lpr8wvFMHrIAREDZFzb4ovrK0hQ53aXEIZbvFVDQtlE4r3H5ARYR8XNUXGIcoSIiSN1j6ERxvevIX/9tB5tX1ok0k3hSWVpqtLdvxNI6Sqkg0cG3USxJZXr7bR5VX7fX+frnicJqTxoEw1S4dwMgchPdfjkkx8jpIRQdlfCFkOMcYN3D4p8BT27EW6dUKgbyMcM43wpi3vZxHlOyz+PPqkNaQHN1xLrBOdYMgq00dVqXROWBp5u6aFA343a5i1R6MdMxKGBSMeRgZQSuj3jcDVMcNkzuED0B3E7scCErMBYchMve8bKfpyStyGD9Vn6CDdoZ2wUJFvgcM3Y5cmVodzvV1fyerd7yUN+fpjkB40Nz9j0C5vghXfpzXESQllHWf2Jcj/OPgyx4AvK3UNaDKkvLxiDbzfX+fzPby20KpR+hZ1jsXNmyiom5X/G0il4eMAY9giB/YzFi0kt9dRWtSzFXbeqX2y5N98GJfIvzYTYi2VTwNUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Postman GetCallerIdentityResponse&quot;
        title=&quot;&quot;
        src=&quot;/static/1c3efb7100d0dda51298416045cea6ed/fcda8/pastedImage_69.png&quot;
        srcset=&quot;/static/1c3efb7100d0dda51298416045cea6ed/12f09/pastedImage_69.png 148w,
/static/1c3efb7100d0dda51298416045cea6ed/e4a3f/pastedImage_69.png 295w,
/static/1c3efb7100d0dda51298416045cea6ed/fcda8/pastedImage_69.png 590w,
/static/1c3efb7100d0dda51298416045cea6ed/efc66/pastedImage_69.png 885w,
/static/1c3efb7100d0dda51298416045cea6ed/84bf8/pastedImage_69.png 1162w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If I switch to “No Auth”, you can see the &lt;strong&gt;MissingAuthenticationToken&lt;/strong&gt; error.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6850d73364b4433bedf890fbf1cff857/4c7dc/pastedImage_71.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABnklEQVR42o1SCY7UMBDM/x+AEBLPQSv2BwiQYDXsTA6fcXzGLsrZzXBISFiqtJN0l7vLNXgrYMQCLQWsXOBXgxAjUkrIOaOUgtbaHbXWBi7+FzGGR8B/bnVDCB5uXTHM84xlEZiIcZoxjiNut9uBvp+mCUopWGuxsqDD2hXeb3Ah4c3HjLcPAZrfrDEYjmRu1DxCLjMk3zuUlBBCQDJ2GOachB1utU3otb37YNv7B8scBaMkBs9WQ2DLWiJznzli2V/G3Pe9j/jHyH8DLTNGxorI+mHb2DoRUoYPkaP4g+hcvejU8kQrGSgkyRGV+/qa23UfcorY2UUhyX6gouve4y/sd3TCxANyeTkkvx7SyTbnMOjpBkfBqQnWzR0xOMtinlz3O07C3u2WAjwbCTlxMjqC5FrrQ/dB8PFjUbgQYnaYlwQpIoxuWB1AflARxNLuyIXjMabfYkgV1lFDz+xUdnzjjX768hVPlyuu1xmX5xGLMLSDh/EJ3X3/AlVBN2fgHQwxBCiSfqe5ldG0kIaxtJFWh/8M/eY55v+sGCN+AmOuBrBR1wOZAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Postman ErrorResponse&quot;
        title=&quot;&quot;
        src=&quot;/static/6850d73364b4433bedf890fbf1cff857/fcda8/pastedImage_71.png&quot;
        srcset=&quot;/static/6850d73364b4433bedf890fbf1cff857/12f09/pastedImage_71.png 148w,
/static/6850d73364b4433bedf890fbf1cff857/e4a3f/pastedImage_71.png 295w,
/static/6850d73364b4433bedf890fbf1cff857/fcda8/pastedImage_71.png 590w,
/static/6850d73364b4433bedf890fbf1cff857/efc66/pastedImage_71.png 885w,
/static/6850d73364b4433bedf890fbf1cff857/c83ae/pastedImage_71.png 1180w,
/static/6850d73364b4433bedf890fbf1cff857/4c7dc/pastedImage_71.png 1599w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Programmatically Adding IP Restrictions to an Azure App Service]]></title><description><![CDATA[For a proof-of-concept I was working on, I needed to add an IP access restriction to an Azure App Service instance.  This can easily be done…]]></description><link>https://kevinhakanson.com/2019-06-14-programmatically-adding-ip-restrictions-to-an-azure-app-service/</link><guid isPermaLink="false">https://kevinhakanson.com/2019-06-14-programmatically-adding-ip-restrictions-to-an-azure-app-service/</guid><pubDate>Fri, 14 Jun 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;For a proof-of-concept I was working on, I needed to add an IP access restriction to an Azure App Service instance.  This can easily be done in the Portal UI, but not via PowerShell according to &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/app-service/app-service-ip-restrictions#programmatic-manipulation-of-access-restriction-rules&quot;&gt;Programmatic manipulation of access restriction rules&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There currently is no CLI or PowerShell for the new Access Restrictions capability but the values can be set manually with an Azure REST API PUT operation on the app configuration in Resource Manager.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I decide to open up &lt;a href=&quot;https://shell.azure.com/&quot;&gt;Azure Cloud Shell&lt;/a&gt; and try to call that REST API using PowerShell.  This was going to be a learning experience as I am new to PowerShell (so please view the code below with empathy).&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/az.websites/get-azwebapp?view=azps-3.1.0&quot;&gt;Get-AzWebApp&lt;/a&gt; gets information about an Azure App Service (a.k.a. Web App).  I need the &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt; property later.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$Subscription&lt;/span&gt; = &lt;span class=&quot;token string&quot;&gt;&quot;[redacted]&quot;&lt;/span&gt;
&lt;span class=&quot;token variable&quot;&gt;$ResourceGroupName&lt;/span&gt; = &lt;span class=&quot;token string&quot;&gt;&quot;Default-Web-NorthCentralUS&quot;&lt;/span&gt;
&lt;span class=&quot;token variable&quot;&gt;$AppServiceName&lt;/span&gt; = &lt;span class=&quot;token string&quot;&gt;&quot;[redacted]&quot;&lt;/span&gt;

&lt;span class=&quot;token variable&quot;&gt;$WebApp&lt;/span&gt; = &lt;span class=&quot;token function&quot;&gt;Get-AzWebApp&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ResourceGroupName &lt;span class=&quot;token variable&quot;&gt;$ResourceGroupName&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Name &lt;span class=&quot;token variable&quot;&gt;$AppServiceName&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To use &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/invoke-restmethod?view=powershell-6#examples&quot;&gt;Invoke-RestMethod&lt;/a&gt; to call the Azure REST API directly, I need an Access Token.  I looked at the &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/cloud-shell/msi-authorization&quot;&gt;Acquire access token in Cloud Shell&lt;/a&gt; section of “Use managed identities for Azure resources in Azure Cloud Shell” to understand how to get my MSI Access Token.  I created the &lt;code class=&quot;language-text&quot;&gt;Get-KJHAuthorizationHeaders&lt;/code&gt; code below as a helper to correctly format the &lt;code class=&quot;language-text&quot;&gt;Authorization&lt;/code&gt; HTTP header.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Get-KJHAuthorizationHeaders&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$response&lt;/span&gt; = &lt;span class=&quot;token function&quot;&gt;Invoke-WebRequest&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Uri &lt;span class=&quot;token variable&quot;&gt;$env&lt;/span&gt;:MSI_ENDPOINT &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Headers @&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Metadata&quot;&lt;/span&gt;=&lt;span class=&quot;token string&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Body @&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;resource&quot;&lt;/span&gt;=&lt;span class=&quot;token string&quot;&gt;&quot;https://management.azure.com/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token variable&quot;&gt;$access_token&lt;/span&gt; = &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ConvertFrom-Json&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;InputObject &lt;span class=&quot;token variable&quot;&gt;$response&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;access_token

    &lt;span class=&quot;token variable&quot;&gt;$headers&lt;/span&gt; = &lt;span class=&quot;token function&quot;&gt;New-Object&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;System.Collections.Generic.Dictionary[[String],[String]]&quot;&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$headers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Add&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Authorization&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Bearer &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$access_token&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token variable&quot;&gt;$headers&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next, I created a &lt;code class=&quot;language-text&quot;&gt;Put-KJHIPSecurityRestrictions&lt;/code&gt; helper that would take an IP address parameter and submit the JSON payload that would set the IP Restrictions.  This needed the &lt;code class=&quot;language-text&quot;&gt;$WebApp.id&lt;/code&gt; value I mentioned above.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; Put-KJHIPSecurityRestrictions
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;Param&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token variable&quot;&gt;$WebApp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token variable&quot;&gt;$Headers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token variable&quot;&gt;$IP&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$uri&lt;/span&gt; = &lt;span class=&quot;token string&quot;&gt;&quot;https://management.azure.com&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$WebApp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/config/web?api-version=2018-02-01&quot;&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$body&lt;/span&gt; = @&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;properties&quot;&lt;/span&gt; = @&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;ipSecurityRestrictions&quot;&lt;/span&gt; = @&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                 @&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                     &lt;span class=&quot;token string&quot;&gt;&quot;ipAddress&quot;&lt;/span&gt; = &lt;span class=&quot;token variable&quot;&gt;$IP&lt;/span&gt;
                     &lt;span class=&quot;token string&quot;&gt;&quot;action&quot;&lt;/span&gt; = &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;
                     &lt;span class=&quot;token string&quot;&gt;&quot;tag&quot;&lt;/span&gt; = &lt;span class=&quot;token string&quot;&gt;&quot;Default&quot;&lt;/span&gt;
                     &lt;span class=&quot;token string&quot;&gt;&quot;priority&quot;&lt;/span&gt; = 100
                     &lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt; = &lt;span class=&quot;token string&quot;&gt;&quot;KJHIPSecurityRestrictions&quot;&lt;/span&gt;
                 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$bodyJSON&lt;/span&gt; = &lt;span class=&quot;token function&quot;&gt;ConvertTo-Json&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$body&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Depth 3
    &lt;span class=&quot;token variable&quot;&gt;$response&lt;/span&gt; = &lt;span class=&quot;token function&quot;&gt;Invoke-RestMethod&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;uri &lt;span class=&quot;token variable&quot;&gt;$uri&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Headers &lt;span class=&quot;token variable&quot;&gt;$Headers&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Method &lt;span class=&quot;token string&quot;&gt;&apos;PUT&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ContentType &lt;span class=&quot;token string&quot;&gt;&apos;application/json&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Body &lt;span class=&quot;token variable&quot;&gt;$bodyJSON&lt;/span&gt;

    &lt;span class=&quot;token variable&quot;&gt;$response&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;properties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ipSecurityRestrictions
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I ran into early trouble passing &lt;code class=&quot;language-text&quot;&gt;-Body $body&lt;/code&gt; with an “The request content was invalid and could not be deserialized” error message. Some internet searching led me to using the &lt;code class=&quot;language-text&quot;&gt;-Depth&lt;/code&gt; parameter above.  Below is an example of how that affected serialization.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; Azure:\&gt; &lt;span class=&quot;token function&quot;&gt;ConvertTo-Json&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$body&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;properties&quot;&lt;/span&gt;: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;ipSecurityRestrictions&quot;&lt;/span&gt;: &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;System.Collections.Hashtable&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; Azure:\&gt; &lt;span class=&quot;token function&quot;&gt;ConvertTo-Json&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$body&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Depth 3
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;properties&quot;&lt;/span&gt;: &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;ipSecurityRestrictions&quot;&lt;/span&gt;: &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;tag&quot;&lt;/span&gt;: &lt;span class=&quot;token string&quot;&gt;&quot;Default&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;token string&quot;&gt;&quot;KJHIPSecurityRestrictions&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;ipAddress&quot;&lt;/span&gt;: &lt;span class=&quot;token string&quot;&gt;&quot;198.179.137.206/32&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;priority&quot;&lt;/span&gt;: 100&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;action&quot;&lt;/span&gt;: &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It was time to put in all together and add an Access Restriction for my IP to my App Service.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; Azure:\&gt; &lt;span class=&quot;token variable&quot;&gt;$headers&lt;/span&gt; = &lt;span class=&quot;token function&quot;&gt;Get-KJHAuthorizationHeaders&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; Azure:\&gt; Put-KJHIPSecurityRestrictions &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;WebApp &lt;span class=&quot;token variable&quot;&gt;$WebApp&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Headers &lt;span class=&quot;token variable&quot;&gt;$headers&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;IP &lt;span class=&quot;token string&quot;&gt;&quot;198.179.137.206/32&quot;&lt;/span&gt;

ipAddress : 198&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;179&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;137&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;206/32
action    : Allow
tag       : Default
priority  : 100
name      : KJHIPSecurityRestrictions&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I was also able to verify via the Azure Portal UI.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e61f50dd7965a40417b8f4d06e38c5f5/29beb/AccessRestrictions.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 12.837837837837837%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAiElEQVR42j1OuQ3EMAzzCPGL2Gn8J80VN8DtPxbPFOAUBETxkVSMEcdxQGuNUgpCCDJvfp7ny1trmHPiui7J2GBQa4W19u1QKSUYY2T5PI9gjIGcs4R771LkvZdy+r0P8MHi+0u47ykaO5xzULxGQtDMEAWa+C0PkVPfnxJu7T/LH5ffrHl3/AFZoEzH6n130gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Access Restrictions&quot;
        title=&quot;&quot;
        src=&quot;/static/e61f50dd7965a40417b8f4d06e38c5f5/fcda8/AccessRestrictions.png&quot;
        srcset=&quot;/static/e61f50dd7965a40417b8f4d06e38c5f5/12f09/AccessRestrictions.png 148w,
/static/e61f50dd7965a40417b8f4d06e38c5f5/e4a3f/AccessRestrictions.png 295w,
/static/e61f50dd7965a40417b8f4d06e38c5f5/fcda8/AccessRestrictions.png 590w,
/static/e61f50dd7965a40417b8f4d06e38c5f5/efc66/AccessRestrictions.png 885w,
/static/e61f50dd7965a40417b8f4d06e38c5f5/c83ae/AccessRestrictions.png 1180w,
/static/e61f50dd7965a40417b8f4d06e38c5f5/29beb/AccessRestrictions.png 1830w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[UML Sequence Diagrams using PlantUML]]></title><description><![CDATA[I’ve blogged before about text notation for UML Sequence Diagrams in WebSequenceDiagrams notation, but since we standardize on Lucidchart…]]></description><link>https://kevinhakanson.com/2019-06-09-uml-sequence-diagrams-using-plantuml/</link><guid isPermaLink="false">https://kevinhakanson.com/2019-06-09-uml-sequence-diagrams-using-plantuml/</guid><pubDate>Sun, 09 Jun 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I’ve blogged before about text notation for UML Sequence Diagrams in &lt;a href=&quot;../2016-03-01-websequencediagrams-notation&quot;&gt;WebSequenceDiagrams notation&lt;/a&gt;, but since we standardize on Lucidchart for diagrams, I found they have &lt;a href=&quot;https://lucidchart.zendesk.com/hc/en-us/articles/208029986&quot;&gt;UML Sequence Markup&lt;/a&gt; support as well.  However, Lucidchart’s dialect looks to be based on &lt;a href=&quot;http://plantuml.com/index&quot;&gt;PlantUML&lt;/a&gt;.  For a better summary that I can provide, take please read &lt;a href=&quot;https://blog.anoff.io/2018-07-31-diagrams-with-plantuml/&quot;&gt;Markdown native diagrams with PlantUML&lt;/a&gt;.  I decided to spin up the PlantUML docker image and take a look:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker run -d -p 8080:8080 plantuml/plantuml-server:jetty&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Because I love serverless, I used my ”&lt;a href=&quot;https://en.wiktionary.org/wiki/Google-fu&quot;&gt;google-fu&lt;/a&gt;” and found &lt;a href=&quot;https://serverlessrepo.aws.amazon.com/applications/arn:aws:serverlessrepo:us-east-1:293246570391:applications~plantuml-render&quot;&gt;plantuml-render&lt;/a&gt; in the AWS Serverless Application Repository.  You can also try this interactively at &lt;a href=&quot;https://plantuml.nitorio.us/&quot;&gt;https://plantuml.nitorio.us/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Even more exciting to me was that since I have Visual Studio Code support for both Markdown and &lt;a href=&quot;https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml&quot;&gt;PlantUML&lt;/a&gt;, this fenced code block rendered an image as expected.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;```plantuml
title call flows  

participant a as &quot;Aa&quot;
participant b as &quot;Bb&quot;
participant c as &quot;Cc&quot;
participant d as &quot;Dd&quot;

a-&gt;b: sync call  
activate b
b-&gt;b: in process call
b-&gt;&gt;c: async call  
activate c  
c--&gt;b: 202 Accepted  
a&amp;lt;--b: return value  
deactivate b
c-&gt;d: background process  
d-&gt;d:
c&amp;lt;--d:
deactivate c
```&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/ab627c94e2e5362edd11a8efd45eb426/callflows.svg&quot; alt=&quot;UML Sequence Diagram&quot; title=&quot;call flows&quot;&gt;&lt;/p&gt;
&lt;p&gt;Later, I am going to think about the best way to check in this text-based UML next to our source code.  I haven’t figured out if the rendered images should be checked in as well, generated as part of a build, or just viewed as part of a markdown preview.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS Tag Keys with Spaces Problems]]></title><description><![CDATA[The Cloud Center of Excellence at my company was beginning to strictly enforce the tagging standard, which meant that mis-tagged resources…]]></description><link>https://kevinhakanson.com/2019-05-23-aws-tag-keys-with-spaces-problems/</link><guid isPermaLink="false">https://kevinhakanson.com/2019-05-23-aws-tag-keys-with-spaces-problems/</guid><pubDate>Thu, 23 May 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The Cloud Center of Excellence at my company was beginning to strictly enforce the tagging standard, which meant that mis-tagged resources were going to be deleted.  The CCoE gave reasonable lead time, and even provided  a list of affected resources.  However, when “delete day” came, one of my teams lost a few resources.  They claimed they verified everything on the list using the AWS Console UI.  Something didn’t add up, so I started an investigation which lead to a bug being reported to AWS Enterprise Support.&lt;/p&gt;
&lt;p&gt;Since I was documenting this problem for an AWS support case, I wanted to share the specific cli version I was using to reproduce the problem.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws &lt;span class=&quot;token parameter variable&quot;&gt;--version&lt;/span&gt;
aws-cli/1.15.37 Python/3.6.5 Darwin/18.0.0 botocore/1.10.37&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The problem resources were EC2 volumes, so I created one using the CLI and set one of the tag keys to &lt;code class=&quot;language-text&quot;&gt;&quot; cost-id&quot;&lt;/code&gt; which has a leading space.  Note that in the resulting output, that key came back as &lt;code class=&quot;language-text&quot;&gt;&quot;cost-id&quot;&lt;/code&gt; without the space.  I even created this resource with both &lt;code class=&quot;language-text&quot;&gt;&quot; cost-id&quot;&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;&quot;cost-id&quot;&lt;/code&gt; as keys, making the output even more confusing because it looks like I have a duplicate tag during the &lt;code class=&quot;language-text&quot;&gt;creating&lt;/code&gt; state.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws &lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; us-east-1 ec2 create-volume --availability-zone us-east-1a &lt;span class=&quot;token parameter variable&quot;&gt;--size&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; --volume-type standard &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --tag-specifications &lt;span class=&quot;token string&quot;&gt;&apos;{&quot;ResourceType&quot;:&quot;volume&quot;, &quot;Tags&quot;:[{&quot;Key&quot;:&quot;Name&quot;,&quot;Value&quot;:&quot;Kevin tag testing&quot;}, {&quot;Key&quot;:&quot; cost-id&quot;,&quot;Value&quot;:&quot;1&quot;}, {&quot;Key&quot;:&quot;cost-id&quot;,&quot;Value&quot;:&quot;1&quot;}]}&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;AvailabilityZone&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;us-east-1a&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;CreateTime&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2019-05-23T15:08:58.000Z&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;Encrypted&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; false,
    &lt;span class=&quot;token string&quot;&gt;&quot;Size&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;SnapshotId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;State&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;creating&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;VolumeId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;vol-07220abdd997d840e&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;Tags&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;Key&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Name&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Value&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kevin tag testing&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;Key&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cost-id&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Value&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;Key&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cost-id&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Value&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;VolumeType&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;standard&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, the tag keys are returned correctly from the &lt;code class=&quot;language-text&quot;&gt;describe-volumes&lt;/code&gt; cli command when in the &lt;code class=&quot;language-text&quot;&gt;available&lt;/code&gt; state.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws &lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; us-east-1 ec2 describe-volumes &lt;span class=&quot;token parameter variable&quot;&gt;--filters&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;[{&quot;Name&quot;:&quot;volume-id&quot;, &quot;Values&quot;:[&quot;vol-07220abdd997d840e&quot;]}]&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Volumes&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;Attachments&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;AvailabilityZone&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;us-east-1a&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;CreateTime&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2019-05-23T15:08:58.926Z&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Encrypted&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; false,
            &lt;span class=&quot;token string&quot;&gt;&quot;Size&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;SnapshotId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;State&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;available&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;VolumeId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;vol-07220abdd997d840e&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Tags&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Key&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot; cost-id&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Value&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Key&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cost-id&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Value&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Key&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Name&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Value&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kevin tag testing&quot;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;VolumeType&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;standard&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now I have a resource that reproduces my problem with a leading space in the tag key.  However, when you view these tags in the AWS Console, you &lt;strong&gt;do not&lt;/strong&gt; see leading spaces unless you inspect the HTML elements.  If there was only a single &lt;code class=&quot;language-text&quot;&gt;&quot;cost-id&quot;&lt;/code&gt; tag, there would be no visual clue that something is wrong.  It is only because my test case has both &lt;code class=&quot;language-text&quot;&gt;&quot;cost-id&quot;&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;&quot; cost-id&quot;&lt;/code&gt; that makes this appear odd.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 267px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/eecc5c92ccd773c8f1838df868b701b7/19e8f/aws-console-view-tags.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.94594594594594%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABhUlEQVR42p1UiY6CQAzl/3/JXwBRF8EVBAQP5L4RD95OG93EbLJRmjza6XRej5kg5XmO1WoFe2PB8o74do/wXAe6YcB4YLFYQNd1ti3Lwnq9huu6sG0bm81G7BnwdzuQSOfzGXGcIEtT5GWDJK+RJgnSLEMidBRFrDOxDsOQ7VTEFkXxux+eAhR5JugGSJfLhQOiKEYQHEVQjL7v2RdGIRPRoTiOQcmrqhJxASJBTr6+79BlHlJfw6UKITVNg+Vyiel0ytA0jQOpLVmWuc35fI7ZbIbT6cStKorCPlVVOTbPCyy+NLRdB+l+v+NdGYaB8Xf99ImWSdEsKJusyJiLSlQBGv4zGR8a/k9EsRTChDRgyzJhmiYcx+F2t9vtSzXvikSHmlbcbpqgbVtGd+5YU6Ki/Axcoe/7mEwmPHDP81g/7U/BFXZdi/1+j8PhgLIsUdf1aDDh9XplQrqcMXN7mSF96CFTuTQzEr6xx5P4FC8V0sO93W6jyX4JiYR+EjQDsqnCsfgBne0vW6mO2yIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AWS Console EC2 Volume view tags&quot;
        title=&quot;&quot;
        src=&quot;/static/eecc5c92ccd773c8f1838df868b701b7/19e8f/aws-console-view-tags.png&quot;
        srcset=&quot;/static/eecc5c92ccd773c8f1838df868b701b7/12f09/aws-console-view-tags.png 148w,
/static/eecc5c92ccd773c8f1838df868b701b7/19e8f/aws-console-view-tags.png 267w&quot;
        sizes=&quot;(max-width: 267px) 100vw, 267px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 383px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fd407734869427713e4d82eb7b32abdd/d0c94/aws-console-view-tags-htmlsource.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA6UlEQVR42i2Q3W6DMAxGef9nmna5m0m7WNV27TZaoC20ARLKXxISzoKYpWP7k2zrkyOtDeomGeqatukQYuQhBp5Pg3cTTvd40zFNM84GbQa0doyjw4RqjQszE7OfWSJaUlt1NNmdtvjhdGr43EgOB0VTXHgkJ7K4IM067nlDmZekaUueD1yvPUXRU95aGjkGA57IhsO9tohMUmcpRZqy/VJsdpLdXlIpg1CWWmn6YUJPHutmgmGsXzELLvSBKFMzlyecheX4LfmNYz52Ja/vkpe3ku25ZpPc2R8FcXAZh5cklWXZW/H/rPoPWpsvsolaAOgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Inspect HTML view of tags&quot;
        title=&quot;&quot;
        src=&quot;/static/fd407734869427713e4d82eb7b32abdd/d0c94/aws-console-view-tags-htmlsource.png&quot;
        srcset=&quot;/static/fd407734869427713e4d82eb7b32abdd/12f09/aws-console-view-tags-htmlsource.png 148w,
/static/fd407734869427713e4d82eb7b32abdd/e4a3f/aws-console-view-tags-htmlsource.png 295w,
/static/fd407734869427713e4d82eb7b32abdd/d0c94/aws-console-view-tags-htmlsource.png 383w&quot;
        sizes=&quot;(max-width: 383px) 100vw, 383px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So assuming you were going to verify the tag name, and you went to edit them, the leading space on &lt;code class=&quot;language-text&quot;&gt;&quot; cost-id&quot;&lt;/code&gt; is still not visible and missing from the UI.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 381px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8c267baf90a3fe065e986dc6d6fc71e0/2add2/aws-console-edit-tags.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.86486486486486%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACA0lEQVR42q1TWa6bQBDkojlXcodcIlL+IsuKZL/gZ2yzgxk2Y/aZgcr02JA8/+QnSK2eoYru6gUjjCLs3/b4ZZqwLAum8nmZox96dH33T2u7h6+bBlmewaAg2+0Wu90O5sHEZrOB4zpI0xRJkoAxpv2rMfb3mSGOY/ieB6OqqhUoigJlWeJ6vWqjoJGqIAgCjdNHi/V9j9dnnmcYjZJKHy+Zlmxky7sFz/P8Q3K6E0YcSi6EgEHgfr+H7/vwlGTyrutq4uViw1Pl+0mBc1zBS1u4XgDXcXA8HjV34TvqHYkzOtVUykaX//EYeZHjdD7poAl7DoH9aTQNi3rIUra2RJetOFmWqVIZMo0lqO4VjNvtpteFSER4kFKdgM62ba/9e8XO5wuiJEN4TRHEDPe6hkGNJAW1utCUpmmClFLLp/M4DpCKQ14IjumJcc5hnU4IyxFB0cPNegx8gkFAFIVo21aTyMZxxKyCCSHh+hEubgDr7MALYtSdwrlUHK73Lm844rJHeh+VgPmhMAxDPRRSKLQarpZqQlELWGGLqJAIC/H0Eu0ICD7icHhX6ga4avo2a9CN8jFlChhf47VsqdSR52JC1Uo0/YRMBb93E366Lb58S7Cx7xBDByGn1SZa7Ft107+ceTjo3Vs2ft3+p0+qAUHe4ft7iU+f3/D1R/Ls8/xhbX4DrUXYvD4EVNQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AWS Console EC2 Volume Add/Edit tags&quot;
        title=&quot;&quot;
        src=&quot;/static/8c267baf90a3fe065e986dc6d6fc71e0/2add2/aws-console-edit-tags.png&quot;
        srcset=&quot;/static/8c267baf90a3fe065e986dc6d6fc71e0/12f09/aws-console-edit-tags.png 148w,
/static/8c267baf90a3fe065e986dc6d6fc71e0/e4a3f/aws-console-edit-tags.png 295w,
/static/8c267baf90a3fe065e986dc6d6fc71e0/2add2/aws-console-edit-tags.png 381w&quot;
        sizes=&quot;(max-width: 381px) 100vw, 381px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;When you attempt to edit the tag key, the suggestions drop down list shows two options which look the same (no leading spaces), even though the first includes a leading space from inspecting the HTML).  Also, note the cursor is in the first position because the textbox does not contain the leading space, making editing (or validating) via AWS Console UI impossible.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 236px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7329654b1195320eff390430a1c1870e/a7bcd/aws-console-edit-tags-dropdown.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABhUlEQVR42pXOz2saURDA8fcfeRFcBRETEMRDWw8eTSG5efAg+OMQyKWHBMwPsYvulvbea0A9iIUSr5YYCFmiptldNBKwTSlxVyXf6oYaAinUgQ9v3htm5gnLtphMJtyP7/+LPbGZTqeMrfGLddFqtTg5+Uq/bzK8GbxoMHjSbDZpNBr0ej2Gw+G8r/+sLi67V3w70+h876N1DS4ur7no6GhzztnV0XUDwzAwTRNN02i3287AxZuu60uLu2h17jjrjji/GjG4s/lhw8h69HOem7/g9jdOPDyAZVn8K2azGeLz8RdSmW22d96xmy9QkFWO3iuOgqywd1TmoKjy6eMHVFWlWCxSKpUol8tLiqIgy7Lza3F4eMDa2jobG2959foNHo+ER3oieSV8c5L0yOv1LvO/fD4fLpeLarWKWGyMRqMkEgni8TjhcHhlkUiEYDBIvV5H5PfzhEIhNrc2icVi+P3+lQUCAdxuN7VaDVGpVEgmk2QyGdLpNNlsdmW5XI5UKsVp+5Q/r2sHHdGUp8MAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Tag key auto suggestions&quot;
        title=&quot;&quot;
        src=&quot;/static/7329654b1195320eff390430a1c1870e/a7bcd/aws-console-edit-tags-dropdown.png&quot;
        srcset=&quot;/static/7329654b1195320eff390430a1c1870e/12f09/aws-console-edit-tags-dropdown.png 148w,
/static/7329654b1195320eff390430a1c1870e/a7bcd/aws-console-edit-tags-dropdown.png 236w&quot;
        sizes=&quot;(max-width: 236px) 100vw, 236px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 383px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fd407734869427713e4d82eb7b32abdd/d0c94/aws-console-edit-tags-dropdown-htmlsource1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA6UlEQVR42i2Q3W6DMAxGef9nmna5m0m7WNV27TZaoC20ARLKXxISzoKYpWP7k2zrkyOtDeomGeqatukQYuQhBp5Pg3cTTvd40zFNM84GbQa0doyjw4RqjQszE7OfWSJaUlt1NNmdtvjhdGr43EgOB0VTXHgkJ7K4IM067nlDmZekaUueD1yvPUXRU95aGjkGA57IhsO9tohMUmcpRZqy/VJsdpLdXlIpg1CWWmn6YUJPHutmgmGsXzELLvSBKFMzlyecheX4LfmNYz52Ja/vkpe3ku25ZpPc2R8FcXAZh5cklWXZW/H/rPoPWpsvsolaAOgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Inspect HTML view of tag key auto suggestions&quot;
        title=&quot;&quot;
        src=&quot;/static/fd407734869427713e4d82eb7b32abdd/d0c94/aws-console-edit-tags-dropdown-htmlsource1.png&quot;
        srcset=&quot;/static/fd407734869427713e4d82eb7b32abdd/12f09/aws-console-edit-tags-dropdown-htmlsource1.png 148w,
/static/fd407734869427713e4d82eb7b32abdd/e4a3f/aws-console-edit-tags-dropdown-htmlsource1.png 295w,
/static/fd407734869427713e4d82eb7b32abdd/d0c94/aws-console-edit-tags-dropdown-htmlsource1.png 383w&quot;
        sizes=&quot;(max-width: 383px) 100vw, 383px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Inspecting the HTML on the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;input&gt;&lt;/code&gt; fields is even more confusing.  There is a related hidden &lt;code class=&quot;language-text&quot;&gt;&amp;lt;div&gt;&lt;/code&gt; with the actual value (first tag with a space, second without) but not on what the user interacts with.  It looks like I can blame &lt;a href=&quot;http://www.gwtproject.org/&quot;&gt;Google Web Tookit&lt;/a&gt; for this &lt;a href=&quot;https://en.wikipedia.org/wiki/Rube_Goldberg_machine&quot;&gt;Rube Goldberg machine&lt;/a&gt; generated HTML.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 432px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4896c20d545a9ac1a90cf58e47db0e66/0e0c3/aws-console-edit-tags-dropdown-htmlsource2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 20.27027027027027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA0klEQVR42iWOW46EMAwEuf8Vdz6WmeGdECBATCCpNaylku1Wq+3iawLv90IzWMp241UJ715o7UzTDVTG8zFRd6d64Lc7KPuDahQ+1lP1K40V6kkY1kQh54WpHFPbsQfB71k5kePiSjdJyaR8PV1l4k26yTpnNILznlUr0IpHZBtWfF1SfwZ+Xgv9t2fzG6NetzYoQt8Fgl8Q1yGLY3cGmUbi5tQbOM/0H5j0i6VR4zzi55XBHFizss8Ts7t3YXQHzoUnaLM167w83jB5rhifsJwzf8H6M13KJedLAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Inspect HTML view of first tag key edit&quot;
        title=&quot;&quot;
        src=&quot;/static/4896c20d545a9ac1a90cf58e47db0e66/0e0c3/aws-console-edit-tags-dropdown-htmlsource2.png&quot;
        srcset=&quot;/static/4896c20d545a9ac1a90cf58e47db0e66/12f09/aws-console-edit-tags-dropdown-htmlsource2.png 148w,
/static/4896c20d545a9ac1a90cf58e47db0e66/e4a3f/aws-console-edit-tags-dropdown-htmlsource2.png 295w,
/static/4896c20d545a9ac1a90cf58e47db0e66/0e0c3/aws-console-edit-tags-dropdown-htmlsource2.png 432w&quot;
        sizes=&quot;(max-width: 432px) 100vw, 432px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 437px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ff60004a1e5bec65ad3455699b470233/5a428/aws-console-edit-tags-dropdown-htmlsource3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 19.594594594594593%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA2UlEQVR42jWO227DIBBE8/+fWKVNEzfxBQLhYhZMzCmu1IfR7Gp3Ruf0fY/crpbHrLiMwscgDLowKcN9XBiU8KMTD2X5moTLnLkuhZteu4eeS9xtZnSVJTZOJm7czgvzY0K7fnhuTKZgY8FLxee9603IFSc7L2m43P7mQ/7f+5/rOkGj5o0wWsI0MHTaz7PFdOLgVp5a0Dozz4JSK5s3iBlJr8MVxVtKdKQO1lo7CqGWSlg8W3IEL1jb6VwiR989Y199D7WHhBwMyWliECQkyirs+5v33o4qfgF6RzJCuXJHvgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Inspect HTML view of second tag key edit&quot;
        title=&quot;&quot;
        src=&quot;/static/ff60004a1e5bec65ad3455699b470233/5a428/aws-console-edit-tags-dropdown-htmlsource3.png&quot;
        srcset=&quot;/static/ff60004a1e5bec65ad3455699b470233/12f09/aws-console-edit-tags-dropdown-htmlsource3.png 148w,
/static/ff60004a1e5bec65ad3455699b470233/e4a3f/aws-console-edit-tags-dropdown-htmlsource3.png 295w,
/static/ff60004a1e5bec65ad3455699b470233/5a428/aws-console-edit-tags-dropdown-htmlsource3.png 437w&quot;
        sizes=&quot;(max-width: 437px) 100vw, 437px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Luckily, I work for a company with AWS Enterprise Support and was able to get bug reported directly.  This was an interesting problem and required my “full stack architect” skills from the command line to the browser developer tools.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS Tools for PowerShell on macOS]]></title><description><![CDATA[Since you can never have too many command lines and shells, today I thought about Installing PowerShell Core on macOS. After that, it was…]]></description><link>https://kevinhakanson.com/2019-05-03-aws-tools-for-powershell-on-macos/</link><guid isPermaLink="false">https://kevinhakanson.com/2019-05-03-aws-tools-for-powershell-on-macos/</guid><pubDate>Fri, 03 May 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Since you can never have too many command lines and shells, today I thought about &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/scripting/install/installing-powershell-core-on-macos?view=powershell-6&quot;&gt;Installing PowerShell Core on macOS&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ brew cask &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; powershell
$ pwsh
PowerShell &lt;span class=&quot;token number&quot;&gt;6.2&lt;/span&gt;.0
Copyright &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Microsoft Corporation. All rights reserved.

https://aka.ms/pscore6-docs
Type &lt;span class=&quot;token string&quot;&gt;&apos;help&apos;&lt;/span&gt; to get help.

PS&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Get-Date

Friday, May &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;token number&quot;&gt;2019&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;:49:34 PM&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After that, it was time for &lt;a href=&quot;https://docs.aws.amazon.com/powershell/latest/userguide/pstools-getting-set-up-linux-mac.html&quot;&gt;Setting up the AWS Tools for PowerShell Core on Linux or macOS X&lt;/a&gt; and making sure it worked.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt;&gt; &lt;span class=&quot;token function&quot;&gt;Install-Module&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Name AWSPowerShell&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;NetCore &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;AllowClobber
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt;&gt; &lt;span class=&quot;token function&quot;&gt;Import-Module&lt;/span&gt; AWSPowerShell&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;NetCore
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt;&gt; &lt;span class=&quot;token function&quot;&gt;Get-AWSPowerShellVersion&lt;/span&gt;

AWS Tools &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; PowerShell Core
Version 3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;498&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;0
Copyright 2012-2018 Amazon&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;com&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Inc&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; or its affiliates&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; All Rights Reserved&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;

Amazon Web Services SDK &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;NET
Core Runtime Version 3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;101&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;0
Copyright 2009-2015 Amazon&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;com&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Inc&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; or its affiliates&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; All Rights Reserved&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;

Release notes: https:&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;aws&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;amazon&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;com/releasenotes/PowerShell

This software includes third party software subject to the following copyrights:
&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; Logging &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; log4net&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Apache License
&lt;span class=&quot;token namespace&quot;&gt;[http://logging.apache.org/log4net/license.html]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then my favorite command: AWS Security Token Service Get Caller Identity&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt;&gt; &lt;span class=&quot;token variable&quot;&gt;$STS&lt;/span&gt; = &lt;span class=&quot;token function&quot;&gt;Get-STSCallerIdentity&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ProfileName aws-account-alias &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Region us-west-2
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt;&gt; &lt;span class=&quot;token variable&quot;&gt;$STS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Account
123456789012
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt;&gt; &lt;span class=&quot;token variable&quot;&gt;$STS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;UserId
AROAXXXXXXXXXXXXXXXXX:kevin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hakanson@example&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;com
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt;&gt; &lt;span class=&quot;token variable&quot;&gt;$STS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Arn
arn:aws:sts::123456789012:assumed-role/REDACTED-ReadOnly/kevin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hakanson@example&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Goodbye Oracle Java 8; Hello Amazon Corretto 8]]></title><description><![CDATA[Got the Oracle Java auto-update message on my Mac today, reminding me to “Remove” if installed for “commercial” use.  So, I clicked remove…]]></description><link>https://kevinhakanson.com/2019-04-22-goodbye-oracle-java-8-hello-amazon-corretto-8/</link><guid isPermaLink="false">https://kevinhakanson.com/2019-04-22-goodbye-oracle-java-8-hello-amazon-corretto-8/</guid><pubDate>Mon, 22 Apr 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Got the Oracle Java auto-update message on my Mac today, reminding me to “Remove” if installed for “commercial” use.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 351px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d1dc67f3da39fe1be4de1000be1781ff/7c2a6/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 85.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAADG0lEQVR42p2US2tTQRTHI7rQte78AoIgfgGFFt3oF9AKLkQXirYF3enSVii+qojiRqw2ltZg01CVao2t5mEeNLHN+2Uevdc8703M+947f2fubdLG6saBH2fmnJn/nDkHRqfbMgDs0NBtgL+g24buzzH3bPKAfWHRbravWC2uVavd47M6vAHrx2Wb1bRgtr799MU6v7isYra51Bjb883rt2jWZ5kxvjvYFTxy9urR4cdGDD56Qy6Oz2BgdAKnRza4+Vy1p5i9ucWvQQZGX+DMrZc4fv56f1fwxLkrfTeeGnBH/056+HpRHr6vl4fuTaoMMu6+lIfHX8lD1M/WQ534fb10+c4L+dLtCeXkhWvHuoJ6vb5fVgjKlV8kGIkhkUojxfFI8z+R5rLgcgWEYnFEkynVz+LJTAbxVIrUGk20JRnT09PHewRpwSHXa0SMhiD8iKPyI4ZaOoFGOk5JoBwNopqMqojxKCrpJOheItVrIPSswWDYFKTqqiAUmma7BbTbQKsBsdxCPp2HEE5A9IVQ5IoQK00aa2p7mk1Cz0Ah5O+C5UqFFAWBCpXBbDhdgCfCwZ/IqnyP/UQwmVNjJVFAoVQitXpdzaVHkC76G40GeJ4nHMcxi2AgAIfNArfT3rUuhw12qwUBvx9s33omo+6vU1Gj0bgpSBf9zEmDJJvNglEoFBAIhrC65qf4sOLxYnXVhzBtWj5fQC6XozZP2OXVahXz8/O9GSq0FoIgECbE0+761ryIR0KIhALqPBRcQzQcRIz6wsEAvZQ+vVgkoiii1Wr1ZtipIb1JzbBIRX0xDq5ABt9pDV3+JDxhjs7X4Y3wiKSyEIp5mmGO1GvV7TWcmprqI4Q1H5LCUqWtK9VkhRclJVfR4ISWwjPKklKsykpTgtJsE5khSZIyOzt7rOfJ0AbBP4YktdBoaB0NZYEHS8CkC+TJV6BUAz6/3/LkkZGRQx6PZ9btdps6OJ1uk8PZsU5t7tbmNrvT9HHJYfqw7Jz79NVpWvF6DWNjY4c7euz72UPZR9n/n+yl7N7Q6v6DO81m867/gZ1lGkzsN7j4l/CugCHbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Install Java 8 Update 211&quot;
        title=&quot;&quot;
        src=&quot;/static/d1dc67f3da39fe1be4de1000be1781ff/7c2a6/pastedImage_3.png&quot;
        srcset=&quot;/static/d1dc67f3da39fe1be4de1000be1781ff/12f09/pastedImage_3.png 148w,
/static/d1dc67f3da39fe1be4de1000be1781ff/e4a3f/pastedImage_3.png 295w,
/static/d1dc67f3da39fe1be4de1000be1781ff/7c2a6/pastedImage_3.png 351w&quot;
        sizes=&quot;(max-width: 351px) 100vw, 351px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So, I clicked remove and visited &lt;a href=&quot;https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/macos-install.html&quot;&gt;https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/macos-install.html&lt;/a&gt; to install Amazon Corretto.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2fa23a345b2cc1cc4be51bc9d4a54b73/e17e5/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqUlEQVR42o2Sy27aQBSGXSokoqwTpQTCzcaO72AbjBkcA4Y4QKIokVupDV101W12rbrIM2QT3qEv0+fIwutIHkWnM8Mlty460qe5nfnnP2eG40j7HcdbN99HuwhFOwghhmminTjid+I4IsQblnvmJo4yGo12r6+vt7h1m7itm5MQPbbd3n273U3anW7S8fxkctxPppNpchwRTqbJyWSWDIajpOcHZB8xXA/de8h/9P3BzUZQkNS7puNBo+nghtUCo2GD7bjgej500BG03C54PdJbCBwTkfUeyKrBOFR0TONFSb7bCNYleeEHAxiOIuwRAYuI1SUV8oUSFA4qUCxVIf+hDHIogHUlsbWDco1RPKhgQZRJvLJ4cliXFuNoAheXH/Hs7Bz8YEgDmBClUKrAfr4C0Z0BX/+0QOoJkN8rL9eLZSKovBaUF/0wgtnpOabp0LTFQxXKVQEkWYNDVQdJ1KHzqQnhDxskTSEpaiBrBtQECfP11w7JxAvGMAzH2Gp1mCB1SEWRH0AwCIE6Hw+n0HVIacJj6A/HrKd1r/ISufiZIJ1YThs0o8kKTAWpM5IOqyOFOAFRVgkK2ytVeNjLF+keJoZeOqQTu+WBuXrldcq0fvQghT3AqqYUOi9XeTp++yjUoU1SVVUdq4oOTbtNXKibg5S18HOWl1T+LWjaLoiijAVeBNVwmMP1l3kDWS+s2C8UcI0XXgrKirYYHHXANmTsmAqchQ6YjSYIq4d5Da2hopnkUxtQNxDWWuSbydqTYI2Xb09DG76d6Q/zmZFejBupYVqpbrxF0xupZbtp0B+m7e5Rqk5/PZinP6FWV27Xepnt7azOZXKfc7ncnHDFcaxn4xXz52SzuXkmkyU9geOuspnMl+1sViNa79aidPCeEq/g/pt4xVLsL1DwXawi2XilAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Install Amazon Corretto 8&quot;
        title=&quot;&quot;
        src=&quot;/static/2fa23a345b2cc1cc4be51bc9d4a54b73/e17e5/pastedImage_2.png&quot;
        srcset=&quot;/static/2fa23a345b2cc1cc4be51bc9d4a54b73/12f09/pastedImage_2.png 148w,
/static/2fa23a345b2cc1cc4be51bc9d4a54b73/e4a3f/pastedImage_2.png 295w,
/static/2fa23a345b2cc1cc4be51bc9d4a54b73/e17e5/pastedImage_2.png 400w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;After this, I still had some JVMs to clean up:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ /usr/libexec/java_home &lt;span class=&quot;token parameter variable&quot;&gt;--verbose&lt;/span&gt;
Matching Java Virtual Machines &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
    &lt;span class=&quot;token number&quot;&gt;1.8&lt;/span&gt;.0_212, x86_64:     &lt;span class=&quot;token string&quot;&gt;&quot;Amazon Corretto 8&quot;&lt;/span&gt;     /Library/Java/JavaVirtualMachines/amazon-corretto-8.jdk/Contents/Home
    &lt;span class=&quot;token number&quot;&gt;1.8&lt;/span&gt;.0_65, x86_64:     &lt;span class=&quot;token string&quot;&gt;&quot;Java SE 8&quot;&lt;/span&gt;     /Library/Java/JavaVirtualMachines/jdk1.8.0_65.jdk/Contents/Home
    &lt;span class=&quot;token number&quot;&gt;1.8&lt;/span&gt;.0_45, x86_64:     &lt;span class=&quot;token string&quot;&gt;&quot;Java SE 8&quot;&lt;/span&gt;     /Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home
    &lt;span class=&quot;token number&quot;&gt;1.8&lt;/span&gt;.0_31, x86_64:     &lt;span class=&quot;token string&quot;&gt;&quot;Java SE 8&quot;&lt;/span&gt;     /Library/Java/JavaVirtualMachines/jdk1.8.0_31.jdk/Contents/Home
    &lt;span class=&quot;token number&quot;&gt;1.7&lt;/span&gt;.0_71, x86_64:     &lt;span class=&quot;token string&quot;&gt;&quot;Java SE 7&quot;&lt;/span&gt;     /Library/Java/JavaVirtualMachines/jdk1.7.0_71.jdk/Contents/Home

$ &lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; /Library/Java/JavaVirtualMachines/
$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-rf&lt;/span&gt; jdk1.7.0_71.jdk
$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-rf&lt;/span&gt; jdk1.8.0_31.jdk
$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-rf&lt;/span&gt; jdk1.8.0_45.jdk
$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-rf&lt;/span&gt; jdk1.8.0_65.jdk&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I am now free of Oracle Java,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ /usr/libexec/java_home &lt;span class=&quot;token parameter variable&quot;&gt;--verbose&lt;/span&gt;
Matching Java Virtual Machines &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;:
    &lt;span class=&quot;token number&quot;&gt;1.8&lt;/span&gt;.0_212, x86_64: &lt;span class=&quot;token string&quot;&gt;&quot;Amazon Corretto 8&quot;&lt;/span&gt; /Library/Java/JavaVirtualMachines/amazon-corretto-8.jdk/Contents/Home

$ &lt;span class=&quot;token function&quot;&gt;java&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-version&lt;/span&gt;
openjdk version &lt;span class=&quot;token string&quot;&gt;&quot;1.8.0_212&quot;&lt;/span&gt;
OpenJDK Runtime Environment Corretto-8.212.04.2 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;build &lt;span class=&quot;token number&quot;&gt;1.8&lt;/span&gt;.0_212-b04&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
OpenJDK &lt;span class=&quot;token number&quot;&gt;64&lt;/span&gt;-Bit Server VM Corretto-8.212.04.2 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;build &lt;span class=&quot;token number&quot;&gt;25.212&lt;/span&gt;-b04, mixed mode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[File Verification of a SHA-256 Hash using PowerShell]]></title><description><![CDATA[I was researching photo apps when I came across the open source digiKam.  Since I was going to download  from a mirror site, I wanted to…]]></description><link>https://kevinhakanson.com/2019-04-14-file-verification-of-a-sha-256-hash-using-powershell/</link><guid isPermaLink="false">https://kevinhakanson.com/2019-04-14-file-verification-of-a-sha-256-hash-using-powershell/</guid><pubDate>Sun, 14 Apr 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was researching photo apps when I came across the open source &lt;a href=&quot;https://www.digikam.org/&quot;&gt;digiKam&lt;/a&gt;.  Since I was going to download &lt;code class=&quot;language-text&quot;&gt;digiKam-6.0.0-Win64.exe&lt;/code&gt; from a mirror site, I wanted to perform some &lt;a href=&quot;https://en.wikipedia.org/wiki/File_verification&quot;&gt;file verification&lt;/a&gt; using one of the hash values.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;File information&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Filename: Mirrors for digiKam-6.0.0-Win64.exe&lt;/li&gt;
&lt;li&gt;Filename: digiKam-6.0.0-Win64.exe&lt;/li&gt;
&lt;li&gt;Path: /stable/digikam/6.0.0/digiKam-6.0.0-Win64.exe&lt;/li&gt;
&lt;li&gt;Size: 307M (321802858 bytes)&lt;/li&gt;
&lt;li&gt;Last modified: Sun, 10 Feb 2019 08:31:33 GMT (Unix time: 1549787493)&lt;/li&gt;
&lt;li&gt;SHA-256 Hash: 3a39d14bf98641dbce2072c9a68099e15acece4f94897113611e16fa4fcb58e8&lt;/li&gt;
&lt;li&gt;SHA-1 Hash: 7895d692e39e4c90b7c319e85e28b3634b586568&lt;/li&gt;
&lt;li&gt;MD5 Hash: d61404944f63fdf5c2dac3773d056978&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;I normally use &lt;a href=&quot;https://linux.die.net/man/1/shasum&quot;&gt;shasum&lt;/a&gt; for this task since it is available on Linux, macOS, and Windows using Git Bash.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ shasum &lt;span class=&quot;token parameter variable&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;256&lt;/span&gt; digiKam-6.0.0-Win64.exe
3a39d14bf98641dbce2072c9a68099e15acece4f94897113611e16fa4fcb58e8 *digiKam-6.0.0-Win64.exe&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Because I was going to suggest this program to a non-developer Windows 10 user, I wanted to find another way for them to verify.  Since Windows PowerShell is installed by default, I decided to use PowerShell &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/get-filehash?view=powershell-5.1&quot;&gt;Get-FileHash&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; D:\kevin\downloads&gt; &lt;span class=&quot;token function&quot;&gt;Get-FileHash&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;\digiKam-6&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;0-Win64&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exe &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Format-List&lt;/span&gt;

Algorithm : SHA256
Hash      : 3A39D14BF98641DBCE2072C9A68099E15ACECE4F94897113611E16FA4FCB58E8
Path      : D:\kevin\downloads\digiKam-6&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;0-Win64&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exe&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;From that output, I can compare the values by copying the value and doing a “find” on the download page.  But now that I was playing around with PowerShell, I wanted to explore better ways and did some exploration.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; D:\kevin\downloads&gt; &lt;span class=&quot;token variable&quot;&gt;$hash&lt;/span&gt; = &lt;span class=&quot;token function&quot;&gt;Get-FileHash&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;\digiKam-6&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;0-Win64&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exe
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; D:\kevin\downloads&gt; &lt;span class=&quot;token variable&quot;&gt;$hash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hash
3A39D14BF98641DBCE2072C9A68099E15ACECE4F94897113611E16FA4FCB58E8
&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; D:\kevin\downloads&gt; &lt;span class=&quot;token variable&quot;&gt;$hash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hash &lt;span class=&quot;token operator&quot;&gt;-eq&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;3a39d14bf98641dbce2072c9a68099e15acece4f94897113611e16fa4fcb58e8&quot;&lt;/span&gt;
True&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I wasn’t expecting the case insensitive compare to work, but &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_comparison_operators?view=powershell-5.1&quot;&gt;About Comparison Operators&lt;/a&gt; verified this was the default as well as the other options.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;By default, all comparison operators are case-insensitive. To make a comparison operator case-sensitive, precede the operator name with a &lt;em&gt;c&lt;/em&gt;. For example, the case-sensitive version of &lt;em&gt;-eq&lt;/em&gt; is &lt;em&gt;-ceq&lt;/em&gt;. To make the case-insensitivity explicit, precede the operator with an &lt;em&gt;i&lt;/em&gt;. For example, the explicitly case-insensitive version of &lt;em&gt;-eq&lt;/em&gt; is &lt;em&gt;-ieq&lt;/em&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Putting everything together, I can use this 1-liner as future reference.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;powershell&quot;&gt;&lt;pre class=&quot;language-powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;PS&lt;/span&gt; D:\kevin\downloads&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Get-FileHash&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;\digiKam-6&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;0-Win64&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exe&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hash &lt;span class=&quot;token operator&quot;&gt;-eq&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;3a39d14bf98641dbce2072c9a68099e15acece4f94897113611e16fa4fcb58e8&quot;&lt;/span&gt;
True&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[AWS IAM Policy for Service User S3 Access]]></title><description><![CDATA[As a “security custodian” for some of my company’s AWS accounts, I review requests for what we call “service users,” including the AWS IAM…]]></description><link>https://kevinhakanson.com/2019-04-10-aws-iam-policy-for-service-user-s3-access/</link><guid isPermaLink="false">https://kevinhakanson.com/2019-04-10-aws-iam-policy-for-service-user-s3-access/</guid><pubDate>Wed, 10 Apr 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;As a “security custodian” for some of my company’s AWS accounts, I review requests for what we call “service users,” including the AWS IAM Policy documents attached to those users. I prefer these to meet the &lt;a href=&quot;https://en.wikipedia.org/wiki/Principle_of_least_privilege&quot;&gt;Principle of least privilege&lt;/a&gt; but demand they are not overly aggressive.   Recently, I received this proposed policy:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:ListBucket&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:PutObject&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::*&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I replied that this would grant access to all S3 buckets and the &lt;code class=&quot;language-text&quot;&gt;Resource&lt;/code&gt; clause needed to be restricted to a specific bucket.  The requesting team responded with:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:ListBucket&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:PutObject&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
         &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::project-bucket-name&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I realized I should have sent a link to &lt;a href=&quot;https://docs.aws.amazon.com/IAM/latest/UserGuide/list_amazons3.html&quot;&gt;Actions, Resources, and Condition Keys for Amazon S3&lt;/a&gt; because some S3 Actions apply to S3 &lt;em&gt;Buckets&lt;/em&gt; and other to S3 &lt;em&gt;Objects&lt;/em&gt;.  The ARN syntax for S3 Objects requires a slash ( &lt;code class=&quot;language-text&quot;&gt;/&lt;/code&gt; ) after the bucket name, where &lt;code class=&quot;language-text&quot;&gt;/*&lt;/code&gt; is the syntax for all objects.  The policy below includes a &lt;code class=&quot;language-text&quot;&gt;Resource&lt;/code&gt; array that includes both the Bucket and all the Objects.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:ListBucket&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:PutObject&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
         &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::project-bucket-name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::project-bucket-name/*&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Strictly speaking, the above syntax includes some &lt;code class=&quot;language-text&quot;&gt;Action&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Resource&lt;/code&gt; combinations that are not valid, but I feel it is more readable (and smaller in size) than the more correct syntax.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:ListBucket&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
         &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::project-bucket-name&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;s3:PutObject&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
         &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::project-bucket-name/*&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Finding all AWS Services my Team is Using]]></title><description><![CDATA[I was reading Automate analyzing your permissions using IAM access advisor APIs | AWS Security Blog and realized it would also be way see…]]></description><link>https://kevinhakanson.com/2019-01-11-finding-all-aws-services-my-team-is-using/</link><guid isPermaLink="false">https://kevinhakanson.com/2019-01-11-finding-all-aws-services-my-team-is-using/</guid><pubDate>Fri, 11 Jan 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was reading &lt;a href=&quot;https://aws.amazon.com/blogs/security/automate-analyzing-permissions-using-iam-access-advisor/&quot;&gt;Automate analyzing your permissions using IAM access advisor APIs | AWS Security Blog&lt;/a&gt; and realized it would also be way see what AWS features one of my project teams (a.k.a. redacted-project) was using.&lt;/p&gt;
&lt;p&gt;So, I put together a Python script to call &lt;a href=&quot;https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/iam.html#IAM.Client.generate_service_last_accessed_details&quot;&gt;generate_service_last_accessed_details&lt;/a&gt; / &lt;a href=&quot;https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/iam.html#IAM.Client.get_service_last_accessed_details&quot;&gt;get_service_last_accessed_details&lt;/a&gt;  then sorted by the most recent LastAuthenticated date to get the ServiceName list.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2019-01-11 20:23:00+00:00 AWS CodeCommit
2019-01-11 20:20:00+00:00 AWS Health APIs and Notifications
2019-01-11 20:20:00+00:00 AWS CloudFormation
2019-01-11 20:19:00+00:00 AWS Key Management Service
2019-01-11 20:18:00+00:00 Amazon S3
2019-01-11 20:12:00+00:00 AWS CodeBuild
2019-01-11 20:11:00+00:00 AWS CodePipeline
2019-01-11 20:04:00+00:00 Amazon Elasticsearch Service
2019-01-11 19:57:00+00:00 AWS AppSync
2019-01-11 19:56:00+00:00 Amazon DynamoDB
2019-01-11 19:56:00+00:00 AWS Identity and Access Management
2019-01-11 19:55:00+00:00 AWS Lambda
2019-01-11 19:51:00+00:00 Amazon CloudWatch Logs
2019-01-11 19:28:00+00:00 Amazon SNS
2019-01-11 18:15:00+00:00 AWS Security Token Service
2019-01-11 17:40:00+00:00 Amazon CloudWatch
2019-01-11 17:39:00+00:00 Application Auto Scaling
2019-01-11 01:00:00+00:00 AWS Cloud9
2019-01-11 00:36:00+00:00 Amazon Resource Group Tagging API
2019-01-11 00:36:00+00:00 Amazon EC2
2019-01-10 21:10:00+00:00 Amazon Cognito User Pools
2019-01-10 21:09:00+00:00 Amazon Cognito Identity
2019-01-10 17:35:00+00:00 Amazon CloudWatch Events
2019-01-10 17:27:00+00:00 Amazon EC2 Auto Scaling
2019-01-09 23:54:00+00:00 AWS Amplify
2019-01-09 15:49:00+00:00 AWS CloudTrail
2019-01-08 23:25:00+00:00 Amazon EC2 Container Registry
2019-01-08 22:17:00+00:00 AWS Resource Groups
2019-01-08 17:43:00+00:00 AWS Systems Manager
2018-12-18 20:46:00+00:00 AWS X-Ray
2018-12-18 14:40:00+00:00 AWS Serverless Application Repository
2018-12-18 13:17:00+00:00 Elastic Load Balancing
2018-12-17 19:29:00+00:00 AWS CodeDeploy
2018-12-17 19:22:00+00:00 AWS Directory Service
2018-12-10 19:48:00+00:00 AWS Config
2018-12-07 22:42:00+00:00 Amazon SimpleDB
2018-12-07 22:42:00+00:00 Amazon SQS
2018-12-07 22:42:00+00:00 AWS Elastic Beanstalk
2018-12-07 20:51:00+00:00 AWS Support
2018-12-04 17:21:00+00:00 Manage - Amazon API Gateway
2018-12-03 23:01:00+00:00 Amazon Kinesis
2018-12-03 20:53:00+00:00 Data Pipeline
2018-12-03 19:34:00+00:00 Amazon Kinesis Firehose
2018-11-30 21:33:00+00:00 Amazon CloudFront
2018-11-29 23:09:00+00:00 AWS Database Migration Service
2018-11-27 18:00:00+00:00 AWS CodeStar
2018-11-22 01:52:00+00:00 AWS Trusted Advisor&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here’s the python code (which could likely be much improved)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; sys
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; time
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; boto3

ARG_PROFILE  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;aws-account-alias&apos;&lt;/span&gt;
ARN &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;arn:aws:sts::123456789012:role/human-role/redacted-project&apos;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  session &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Session&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;profile_name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;ARG_PROFILE&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;iam&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;generate_service_last_accessed_details&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      Arn&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;ARN
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  job_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;JobId&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sleep&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&apos;checking &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;job_id&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_service_last_accessed_details&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        JobId&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;job_id
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;JobStatus&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;COMPLETED&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;
  
  services &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; service &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ServicesLastAccessed&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;service&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;TotalAuthenticatedEntities&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      services&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;append&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;{LastAuthenticated} {ServiceName}&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;**&lt;/span&gt;service&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;sorted&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;services&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reverse&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sep&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;\n&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; __name__ &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;__main__&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    sys&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exit&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;main&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Architecture Decision Records (ADRs)]]></title><description><![CDATA[Recently, I was asked to do an architecture review on a couple of projects - one was just getting started, and the other was a PoC demoed at…]]></description><link>https://kevinhakanson.com/2018-12-18-architecture-decision-records-adrs/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-12-18-architecture-decision-records-adrs/</guid><pubDate>Tue, 18 Dec 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Recently, I was asked to do an architecture review on a couple of projects - one was just getting started, and the other was a PoC demoed at a user conference.  Unfortunately, as with too many “agile” projects, existing architecture documentation could fit on a post-it note.&lt;/p&gt;
&lt;p&gt;This situation was explainable, but something I wanted to change going forward.  Given these were cloud-native projects looking at newer PaaS services, I concede that it is hard to know the entire architecture up front.  However, creating a simple Lucidchart diagram with ~10 icons doesn’t take long, so I took my best guess and made one for them.  I am OK with emergent design distributed amongst the team, but there needs to be a way for architecture documentation to happen.&lt;/p&gt;
&lt;p&gt;I remembered something from a ThoughtWorks blip called &lt;a href=&quot;https://www.thoughtworks.com/radar/techniques/lightweight-architecture-decision-records&quot;&gt;Lightweight Architecture Decision Records&lt;/a&gt; and did some google searching.  &lt;a href=&quot;https://www.agilealliance.org/resources/experience-reports/distribute-design-authority-with-architecture-decision-records/&quot;&gt;Distribute Design Authority with Architecture Decision Records | Agile Alliance&lt;/a&gt; is a good article on the topic with a good set of references (for which I added links):&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Architecture Decision Record (ADR). (n.d.). Retrieved July 2, 2018, from &lt;a href=&quot;https://github.com/joelparkerhenderson/architecture_decision_record&quot;&gt;https://github.com/joelparkerhenderson/architecture_decision_record&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;Keeling, M. (2017). &lt;a href=&quot;https://learning.oreilly.com/library/view/design-it/9781680502923/&quot;&gt;Design It! From Programmer to Software Architect.&lt;/a&gt; Raleigh, NC: Pragmatic Programmers.&lt;/li&gt;
&lt;li&gt;Keeling, M., &amp;#x26; Runde, J. (2017). &lt;a href=&quot;https://saturn2017.sched.com/event/9k2y/architecture-decision-records-in-action&quot;&gt;Architecture Decision Records in Action.&lt;/a&gt; SATURN. Denver.&lt;/li&gt;
&lt;li&gt;Nygard, M. (2011, November 15). Documenting Architecture Decisions. Retrieved July 2, 2018, from &lt;a href=&quot;http://thinkrelevance.com/blog/2011/11/15/documenting-architecture-decisions&quot;&gt;http://thinkrelevance.com/blog/2011/11/15/documenting-architecture-decisions&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;Runde, J., Gala, C., &amp;#x26; Keeling, M. (2018). &lt;a href=&quot;https://saturn2018.sched.com/event/Ds0M/architectural-hoisting-or-how-i-learned-to-stop-writing-breaking-code-and-love-the-architecture&quot;&gt;Architectural Hoisting: Or How I Learned to Stop Writing Breaking Code and Love the Architecture.&lt;/a&gt; SATURN. Plano.&lt;/li&gt;
&lt;li&gt;Tyree, J., &amp;#x26; Akerman, A. (2005). &lt;a href=&quot;https://www.utdallas.edu/~chung/SA/zz-Impreso-architecture_decisions-tyree-05.pdf&quot;&gt;Architecture Decisions: Demystifying Architecture.&lt;/a&gt; IEEE Software , 22 (2), 19-27.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Anyone using Architecture Decision Records?  If so, are you storing them on a wiki, or alongside your source code?  What about diagrams - Lucidchart (easy to access/collaborate) or something like &lt;a href=&quot;https://www.draw.io/&quot;&gt;https://www.draw.io/&lt;/a&gt; where you can check in the .xml into your repository?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Amazon DynamoDB Deep Dive: Advanced Design Patterns for DynamoDB (DAT401)]]></title><description><![CDATA[Notes from watching AWS re:Invent 2018: Amazon DynamoDB Deep Dive: Advanced Design Patterns for DynamoDB (DAT401) - YouTube (slides). A…]]></description><link>https://kevinhakanson.com/2018-12-04-amazon-dynamodb-deep-dive-advanced-design-patterns-for-dynamodb-dat401/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-12-04-amazon-dynamodb-deep-dive-advanced-design-patterns-for-dynamodb-dat401/</guid><pubDate>Tue, 04 Dec 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Notes from watching &lt;a href=&quot;https://www.youtube.com/watch?v=HaEPXoXVf2k&quot;&gt;AWS re:Invent 2018: Amazon DynamoDB Deep Dive: Advanced Design Patterns for DynamoDB (DAT401) - YouTube&lt;/a&gt; (&lt;a href=&quot;https://www.slideshare.net/AmazonWebServices/amazon-dynamodb-deep-dive-advanced-design-patterns-for-dynamodb-dat401-aws-reinvent-2018pdf&quot;&gt;slides&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;A presentation worth watching to understand building DynamoDB solutions better.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;About 29:30 in speaker says “NoSQL is not a flexible database, it is an efficient database” as the speaker pushes on the importance of data modeling and understanding your use cases.&lt;/li&gt;
&lt;li&gt;Speaker’s idea is SQL is built for space efficiency and easy to join when you don’t know your problem, but CPU heavy - and NoSQL best when you model your data for your specific problem in the right structure, so is flexible for many problems, but not flexible to have 1 data structure for all problems.&lt;/li&gt;
&lt;li&gt;At some point DynamoDB Streams are mentioned, which are a feed of all data writes, and can be used by lambda to do aggregation functions and pre-compute results.
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/blogs/database/dynamodb-streams-use-cases-and-design-patterns/&quot;&gt;DynamoDB Streams Use Cases and Design Patterns | AWS Database Blog&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;About 43 minutes into the video as he talks transaction apis and you should almost always use just 1 table - take a look at this Schema - which I has to pause and study
&lt;ul&gt;
&lt;li&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d30867cc331fc8a4744ca37e7ea1f65f/40a97/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.75675675675676%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACY0lEQVR42jVTy27aQBT19/Yzuuuq6aJSpa67iZQFJEVNFLDjV8ijIcFAgUDAxgQb2/iFH9iY05lBGfno3rE9Z+65D67X68EwDEwmE0ynUwyHI8xmc4zGE7wROx6/sr3ruvB9nyEIAoRhSGzI7MbbIMsyqLIKbrlc4nA4IM9zFEWBHcG+JH4eo9qXKAmKcs/+IQ/5XjLkuwJpViDLC3KuBF1aVwNnmibbVFWFQ7VnfqwLMBqfYLycwlp2UKYrHMoIG+sNafiOyNWxXk4QODpCZ44sWpFTGbqdx2OEdB0jqJgfmn/hdX5i1fkF/98ZwuEppNPPeLr4gmHrBBPxOzp/vqJ/fYKR8A0z5QfKeQ33fA3cYrFgeXEcB5ZlIY5jbJMMCZGzr44XrB0PjcYlJEmFKKqQ5TZUtQ1BkNBs3eDhoUPyGEEh7zld17HdbhEGIUs2TW5C9nEQISfEh30Fb+2Cb/LgWzxazRbu7u4hiRLbC7yA56dnBJsAtwohnM1mjIhW0XM9JEkCx3Wgv7xhpS3gvq6x1AzUz2q4vLpCvVZH43eD4bx+ziCLMhx7TawCbj6fM0Iqm5LSaGnFN6YHe7xC8h7BNzyIvIj2XZvIlohcFaqisigVWUGbyH8l7cW3BHC0B9MkRRRFCHwiOc0Qb2O4UxtmV2ek1sCEeE1z9cgIKBnFh08l+6QXVfn2KNm2bVYU27IRhRG7IIwjUpgUu3KHJE2gaRr6/T66L10MBgPm077r98i7bhd0QPgmiZCGSiVTqbSxqVxamDRNWaE8OiGbDVNApyIhl7EB2O2Y/cB4PMKNIOI/jvQdWYfLK5wAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;DynamoDB Table Schema&quot;
        title=&quot;&quot;
        src=&quot;/static/d30867cc331fc8a4744ca37e7ea1f65f/fcda8/pastedImage_2.png&quot;
        srcset=&quot;/static/d30867cc331fc8a4744ca37e7ea1f65f/12f09/pastedImage_2.png 148w,
/static/d30867cc331fc8a4744ca37e7ea1f65f/e4a3f/pastedImage_2.png 295w,
/static/d30867cc331fc8a4744ca37e7ea1f65f/fcda8/pastedImage_2.png 590w,
/static/d30867cc331fc8a4744ca37e7ea1f65f/efc66/pastedImage_2.png 885w,
/static/d30867cc331fc8a4744ca37e7ea1f65f/c83ae/pastedImage_2.png 1180w,
/static/d30867cc331fc8a4744ca37e7ea1f65f/40a97/pastedImage_2.png 1911w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Table at 56:38 is an interesting artifact for a complex data modeling scenario that started a couple minutes before
&lt;ul&gt;
&lt;li&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/46b99c2b941445dc8b0f0ec789157fed/3cb0f/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.75675675675676%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB00lEQVR42lVS2W7bQAzU//9Y8hDEsusAlWFbWt33fbo2JhwqLVABBFfc4ezwsK7XK7zQhWvu4j1c7g5c30Xbduj7HsMwqO+6/b/v9jPjNJ5pz+cT72/vsOI4xtAPqOsaZVEiy1I0TYN5moW0RRCE6rd1E4zE51nPzEvTFI/tgTRJMS8zTqdfsIIg0FfLskRRFHpJYFVV8H0fYRhqchxFuN9uIJ6KeM8cqs7zAtM04fBpw4oESMI8z1UZgSQex1Fjvm80tifmSrYsi2Jo67pq7PV64Xg8waICgsuyQid9I2ld1UpII5jl01PRX+84F7D/bAdJ+R3tH8JpnLSHy7woIW1ZVn2obdr9Xh6J40TU1kpqzN4Onpm7Sl/tw3EnJEGWZaqI/aOxJ/xvqVAGQUySJKqI2PP5jK/zl5Y9DKNM+Y8QnvahpDJZegKNDMIYo8Cm3klIRiKWSt/KPwfGnLZrEUUx+qGHbf8Qcl0SmWQh0/JcV8zTZJbKkv/1UHAcIGPObweXy0Xbwmr+66GWJi/zMk0TVczYyj4KwSa7xrKouu8HPXM/uSFcbj7w2Lad0PM8LYsl7Ao9GM+omlCS3LuriVRMXCkrxMHcrje9I45qifn8OOAb2Xg4grq62UEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Query Conditions&quot;
        title=&quot;&quot;
        src=&quot;/static/46b99c2b941445dc8b0f0ec789157fed/fcda8/pastedImage_3.png&quot;
        srcset=&quot;/static/46b99c2b941445dc8b0f0ec789157fed/12f09/pastedImage_3.png 148w,
/static/46b99c2b941445dc8b0f0ec789157fed/e4a3f/pastedImage_3.png 295w,
/static/46b99c2b941445dc8b0f0ec789157fed/fcda8/pastedImage_3.png 590w,
/static/46b99c2b941445dc8b0f0ec789157fed/3cb0f/pastedImage_3.png 708w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/best-practices.html&quot;&gt;Best Practices for DynamoDB - Amazon DynamoDB&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Conclusions Slide:
&lt;ul&gt;
&lt;li&gt;NoSQL does not mean non-relational&lt;/li&gt;
&lt;li&gt;The ERD still matters&lt;/li&gt;
&lt;li&gt;RDBMS is not deprecated by NoSQL&lt;/li&gt;
&lt;li&gt;Use NoSQL for OTLP or DSS at scale.&lt;/li&gt;
&lt;li&gt;Use RDBMS for OLAP or OLTP when scale is not important.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/best-practices.html&quot;&gt;https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/best-practices.html&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[CloudFront and Disaster Recovery: Part 2]]></title><description><![CDATA[Last year I wrote CloudFront and Disaster Recovery based on the ability to use Lambda@Edge to “generate HTTP responses when CloudFront…]]></description><link>https://kevinhakanson.com/2018-11-21-cloudfront-and-disaster-recovery-part-2/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-11-21-cloudfront-and-disaster-recovery-part-2/</guid><pubDate>Wed, 21 Nov 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Last year I wrote &lt;a href=&quot;../2017-12-12-cloudfront-and-disaster-recovery&quot;&gt;CloudFront and Disaster Recovery&lt;/a&gt; based on the ability to use Lambda@Edge to “generate HTTP responses when CloudFront viewer request or origin request events occur.”&lt;/p&gt;
&lt;p&gt;This year &lt;a href=&quot;https://aws.amazon.com/about-aws/whats-new/2018/11/amazon-cloudfront-announces-support-for-origin-failover/&quot;&gt;Amazon CloudFront announces support for Origin Failover&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;With CloudFront’s Origin Failover capability, you can setup two origins for your distributions - primary and secondary, such that your content is served from your secondary origin if CloudFront detects that your primary origin is unavailable. CloudFront already allows you to configure custom error pages or generate redirects with Lambda@Edge if your origin is unavailable. Now with Origin Failover, you can easily setup failover logic between combinations of AWS origins or non-AWS custom HTTP origins such that there is minimal interruption to your viewer’s experience. &lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[AWS Cloud9 and Sharing with Role Issue]]></title><description><![CDATA[A co-worker and I were investigating AWS Cloud9 and the ability to share environments.  However, when you do a Window - Share… from inside…]]></description><link>https://kevinhakanson.com/2018-11-21-aws-cloud9-and-sharing-with-role-issue/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-11-21-aws-cloud9-and-sharing-with-role-issue/</guid><pubDate>Wed, 21 Nov 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;A co-worker and I were investigating &lt;a href=&quot;https://aws.amazon.com/cloud9/&quot;&gt;AWS Cloud9&lt;/a&gt; and the ability to share environments.  However, when you do a &lt;strong&gt;Window - Share…&lt;/strong&gt; from inside the environment, you get this dialog:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 379px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/82e16ca28938d14d45afab1f9ed7afb6/811d1/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.40540540540542%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACV0lEQVR42pVU2W7aQBTl/z+jeUuVvPShlZoSKqRWqvoWGqnQhi2A8YIXvC+czrkw2CWGpiMdXft6fOYu505nOBxiOp1iMpkIZrOZ2OVyCdu2YVnWP2GaJjabDUajETp0eJ4H13XF6TiObIjjGFy73e4sqqoSW5al7CVXh1GQkGS0el0iaPNzketIyAhp+THPc6RpiqIokGWZvJ+C/iRJZF8URRKlEJIkDMNjHXgiNxiGIT6N9Xp9tLa9r9tytcJKYT6fY7vd1oRBEAiBrhsj0PXUhzTXuXepIQlJxBN93z92jWSMhu8sB0+nj5YRWo6LZ3uLuRngaeUiSkv1XUXICJgifyIYLUtAn7ZNiE8hjGL4YQovTGD7MfJyt0/ZWJuiPWpxsVhIkZtp6E62dR7i53Ojy/7Gwsa1MR6PpbBc5+RxDg+rCipjOKoUHdc2FUEuEmAt/4dIY2QpqVWa8CDmc2m9DlXdZTaiTQqn6xJhWZ4QUndMl2mzk/qZVneXe1jbNvw1y5SNVjl11pQPNarnvNn9/fwqqFSJsirrLlO8lAulwzHiaZduF60ApYUXk3IcPW5iBPpCqG8WhYOtVBQ8rCoLBFGKh2WGz7/fof90i/tfN/i++FjXkLXi2BFMP4pCJIo8iDKESY5tnCHNChEyyen7aRb4NrtX+ICvk/cYrL/UNdQz3LyBbVXPieFiZvoYGx6cIJZoi6I8RF/KlLy4HHxV/NfIpk1Gt7c3uLp6g+u312J/PD6i86wawoH3PKYctKD2s/Ma9Pf7fdzdfUKv10O328VgMMAf1oBRprCwGcwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Cloud9 Dialog&quot;
        title=&quot;&quot;
        src=&quot;/static/82e16ca28938d14d45afab1f9ed7afb6/811d1/pastedImage_3.png&quot;
        srcset=&quot;/static/82e16ca28938d14d45afab1f9ed7afb6/12f09/pastedImage_3.png 148w,
/static/82e16ca28938d14d45afab1f9ed7afb6/e4a3f/pastedImage_3.png 295w,
/static/82e16ca28938d14d45afab1f9ed7afb6/811d1/pastedImage_3.png 379w&quot;
        sizes=&quot;(max-width: 379px) 100vw, 379px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;However, we are not using IAM users, but roles assumed via SAML.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws sts get-caller-identity
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Account&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456789012&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;UserId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:kevin.hakanson@example.com&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, I know that all AWS features have an API and can be called via the AWS CLI, so I thought I would just call &lt;a href=&quot;https://docs.aws.amazon.com/cli/latest/reference/cloud9/create-environment-membership.html&quot;&gt;create-environment-membership&lt;/a&gt; from the Cloud9 IDE integrated terminal.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws &lt;span class=&quot;token parameter variable&quot;&gt;--version&lt;/span&gt;
aws-cli/1.15.83 Python/2.7.14 Linux/4.14.72-68.55.amzn1.x86_64 botocore/1.10.82

$ aws ec2 describe-instances &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--instance-id &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-s&lt;/span&gt; http://169.254.169.254/latest/meta-data/instance-id&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--query&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Reservations[*].Instances[*].Tags[?Key==&apos;aws:cloud9:environment&apos;].Value&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--output&lt;/span&gt; text
6a26600d70aa41cd9b81bdb662b1c715

$ aws cloud9 describe-environment-memberships --environment-id 6a26600d70aa41cd9b81bdb662b1c715
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;memberships&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;environmentId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;6a26600d70aa41cd9b81bdb662b1c715&quot;&lt;/span&gt;, 
            &lt;span class=&quot;token string&quot;&gt;&quot;lastAccess&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1542842576.0&lt;/span&gt;, 
            &lt;span class=&quot;token string&quot;&gt;&quot;userId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:kevin.hakanson@example.com&quot;&lt;/span&gt;, 
            &lt;span class=&quot;token string&quot;&gt;&quot;userArn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;, 
            &lt;span class=&quot;token string&quot;&gt;&quot;permissions&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;owner&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But it didn’t work as expected when I tried to add my trusted coworker. Adding the &lt;strong&gt;—debug&lt;/strong&gt; flag didn’t give me any more info.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws cloud9 create-environment-membership &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--environment-id 6a26600d70aa41cd9b81bdb662b1c715 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--user-arn arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/trusted.coworker@example.com &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--permissions&lt;/span&gt; read-only

An error occurred &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;UnrecognizedClientException&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; when calling the CreateEnvironmentMembership operation: The security token included &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; the request is invalid&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When I went to a terminal on my Mac and tried the same command (as the same assumed role), it succeeded.  So, it doesn’t seem like an IAM permission issue for my role.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws sts get-caller-identity
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;UserId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:kevin.hakanson@example.com&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;Account&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456789012&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

$ aws cloud9 create-environment-membership &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--environment-id 6a26600d70aa41cd9b81bdb662b1c715 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--user-arn arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/trusted.coworker@example.com &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--permissions&lt;/span&gt; read-only &lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; us-east-2
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;membership&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;permissions&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;read-only&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;userId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:trusted.coworker@example.com&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;userArn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/trusted.coworker@example.com&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;environmentId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;6a26600d70aa41cd9b81bdb662b1c715&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Back in the Cloud9 IDE terminal, I checked and saw the membership was updated.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws cloud9 describe-environment-memberships --environment-id 6a26600d70aa41cd9b81bdb662b1c715
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;memberships&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;environmentId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;6a26600d70aa41cd9b81bdb662b1c715&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;userId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:trusted.coworker@example.com&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;userArn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/trusted.coworker@example.com&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;permissions&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;read-only&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;environmentId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;6a26600d70aa41cd9b81bdb662b1c715&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;lastAccess&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1542846944.0&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;userId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:kevin.hakanson@example.com&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;userArn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;permissions&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;owner&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I’m not sure what went wrong.  There is no record in CloudTrail, but when I look at &lt;a href=&quot;https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-unsupported-aws-services.html&quot;&gt;CloudTrail Unsupported Services&lt;/a&gt; I see AWS Cloud9 listed.  I did find in the &lt;a href=&quot;https://docs.aws.amazon.com/cloud9/latest/user-guide/auth-and-access-control.html#auth-and-access-control-temporary-managed-credentials-supported&quot;&gt;Actions Supported by AWS Managed Temporary Credentials&lt;/a&gt; for AWS Cloud9 EC2 development environments that there is an IAM restriction that could be responsible.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;All IAM actions that interact with roles are allowed only for role names starting with Cloud9-.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This looks like an AWS Enterprise Support question - but a lower priority because I have a workaround (and it is Thanksgiving tomorrow and re:Invent next week).&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt;  Working with AWS Support, we realized I could add a role using the full arn via the UI. I closed my case with the suggestion that the “help text” on that “share this environment” screen should  be updated not just to reference “IAM username” but give an indication that a full ARN (include role) could be used.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Excited about Azure SignalR Service/ASP.NET Core SignalR]]></title><description><![CDATA[I hadn’t been paying much attention to SignalR lately, but recently listened to .NET Rocks! SignalR with Anthony Chu and got excited.  I had…]]></description><link>https://kevinhakanson.com/2018-11-08-excited-about-azure-signalr-serviceaspnet-core-signalr/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-11-08-excited-about-azure-signalr-serviceaspnet-core-signalr/</guid><pubDate>Thu, 08 Nov 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I hadn’t been paying much attention to SignalR lately, but recently listened to &lt;a href=&quot;https://dotnetrocks.com/?show=1583&quot;&gt;.NET Rocks! SignalR with Anthony Chu&lt;/a&gt; and got excited.  I had always liked the idea of SignalR, and it worked great for .NET based web applications, but I saw gaps for a distributed, multi-language, microservice model and the proprietary protocol.&lt;/p&gt;
&lt;p&gt;However, with the re-write to .NET Core and the Microsoft Azure hosted &lt;a href=&quot;https://azure.microsoft.com/en-us/services/signalr-service/&quot;&gt;SignalR Service&lt;/a&gt;, it is worth taking another look.  The binary protocol has been written and open sourced, the service can run independent of your ASP.NET app, and the hosted model takes care of all the scaling and integrates with either your REST endpoints or Azure Functions.&lt;/p&gt;
&lt;p&gt;Additional Links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/aspnet/SignalR&quot;&gt;GitHub - aspnet/SignalR: Incredibly simple real-time web for ASP.NET Core&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/aspnet/core/signalr/version-differences?view=aspnetcore-2.1&quot;&gt;Differences between SignalR and ASP.NET Core SignalR | Microsoft Docs&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/aspnet/core/tutorials/signalr?view=aspnetcore-2.1&amp;#x26;tabs=visual-studio&quot;&gt;Get started with ASP.NET Core SignalR | Microsoft Docs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA["Full Stack" Caching Strategy]]></title><description><![CDATA[“Caching is somebody else’s problem, until it’s not” - me (just now) OK, so that’s a dumb quote I just made up, until it’s not…]]></description><link>https://kevinhakanson.com/2018-10-17-full-stack-caching-strategy/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-10-17-full-stack-caching-strategy/</guid><pubDate>Wed, 17 Oct 2018 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;“Caching is somebody else’s problem, until it’s not” - me (just now)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;OK, so that’s a dumb quote I just made up, until it’s not.  Microservices do their work, generate their HTTP, response and sent it to the browser.  Often, it isn’t until there is a performance or scale problem before a caching strategy gets addressed.&lt;/p&gt;
&lt;p&gt;How might a “full stack” caching strategy work?  Take a look at the representative diagram below:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/060abe886d7de5d435e5ba957a004142/b5cea/pastedImage_5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.756756756756754%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABibAAAYmwFJdYOUAAABfklEQVR42m2R3WvTYBTG+5/5H+mVXoogqOCFsiGC6I1aWVDHYEOKG4hzG65zXddaWWybtWsTm9Cs5n3z8SZN8/NNe+uB88F54DnnPKeilCIMI5I4QcoQyxoghESpjFj3Si9tkelcLFZ1AZkOeZ6THBskjkleAkVBJYwkBxfbHHR3GI5+ctl6h939ymHrM59Oqri+Sxr4tF/c5rpRWxJGjS3E0QaZrgPjDrOHN5CTwRKrxHFIs3/C9/oT7PO79H+scVm/z8XpI0w9YDL1EN6YzvNbON8+IPV2fu0Z3vt7zJM5M9ti+Oom0357RShkwMf9l1R3H2P1vjBorDPpGizUH30CWo6Yeb7gd/OUmTui16kxHJ4x2D/k15vXpFqmICt4sHGMGygqaZriuFfY3ggZRcymY8RfnzgFJXs47XXs1lNUcE6cxJhnBrZ1hLo28cwdQq+ODAXVvQ5ToQn5rxWrmDqIKwO/95a5JiyfUejHlGgWNBHjTaJJjTwLdX8J8g/WLrS2zy0sMwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;full stack caching&quot;
        title=&quot;&quot;
        src=&quot;/static/060abe886d7de5d435e5ba957a004142/fcda8/pastedImage_5.png&quot;
        srcset=&quot;/static/060abe886d7de5d435e5ba957a004142/12f09/pastedImage_5.png 148w,
/static/060abe886d7de5d435e5ba957a004142/e4a3f/pastedImage_5.png 295w,
/static/060abe886d7de5d435e5ba957a004142/fcda8/pastedImage_5.png 590w,
/static/060abe886d7de5d435e5ba957a004142/efc66/pastedImage_5.png 885w,
/static/060abe886d7de5d435e5ba957a004142/b5cea/pastedImage_5.png 1140w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let’s start with the microservice and follow the response out.  How much of a response could benefit from a cache?  If it is partially built from of a query result, look at an external cache that works with your database.  If it is the entire HTTP response, look at something that works with your web server pipeline.  However, with all shared caches, think about security and privacy so you don’t disclose one customer’s data to another.  Some additional links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.microsoft.com/en-us/azure/redis-cache/cache-aspnet-output-cache-provider&quot;&gt;Cache ASP.NET Output Cache Provider | Microsoft Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://nhibernate.info/doc/nhibernate-reference/caches.html#NHibernate.Caches.CoreDistributedCache.Redis&quot;&gt;Chapter 26. NHibernate.Caches&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The response flows through NGINX, which has &lt;a href=&quot;https://www.nginx.com/products/nginx/caching/&quot;&gt;Content caching&lt;/a&gt; functionality.  However, this might not be the best place in the architecture for an application with lots of microservices.  Some additional links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.nginx.com/nginx/admin-guide/content-cache/content-caching/&quot;&gt;NGINX Docs | NGINX Content Caching&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.nginx.com/blog/nginx-caching-guide/&quot;&gt;A Guide to Caching with NGINX and NGINX Plus - NGINX&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The response may flow through a content delivery network (like CloudFront) where it could get cached on the “edge” based on the HTTP cache headers.  Early CDNs required you to push out “static content” and use a discrete hostname for browser connection limit reasons.  However, mature CDNs allow for “dynamic acceleration” where requests flow through and utilize HTTP cache headers.  HTTP/2 connections make a single hostname the preferred option.  These distributed shared caches are closer to the browser and give a network latency benefit.  Some additional links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/header-caching.html&quot;&gt;Caching Content Based on Request Headers - Amazon CloudFront&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/cloudfront/latest/APIReference/API_Headers.html&quot;&gt;Headers - Amazon CloudFront&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Expiration.html&quot;&gt;Managing How Long Content Stays in an Edge Cache (Expiration) - Amazon CloudFront&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Once the response gets to the browser, there is another ecosystem in play.  The browser has a private cache (populated by HTTP cache headers) and localStorage/indexedDB (populated by JavaScript code).  Additionally, “evergreen” browsers now support Service Workers which can intercept HTTP requests and have access to a Cache API.  Some additional links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching&quot;&gt;HTTP Caching  |  Web Fundamentals  |  Google Developers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/web/ilt/pwa/caching-files-with-service-worker&quot;&gt;Caching Files with Service Worker  |  Web  |  Google Developers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers&quot;&gt;Using Service Workers - Web APIs | MDN&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Any place that has a shared cache needs to be concerned about the cache key.  This is more than just the URL, since different users might get different results (e.g. /profile/me) or different Content Types might be returned based on Accept headers.  The Vary header is often used as part of the cache key.  Some additional links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.fastly.com/blog/getting-most-out-vary-fastly&quot;&gt;Getting the most out of Vary with Fastly&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.smashingmagazine.com/2017/11/understanding-vary-header/&quot;&gt;Understanding The Vary Header — Smashing Magazine&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This was just a quick overview as there is a lot more complexity to this topic.  What key parts are missing?  Where in the architecture makes the most sense to you, and how should a development team decide where caching belongs?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[X-XSS-Protection is Dead, Long Live Content-Security-Policy]]></title><description><![CDATA[In mid-July it was reported that XSS protection disappears from Microsoft Edge and Find out what’s new in Windows and Office in October…]]></description><link>https://kevinhakanson.com/2018-10-11-x-xss-protection-is-dead-long-live-content-security-policy/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-10-11-x-xss-protection-is-dead-long-live-content-security-policy/</guid><pubDate>Thu, 11 Oct 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In mid-July it was reported that &lt;a href=&quot;https://portswigger.net/daily-swig/xss-protection-disappears-from-microsoft-edge&quot;&gt;XSS protection disappears from Microsoft Edge&lt;/a&gt; and &lt;a href=&quot;https://blogs.windows.com/windowsexperience/2018/10/02/find-out-whats-new-in-windows-and-office-in-october/&quot;&gt;Find out what’s new in Windows and Office in October&lt;/a&gt; confirms this happened.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Retired XSS Filter:&lt;/strong&gt; We are retiring the XSS filter in Microsoft Edge beginning with the October 2018 Update. Our customers remain protected thanks to modern standards like &lt;a href=&quot;https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FHTTP%2FCSP&amp;#x26;data=02%7C01%7C%7C1637778c952e44c3f3d908d623f92679%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636735950338487722&amp;#x26;sdata=0kd8LS0AikL0iBKIXI0ZEhUhsrdHVeP3ye4k%2FWlJtpA%3D&amp;#x26;reserved=0&quot;&gt;Content Security Policy&lt;/a&gt;, which provide more powerful, performant and secure mechanisms to protect against content injection attacks, with &lt;a href=&quot;https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fcaniuse.com%2F%23search%3Dcontent%2520security%2520policy&amp;#x26;data=02%7C01%7C%7C1637778c952e44c3f3d908d623f92679%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636735950338487722&amp;#x26;sdata=Kev9PTWrQ%2BRxjEgggBqCNJrQjdNnRqXxWHf8vpz29vI%3D&amp;#x26;reserved=0&quot;&gt;high compatibility across modern browsers&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;MDN Web Docs for &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection&quot;&gt;X-XSS-Protection&lt;/a&gt; also refer to &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP&quot;&gt;Content Security Policy (CSP)&lt;/a&gt; as the preferred solution&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The HTTP &lt;code class=&quot;language-text&quot;&gt;X-XSS-Protection&lt;/code&gt; response header is a feature of Internet Explorer, Chrome and Safari that stops pages from loading when they detect reflected cross-site scripting (&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Glossary/XSS&quot;&gt;XSS&lt;/a&gt;) attacks. Although these protections are largely unnecessary in modern browsers when sites implement a strong &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Content-Security-Policy&lt;/code&gt;&lt;/a&gt; that disables the use of inline JavaScript (&lt;code class=&quot;language-text&quot;&gt;&apos;unsafe-inline&apos;&lt;/code&gt;), they can still provide protections for users of older web browsers that don’t yet support &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Glossary/CSP&quot;&gt;CSP&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now go back to &lt;a href=&quot;https://portswigger.net/daily-swig/xss-protection-disappears-from-microsoft-edge&quot;&gt;XSS protection disappears from Microsoft Edge&lt;/a&gt; and see their analysis.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“The XSS Filter is supposed to be on by default,” Heyes explained. “However, it is now off by default, and even if you try to turn it on with &lt;code class=&quot;language-text&quot;&gt;X-XSS-Protection: 1&lt;/code&gt; it remains off.”&lt;/p&gt;
&lt;p&gt;“The only way to actually turn it on now is when you have the header &lt;code class=&quot;language-text&quot;&gt;X-XSS-Protection: 1; mode=block&lt;/code&gt;.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So, unless you are targeting IE11 (see &lt;a href=&quot;https://caniuse.com/#feat=contentsecuritypolicy&quot;&gt;https://caniuse.com/#feat=contentsecuritypolicy&lt;/a&gt;), it seems like it is time to embrace the &lt;a href=&quot;../2018-04-27-content-security-policy-http-header-braindump&quot;&gt;Content-Security-Policy HTTP Header Braindump&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS Shield, ReadOnly, and "not authorized to perform: shield:GetSubscriptionState" work-around]]></title><description><![CDATA[As a “ReadOnly” user, if you go to try and look at https://console.aws.amazon.com/waf/home#/ddp/onboard/info, you may get blocked with this…]]></description><link>https://kevinhakanson.com/2018-09-06-aws-shield-readonly-and-not-authorized-to-perform-shieldgetsubscriptionstate-work-around/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-09-06-aws-shield-readonly-and-not-authorized-to-perform-shieldgetsubscriptionstate-work-around/</guid><pubDate>Thu, 06 Sep 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;As a “ReadOnly” user, if you go to try and look at &lt;a href=&quot;https://console.aws.amazon.com/waf/home#/ddp/onboard/info&quot;&gt;https://console.aws.amazon.com/waf/home#/ddp/onboard/info&lt;/a&gt;, you may get blocked with this message:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Identity and Access Management (IAM) policies currently restrict your access to the console. Contact your AWS administrator if you need help. If you are an AWS administrator, see the &lt;a href=&quot;http://docs.aws.amazon.com/waf/latest/developerguide/waf-iam.html&quot;&gt;AWS WAF documentation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;User: arn:aws:sts::123456789012:assumed-role/projectID-ReadOnly/kevin.&lt;a href=&quot;mailto:hakanson@example.com&quot;&gt;hakanson@example.com&lt;/a&gt; is not authorized to perform: shield:GetSubscriptionState on resource: arn:aws:shield::123456789012:subscription/*&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Jump directly to the summary page with &lt;a href=&quot;https://console.aws.amazon.com/waf/home#/ddp/summary&quot;&gt;https://console.aws.amazon.com/waf/home#/ddp/summary&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;You can also verify the AWS Shield subscription using the AWS CLI, but make sure to target the &lt;code class=&quot;language-text&quot;&gt;us-east-1&lt;/code&gt; region (see &lt;a href=&quot;https://docs.aws.amazon.com/general/latest/gr/rande.html#shield_region&quot;&gt;AWS Regions and Endpoints&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws shield describe-subscription &lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; us-east-1
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Subscription&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;StartTime&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1531749886.0&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;EndTime&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1563372286.0&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;TimeCommitmentInSeconds&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;31622400&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;AutoRenew&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ENABLED&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Limits&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;Type&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ROUTE53_HOSTED_ZONE&quot;&lt;/span&gt;,
                &lt;span class=&quot;token string&quot;&gt;&quot;Max&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;Type&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;CF_DISTRIBUTION&quot;&lt;/span&gt;,
                &lt;span class=&quot;token string&quot;&gt;&quot;Max&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;Type&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ELB_LOAD_BALANCER&quot;&lt;/span&gt;,
                &lt;span class=&quot;token string&quot;&gt;&quot;Max&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;Type&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;EC2_ELASTIC_IP_ALLOCATION&quot;&lt;/span&gt;,
                &lt;span class=&quot;token string&quot;&gt;&quot;Max&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[AWS WAF vs AWS WAF Regional]]></title><description><![CDATA[Welcome - AWS WAF lists separate API references for AWS WAF and AWS WAF Regional.  AWS WAF is “available for protecting Amazon CloudFront…]]></description><link>https://kevinhakanson.com/2018-09-05-aws-waf-vs-aws-waf-regional/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-09-05-aws-waf-vs-aws-waf-regional/</guid><pubDate>Wed, 05 Sep 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/waf/latest/APIReference/Welcome.html&quot;&gt;Welcome - AWS WAF&lt;/a&gt; lists separate API references for AWS WAF and AWS WAF Regional.  AWS WAF is “available for protecting Amazon CloudFront distributions” and AWSWAF Regional is “available for protecting Application Load Balancers.”  These APIs are almost identical, except for Web ACL management:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/waf/latest/APIReference/API_regional_AssociateWebACL.html&quot;&gt;AssociateWebACL&lt;/a&gt; / &lt;a href=&quot;https://docs.aws.amazon.com/waf/latest/APIReference/API_regional_DisassociateWebACL.html&quot;&gt;DisassociateWebACL&lt;/a&gt; (use WebACLId parameter of &lt;a href=&quot;https://docs.aws.amazon.com/cloudfront/latest/APIReference/API_UpdateDistribution.html&quot;&gt;UpdateDistribution - Amazon CloudFront&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/waf/latest/APIReference/API_regional_ListResourcesForWebACL.html&quot;&gt;ListResourcesForWebACL&lt;/a&gt; (use &lt;a href=&quot;https://docs.aws.amazon.com/cloudfront/latest/APIReference/API_ListDistributionsByWebACLId.html&quot;&gt;ListDistributionsByWebACLId - Amazon CloudFront&lt;/a&gt; )&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AWS WAF is available globally on CloudFront but only regionally on Application Load Balancers. From &lt;a href=&quot;https://docs.aws.amazon.com/general/latest/gr/rande.html#waf_region&quot;&gt;AWS Regions and Endpoints - Amazon Web Services&lt;/a&gt; (Sept 2018):&lt;/p&gt;
&lt;blockquote&gt;
&lt;h2&gt;AWS WAF&lt;/h2&gt;
&lt;p&gt;AWS WAF for CloudFront distributions has a single endpoint: waf.amazonaws.com. It supports HTTPS requests only.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Region Name&lt;/th&gt;
&lt;th&gt;Region&lt;/th&gt;
&lt;th&gt;Endpoint&lt;/th&gt;
&lt;th&gt;Protocol&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;US East (N. Virginia)&lt;/td&gt;
&lt;td&gt;us-east-1&lt;/td&gt;
&lt;td&gt;waf.amazonaws.com&lt;/td&gt;
&lt;td&gt;HTTPS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Canada (Central)&lt;/td&gt;
&lt;td&gt;ca-central-1&lt;/td&gt;
&lt;td&gt;waf.amazonaws.com&lt;/td&gt;
&lt;td&gt;HTTPS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;EU (London)&lt;/td&gt;
&lt;td&gt;eu-west-2&lt;/td&gt;
&lt;td&gt;waf.amazonaws.com&lt;/td&gt;
&lt;td&gt;HTTPS&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;AWS WAF for Application Load Balancers has the following endpoints:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Region Name&lt;/th&gt;
&lt;th&gt;Region&lt;/th&gt;
&lt;th&gt;Endpoint&lt;/th&gt;
&lt;th&gt;Protocol&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;US East (Ohio)&lt;/td&gt;
&lt;td&gt;us-east-2&lt;/td&gt;
&lt;td&gt;waf-regional.us-east-2.amazonaws.com&lt;/td&gt;
&lt;td&gt;HTTPS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;US East (N. Virginia)&lt;/td&gt;
&lt;td&gt;us-east-1&lt;/td&gt;
&lt;td&gt;waf-regional.us-east-1.amazonaws.com&lt;/td&gt;
&lt;td&gt;HTTPS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;US West (N. California)&lt;/td&gt;
&lt;td&gt;us-west-1&lt;/td&gt;
&lt;td&gt;waf-regional.us-west-1.amazonaws.com&lt;/td&gt;
&lt;td&gt;HTTPS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;US West (Oregon)&lt;/td&gt;
&lt;td&gt;us-west-2&lt;/td&gt;
&lt;td&gt;waf-regional.us-west-2.amazonaws.com&lt;/td&gt;
&lt;td&gt;HTTPS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Asia Pacific (Tokyo)&lt;/td&gt;
&lt;td&gt;ap-northeast-1&lt;/td&gt;
&lt;td&gt;waf-regional.ap-northeast-1.amazonaws.com&lt;/td&gt;
&lt;td&gt;HTTPS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Asia Pacific (Sydney)&lt;/td&gt;
&lt;td&gt;ap-southeast-2&lt;/td&gt;
&lt;td&gt;waf-regional.ap-southeast-2.amazonaws.com&lt;/td&gt;
&lt;td&gt;HTTPS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;EU (Frankfurt)&lt;/td&gt;
&lt;td&gt;eu-central-1&lt;/td&gt;
&lt;td&gt;waf-regional.eu-central-1.amazonaws.com&lt;/td&gt;
&lt;td&gt;HTTPS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;EU (Ireland)&lt;/td&gt;
&lt;td&gt;eu-west-1&lt;/td&gt;
&lt;td&gt;waf-regional.eu-west-1.amazonaws.com&lt;/td&gt;
&lt;td&gt;HTTPS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;AWS GovCloud (US)&lt;/td&gt;
&lt;td&gt;us-gov-west-1&lt;/td&gt;
&lt;td&gt;waf-regional.us-gov-west-1.amazonaws.com&lt;/td&gt;
&lt;td&gt;HTTPS&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/blockquote&gt;
&lt;p&gt;In addition to the documentation, other ways to look for supported regions are a CLI “list” operation or &lt;strong&gt;nslookup&lt;/strong&gt; the DNS name.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws waf-regional list-ip-sets &lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; eu-west-2

Could not connect to the endpoint URL: &lt;span class=&quot;token string&quot;&gt;&quot;https://waf-regional.eu-west-2.amazonaws.com/&quot;&lt;/span&gt;

$ &lt;span class=&quot;token function&quot;&gt;nslookup&lt;/span&gt; waf-regional.eu-west-2.amazonaws.com
Server: &lt;span class=&quot;token number&quot;&gt;10.204&lt;/span&gt;.50.29
Address: &lt;span class=&quot;token number&quot;&gt;10.204&lt;/span&gt;.50.29&lt;span class=&quot;token comment&quot;&gt;#53&lt;/span&gt;

** server can&apos;t &lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt; waf-regional.eu-west-2.amazonaws.com: NXDOMAIN

$ &lt;span class=&quot;token function&quot;&gt;nslookup&lt;/span&gt; waf-regional.us-west-2.amazonaws.com
Server: &lt;span class=&quot;token number&quot;&gt;10.204&lt;/span&gt;.50.29
Address: &lt;span class=&quot;token number&quot;&gt;10.204&lt;/span&gt;.50.29&lt;span class=&quot;token comment&quot;&gt;#53&lt;/span&gt;

Non-authoritative answer:
Name: waf-regional.us-west-2.amazonaws.com
Address: &lt;span class=&quot;token number&quot;&gt;52.94&lt;/span&gt;.210.110&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;These &lt;code class=&quot;language-text&quot;&gt;waf-regional&lt;/code&gt; API calls will return different results based on &lt;code class=&quot;language-text&quot;&gt;--region&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws waf-regional list-ip-sets &lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; us-east-1
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;NextMarker&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;7ec3bad0-7b26-491e-affa-00a2718a7160&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;IPSets&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;IPSetId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;777f1102-1803-4730-b666-fc22c452a366&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Name&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;project1-dev-match-blacklisted-ips&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;IPSetId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;7ec3bad0-7b26-491e-affa-00a2718a7160&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Name&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;project2-dev-match-blacklisted-ips&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

$ aws waf-regional list-ip-sets &lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; us-west-2
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;IPSets&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But the &lt;code class=&quot;language-text&quot;&gt;waf&lt;/code&gt; API call is global and returns the same results, ignoring the CLI &lt;code class=&quot;language-text&quot;&gt;--region&lt;/code&gt; parameter&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws waf list-ip-sets&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://aws.amazon.com/firewall-manager/&quot;&gt;AWS Firewall Manager | Centralized WAF Management&lt;/a&gt; does not have a separate API, but likely uses &lt;a href=&quot;https://docs.aws.amazon.com/waf/latest/APIReference/API_regional_PutPermissionPolicy.html&quot;&gt;PutPermissionPolicy - AWS WAF&lt;/a&gt; to “share a RuleGroup across accounts.”  A &lt;a href=&quot;https://docs.aws.amazon.com/waf/latest/APIReference/API_regional_RuleGroup.html&quot;&gt;RuleGroup&lt;/a&gt; is a “collection of predefined rules that you can add to a web ACL” and “subject to the following limits:”&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Three rule groups per account. You can request an increase to this limit by contacting customer support.&lt;/li&gt;
&lt;li&gt;One rule group per web ACL.&lt;/li&gt;
&lt;li&gt;Ten rules per rule group.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;To use &lt;a href=&quot;https://console.aws.amazon.com/waf/fms#/home&quot;&gt;https://console.aws.amazon.com/waf/fms#/home&lt;/a&gt; there are AWS Account level settings that need to be enabled:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Your AWS account must be part of an organization in AWS Organizations, and the account must have the full feature set enabled. &lt;a href=&quot;http://docs.aws.amazon.com/console/waf/fms-prereq&quot;&gt;Learn more&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;An AWS account must be set as an AWS Firewall Manager administrator. &lt;a href=&quot;http://docs.aws.amazon.com/console/waf/fms-prereq&quot;&gt;Learn more&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Cloud Custodian Code Confusion]]></title><description><![CDATA[A coworker and I were debugging incorrect results with our  Cloud Custodian policy.  Here is the filter that gave us 3 results when we were…]]></description><link>https://kevinhakanson.com/2018-09-04-cloud-custodian-code-confusion/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-09-04-cloud-custodian-code-confusion/</guid><pubDate>Tue, 04 Sep 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;A coworker and I were debugging incorrect results with our &lt;code class=&quot;language-text&quot;&gt;app-elb-outdated-securitypolicy.yaml&lt;/code&gt; Cloud Custodian policy.  Here is the filter that gave us 3 results when we were expecting 2:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; listener
        &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Protocol
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTTPS
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; listener
        &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; SslPolicy
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-TLS-1-2-2017-01&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-FS-2018-06&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-TLS-1-2-Ext-2018-06&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; not&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;in&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;One of the extra items should have been excluded because of the SslPolicy &lt;code class=&quot;language-text&quot;&gt;not-in&lt;/code&gt; clause, but still appeared in our list.  We even changed the values in the array to garbage strings and no effect. So, we did what all good programmers do; assume it was a bug in someone else’s code, and try and work around it.  This workaround did what we expected, and we got 2 results:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; listener
        &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Protocol
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTTPS
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; listener
          &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; SslPolicy
          &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-TLS-1-2-2017-01&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-FS-2018-06&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-TLS-1-2-Ext-2018-06&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; in&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, that didn’t seem right, and since Cloud Custodian is open source, we dug into the &lt;a href=&quot;https://github.com/capitalone/cloud-custodian/blob/d0687ab74bd882a017d2d780ef991d5a7444836b/c7n/resources/appelb.py#L643&quot;&gt;code&lt;/a&gt; and found both custom logic and this comment:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Adding the `matched` flag will filter on previously matched listeners&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So, per the in-code documentation, we should add &lt;code class=&quot;language-text&quot;&gt;matched: true&lt;/code&gt; - this worked as expected.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;    &lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; listener
        &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Protocol
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTTPS
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; listener
        &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; SslPolicy
        &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-TLS-1-2-2017-01&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-FS-2018-06&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&apos;ELBSecurityPolicy-TLS-1-2-Ext-2018-06&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; not&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;in
        &lt;span class=&quot;token key atrule&quot;&gt;matched&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Some comments/frustrations:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Why couldn’t the documentation have better examples?  Going into the source code is a good way to see exactly what is going on, but time-consuming.  This is a down-side of open source.&lt;/li&gt;
&lt;li&gt;Why is the home-grown yaml policy language so confusing?  I like the idea of configuration over code, unless the configuration syntax requires more mental effort than reading code.&lt;/li&gt;
&lt;li&gt;How much harder will complex filter criteria make things.  If we are already struggling, how will this rule complexity scale?&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[AWS WAF / AWS Shield for DDoS Protection]]></title><description><![CDATA[One of the AWS Whitepapers is the 30-page AWS Best Practices for DDoS Resiliency (June 2018) which gives a overall summary of the topic as…]]></description><link>https://kevinhakanson.com/2018-08-31-aws-waf-aws-shield-for-ddos-protection/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-08-31-aws-waf-aws-shield-for-ddos-protection/</guid><pubDate>Fri, 31 Aug 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;One of the &lt;a href=&quot;https://aws.amazon.com/whitepapers/#security&quot;&gt;AWS Whitepapers&lt;/a&gt; is the 30-page &lt;a href=&quot;https://d1.awsstatic.com/whitepapers/Security/DDoS_White_Paper.pdf&quot;&gt;AWS Best Practices for DDoS Resiliency (June 2018)&lt;/a&gt; which gives a overall summary of the topic as well as a good distinction where AWS Shield and AWS WAF fit.&lt;/p&gt;
&lt;p&gt;First, a definition and some key facts about DDoS:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A Denial of Service (DoS) attack is a deliberate attempt to make your website or application&lt;br&gt;
unavailable to users, such as by flooding it with network traffic.&lt;/p&gt;
&lt;p&gt;But in a Distributed Denial of Service (DDoS) attack, an attacker uses multiple sources […] to orchestrate an attack against a target.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Later, there is a distinction between &lt;em&gt;infrastructure layer attacks&lt;/em&gt; and &lt;em&gt;application layer attacks&lt;/em&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;DDoS attacks are most common at layers 3, 4, 6, and 7 of the Open Systems Interconnection (OSI) model, which is described in following table (Table 1). Layer 3 and 4 attacks correspond to the Network and Transport layers of the OSI model. We’ll refer to these collectively as &lt;em&gt;infrastructure layer attacks&lt;/em&gt;. Layer 6 and 7 attacks correspond to the Presentation and Application layers of the OSI model. We’ll address these together as &lt;em&gt;application layer attacks&lt;/em&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The Mitigation Techniques section starting on Page 7 highlights AWS Shield Advanced as a way to mitigate DDoS attacks.  The network level protection is most helpful for Infrastructure Layer Defense, but one of the many items included with the AWS Shield Advanced subscription is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Access to AWS WAF, at no additional cost, for the mitigation of application layer DDoS attacks (when used with Amazon CloudFront or ALB).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AWS WAF helps with Application Layer Defense but “requires you to implement an architecture that allows you to&lt;br&gt;
specifically detect, scale to absorb, and block malicious requests.”  &lt;a href=&quot;https://aws.amazon.com/blogs/aws/protect-web-sites-services-using-rate-based-rules-for-aws-waf/&quot;&gt;Protect Web Sites &amp;#x26; Services Using Rate-Based Rules for AWS WAF&lt;/a&gt; showcases a good rule to start with, even if used in count mode.  Moving beyond DDoS attacks applications can look at &lt;a href=&quot;https://d1.awsstatic.com/whitepapers/Security/aws-waf-owasp.pdf&quot;&gt;Use AWS WAF to Mitigate OWASP’s Top 10 Web Application Vulnerabilities&lt;/a&gt;, but these require synergy with the application architecture.&lt;/p&gt;
&lt;p&gt;The DDoS whitepaper also highlights Operational Techniques such as Visibility.  Included with AWS Shield Advanced is access to a number of additional CloudWatch metrics.  However, these are only valuable when monitored.&lt;/p&gt;
&lt;p&gt;Give the whitepaper a read through.  What key points do you see highlighted?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Investigating Web Cache Poisoning]]></title><description><![CDATA[Practical Web Cache Poisoning had me wondering about  header validation in one application I was consulting on.  I decided to test against…]]></description><link>https://kevinhakanson.com/2018-08-22-investigating-web-cache-poisoning/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-08-22-investigating-web-cache-poisoning/</guid><pubDate>Wed, 22 Aug 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://portswigger.net/blog/practical-web-cache-poisoning&quot;&gt;Practical Web Cache Poisoning&lt;/a&gt; had me wondering about &lt;code class=&quot;language-text&quot;&gt;Host&lt;/code&gt; header validation in one application I was consulting on.  I decided to test against an internal endpoint that reflects back HTTP headers. I used &lt;code class=&quot;language-text&quot;&gt;curl&lt;/code&gt;’s &lt;a href=&quot;https://curl.haxx.se/docs/manpage.html#-H&quot;&gt;-H&lt;/a&gt; to lie about my &lt;code class=&quot;language-text&quot;&gt;Host&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;X-Forwarded-*&lt;/code&gt; headers and routed through an internal proxy server.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note: For these examples I replaced the real hostname with the reserved &lt;code class=&quot;language-text&quot;&gt;example.com&lt;/code&gt; from &lt;a href=&quot;https://tools.ietf.org/html/rfc6761&quot;&gt;Special-Use Domain Names&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt;  &lt;span class=&quot;token parameter variable&quot;&gt;-H&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Host: poison0.example.com&quot;&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-H&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;X-Forwarded-Host: poison1.example.com&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;-H&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;X-Forwarded-For: 1.1.1.1&quot;&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-H&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;X-Forwarded-Proto: ftp&quot;&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-H&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;X-Forwarded-Port: 8080&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--proxy&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10.20&lt;/span&gt;.30.40:5678 https://ci.int.example.com/api/internalsecurity/v1/requests
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;headers&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;x-amzn-trace-id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Root=1-5b7db1ca-321c6f7616980480e520feb6&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;x-forwarded-host&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;poison0.example.com&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;x-forwarded-proto&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;host&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;poison0.example.com&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;x-forwarded-port&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;443&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;connection&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;close&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;x-forwarded-for&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1.1.1.1, 10.20.30.40&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;user-agent&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;curl/7.58.0&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;accept&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;*/*&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;URI&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://poison0.example.com/api/internalsecurity/v1/requests&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The AWS Application Load Balancers allow the &lt;code class=&quot;language-text&quot;&gt;Host&lt;/code&gt; header to pass through and correctly set the &lt;code class=&quot;language-text&quot;&gt;X-Forwarded-*&lt;/code&gt; headers on to the target.  The value for &lt;code class=&quot;language-text&quot;&gt;X-Forwarded-For&lt;/code&gt; is a chain of values that was appended to&lt;/p&gt;
&lt;p&gt;Recently Amazon added “Redirect Rules” into Application Load Balancers and can preform the &lt;code class=&quot;language-text&quot;&gt;www&lt;/code&gt; to naked domain logic by matching on &lt;code class=&quot;language-text&quot;&gt;Host&lt;/code&gt; and triggering a redirect.  Additionally, you could require all load balancer targets to match a known hostname which has the effect of Host validation.  The load balancer is already indirectly aware of hostnames by the fact it has a TLS Certificate configured containing numerous &lt;code class=&quot;language-text&quot;&gt;subjectAltName&lt;/code&gt; DNS entries.&lt;/p&gt;
&lt;p&gt;However, is it “better” to validate the &lt;code class=&quot;language-text&quot;&gt;Host&lt;/code&gt; by leveraging the virtual host functionality of &lt;code class=&quot;language-text&quot;&gt;nginx.conf&lt;/code&gt;?  This is already the place where the &lt;code class=&quot;language-text&quot;&gt;Host&lt;/code&gt; header value is copied to the &lt;code class=&quot;language-text&quot;&gt;X-Forwarded-Host&lt;/code&gt; header.   However, it may require specific &lt;code class=&quot;language-text&quot;&gt;nginx.conf&lt;/code&gt; files for each environment and regional deploy.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nginx&quot;&gt;&lt;pre class=&quot;language-nginx&quot;&gt;&lt;code class=&quot;language-nginx&quot;&gt;&lt;span class=&quot;token directive&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;server&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token directive&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;server_name&lt;/span&gt; www.example.com&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token directive&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;301&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$scheme&lt;/span&gt;://example.com&lt;span class=&quot;token variable&quot;&gt;$request_uri&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token directive&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;server&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token directive&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;server_name&lt;/span&gt; example.com&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# [...]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://nginx.org/en/docs/http/server_names.html&quot;&gt;Server names&lt;/a&gt; from the nginx docs documents the strange name &lt;code class=&quot;language-text&quot;&gt;_&lt;/code&gt; which is “just one of a myriad of invalid domain names which never intersect with any real name.”&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nginx&quot;&gt;&lt;pre class=&quot;language-nginx&quot;&gt;&lt;code class=&quot;language-nginx&quot;&gt;    &lt;span class=&quot;token comment&quot;&gt;# This is the default server that will 444 on requests that do not&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# have an acceptable host name as defined in external_domains.conf&lt;/span&gt;
    &lt;span class=&quot;token directive&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;server&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token directive&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token directive&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;server_name&lt;/span&gt; _&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token directive&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;444&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token directive&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;server&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token directive&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token directive&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt; ./external_domains.conf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# [...]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In &lt;code class=&quot;language-text&quot;&gt;external_domains.conf&lt;/code&gt;, all the allowable &lt;code class=&quot;language-text&quot;&gt;server_name&lt;/code&gt;s are listed.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nginx&quot;&gt;&lt;pre class=&quot;language-nginx&quot;&gt;&lt;code class=&quot;language-nginx&quot;&gt;server_name example.com
    example.net
    example.org&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This configured worked in that it rejected “unwanted” &lt;code class=&quot;language-text&quot;&gt;Host&lt;/code&gt; headers.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[First Thoughts on AWS Cloud9]]></title><description><![CDATA[The other week I had trouble creating an AWS Cloud9 environment, so I tried again today - and with success, because I actually met the…]]></description><link>https://kevinhakanson.com/2018-07-05-first-thoughts-on-aws-cloud9/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-07-05-first-thoughts-on-aws-cloud9/</guid><pubDate>Thu, 05 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The other week I had trouble creating an &lt;a href=&quot;https://aws.amazon.com/cloud9/&quot;&gt;AWS Cloud9&lt;/a&gt; environment, so I tried again today - and with success, because I actually met the requirements found at &lt;a href=&quot;https://docs.aws.amazon.com/cloud9/latest/user-guide/vpc-settings.html&quot;&gt;VPC Settings for AWS Cloud9 Development Environments&lt;/a&gt; and put the instance in a public subnet.  However, it created a Security Group with port 22 open to the internet - which I didn’t like…&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4663d487b8153911103496908d6b4bc6/5148a/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.972972972972975%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAuUlEQVR42oWOC2/DIAyE+f//chrhETLzDCxkyg2jblWlVrX06bjDxogtHYj7CcoHPtWGLVQ4X7AYgl4DlKWBh3ERX+OOfao/yAO7JWgXZh+rowKhlYIzEmb5gBrnUjLOs+N5XXe9rqcdgsjj7B39+EatddDQ+6sH35dYFoV935FznkpEWNcVKaUJ59ZaaGP+fYwRRuup7BnvPaSUECEEtPmzitYa2HNjvWUMZzz053kxLy2lPGQ5JfwCO5CCNGHQFSEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Security Group Inbound rules&quot;
        title=&quot;&quot;
        src=&quot;/static/4663d487b8153911103496908d6b4bc6/fcda8/pastedImage_3.png&quot;
        srcset=&quot;/static/4663d487b8153911103496908d6b4bc6/12f09/pastedImage_3.png 148w,
/static/4663d487b8153911103496908d6b4bc6/e4a3f/pastedImage_3.png 295w,
/static/4663d487b8153911103496908d6b4bc6/fcda8/pastedImage_3.png 590w,
/static/4663d487b8153911103496908d6b4bc6/efc66/pastedImage_3.png 885w,
/static/4663d487b8153911103496908d6b4bc6/c83ae/pastedImage_3.png 1180w,
/static/4663d487b8153911103496908d6b4bc6/5148a/pastedImage_3.png 1228w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;..and neither did an automated security process because within a minute it removed that rule - which was good for security, but bad for accessing the Cloud9 based environment.  However, there are instructions to limit to specific IPs.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;All IP addresses using SSH over port 22. However, you can restrict these IP addresses to only those that AWS Cloud9 uses. For more information, see &lt;a href=&quot;https://docs.aws.amazon.com/cloud9/latest/user-guide/ip-ranges.html&quot;&gt;Inbound SSH IP Address Ranges&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I did that, and within seconds of saving, I was able to connect to my Cloud9 environment from the browser.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f5f1777a0001ecf7d99fc69879f0563f/553fd/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25.675675675675674%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAy0lEQVR42p1QW47EIAzr/e84+zNQqbRQHi3Pgpdkdi8wSJZj5ASHRfsEdxf4O0Nph+MMCLFgN57rD3ucPsK4G/ZKSHXAhghtA/R5MbsrI5aO5Th2rFJAb2LyG6RTSvj2LM45+BAwxkBrDaUUxBi5/kfOGaUWtOfBM1Fr5XuqWyNNnsJ6McZg2zZ470HDSUshYK1lTSylhFKKNWFdV4jpIS/1qV3h9fqZ2x1YKBG9QgkJnKBUjt97R+cUDeNPk4e+hIZRL5060+upaZNf8giDPMd6L7QAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Security Group Inbound rules&quot;
        title=&quot;&quot;
        src=&quot;/static/f5f1777a0001ecf7d99fc69879f0563f/fcda8/pastedImage_4.png&quot;
        srcset=&quot;/static/f5f1777a0001ecf7d99fc69879f0563f/12f09/pastedImage_4.png 148w,
/static/f5f1777a0001ecf7d99fc69879f0563f/e4a3f/pastedImage_4.png 295w,
/static/f5f1777a0001ecf7d99fc69879f0563f/fcda8/pastedImage_4.png 590w,
/static/f5f1777a0001ecf7d99fc69879f0563f/efc66/pastedImage_4.png 885w,
/static/f5f1777a0001ecf7d99fc69879f0563f/c83ae/pastedImage_4.png 1180w,
/static/f5f1777a0001ecf7d99fc69879f0563f/553fd/pastedImage_4.png 1255w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I opened the Terminal window and tested what sort of AWS access I had.  The environment runs with my Federated Identity credentials.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws sts get-caller-identity
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Account&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456789012&quot;&lt;/span&gt;, 
    &lt;span class=&quot;token string&quot;&gt;&quot;UserId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:kevin.hakanson@example.com&quot;&lt;/span&gt;, 
    &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/projectID-PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

$ aws &lt;span class=&quot;token parameter variable&quot;&gt;--version&lt;/span&gt;
aws-cli/1.14.9 Python/2.7.14 Linux/4.14.47-56.37.amzn1.x86_64 botocore/1.8.13&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;a href=&quot;https://docs.aws.amazon.com/cloud9/latest/user-guide/ami-contents.html&quot;&gt;Amazon Machine Image (AMI) Contents for an AWS Cloud9 EC2 Development Environment&lt;/a&gt; did not impress me as they had an outdated version of the awscli.  Also, I followed the &lt;a href=&quot;https://docs.aws.amazon.com/cloud9/latest/user-guide/sample-python.html&quot;&gt;Python Sample for AWS Cloud9&lt;/a&gt; which I think confused me even more because in one place it is using virtual environments  (&lt;code class=&quot;language-text&quot;&gt;virtualenv -p /usr/bin/python36 vpy36&lt;/code&gt;) and later running as sudo for the system Python (&lt;code class=&quot;language-text&quot;&gt;sudo python -m pip install boto3&lt;/code&gt;).  I did figure out how to create a custom “runner” that would use the virtualenv.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; .c9/runners/vpy36.run 
// Create a custom Cloud9 runner - similar to the Sublime build system
// For &lt;span class=&quot;token function&quot;&gt;more&lt;/span&gt; information see http://docs.aws.amazon.com/console/cloud9/create-run-config
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;cmd&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/home/ec2-user/environment/vpy36/bin/python&quot;&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;$file&lt;/span&gt;&quot;&lt;/span&gt;, &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;$args&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;info&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Started &lt;span class=&quot;token variable&quot;&gt;$project_path&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$file_name&lt;/span&gt;&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;env&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;selector&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;source.ext&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Eventually I got some code to run, but I don’t think my Python environment is in a stable state - certainly not a “spin up and get coding” experience.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; boto3
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; sys
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; json

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    session &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Session&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    caller_identity &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_caller_identity&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dumps&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;caller_identity&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; indent&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; __name__ &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;__main__&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    sys&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exit&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;main&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Selecting an ElastiCache (Redis) AUTH token]]></title><description><![CDATA[Redis Security highlights some items about selecting an AUTH token (password). It should be long enough to prevent brute force attacks for…]]></description><link>https://kevinhakanson.com/2018-06-27-selecting-an-elasticache-redis-auth-token/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-06-27-selecting-an-elasticache-redis-auth-token/</guid><pubDate>Wed, 27 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://redis.io/topics/security&quot;&gt;Redis Security&lt;/a&gt; highlights some items about selecting an AUTH token (password).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It should be long enough to prevent brute force attacks for two reasons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redis is very fast at serving queries. Many passwords per second can be tested by an external client.&lt;/li&gt;
&lt;li&gt;The Redis password is stored inside the &lt;code class=&quot;language-text&quot;&gt;redis.conf&lt;/code&gt; file and inside the client configuration, so it does not need to be remembered by the system administrator, and thus it can be very long.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;From &lt;a href=&quot;https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/auth.html&quot;&gt;Authenticating Users with Redis AUTH - Amazon ElastiCache for Redis&lt;/a&gt; we see some additional AUTH constraints.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;AUTH Token Constraints when using with ElastiCache&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Passwords must be at least 16 and a maximum of 128 printable characters.&lt;/li&gt;
&lt;li&gt;The only permitted printable special characters are !, &amp;#x26;, #, $, ^, &amp;#x3C;, &gt;, and -. Other printable special characters cannot be used in the AUTH token.&lt;/li&gt;
&lt;li&gt;AUTH can only be enabled when creating clusters where in-transit encryption is enabled.&lt;/li&gt;
&lt;li&gt;The password set at cluster creation cannot be changed.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Since the special character set is limited, it makes sense to avoid them but generate a very long password.  This also has the side benefit of allowing a “double click” on the string to select it (which is usually hard with interior punctuation).  Below is an AWS CLI command that uses &lt;a href=&quot;https://aws.amazon.com/secrets-manager/&quot;&gt;AWS Secrets Manager&lt;/a&gt; to generate that random string.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws secretsmanager get-random-password --password-length &lt;span class=&quot;token number&quot;&gt;128&lt;/span&gt; --exclude-punctuation 
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;RandomPassword&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;FiXWVSsPAJmA1y4c6E63pc9p4YgM4m0lJzTVeRZD0hyJTiYPqZD5YkToDxBHX9N2APQqhnqVXYNipIkErKByFD9Gx38rbF5vE80z28u2v9NGD9vZz6GtgnElS1yqAfMk&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This secret is needed in plaintext during ElasticCache creation.  It should then be KMS encrypted and stored  in Secrets Manager, the microservice needing access to Redis can retrieve it.&lt;/p&gt;
&lt;p&gt;Note: I was glad to see the usage of &lt;code class=&quot;language-text&quot;&gt;time_independent_strcmp&lt;/code&gt; to avoid timing attacks in &lt;a href=&quot;https://github.com/antirez/redis/blob/3.2/src/server.c#L2683&quot;&gt;redis/server.c&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;authCommand&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;client &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;server&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;requirepass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;addReplyError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Client sent AUTH, but no password is set&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;time_independent_strcmp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;argv&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;ptr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; server&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;requirepass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      c&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;authenticated &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;addReply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;shared&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ok&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      c&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;authenticated &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;addReplyError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;invalid password&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Making a secure connection to ElastiCache (Redis)]]></title><description><![CDATA[In Redis Security Investigation, I recommended enabling both Encryption in-transit and Redis Auth.  Below is an ElastiCache Redis server I…]]></description><link>https://kevinhakanson.com/2018-06-27-making-a-secure-connection-to-elasticache-redis/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-06-27-making-a-secure-connection-to-elasticache-redis/</guid><pubDate>Wed, 27 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In &lt;a href=&quot;../2018-06-22-redis-security-investigation&quot;&gt;Redis Security Investigation&lt;/a&gt;, I recommended enabling both Encryption in-transit and Redis Auth.  Below is an ElastiCache Redis server I created to test against.  Note that instead of port 6379, I specified 6380 (which seems to be the common Redis “SSL” port).&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0bace684c26c851bf3763ce568a6eeff/29114/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 38.513513513513516%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIUlEQVR42m1R127DMBDz/3+fUW/JtRTvleGRJ8a8VkYT9IEQpOOR1J1njMVXEEF/F2iaBlVVIU1TGGOglBJorRFFEfI8h8oVCmvkLUmS82S9rmt4ddNC2xaJLkSsbVt0XYd5nnG9XjGOI/q+l3d7mIcqhjK5GJZlicvlIkHIv9/v8EjOtTqgxYEECj0eDyFs2ybYt13O5pdDgWVZhLeu6w9n34+EB8FaKyS68s6ENCJcg4NwmhrTNGFZl7eaCLIpCALEcSxidGXBJfvbwJqbrwged8dzfd7z+URRFCJI8WEY3kQcmJQLCsNQlpNlmZxufmdCfpUJuSk2sPiZjLjdbpLO933ZLBfIlJyzG8s5Q6Yjien4+F9CmrCRQty8W8Lnl1/Kwllod5VMqgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Redis Cluster Information&quot;
        title=&quot;&quot;
        src=&quot;/static/0bace684c26c851bf3763ce568a6eeff/fcda8/pastedImage_2.png&quot;
        srcset=&quot;/static/0bace684c26c851bf3763ce568a6eeff/12f09/pastedImage_2.png 148w,
/static/0bace684c26c851bf3763ce568a6eeff/e4a3f/pastedImage_2.png 295w,
/static/0bace684c26c851bf3763ce568a6eeff/fcda8/pastedImage_2.png 590w,
/static/0bace684c26c851bf3763ce568a6eeff/efc66/pastedImage_2.png 885w,
/static/0bace684c26c851bf3763ce568a6eeff/c83ae/pastedImage_2.png 1180w,
/static/0bace684c26c851bf3763ce568a6eeff/29114/pastedImage_2.png 1920w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;However, the &lt;code class=&quot;language-text&quot;&gt;redis-cli&lt;/code&gt; doesn’t support encrypted connections so I had to install &lt;code class=&quot;language-text&quot;&gt;stunnel&lt;/code&gt; with help from &lt;a href=&quot;https://help.compose.com/docs/redis-and-redis-cli#section-using-redis-cli-with-ssltls&quot;&gt;Using redis-cli with SSL/TLS | Compose Help&lt;/a&gt; and &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/redis-cache/cache-how-to-redis-cli-tool&quot;&gt;How to use redis-cli with Azure Redis Cache | Microsoft Docs&lt;/a&gt; to create my &lt;code class=&quot;language-text&quot;&gt;stunnel.conf&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; /etc/stunnel/stunnel.conf
pid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; /run/stunnel-redis.pid

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;redis-cli&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;yes&lt;/span&gt;
accept &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;127.0&lt;/span&gt;.0.1:6379
connect &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; master.a204503-kjh-auth.jbfxlf.use1.cache.amazonaws.com:6380&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This allowed me to connect to localhost:6379 which would be an SSL proxy to the remote Redis server.  You can also see the connection is refused without the proper AUTH token.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ redis-cli &lt;span class=&quot;token parameter variable&quot;&gt;-h&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;127.0&lt;/span&gt;.0.1 &lt;span class=&quot;token parameter variable&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6379&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ping&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; NOAUTH Authentication required.

$ redis-cli &lt;span class=&quot;token parameter variable&quot;&gt;-h&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;127.0&lt;/span&gt;.0.1 &lt;span class=&quot;token parameter variable&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6379&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;REDACTED&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ping&lt;/span&gt;
PONG&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: [REDACTED] isn’t my real AUTH token. See &lt;a href=&quot;../2018-06-27-selecting-an-elasticache-redis-auth-token&quot;&gt;Selecting an ElastiCache (Redis) AUTH token&lt;/a&gt; for recommendations on this topic.&lt;/p&gt;
&lt;p&gt;To show this is the server from the screenshot above, here are some select lines from the &lt;code class=&quot;language-text&quot;&gt;info&lt;/code&gt; command:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ redis-cli &lt;span class=&quot;token parameter variable&quot;&gt;-h&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;127.0&lt;/span&gt;.0.1 &lt;span class=&quot;token parameter variable&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6379&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;REDACTED&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; info
&lt;span class=&quot;token comment&quot;&gt;# Server&lt;/span&gt;
redis_version:4.0.10
redis_mode:standalone
os:Amazon ElastiCache
tcp_port:6380

&lt;span class=&quot;token comment&quot;&gt;# SSL&lt;/span&gt;
ssl_enabled:yes&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://help.compose.com/docs/redis-and-python&quot;&gt;Redis and Python | Compose Help&lt;/a&gt; provided me with sample Python code I also tested with.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; redis

&lt;span class=&quot;token comment&quot;&gt;# connection string and initialization&lt;/span&gt;
r &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; redis&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;StrictRedis&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    host&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;master.a204503-kjh-auth.jbfxlf.use1.cache.amazonaws.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    port&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6380&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    password&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;[REDACTED]&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    ssl&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;#test the connection&lt;/span&gt;
value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For Java users, Jedis can use the &lt;a href=&quot;https://www.iana.org/assignments/uri-schemes/prov/rediss&quot;&gt;rediss&lt;/a&gt; scheme to connect. Sample code derived from &lt;a href=&quot;https://github.com/xetorthio/jedis/blob/master/src/test/java/redis/clients/jedis/tests/SSLJedisTest.java&quot;&gt;jedis/SSLJedisTest.java&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connectWithUrl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// The &quot;rediss&quot; scheme instructs jedis to open a SSL/TLS connection.&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;Jedis&lt;/span&gt; jedis &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Jedis&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;rediss://master.a204503-kjh-auth.jbfxlf.use1.cache.amazonaws.com:6380&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    jedis&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;auth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;[REDACTED]&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;assertEquals&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;PONG&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jedis&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    jedis&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For C# users, set &lt;a href=&quot;https://stackexchange.github.io/StackExchange.Redis/Configuration.html&quot;&gt;StackExchange.Redis&lt;/a&gt; ConfigurationOptions this way:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;csharp&quot;&gt;&lt;pre class=&quot;language-csharp&quot;&gt;&lt;code class=&quot;language-csharp&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt;&lt;/span&gt; options &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token constructor-invocation class-name&quot;&gt;ConfigurationOptions&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Endpoint &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;master.a204503-kjh-auth.jbfxlf.use1.cache.amazonaws.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Endpoints without an explicit port will use 6379 if ssl is not enabled, and 6380 if ssl is enabled&lt;/span&gt;
    Password &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[Redacted]&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    Ssl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; True
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Redis Security Investigation]]></title><description><![CDATA[The Securing Redis section from the Redis Quick Start stresses applying network level security (firewalls), the  option (AUTH command), and…]]></description><link>https://kevinhakanson.com/2018-06-22-redis-security-investigation/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-06-22-redis-security-investigation/</guid><pubDate>Fri, 22 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The Securing Redis section from the &lt;a href=&quot;https://redis.io/topics/quickstart#securing-redis&quot;&gt;Redis Quick Start&lt;/a&gt; stresses applying network level security (firewalls), the &lt;code class=&quot;language-text&quot;&gt;requirepass&lt;/code&gt; option (&lt;a href=&quot;https://redis.io/commands/auth&quot;&gt;AUTH&lt;/a&gt; command), and SSL tunneling.  Additional details can be found by reading &lt;a href=&quot;http://antirez.com/news/96&quot;&gt;A few things about Redis security&lt;/a&gt; and &lt;a href=&quot;https://redis.io/topics/security&quot;&gt;Redis Security – Redis&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Amazon VPC Security Groups and the ElastiCache Subnet Groups provide network security.  For data security, Amazon ElastiCache for Redis supports each of In-Transit Encryption (TLS), At-Rest Encryption, and AUTH for clusters running Redis version 3.2.6.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/blogs/security/amazon-elasticache-now-supports-encryption-for-elasticache-for-redis/&quot;&gt;Now You Can Use Amazon ElastiCache for Redis with In-Transit and At-Rest Encryption to Help Protect Sensitive Information&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/blogs/opensource/open-sourcing-encryption-in-transit-redis/&quot;&gt;Open Sourcing Encryption in Transit for Redis | AWS Open Source Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/encryption.html&quot;&gt;Data Security - Amazon ElastiCache for Redis&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://redislabs.com/lp/redis-java/&quot;&gt;Redis Java&lt;/a&gt; lists both &lt;a href=&quot;https://github.com/mp911de/lettuce/&quot;&gt;Lettuce&lt;/a&gt; and &lt;a href=&quot;https://github.com/xetorthio/jedis&quot;&gt;Jedis&lt;/a&gt; as Java clients that support SSL connections.&lt;/p&gt;
&lt;p&gt;Note: The &lt;a href=&quot;https://redis.io/topics/rediscli&quot;&gt;redis-cli&lt;/a&gt; supports the AUTH command (with the &lt;code class=&quot;language-text&quot;&gt;-a password&lt;/code&gt; parameter) but might not support SSL without &lt;a href=&quot;http://www.tarsnap.com/spiped.html&quot;&gt;spiped&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Recommendations:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Enable all ElastiCache Data Security Features (TLS, At-Rest, AUTH)&lt;/li&gt;
&lt;li&gt;Disable backups/snapshots for transient data&lt;/li&gt;
&lt;li&gt;Store AUTH token similar to other secrets (e.g. database passwords)&lt;/li&gt;
&lt;li&gt;Lockdown network access via VPC security groups to specific services requiring access&lt;/li&gt;
&lt;li&gt;Require a bastion service with audit logging (don’t circumvent network security with routing backdoors)&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Side-channel attacking browsers through CSS3 features]]></title><description><![CDATA[Some people don’t like CSS because it’s not a “real” programing language like JavaScript; other people use CSS to exfiltrate data. Side…]]></description><link>https://kevinhakanson.com/2018-06-02-side-channel-attacking-browsers-through-css3-features/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-06-02-side-channel-attacking-browsers-through-css3-features/</guid><pubDate>Sat, 02 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Some people don’t like CSS because it’s not a “real” programing language like JavaScript; other people use CSS to exfiltrate data.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.evonide.com/side-channel-attacking-browsers-through-css3-features/&quot;&gt;Side-channel attacking browsers through CSS3 features | Security Research - Evonide&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;We (co-)discovered a side-channel vulnerability in browser implementations of the CSS3 feature “mix-blend-mode” which allowed to leak visual content from cross-origin iframes.&lt;/li&gt;
&lt;li&gt;We demonstrate the impact of this vulnerability by showing how visiting a malicious site was enough to de-anonymize Facebook users. In particular, exploitation allowed to leak the profile picture, username and likes of unsuspecting visitors all while requiring no additional user interaction.&lt;/li&gt;
&lt;li&gt;This vulnerability affected major browsers like Chrome and Firefox and was disclosed responsibly.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/aa5abb21a8bfe41222e7dbda56d69d9c/fbf08/mix_blend_mode_side_channel.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9UlEQVR42nVTP2wScRj9ccdxQNtrgOOfkiBXJAqUsGGCIDoY7GRiO4hbDQwWHMCFEJEYCUxMJoZ0oAmbSzUxRsOgQ5Mqkbi4EgcWEhYW4/jM72sPtSnDy5d39/K+7333HbNarTAajQTG2AIGg4Gq2WyG3++HIAikURQFiUQC6XQaqVQKmUwGHo+HtF6vF0yWZSLBYBCNRgP1eh3NZhOFQgG+iz5UKhUcHPSwu/sQDoeDUKvV0G63CZ1OB9FolDycTicYn4CTbDaL2WyG8XiM6XSKwWCA7Z27ODr+jC9fh3j/8Q2uXA2Rlk97XhrejJlMJiK88mjJZBKbmzHYHQouua/h2eNDHPaPUNjZh23VtzDkJjr0BmQoSdKik8ViQSQSgaYFiF+PevFi6wGe3niO+tYdbPgUei6d7lwURaq6oaqq/xvybjabDWvKKvGb9914/V3D2w8B7B9r0GLrJzqBLY/8r6EOURDBDAzbl+/hV+cHfn96h59PviHmiWFlfQV7j/ZQLpdRLBZRrVYRCoX+fpSzhrQXdrIbbnrrwm28TLxCYC10GldCq9VCr9dDt9tFv99HPB5fbrgMeizZJGM4HGIymWA0GmE+n9OF8HculwuMH6Xdbl/c2FmoDhVup5vEfAJec7kcxc3n8yiVSgiHw+A/CI/+B5qcMvXBJVOjAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Mix Blend Mode Side Channel&quot;
        title=&quot;&quot;
        src=&quot;/static/aa5abb21a8bfe41222e7dbda56d69d9c/fcda8/mix_blend_mode_side_channel.png&quot;
        srcset=&quot;/static/aa5abb21a8bfe41222e7dbda56d69d9c/12f09/mix_blend_mode_side_channel.png 148w,
/static/aa5abb21a8bfe41222e7dbda56d69d9c/e4a3f/mix_blend_mode_side_channel.png 295w,
/static/aa5abb21a8bfe41222e7dbda56d69d9c/fcda8/mix_blend_mode_side_channel.png 590w,
/static/aa5abb21a8bfe41222e7dbda56d69d9c/efc66/mix_blend_mode_side_channel.png 885w,
/static/aa5abb21a8bfe41222e7dbda56d69d9c/fbf08/mix_blend_mode_side_channel.png 962w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Categorizing Backlog Items using the OWASP SAMM Security Practices]]></title><description><![CDATA[Recently I started leading a virtual team of software engineers we called the “security guild.”  Our job was to work with application teams…]]></description><link>https://kevinhakanson.com/2018-05-15-categorizing-backlog-items-using-the-owasp-samm-security-practices/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-05-15-categorizing-backlog-items-using-the-owasp-samm-security-practices/</guid><pubDate>Tue, 15 May 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Recently I started leading a virtual team of software engineers we called the “security guild.”  Our job was to work with application teams to improve our security posture, not by writing policy documents, but by writing code and pairing with those teams releasing software to customers.  As I was hydrating the backlog for this group, I used the Security Practices of the OWASP Software Assurance Maturity Model (OWASP SAMM) as a categorization tool.  I liked this because it was both an established model, and could set up teams for future SAMM Assessments.&lt;/p&gt;
&lt;p&gt;The diagram and descriptions below come from the &lt;a href=&quot;https://www.owasp.org/index.php/OWASP_SAMM_Project#tab=Browse_Online&quot;&gt;OWASP SAMM Project&lt;/a&gt; website.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4ab15ca141e6ea7785c4aca457f6e2cc/37523/720px-SAMM-Overview.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.08108108108108%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgElEQVR42hWQbXfZcABH8/2/wtqdzWHVqk3bbQ6KiZKHkSH+SBoij0Qk7fEF7tKXvzf3/O6VzKVgs7FIDgfS5Mj5lBCGIV50JH27oE1mXH8pU6lUKX0uE3ohWZIRBhHBMeGQ5cTnjDg9s/d8pCzPsfYB3+W/PL5MqPUUVjuf138KauuB/sMdvUYNQ8y5at7Q0Lvca22E7+AoGkr9B/rjE0arzdv7O9LlcsHyY0rPKuXOiE+/Bix3AbbSRa6XUJ5umfd+451CKvpPbtQmV3KdmW9jP/9B/lpiXLxXqrd8sCR7u6Np2AyES5BdGK/3dFcBwSnnuFGJxIg0OzFa9dGXHZLzntlaLnaLKE8IlBnuQCVNsyJThOSHEXPHp29u6YsCtthimALXVHH0DrbWwZ0PWRfw4aKLsuoyEj2m0yHOWMNqF0bNHs5AwVvZSB8hD2HAwo2oj00m25jUFViFViB0YnuG6Nc4WCZWuKap3mF6BtHylcm3BvZQYz9ZYFQbuOqU/1D5m+fEM2yNAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;OWASP SAMM Model&quot;
        title=&quot;&quot;
        src=&quot;/static/4ab15ca141e6ea7785c4aca457f6e2cc/fcda8/720px-SAMM-Overview.png&quot;
        srcset=&quot;/static/4ab15ca141e6ea7785c4aca457f6e2cc/12f09/720px-SAMM-Overview.png 148w,
/static/4ab15ca141e6ea7785c4aca457f6e2cc/e4a3f/720px-SAMM-Overview.png 295w,
/static/4ab15ca141e6ea7785c4aca457f6e2cc/fcda8/720px-SAMM-Overview.png 590w,
/static/4ab15ca141e6ea7785c4aca457f6e2cc/37523/720px-SAMM-Overview.png 720w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.owasp.org/index.php/SAMM_-_Governance&quot;&gt;Governance&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;strong&gt;Strategy &amp;#x26; Metrics&lt;/strong&gt; (SM) Practice is focused on establishing the framework within an organization for a software security assurance program.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Policy &amp;#x26; Compliance&lt;/strong&gt; (PC) Practice is focused on understanding and meeting external legal and regulatory requirements while also driving internal security standards to ensure compliance in a way that’s aligned with the business purpose of the organization.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Education &amp;#x26; Guidance&lt;/strong&gt; (EG) Practice is focused on arming personnel involved in the software life-cycle with knowledge and resources to design, develop, and deploy secure software.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.owasp.org/index.php/SAMM_-_Construction&quot;&gt;Construction&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;strong&gt;Threat Assessment&lt;/strong&gt; (TA) Practice is centered on identification and understanding the project-level risks based on the functionality of the software being developed and characteristics of the runtime environment.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Security Requirements&lt;/strong&gt; (SR) Practice is focused on proactively specifying the expected behavior of software with respect to security.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Secure Architecture&lt;/strong&gt; (SA) Practice is focused on proactive steps for an organization to design and build secure software by default.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.owasp.org/index.php/SAMM_-_Verification&quot;&gt;Verification&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;strong&gt;Design Review&lt;/strong&gt; (DR) Practice is focused on assessment of software design and architecture for security-related problems.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Code Review&lt;/strong&gt; (CR) Practice is focused on inspection of software at the source code level in order to find security vulnerabilities.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Security Testing&lt;/strong&gt; (ST) Practice is focused on inspection of software in the runtime environment in order to find security problems.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.owasp.org/index.php/SAMM_-_Deployment&quot;&gt;Deployment&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;strong&gt;Vulnerability Management&lt;/strong&gt; (VM) Practice is focused on the processes within an organization with respect to handling vulnerability reports and operational incidents&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Environment Hardening&lt;/strong&gt; (EH) Practice is focused on building assurance for the runtime environment that hosts the organization’s software.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;Operational Enablement&lt;/strong&gt; (OE) Practice is focused on gathering security critical information from the project teams building software and communicating it to the users and operators of the software.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;One of the first work items created and assigned to everyone on the team was “Review OWASP SAMM Concepts” which I categorized as “Governance -&gt; Education &amp;#x26; Guidance.”  One of the first things I learned was that “Deployment” was transitioning to be called “Operations” and that OWASP SAMM was previously referred to as &lt;a href=&quot;http://www.opensamm.org/&quot;&gt;OpenSAMM&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Other than the item above, we didn’t want to focus on an “Governance” practices.  Many of our early ideas fell under the “Deployment -&gt; Environment Hardening” (e.g. NGINX Security Lockdown) or the “Verification -&gt; Security Testing” (e.g. Automate “Observatory by Mozilla” Scans) categories.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Content-Security-Policy HTTP Header Braindump]]></title><description><![CDATA[From Content Security Policy (CSP) - HTTP | MDN Content Security Policy (CSP) is an added layer of security that helps to detect and…]]></description><link>https://kevinhakanson.com/2018-04-27-content-security-policy-http-header-braindump/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-04-27-content-security-policy-http-header-braindump/</guid><pubDate>Fri, 27 Apr 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;From &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP&quot;&gt;Content Security Policy (CSP) - HTTP | MDN&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Content Security Policy&lt;/strong&gt; (&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Glossary/CSP&quot;&gt;CSP&lt;/a&gt;) is an added layer of security that helps to detect and mitigate certain types of attacks, including Cross Site Scripting (&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Glossary/XSS&quot;&gt;XSS&lt;/a&gt;) and data injection attacks&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;From &lt;a href=&quot;https://developers.google.com/web/fundamentals/security/csp/&quot;&gt;Content Security Policy  |  Web Fundamentals  |  Google Developers&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This overview highlights a defense that can significantly reduce the risk and impact of XSS attacks in modern browsers: Content Security Policy (CSP).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;From &lt;a href=&quot;https://docs.microsoft.com/en-us/microsoft-edge/dev-guide/security/content-security-policy&quot;&gt;Dev guide - Content Security Policy - Microsoft Edge Development | Microsoft Docs&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The CSP security standard enables web developers to control the resources (script, CSS, plugins, images, etc.) which a particular page can fetch or execute with the aim of preventing cross-site scripting (XSS), clickjacking, and other code injection attacks seeking to execute malicious content in the context of a trusted web page.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;From &lt;a href=&quot;https://www.owasp.org/images/7/72/OWASP_Top_10-2017_%28en%29.pdf.pdf&quot;&gt;OWASP Top 10 - 2017&lt;/a&gt; A7 Cross-Site Scripting (XSS)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Enabling a Content Security Policy (CSP) is a defense-in-depth mitigating control against XSS.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This can be controlled via the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy&quot;&gt;Content-Security-Policy&lt;/a&gt; HTTP Header.  The &lt;a href=&quot;https://scotthelme.co.uk/csp-cheat-sheet/&quot;&gt;CSP Cheat Sheet&lt;/a&gt; “is a concise overview of all supported features and directives” and “can be used as a quick reference guide” because of the many examples and external links.  CSP is supported at various levels in all major browsers (see &lt;a href=&quot;https://caniuse.com/#search=Content%20Security%20Policy&quot;&gt;https://caniuse.com/#search=Content%20Security%20Policy&lt;/a&gt;).  Twitter even sends different policies to different browsers (see &lt;a href=&quot;https://github.com/twitter/secureheaders/blob/master/lib/secure_headers/headers/policy_management.rb&quot;&gt;secureheaders/policy_management.rb at master · twitter/secureheaders · GitHub&lt;/a&gt; ), but they could do even better (see &lt;a href=&quot;https://scotthelme.co.uk/optimising-twitters-csp-header/&quot;&gt;Optimising Twitter’s CSP header&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Some articles for getting started:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://security.googleblog.com/2016/09/reshaping-web-defenses-with-strict.html&quot;&gt;Google Online Security Blog: Reshaping web defenses with strict Content Security Policy&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://csp.withgoogle.com/docs/index.html&quot;&gt;Introduction - Content Security Policy&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.troyhunt.com/my-blog-now-has-a-content-security-policy-heres-how-ive-done-it/&quot;&gt;My Blog Now Has a Content Security Policy - Here’s How I’ve Done It&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.4armed.com/blog/how-to-create-content-security-policy/&quot;&gt;A proper Content Security Policy Generator | 4ARMED&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.codeship.com/how-to-get-started-with-a-content-security-policy/&quot;&gt;How to Get Started with a Content Security Policy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://gosecure.net/2017/07/20/building-a-content-security-policy-configuration-with-csp-auditor/&quot;&gt;Building a Content Security Policy configuration with CSP Auditor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://githubengineering.com/githubs-post-csp-journey/&quot;&gt;GitHub’s post-CSP journey | GitHub Engineering&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://speakerdeck.com/mikispag/making-csp-great-again-michele-spagnuolo-and-lukas-weichselbaum&quot;&gt;Making CSP great again! - Michele Spagnuolo and Lukas Weichselbaum // Speaker Deck&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.safaribooksonline.com/learning-paths/learning-path-modern/9781492035817/9781491985298-video311488&quot;&gt;Learning Path: Modern Web Pillars—Security [Learning Path]&lt;/a&gt; (Safari Online Video)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The HTTP &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only&quot;&gt;Content-Security-Policy-Report-Only&lt;/a&gt; response header allows web developers to experiment with policies by monitoring (but not enforcing) their effects.  Several tools leverage this browser reporting to help developers create policies:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fiddler:  &lt;a href=&quot;https://github.com/david-risney/CSP-Fiddler-Extension&quot;&gt;GitHub - david-risney/CSP-Fiddler-Extension: Content Security Policy rule collector extension for Fiddler&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;OWASP ZAP:  &lt;a href=&quot;https://github.com/GoSecure/csp-auditor&quot;&gt;GitHub - GoSecure/csp-auditor: Burp and ZAP plugin to analyse Content-Security-Policy headers or generate template CSP c…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Chrome: &lt;a href=&quot;https://github.com/4ARMED/csp-generator-extension&quot;&gt;GitHub - 4ARMED/csp-generator-extension: Google Chrome Extension for interacting with 4ARMED’s Content Security Policy G…&lt;/a&gt;  along with &lt;a href=&quot;https://github.com/4ARMED/csp-backend&quot;&gt;GitHub - 4ARMED/csp-backend: Sinatra app that accepts CSP violation reports and generates policies based on them.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Report URI CSP Wizard:  &lt;a href=&quot;https://scotthelme.co.uk/report-uri-csp-wizard/&quot;&gt;https://scotthelme.co.uk/report-uri-csp-wizard/&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Other tools:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Report URI: &lt;a href=&quot;https://report-uri.com/home/tools&quot;&gt;https://report-uri.com/home/tools&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Firefox: &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Tools/GCLI/Display_security_and_privacy_policies&quot;&gt;Display security and privacy policies - Firefox Developer Tools | MDN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Google: &lt;a href=&quot;https://csp-evaluator.withgoogle.com/&quot;&gt;CSP Evaluator&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/nico3333fr/CSP-useful&quot;&gt;GitHub - nico3333fr/CSP-useful: Collection of scripts, thoughts about CSP (Content Security Policy)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Since an invalid or incorrect policy will break the web applications, testing is important.  A good strategy is to start with a basic policy (like this one which forces all content to use HTTPS) and build it out to be even more secure.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Content-Security-Policy: default-src https:; form-action https:; connect-src https: wss:; upgrade-insecure-requests&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.dareboost.com/en/2016/08/how-to-implement-content-security-policy/&quot;&gt;How to implement Content Security Policy? | DareBoost Blog&lt;/a&gt;  comments “that it is possible to use both Content-Security-Policy and Content-Security-Policy-Report-Only headers” which would allow for a basic policy to be in place and an experimental policy to be reported on, either in a lower environment or as part of a testing suite.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Secrets Management]]></title><description><![CDATA[I recently listened to Software Engineering Radio Episode 311: Armon Dadgar on Secrets Management from December 5, 2017 The show covers…]]></description><link>https://kevinhakanson.com/2018-04-10-secrets-management/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-04-10-secrets-management/</guid><pubDate>Tue, 10 Apr 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I recently listened to Software Engineering Radio &lt;a href=&quot;http://www.se-radio.net/2017/12/se-radio-episode-311-armon-dadgar-on-secrets-management/&quot;&gt;Episode 311: Armon Dadgar on Secrets Management&lt;/a&gt; from December 5, 2017&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The show covers: what a secret is; the difference between secrets and sensitive data; what is secrets management; the different types of secrets; key management; auditing of secrets; implementing secrets management.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It answered simple questions like, “what is a secret?”&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;anything that can be used to authenticate or authorize / grants access or elevates access to a system&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;username/password&lt;/li&gt;
&lt;li&gt;api token&lt;/li&gt;
&lt;li&gt;TLS/SSL certificate&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Later they posed questions about secrets management:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;How are we distributing that secret to application?&lt;/li&gt;
&lt;li&gt;How do I update that secret?&lt;/li&gt;
&lt;li&gt;In case of a breach, how do we revoke, update, react?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;An interesting discussion was the “sharing of secrets over space and time.”  In many systems, each server gets a copy of the same secret, which isn’t rotated often (or ever).  This makes it much harder to track down the source of a breach.  However, if each server got a unique, short-lived secret, then auditing becomes easier.  HashiCorp Vault even has the concept of &lt;a href=&quot;https://www.vaultproject.io/intro/getting-started/dynamic-secrets.html&quot;&gt;Dynamic Secrets&lt;/a&gt;, which are generated when they are accessed.&lt;/p&gt;
&lt;p&gt;Toward the end, some additional questions were asked regarding implementing a secrets management system.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;What are all of our secrets and where are they?&lt;/li&gt;
&lt;li&gt;Which applications and people should have access to secrets?&lt;/li&gt;
&lt;li&gt;What is the simplest path of getting all secrets to one place?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Database Credential Rotation in PostgreSQL]]></title><description><![CDATA[I recently read Rotate Amazon RDS database credentials automatically with AWS Secrets Manager and learned… Secrets Manager offers built-in…]]></description><link>https://kevinhakanson.com/2018-04-09-database-credential-rotation-in-postgresql/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-04-09-database-credential-rotation-in-postgresql/</guid><pubDate>Mon, 09 Apr 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I recently read &lt;a href=&quot;https://aws.amazon.com/blogs/security/rotate-amazon-rds-database-credentials-automatically-with-aws-secrets-manager/&quot;&gt;Rotate Amazon RDS database credentials automatically with AWS Secrets Manager&lt;/a&gt; and learned…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Secrets Manager offers built-in integrations for MySQL, PostgreSQL, and Amazon Aurora on Amazon RDS, and can rotate credentials for these databases natively.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;From listening to &lt;a href=&quot;http://www.se-radio.net/2017/12/se-radio-episode-311-armon-dadgar-on-secrets-management/&quot;&gt;SE-Radio Episode 311: Armon Dadgar on Secrets Management&lt;/a&gt;, I understood that the “ideal” state being each instance gets their own credentials and that tools like &lt;a href=&quot;https://www.hashicorp.com/products/vault/&quot;&gt;HashiCorp Vault&lt;/a&gt; support this unique credentials feature as well as lease and expiration times.&lt;/p&gt;
&lt;p&gt;In &lt;a href=&quot;../2017-06-26-encrypted-properties-and-aws-iam-roles&quot;&gt;Encrypted Properties and AWS IAM Roles&lt;/a&gt;, I wrote about storing encrypted database passwords in a Config Server, from where the application microservices could read (and decrypt) the password after the DBA (encrypts and) sets it.  The automatic credential rotation above means that even the DBA doesn’t know the password.&lt;/p&gt;
&lt;p&gt;I was wondering if that would work for one of my application teams using RDS PostgreSQL.  I reached out to the DBA, who had been wanting automated password rotation in place for a while.  However, some of the microservices were “optimized” to access the Config Server during startup.  This meant that if the password were changed, that service would be broken until a restart.&lt;/p&gt;
&lt;p&gt;Not being a PostgreSQL security expert, I wondered if there were concepts of users and roles.  In researching how to solve this problem, I found &lt;a href=&quot;http://davidhollenberger.com/2017/03/16/postgres-credential-rotation/&quot;&gt;Postgres Credential Rotation&lt;/a&gt; presented a possible solution.  Here is a snippet from that article:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;create&lt;/span&gt; role foo nologin&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;create&lt;/span&gt; role foo_a &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; encrypted password &lt;span class=&quot;token string&quot;&gt;&apos;md5...&apos;&lt;/span&gt; login&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;create&lt;/span&gt; role foo_b &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; encrypted password &lt;span class=&quot;token string&quot;&gt;&apos;md5...&apos;&lt;/span&gt; nologin&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;grant&lt;/span&gt; foo &lt;span class=&quot;token keyword&quot;&gt;to&lt;/span&gt; foo_a&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;grant&lt;/span&gt; foo &lt;span class=&quot;token keyword&quot;&gt;to&lt;/span&gt; foo_b&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This gets us most of the way to a seamless credential rotation. The issue I ran into next was any new objects created by foo_a or foo_b users were owned by foo_a and foo_b respectively. To ensure all objects created by foo_a and foo_b are owned by the group user foo we need to override their default role.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;alter&lt;/span&gt; role foo_a &lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt; role foo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;alter&lt;/span&gt; role foo_b &lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt; role foo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;The DBA agreed this model was workable as we already implemented the user and role pattern (albeit with a single user).  Adding additional users would require some modification to utility scripts but would work.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS Options for Blocking IP Addresses]]></title><description><![CDATA[While diving into BIG-IP iRules code researching HTTP to HTTPS Redirection, I ran across this snippet: Reaching out to one of the DevOps…]]></description><link>https://kevinhakanson.com/2018-03-20-aws-options-for-blocking-ip-addresses/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-03-20-aws-options-for-blocking-ip-addresses/</guid><pubDate>Tue, 20 Mar 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;While diving into BIG-IP iRules code researching &lt;a href=&quot;../2018-03-13-http-to-https-redirection&quot;&gt;HTTP to HTTPS Redirection&lt;/a&gt;, I ran across this snippet:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tcl&quot;&gt;&lt;pre class=&quot;language-tcl&quot;&gt;&lt;code class=&quot;language-tcl&quot;&gt;ltm rule APPX_BLOCK &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    when CLIENT_ACCEPTED &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token builtin&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;matchclass &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;IP::remote_addr&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;eq&lt;/span&gt; APPX_BLOCK_IPs&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            reject
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Reaching out to one of the DevOps team to learn more, he directed me to a process document on how to block IP address in our data center.  That caused me to consider what the AWS solution to this problem look like?  Below are a couple of options.&lt;/p&gt;
&lt;h2&gt;Static Blocking&lt;/h2&gt;
&lt;p&gt;If you wanted to mimic the legacy process, you could used a Security Group and DENY access to those IPs.  However, according to &lt;a href=&quot;https://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Appendix_Limits.html#vpc-limits-security-groups&quot;&gt;Amazon VPC Limits&lt;/a&gt;, the “Inbound or outbound rules per security group” limit is 50.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You can have 50 inbound and 50 outbound rules per security group (giving a total of 100 combined inbound and outbound rules). To increase or decrease this limit, contact AWS Support — a limit change applies to both inbound and outbound rules. However, the limit for inbound or outbound rules per security group multiplied by the limit for security groups per network interface cannot exceed 250. For example, if you want to increase the limit to 100, we decrease your number of security groups per network interface to 2.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Combining the low IP limit with the fact that modern hackers change IP addresses frequently, a static option isn’t very attractive.&lt;/p&gt;
&lt;h2&gt;Dynamic Blocking&lt;/h2&gt;
&lt;p&gt;An internal project has published some WAF templates that include rules which block requests from IP addresses on third-party reputation lists:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This lambda function checks third-party IP reputation lists hourly for new IP ranges to block. These lists include the Spamhaus Dont Route Or Peer (DROP) and Extended Drop (EDROP) lists, the Proofpoint Emerging Threats IP list, and the Tor exit node list.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This dynamically catches threats, but not necessary the IPs attacking our products.&lt;/p&gt;
&lt;h2&gt;Custom Dynamic Blocking&lt;/h2&gt;
&lt;p&gt;Amazon publishes solutions where Lambda functions monitor logs and automatically update AWS WAF rules.  One such solution is &lt;a href=&quot;https://docs.aws.amazon.com/waf/latest/developerguide/tutorials-4xx-blocking.html&quot;&gt;Tutorial: Blocking IP Addresses That Submit Bad Requests&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ad8b712c01931112e6e5dad9b147e0a4/0f2bc/pastedImage_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 57.432432432432435%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACUElEQVR42mVTS2tTQRTOv3HvP9CVS8GFP0C6EcStG1E3UnSnSFGQUqhu6hMkKNa2Ik3S1Lyb3PfNbZOmTWzSe3Pfz89z5zZtxIHDzJmZ853vO2cmBxpJkmB+JHGczVGEdGVsfIV26waSwM8unJ2nI4oTzIfndMNAvdGE47g4Bz+7EQQB/DDEab8HdXMd8ewsidk8w/kH0DQt7O214XkewpQRma+fssOQwMIwIgtgWXoGQNGx75wDjHQXbnDBODccjsALPCbjMQs4rFdQe3QPVv8AQRzBDYmJWkKUf8wC/rS20X14BTgR0T3Wcfnue7z+2csqQclylmXBNKaIiIVvmlB+l9F5/hT28BgeSfaCCIbawOH6Cks46uxAXrwOjBUcnkxx7f5nrO0MLgALxRJeLL2E2Olg/9MHDAYDGLrJ5Pu+D59KYXgBBnZWEo9KoPvZnKQKbAcB3Zs1Njc9OsJ+rQZnMmEd7fd6qDbL6HY1CJREUlR0t35AXV6CKstQJAFK8Rs0iYeiaihUvqPDtzCdmhngiKT1NQ2nkzHbKJR/4cGrBfBSGyLHoyXJEN4sQ1q4CVGQUf2yivrtS5RkDY16G3eeXEV+ewWOmT2pXEo11T6jXKnvYvndM7SFJmOpqiqqpGBzYwOSrICr7aKyuohuaxc8L+LtxyVsFfNwqCQMcP5Bh1GI3kGPpErgOjw4jqMgHvVKBeVSifmcIKIlapApmaIo0NQ+7fMQtdb/gGkb0/doOzZs+8Jc8j3XpbVDZjHfJd9xqSH0e4ajI9T2Suwj/AX4dypBZjycIwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Blocking IP Addresses That Submit Bad Requests&quot;
        title=&quot;&quot;
        src=&quot;/static/ad8b712c01931112e6e5dad9b147e0a4/fcda8/pastedImage_1.png&quot;
        srcset=&quot;/static/ad8b712c01931112e6e5dad9b147e0a4/12f09/pastedImage_1.png 148w,
/static/ad8b712c01931112e6e5dad9b147e0a4/e4a3f/pastedImage_1.png 295w,
/static/ad8b712c01931112e6e5dad9b147e0a4/fcda8/pastedImage_1.png 590w,
/static/ad8b712c01931112e6e5dad9b147e0a4/0f2bc/pastedImage_1.png 742w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This type of solution is the most compelling, because it reacts to malicious traffic explicitly directed at our products.  It is also the most complex.&lt;/p&gt;
&lt;p&gt;More research is needed, so another item for the backlog.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Amazon Load Balancers: X-Forwarded Headers and Proxy Protocol Support]]></title><description><![CDATA[Amazon has multiple Elastic Load Balancing products: Application Load Balancer is best suited for load balancing of HTTP and HTTPS traffic…]]></description><link>https://kevinhakanson.com/2018-03-15-amazon-load-balancers-x-forwarded-headers-and-proxy-protocol-support/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-03-15-amazon-load-balancers-x-forwarded-headers-and-proxy-protocol-support/</guid><pubDate>Thu, 15 Mar 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Amazon has multiple &lt;a href=&quot;https://aws.amazon.com/elasticloadbalancing/&quot;&gt;Elastic Load Balancing&lt;/a&gt; products:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Application Load Balancer is best suited for load balancing of HTTP and HTTPS traffic and operates at the individual request level (Layer 7).&lt;/li&gt;
&lt;li&gt;Network Load Balancer is best suited for load balancing of TCP traffic and operates at the connection level (Layer 4).&lt;/li&gt;
&lt;li&gt;Classic Load Balancer is intended for applications that were built within the EC2-Classic network and operates at either Layer 7 or Layer 4.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Because load balancers intercept traffic between clients and servers, your server sees the IP address of the load balancer.  However, protocols exist to help your service identify the IP address of a client:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Layer 7 uses &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Forwarded&quot;&gt;Forwarded&lt;/a&gt; HTTP header(s)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The &lt;strong&gt;Forwarded&lt;/strong&gt; header contains information from the client-facing side of proxy servers that is altered or lost when a proxy is involved in the path of the request.&lt;/p&gt;
&lt;p&gt;The alternative and de-facto standard versions of this header are the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For&quot;&gt;X-Forwarded-For&lt;/a&gt;, &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-Host&quot;&gt;X-Forwarded-Host&lt;/a&gt; and &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-Proto&quot;&gt;X-Forwarded-Proto&lt;/a&gt; headers.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Layer 4 uses the &lt;a href=&quot;https://www.haproxy.org/download/1.8/doc/proxy-protocol.txt&quot;&gt;PROXY protocol&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The PROXY protocol provides a convenient way to safely transport connection information such as a client’s address across multiple layers of NAT or TCP proxies. It is designed to require little changes to existing components and to limit the performance impact caused by the processing of the transported information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Because AWS Classic Load Balancers operate at either Layer 7 or Layer 4, they support the both the X-Forwarded headers and the Proxy Protocol:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/x-forwarded-headers.html&quot;&gt;HTTP Headers and Classic Load Balancers - Elastic Load Balancing&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/enable-proxy-protocol.html&quot;&gt;Configure Proxy Protocol Support for Your Classic Load Balancer - Elastic Load Balancing&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AWS Network Load Balancers operate at Layer 4 and support the Proxy Protocol.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/elasticloadbalancing/latest/network/load-balancer-target-groups.html#proxy-protocol&quot;&gt;Target Groups for Your Network Load Balancers - Elastic Load Balancing&lt;/a&gt;&lt;br&gt;
Network Load Balancers use Proxy Protocol version 2 to send additional connection information such as the source and destination. Proxy Protocol version 2 provides a binary encoding of the Proxy Protocol header.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;AWS Application Load Balancers operate on Layer 7 and support the X-Forwarded headers.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/elasticloadbalancing/latest/userguide/how-elastic-load-balancing-works.html&quot;&gt;How Elastic Load Balancing Works - Elastic Load Balancing&lt;/a&gt;&lt;br&gt;
Application Load Balancers and Classic Load Balancers support X-Forwarded-For, X-Forwarded-Proto, and X-Forwarded-Port headers.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Additional Resources:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/premiumsupport/knowledge-center/log-client-ip-load-balancer-apache/&quot;&gt;Log the Public IP Addresses of a Client Behind a Load Balancer When Using Apache&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://tools.ietf.org/html/rfc7239&quot;&gt;RFC 7239 - Forwarded HTTP Extension&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.nginx.com/nginx/admin-guide/load-balancer/using-proxy-protocol/&quot;&gt;NGINX Docs | Configuring NGINX to Accept the PROXY Protocol&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://roadrunner2.github.io/mod-proxy-protocol/mod_proxy_protocol.html&quot;&gt;mod_proxy_protocol - Apache HTTP Server Version 2.4&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[HTTP to HTTPS Redirection Investigation]]></title><description><![CDATA[The recent efforts related to Google and Mozilla are Deprecating Existing Symantec Certificates had me revisit another HTTPS topic:  HTTP to…]]></description><link>https://kevinhakanson.com/2018-03-13-http-to-https-redirection-investigation/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-03-13-http-to-https-redirection-investigation/</guid><pubDate>Tue, 13 Mar 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The recent efforts related to &lt;a href=&quot;https://blog.qualys.com/ssllabs/2017/09/26/google-and-mozilla-deprecating-existing-symantec-certificates&quot;&gt;Google and Mozilla are Deprecating Existing Symantec Certificates&lt;/a&gt; had me revisit another HTTPS topic:  HTTP to HTTPS Redirection.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Redirection&lt;/strong&gt; is one of the items checked by &lt;a href=&quot;https://observatory.mozilla.org/&quot;&gt;Observatory by Mozilla&lt;/a&gt; and supported by the command line scanner.  Below is partial output from &lt;code class=&quot;language-text&quot;&gt;httpobs-local-scan app1.example.com&lt;/code&gt; containing the redirect flow:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;redirection&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;destination&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://app1.example.com/app/login?lastReqId=2362881&amp;amp;lkn=loginAllParms&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;expectation&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redirection-to-https&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;pass&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;redirects&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;result&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redirection-not-to-https-on-initial-redirection&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;route&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;http://app1.example.com/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;http://app1.example.com/app/setcookie?lastReqId=2309797&amp;amp;lkn=cookieSetMachine&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;http://app1.example.com/app/setcookie?lastReqId=22f4772&amp;amp;lkn=cookieSetMachine&amp;amp;noCookie=on&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;http://app1.example.com/app/login?lastReqId=23754c6&amp;amp;lkn=loginAllParms&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;https://app1.example.com/app/login?lastReqId=2362881&amp;amp;lkn=loginAllParms&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;score_description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Redirects to https eventually, but initial redirection is to another http URL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;score_modifier&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;-10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;status_code&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;App1 is hosted in a company data center behind an F5 BIG-IP VIP, so some of the redirect logic can be found in iRules.  Notice that this rule on VIP Port 80 does a redirect based on a valid hostname.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tcl&quot;&gt;&lt;pre class=&quot;language-tcl&quot;&gt;&lt;code class=&quot;language-tcl&quot;&gt;ltm rule app1.example.com_REDIR &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    when HTTP_REQUEST &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token builtin&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;HTTP::host&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;app1.example.com&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        HTTP::redirect &lt;span class=&quot;token string&quot;&gt;&quot;http://app1.example.com[HTTP::uri]&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This could always just do an initial HTTPS redirect (which adds an additional redirect), but at least the cookies would be secure.  There is probably some application work in App1 to minimize the redirect counts.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tcl&quot;&gt;&lt;pre class=&quot;language-tcl&quot;&gt;&lt;code class=&quot;language-tcl&quot;&gt;when HTTP_REQUEST &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    HTTP::redirect &lt;span class=&quot;token string&quot;&gt;&quot;https://app1.example.com[HTTP::uri]&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A scan of App2 passes.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;redirection&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;destination&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://app2.example.com/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;expectation&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redirection-to-https&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;pass&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;redirects&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;result&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redirection-to-https&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;route&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;http://app2.example.com/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;https://app2.example.com/&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;score_description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Initial redirection is to https on same host, final destination is https&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;score_modifier&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;status_code&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It has the expected iRule on VIP Port 80 that always redirects to HTTPS.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tcl&quot;&gt;&lt;pre class=&quot;language-tcl&quot;&gt;&lt;code class=&quot;language-tcl&quot;&gt;ltm rule APP2_REDIR_HTTP &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    when HTTP_REQUEST &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        HTTP::redirect &lt;span class=&quot;token string&quot;&gt;&quot;https://app2.example.com[HTTP::uri]&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A scan of App3 shows a failure.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;redirection&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;destination&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://app3.example.com/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;expectation&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redirection-to-https&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;pass&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;redirects&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;result&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redirection-missing&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;route&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;http://app3.example.com/&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;score_description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Does not redirect to an https site&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;score_modifier&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;-20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;status_code&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But the browser shows App3 is secure, which can be explained by looking at the network graph. The full site loads, then client-side JavaScript initiates a redirect (at the performance cost of about 1/2 second).&lt;/p&gt;
&lt;p&gt;In AWS, CloudFront supports a Redirect HTTP to HTTPS (see &lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/using-https-viewers-to-cloudfront.html&quot;&gt;Requiring HTTPS for Communication Between Viewers and CloudFront - Amazon CloudFront&lt;/a&gt; )&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 370px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/85a127e5b9286ea7408fb16ea1f38f72/1efb2/pastedImage_27.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 18.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyUlEQVR42nWQ0U7DMAxF9/+fhRgIiZeiJqGjpcmSpe22khWK9kJyCKuExCSuZNkP9rm2V9Za9sPAzu1wue66HpdrozWHwwhE5o+A1gZjttitwTpPq1vapuFaK6VUbjR473nZbGhe2wuwrmu8M7h3uCk9qnxClAIpJc+qoigKqqriZyEhJCGcFiD/KKUldxl4Jz2PD/esb9d5WGSzhlMIjOMb0zTRD3vm+XMBxhiJKWZA+hsxLdD0xfk8czyO9F13ucTnt/w6Xp38DZOiLX+ifJsGAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Viewer Protocol Policy&quot;
        title=&quot;&quot;
        src=&quot;/static/85a127e5b9286ea7408fb16ea1f38f72/1efb2/pastedImage_27.png&quot;
        srcset=&quot;/static/85a127e5b9286ea7408fb16ea1f38f72/12f09/pastedImage_27.png 148w,
/static/85a127e5b9286ea7408fb16ea1f38f72/e4a3f/pastedImage_27.png 295w,
/static/85a127e5b9286ea7408fb16ea1f38f72/1efb2/pastedImage_27.png 370w&quot;
        sizes=&quot;(max-width: 370px) 100vw, 370px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;AWS ELB requires you to configure this in your web server (see &lt;a href=&quot;https://aws.amazon.com/premiumsupport/knowledge-center/redirect-http-https-elb/&quot;&gt;Redirect HTTP Traffic to HTTPS Using ELB&lt;/a&gt; ) but ALB now supports redirects as an option on the HTTP listener.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5e9e4808e35ace6fe1f2819653449735/20982/pastedImage_65.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 42.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+UlEQVR42qVSya6DMAzk/7+x74DElh3CmrC4tlNa1AM9PKTRWE4yHhtnRVGAEALWdWXEGJHji1MuhHA5u9yLiU9QPlNSwTAM0LYtKKU5XpYF5nl+YxxHmKYZMaXckuLPvRRT4SxilX3fYds25uM44D9fVtcNVFXFzkiQqoQQ3219t0SFbwXzPAeao5QSjDGgtUYYHoFzlnPGWHDWQVmW4L2/F/x7PPiicy10XfeCh6ZpuAj9MGLnkiDN81aQ2iU31lp8KNgBDVgpBQrdSmSNLn3vuRi1/lOwRpAjckMOzjW5rgjl+r5nvhUkZ9yWSO2dDq9rc4LOfgk+AZU6u/wFiR6GAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;ALB HTTP Listener settings&quot;
        title=&quot;&quot;
        src=&quot;/static/5e9e4808e35ace6fe1f2819653449735/fcda8/pastedImage_65.png&quot;
        srcset=&quot;/static/5e9e4808e35ace6fe1f2819653449735/12f09/pastedImage_65.png 148w,
/static/5e9e4808e35ace6fe1f2819653449735/e4a3f/pastedImage_65.png 295w,
/static/5e9e4808e35ace6fe1f2819653449735/fcda8/pastedImage_65.png 590w,
/static/5e9e4808e35ace6fe1f2819653449735/20982/pastedImage_65.png 778w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The Apache rewrite rule is below and would be the recommended approach for App3.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;RewriteEngine On
RewriteCond %{HTTP:X-Forwarded-Proto} =http
RewriteRule .* https://%{HTTP:Host}%{REQUEST_URI} [L,R=permanent]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, take a couple minutes and go read &lt;a href=&quot;https://scotthelme.co.uk/wifi-pineapple-karma-sslstrip/&quot;&gt;The WiFi Pineapple - Using Karma and SSLstrip to MiTM secure connections&lt;/a&gt;  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 525px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ef30aed61c7a27b81f78d828d78e8e77/7349d/31233122are-you-my-network3.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 30.405405405405407%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAceCAP/EABgQAQEAAwAAAAAAAAAAAAAAAAIBERIi/9oACAEBAAEFAlrCFiq9f//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABURAQEAAAAAAAAAAAAAAAAAAAAB/9oACAECAQE/AUf/xAAYEAACAwAAAAAAAAAAAAAAAAAAAREhMf/aAAgBAQAGPwJaWOD/xAAYEAEAAwEAAAAAAAAAAAAAAAABABEhMf/aAAgBAQABPyFAhotYGK5c+C+T/9oADAMBAAIAAwAAABCLz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABYRAAMAAAAAAAAAAAAAAAAAAAABMf/aAAgBAgEBPxBwhH//xAAaEAEAAwADAAAAAAAAAAAAAAABABEhQWGB/9oACAEBAAE/EFSEENN1x1LOxUAdrYJldoMDyf/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Karma saying it is the device&amp;#39;s preferred network&quot;
        title=&quot;&quot;
        src=&quot;/static/ef30aed61c7a27b81f78d828d78e8e77/7349d/31233122are-you-my-network3.jpg&quot;
        srcset=&quot;/static/ef30aed61c7a27b81f78d828d78e8e77/a80bd/31233122are-you-my-network3.jpg 148w,
/static/ef30aed61c7a27b81f78d828d78e8e77/1c91a/31233122are-you-my-network3.jpg 295w,
/static/ef30aed61c7a27b81f78d828d78e8e77/7349d/31233122are-you-my-network3.jpg 525w&quot;
        sizes=&quot;(max-width: 525px) 100vw, 525px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let me highlight a key point of this attack:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;SSLstrip works by monitoring HTTP traffic and waiting for links or redirects that use HTTPS. Once it finds a link or redirect using HTTPS it will transparently re-write it to the HTTP equivalent and pass it along to the victim.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Given that HTTP to HTTPS redirection isn’t sufficient to protect our applications, what now? Make sure to leverage security focused HTTP headers, including &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security&quot;&gt;Strict-Transport-Security&lt;/a&gt; and &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy&quot;&gt;Content-Security-Policy&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Strict-Transport-Security: max-age=31536000;
Content-Security-Policy: upgrade-insecure-requests;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The iRule code to set these looks like&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tcl&quot;&gt;&lt;pre class=&quot;language-tcl&quot;&gt;&lt;code class=&quot;language-tcl&quot;&gt;when HTTP_RESPONSE &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     HTTP::header replace &lt;span class=&quot;token string&quot;&gt;&quot;Strict-Transport-Security&quot;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;max-age=31536000;&quot;&lt;/span&gt;
     HTTP::header replace &lt;span class=&quot;token string&quot;&gt;&quot;Content-Security-Policy&quot;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;upgrade-insecure-requests;&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And for use in an Apache config&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;IfModule&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;mod_headers.c&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
   Header set Strict-Transport-Security &quot;max-age=31536000;&quot;
   Header set Content-Security-Policy &quot;upgrade-insecure-requests;&quot;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;IfModule&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Because the browser “remembers” to always connect over HTTPS, there is both a security gain and a performance gain of skipping the first round-trip just for HTTP to HTTPS redirection.&lt;/p&gt;
&lt;p&gt;Later on, the Content-Security-Policy could be updated to ensure only https connections, but this has the side effect of not allowing inline scripts or styles.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;default-src https:; form-action https:; connect-src https: wss:; upgrade-insecure-requests&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA["Access Logs" from AWS Services]]></title><description><![CDATA[Some web facing AWS services that provide HTTP access, allow you to enable “Access Logs” written in a W3C extended log file format. Access…]]></description><link>https://kevinhakanson.com/2018-03-08-access-logs-from-aws-services/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-03-08-access-logs-from-aws-services/</guid><pubDate>Thu, 08 Mar 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Some web facing AWS services that provide HTTP access, allow you to enable “Access Logs” written in a W3C extended log file format.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-access-logs.html&quot;&gt;Access Logs for Your Application Load Balancer - Elastic Load Balancing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/access-log-collection.html&quot;&gt;Access Logs for Your Classic Load Balancer - Elastic Load Balancing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/AccessLogs.html&quot;&gt;Access Logs - Amazon CloudFront&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/AmazonS3/latest/dev/ServerLogs.html&quot;&gt;Server Access Logging - Amazon Simple Storage Service&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/about-aws/whats-new/2017/11/amazon-api-gateway-supports-access-logging/&quot;&gt;Amazon API Gateway Supports Access Logging&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Adoption of HTTP Security Headers on the Web]]></title><description><![CDATA[Adoption of HTTP Security Headers on the Web looked at HTTP Archive data to do some analysis of the adoption of various HTTP security…]]></description><link>https://kevinhakanson.com/2018-03-06-adoption-of-http-security-headers-on-the-web/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-03-06-adoption-of-http-security-headers-on-the-web/</guid><pubDate>Tue, 06 Mar 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://discuss.httparchive.org/t/adoption-of-http-security-headers-on-the-web/1259&quot;&gt;Adoption of HTTP Security Headers on the Web&lt;/a&gt; looked at HTTP Archive data to do some analysis of the adoption of various HTTP security headers.  Here is a summary table of usage.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fb21b9f9f477a744b824bb3d7d8b7185/1e043/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 14.864864864864865%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAr0lEQVR42h2Oy46EIBRE/f8PG6GXo7Y9CDjd4CNhFF0Yl2eARaUqN7ce1X3fXNeFcx+0MRhjsdYmNmiteUiBlBIhH9R10qKmFgI1KGz+GQaMzj6N+ziqtvlGfNW837+M40jXdszzjPee/vksvCwLTdMUrfWAUop1Xem6NnlsGuPo+774KqV+ePUvQggFeelxHAmRaZrYto1930tZ1vnm/cR5nvgUFMIfcY8pbCLGyD/ed9jyX3NFiwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;% of Base Pages using HTTP Security Headers&quot;
        title=&quot;&quot;
        src=&quot;/static/fb21b9f9f477a744b824bb3d7d8b7185/fcda8/pastedImage_4.png&quot;
        srcset=&quot;/static/fb21b9f9f477a744b824bb3d7d8b7185/12f09/pastedImage_4.png 148w,
/static/fb21b9f9f477a744b824bb3d7d8b7185/e4a3f/pastedImage_4.png 295w,
/static/fb21b9f9f477a744b824bb3d7d8b7185/fcda8/pastedImage_4.png 590w,
/static/fb21b9f9f477a744b824bb3d7d8b7185/1e043/pastedImage_4.png 690w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The analysis deep dives into each header, and which values are being sent, including misconfigured / invalid variations.  The author ends with this conclusion:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There’s a lot that we can do with these security headers - but based on the data in the HTTP Archive it’s pretty clear that they are not being used enough and sometimes are being used incorrectly.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For additional reading, take a look at:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;../2018-04-27-content-security-policy-http-header-braindump&quot;&gt;Content-Security-Policy HTTP Header Braindump&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;../2018-02-07-referrer-policy-http-header&quot;&gt;Referrer-Policy HTTP header&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Marking HTTP Pages as "Not Secure"]]></title><description><![CDATA[Chromium Blog: A secure web is here to stay put a deadline for marking HTTP as “Not Secure”: Beginning in July 2018 with the release of…]]></description><link>https://kevinhakanson.com/2018-02-09-marking-http-pages-as-not-secure/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-02-09-marking-http-pages-as-not-secure/</guid><pubDate>Fri, 09 Feb 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://blog.chromium.org/2018/02/a-secure-web-is-here-to-stay.html&quot;&gt;Chromium Blog: A secure web is here to stay&lt;/a&gt; put a deadline for marking HTTP as “Not Secure”:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Beginning in July 2018 with the release of Chrome 68, Chrome will mark all HTTP sites as “not secure”.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;What if you want that behavior today?  Below are the configurations to change along with what it looks like accessing the intentionally “not secure” &lt;a href=&quot;http://neverssl.com/&quot;&gt;http://neverssl.com/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In Chrome go to &lt;code class=&quot;language-text&quot;&gt;chrome://flags&lt;/code&gt; and search for &lt;code class=&quot;language-text&quot;&gt;mark-non-secure-as&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0a7c028d84673a82740d81dfb2f46f14/0ad97/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 11.486486486486488%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgklEQVR42k2MMQ7CMBAE8/9HQMcfghA8AAmhtGkosB0nyDhgOyiyGS6pOGl0u1tMZdyM0oa+H+g6y10prGStNSklSilkofyRc2G51szUlzfHJqy/uX2ohodDicQYg7WWcRx5Cd57YoyEEFbxJCw9xSRbFN2Xczux3Tt2pyeb2nG4Bn7ZIpXlJiRZ2QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Chrome settings&quot;
        title=&quot;&quot;
        src=&quot;/static/0a7c028d84673a82740d81dfb2f46f14/fcda8/pastedImage_4.png&quot;
        srcset=&quot;/static/0a7c028d84673a82740d81dfb2f46f14/12f09/pastedImage_4.png 148w,
/static/0a7c028d84673a82740d81dfb2f46f14/e4a3f/pastedImage_4.png 295w,
/static/0a7c028d84673a82740d81dfb2f46f14/fcda8/pastedImage_4.png 590w,
/static/0a7c028d84673a82740d81dfb2f46f14/0ad97/pastedImage_4.png 717w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 337px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/634a76ae560682624647c1146f064423/f6b51/pastedImage_6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.86486486486486%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABo0lEQVR42m2R73KaUBDFeel+yOQt+kxNUhMlARVqE0GQ/6iIiCAgvy40ky/tzj2ze3fuPbPnrBJEEa6usXlTceaSpbbnOu5qxW63w3UdHMfF8zy27nbsNU1DXVeCmuv1+oW6vqJ4Ych29oz19MD6ZYItWD/+wBXSKArRNY3FcsnHeo1hGITyvuu6kXRAVVVfGEgVLa24tQ3Hc0kpzawopD6T5TmF1EVxpixLTsWJS3mRXJDnR7Is43jMaduW7nZDSPiuH1EewopLtsPe2MRxjLPZYMk0tmUTBAHuIHfrYdkWvueLdH+Uv7FtfN+nEcK/cePb5ITyFF5oLwVxkhKFEXGUctgfJEfsxa80TUklRyI1jhP2cg+FyPcC0iSRfwleEEHXcD8tUCZxTeq7zNTX0StjsURVVZZSL8TH2XSGruusTJPlwkDT5vwyTNSpSiJD1OJbIVbQd9y9yIQ/R0KPV23Bx/taJLusZMOWZfH+eyUkptSOWGBhCpEpxGEYj4sZMET/KfnuWQgfgxLZCd6hI847oqyl7/kn+v82h9N/vr+NE/4B82pSXtHcuZMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Chrome &amp;quot;Not Secure&amp;quot;&quot;
        title=&quot;&quot;
        src=&quot;/static/634a76ae560682624647c1146f064423/f6b51/pastedImage_6.png&quot;
        srcset=&quot;/static/634a76ae560682624647c1146f064423/12f09/pastedImage_6.png 148w,
/static/634a76ae560682624647c1146f064423/e4a3f/pastedImage_6.png 295w,
/static/634a76ae560682624647c1146f064423/f6b51/pastedImage_6.png 337w&quot;
        sizes=&quot;(max-width: 337px) 100vw, 337px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In Firefox go to &lt;code class=&quot;language-text&quot;&gt;about:config&lt;/code&gt; and search for &lt;code class=&quot;language-text&quot;&gt;security.insecure_connection&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cf178e7ce775a771f866b4f5fb91f10c/0ef7e/pastedImage_5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 15.54054054054054%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAo0lEQVR42nWKtxKCQABE+f/G3sKIlQqmzl4w3ID6EyrpOIKD6XkWjlpYvHm7O2vkMqIqFWWWkMuQIo0oVQxc/nOv4FF98nvXm2GJCEsEjLyY2U4x3abM9orxrsDyM4ae+qEvUmwvYbyVDHSf+BLbV/qrGIgYw3QDes6R3svuSWftxZHa/EDdKWiJK83N5YsrHTem64Q0xA1zcaK9ymmtz7SXGU8NUNYRw7ewdgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Firefox settings&quot;
        title=&quot;&quot;
        src=&quot;/static/cf178e7ce775a771f866b4f5fb91f10c/fcda8/pastedImage_5.png&quot;
        srcset=&quot;/static/cf178e7ce775a771f866b4f5fb91f10c/12f09/pastedImage_5.png 148w,
/static/cf178e7ce775a771f866b4f5fb91f10c/e4a3f/pastedImage_5.png 295w,
/static/cf178e7ce775a771f866b4f5fb91f10c/fcda8/pastedImage_5.png 590w,
/static/cf178e7ce775a771f866b4f5fb91f10c/efc66/pastedImage_5.png 885w,
/static/cf178e7ce775a771f866b4f5fb91f10c/c83ae/pastedImage_5.png 1180w,
/static/cf178e7ce775a771f866b4f5fb91f10c/0ef7e/pastedImage_5.png 1594w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f992e38f9c128dab4b030308a7f54c05/c5bb3/pastedImage_7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 28.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABNUlEQVR42o2NSy8DcRTF54MpSVGP6INYIRLvPsTKxlr4MCKxskTi0TYaTDumXbRMVdCESGem05lOa37+LRuCOMkv996Tm3OkqekZ4rNzzI5PMjoWJByKEIlMEBIzFAzj9/fT09OLz9f3L6TNrW221jdILMaYX4qSWF1jJZZgQezL0ThBEewfCDAQGP6bwSH6AyNIj/cVMrlrjpJpDk+SHByfdTlOnXfv1IVMRs6RuRLIyo+kL3Moap6dUxlpf2+Xu0oFTbvlOq+iFgpkFYVyuYyaz9OwbTryPI/f1H7zaNZ1lGcb6aX6gKEb2CK0XiwJipilG8yy1t0tTcMSfkMUuJZFq92m1Wp9wWm6mK8vyE8GUqeh6bo4polTq30gCtzOres4hvHp6TQdB1f8fscWPryRrdZ5Bz5QdNFHsFV0AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Firefox &amp;quot;Not Secure&amp;quot;&quot;
        title=&quot;&quot;
        src=&quot;/static/f992e38f9c128dab4b030308a7f54c05/fcda8/pastedImage_7.png&quot;
        srcset=&quot;/static/f992e38f9c128dab4b030308a7f54c05/12f09/pastedImage_7.png 148w,
/static/f992e38f9c128dab4b030308a7f54c05/e4a3f/pastedImage_7.png 295w,
/static/f992e38f9c128dab4b030308a7f54c05/fcda8/pastedImage_7.png 590w,
/static/f992e38f9c128dab4b030308a7f54c05/c5bb3/pastedImage_7.png 680w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[What defines a known open source vulnerability?]]></title><description><![CDATA[What defines a known open source vulnerability? is an excerpt from Securing Open Source Libraries by Guy Podjarny that contains some…]]></description><link>https://kevinhakanson.com/2018-02-08-what-defines-a-known-open-source-vulnerability/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-02-08-what-defines-a-known-open-source-vulnerability/</guid><pubDate>Thu, 08 Feb 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://www.oreilly.com/ideas/what-defines-a-known-open-source-vulnerability&quot;&gt;What defines a known open source vulnerability?&lt;/a&gt; is an excerpt from &lt;a href=&quot;https://learning.oreilly.com/library/view/securing-open-source/9781491996980/&quot;&gt;Securing Open Source Libraries by Guy Podjarny&lt;/a&gt; that contains some interesting points I would like to highlight:&lt;/p&gt;
&lt;p&gt;A “known vulnerability” seems obvious…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;At the most basic level, a vulnerability is deemed known as soon as it’s publicly posted in a reasonably easy to find location.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;They get CVE ID…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The most well-known body of vulnerability information is Common Vulnerability and Exposures (CVE). CVE is a free dictionary of vulnerabilities…CVEs are used globally as a classification system.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;And appear in the NVD…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It’s important to note that CVE is not itself a database, but rather a dictionary of IDs…the National Vulnerability Database (NVD) is a database, and exposes the vulnerability information&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Unless they don’t get a ID…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Receiving a CVE number requires the author or reporter to know about it in the first place, and then go through a certain amount of paperwork and filing effort.&lt;/p&gt;
&lt;p&gt;CVEs are in especially bad shape when it comes to known vulnerabilities in OSS packages. Based on a Snyk’s database as of October, 2017…a meager 11% of npm package vulnerabilities have such an ID.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Or don’t get into the database…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Yet another lag takes place between the assignment of a CVE and posting it to NVD&lt;/p&gt;
&lt;p&gt;Known vulnerabilities that are not on NVD are still known, but harder to detect. Library vulnerabilities are likely to either have no CVE, not be listed on NVD&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As a summary:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Known vulnerabilities are not as simple as they initially appear. The definition of what’s considered known and the management of the vulnerability metadata are very hard to do well.&lt;/p&gt;
&lt;p&gt;CVE and NVD work well for curating vulnerabilities in commercial products, but do not scale to the volume and ownership model of open source projects. Over time, these standards may evolve to meet this demand, but right now their coverage and detail level are not enough to protect your libraries.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Referrer-Policy HTTP header]]></title><description><![CDATA[Referrer-Policy is one the security focused HTTP headers checked during Observatory by Mozilla scans.  Scott Helme talks about this in A new…]]></description><link>https://kevinhakanson.com/2018-02-07-referrer-policy-http-header/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-02-07-referrer-policy-http-header/</guid><pubDate>Wed, 07 Feb 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy&quot;&gt;Referrer-Policy&lt;/a&gt; is one the security focused HTTP headers checked during &lt;a href=&quot;https://observatory.mozilla.org/&quot;&gt;Observatory by Mozilla&lt;/a&gt; scans.  Scott Helme talks about this in &lt;a href=&quot;https://scotthelme.co.uk/a-new-security-header-referrer-policy/&quot;&gt;A new security header: Referrer Policy&lt;/a&gt;, but his comment that you can set &lt;a href=&quot;https://scotthelme.co.uk/csp-cheat-sheet/#referrer&quot;&gt;Referrer Policy via the Content Security Policy&lt;/a&gt; is based on a &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/referrer&quot;&gt;CSP: referrer&lt;/a&gt; feature that had been deprecated.&lt;/p&gt;
&lt;p&gt;Using &lt;code class=&quot;language-text&quot;&gt;Referrer-Policy: no-referrer&lt;/code&gt; is effectively setting &lt;a href=&quot;https://blog.whatwg.org/tag/rel#rel-noreferrer&quot;&gt;rel=noreferrer&lt;/a&gt; on every link and protects the most against information leakage.&lt;/p&gt;
&lt;p&gt;Applications that need &lt;code class=&quot;language-text&quot;&gt;Referer&lt;/code&gt; header values sent to themselves should consider &lt;code class=&quot;language-text&quot;&gt;Referrer-Policy: same-origin&lt;/code&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[YAHOO! "Will be right back..." page]]></title><description><![CDATA[Today in an Architecture Strategy and Planning meeting, we were talking about a “Maintenance Mode” page that would indicate when our…]]></description><link>https://kevinhakanson.com/2018-02-05-yahoo-will-be-right-back-page/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-02-05-yahoo-will-be-right-back-page/</guid><pubDate>Mon, 05 Feb 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Today in an Architecture Strategy and Planning meeting, we were talking about a “Maintenance Mode” page that would indicate when our application was down (for planned or unplanned outages).  As fate would have it, I happened to see the YAHOO! version of this page moments later and was able to take a screenshot.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/127f85c21a6cb426e638d542eec1b91b/7762d/pastedImage_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAADGElEQVR42qWTS28bVRTHw2PDF6CSLSTYsEC0fIR8giyTVXaREmXBqh8gG7Zln10eygMJkAULioWEUFOHpnUJfsQYz8u+837PeOwZ25P5c+6khFa0qx7pr7lz7p3fPa9Z2tnZefexYHzY+KVfbTbrlWbvrFKv1yu1Wu1Gx7XK8fEx+WqVs2az3KuTv16rl+tGo1FttVp3VldX31vi9tWDB1X5/PFfz7s/RU+eXDnPfmu7ojRwLdO6kWW5tm27oii6nU7HHQiCK8kKnRG4z2m3WtHv5+e9k5OTj0rgl/fvf2Ybuj+eBGBML1TbhjP24I1D2IELy7JhmBZMw4Tj+XAlEfJFA3JnCDbUijiOoGu6R5l+XgI3NjbuGaYZTJIJPN8r/ChAOI4wnSWIkhCe5xLIQUy+bJZhEvqwNBWe5SMIwmI2m0HTNH9ra+uLW+BoNArCkD52vfJG2/TR/9OA3LfAZBNSX4fJQgKFYGKAdDrHIl8gSZIiz3PQ9/76+vp/QMZYCaRaFfE4hmP7+Hb3KY6+vsCP+208POnhZ9LlGcOjHwaYz+fgkU0mkwJkqqq+CWgVN6mlCL0EgTdG6NN7usAsyzFN5sgoOm4cmmVZCdR13V9bW3s5ZRYkkxhXl1Lx8JvnaD6ScPWUQepZ6Dwb4uJXCexvF4O2ie6Fhv4fBgEXoHRLoGEYrwIpZAImYIpR9C6HGAkORn0qvhpD6tponWuInJR8AYSWAyb4GIcprq+vXw+kkIOEuhzF1LV5ClVjGDEZlmPBsk3qvg2b1qqqwLR0DirTfmOEN8AEvu8XvJZDZQhhMIAsKwTRaD5VsBGVQBQhihL4mSzNMJ1O/9+Uzc3Nu9R21/M83uUF/Rm5oii5Iis5/QWlrrpderZzSVJyWZZzmrucLs9d111EUQRBEJxb4Pb29j2CBXye+FzRrbx7peI4LqPhzyAI+JiU/jRNeXS3c8hTvh3s5eXlj4+OjnYPDw9re3t73+3v73//rw4ODl7Ry3tc/Dz5a6enp7srKyufLL2wD0hV0qdvoeoLTmnvUF3ff1txDqf9A4+poL//nYPiAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;YAHOO! Will be right back...&quot;
        title=&quot;&quot;
        src=&quot;/static/127f85c21a6cb426e638d542eec1b91b/fcda8/pastedImage_1.png&quot;
        srcset=&quot;/static/127f85c21a6cb426e638d542eec1b91b/12f09/pastedImage_1.png 148w,
/static/127f85c21a6cb426e638d542eec1b91b/e4a3f/pastedImage_1.png 295w,
/static/127f85c21a6cb426e638d542eec1b91b/fcda8/pastedImage_1.png 590w,
/static/127f85c21a6cb426e638d542eec1b91b/7762d/pastedImage_1.png 649w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The corresponding HTML source is an “interesting” read as it supports multiple hostnames and languages (English, Spanish).  It also generates a dynamic image src, likely as a “ping” to track information about affected users.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;en-us&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;http-equiv&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;content-type&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text/html; charset=UTF-8&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;utf-8&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Yahoo&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;viewport&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;width=device-width,initial-scale=1,minimal-ui&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;http-equiv&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;X-UA-Compatible&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;IE=edge,chrome=1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token style&quot;&gt;&lt;span class=&quot;token language-css&quot;&gt;
&lt;span class=&quot;token selector&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fafafc &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;https://s.yimg.com/nn/img/sad-panda-201402200631.png&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; 50% 50%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cover&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 300 18px &lt;span class=&quot;token string&quot;&gt;&quot;helvetica neue&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; helvetica&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; verdana&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tahoma&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; arial&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sans-serif&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;table-layout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; fixed&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border-collapse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; collapse&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border-spacing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;h1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 42px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 400&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #400090&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #1A1A1A&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;#message-1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bold&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;#message-2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inline-block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    *&lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inline&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;zoom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 17em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;_width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 17em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;#spanishContent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;img src=&quot;//geo.yahoo.com/b?s=1197757129&amp;amp;t=&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;amp;err_url=&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;encodeURIComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;amp;err=502&amp;amp;test=&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;encodeURIComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;-&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&quot; width=&quot;0px&quot; height=&quot;0px&quot;/&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token style&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;//geo.yahoo.com/b?s=1197757129&lt;span class=&quot;token entity named-entity&quot; title=&quot;&amp;amp;&quot;&gt;&amp;amp;amp;&lt;/span&gt;t=1517852144181&lt;span class=&quot;token entity named-entity&quot; title=&quot;&amp;amp;&quot;&gt;&amp;amp;amp;&lt;/span&gt;err_url=https%3A%2F%2Fmail.yahoo.com%2F&lt;span class=&quot;token entity named-entity&quot; title=&quot;&amp;amp;&quot;&gt;&amp;amp;amp;&lt;/span&gt;err=502&lt;span class=&quot;token entity named-entity&quot; title=&quot;&amp;amp;&quot;&gt;&amp;amp;amp;&lt;/span&gt;test=-&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0px&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0px&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;hidden&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token special-attr&quot;&gt;&lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token value css language-css&quot;&gt;&lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none &lt;span class=&quot;token important&quot;&gt;!important&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;


&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- status code : 502 --&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- Could Not Connect --&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- host machine: e11.ycpi.cha.yahoo.com --&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- timestamp: 1517852082.999 --&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- url: https://mail.yahoo.com/--&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;tbody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;tr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;td&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;englishContent&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text/javascript&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hostname&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;att.yahoo.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;img src=&quot;https://s1.yimg.com/rz/d/att_en-US_f_p_bestfit_2x.png&quot; alt=&quot;AT&amp;amp;T&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;img src=&quot;https://s.yimg.com/nn/img/yahoo-logo-201402200629.png&quot; alt=&quot;Yahoo Logo&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;    
        &lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://s.yimg.com/nn/img/yahoo-logo-201402200629.png&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;Yahoo Logo&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; 
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token special-attr&quot;&gt;&lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token value css language-css&quot;&gt;&lt;span class=&quot;token property&quot;&gt;margin-top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Will be right back...&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;message-1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Thank you for your patience.&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;message-2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Our engineers are working quickly to resolve the issue.&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;spanishContent&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; 
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://s1.yimg.com/rz/d/att_es-US_f_p_bestfit_2x.png&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;AT&lt;span class=&quot;token entity named-entity&quot; title=&quot;&amp;amp;&quot;&gt;&amp;amp;amp;&lt;/span&gt;T En Vivo&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token special-attr&quot;&gt;&lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token value css language-css&quot;&gt;&lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;310px&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token special-attr&quot;&gt;&lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token value css language-css&quot;&gt;&lt;span class=&quot;token property&quot;&gt;margin-top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Volvemos enseguida…&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;message-1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Gracias por tu paciencia.&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;message-2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Nuestros ingenieros están trabajando rápidamente para resolver el problema.&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text/javascript&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hostname&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;espanol.att.yahoo.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;englishContent&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;display &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;none&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;spanishContent&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;display &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;   
    &lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;td&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;tr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;tbody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;



&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[GraphQL vs. REST APIs?]]></title><description><![CDATA[I ran across Understanding And Using REST APIs — Smashing Magazine, which is an entry level article explaining REST APIs and uses the GitHub…]]></description><link>https://kevinhakanson.com/2018-01-30-graphql-vs-rest-apis/</link><guid isPermaLink="false">https://kevinhakanson.com/2018-01-30-graphql-vs-rest-apis/</guid><pubDate>Tue, 30 Jan 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I ran across &lt;a href=&quot;https://www.smashingmagazine.com/2018/01/understanding-using-rest-api/&quot;&gt;Understanding And Using REST APIs — Smashing Magazine&lt;/a&gt;, which is an entry level article explaining REST APIs and uses the &lt;a href=&quot;https://developer.github.com/v3/&quot;&gt;GitHub API v3&lt;/a&gt; in its examples.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;By default, all requests to &lt;a href=&quot;https://api.github.com&quot;&gt;https://api.github.com&lt;/a&gt; receive the v3 version of the REST API. We encourage you to explicitly request this version via the Accept header.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;What is a bit ironic (to me) is that GitHub is &lt;a href=&quot;https://developer.github.com/v4/guides/migrating-from-rest/&quot;&gt;Migrating from REST to GraphQL&lt;/a&gt; and the &lt;a href=&quot;https://developer.github.com/v4/&quot;&gt;GitHub GraphQL API v4&lt;/a&gt; only mentions REST in this comment.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;GitHub chose GraphQL for our API v4 because it offers significantly more flexibility for our integrators. The ability to define precisely the data you want—and only the data you want—is a powerful advantage over the REST API v3 endpoints. GraphQL lets you replace multiple REST requests with a single call to fetch the data you specify.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Back in April 2015, I was curious about &lt;a href=&quot;../2015-04-01-facebook-graphqlrelay-and-netflix-falcor&quot;&gt;Facebook GraphQL/Relay and Netflix Falcor&lt;/a&gt; and knew it was a technology to watch.  Is now the time not to assume that API doesn’t always equal REST?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[CloudFront and Disaster Recovery]]></title><description><![CDATA[Note:  If you need a refresher on CloudFront, start with What Is Amazon CloudFront? After reading Lambda@Edge Now Supports Content-Based…]]></description><link>https://kevinhakanson.com/2017-12-12-cloudfront-and-disaster-recovery/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-12-12-cloudfront-and-disaster-recovery/</guid><pubDate>Tue, 12 Dec 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;em&gt;Note:  If you need a refresher on CloudFront, start with &lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Introduction.html&quot;&gt;What Is Amazon CloudFront?&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;After reading &lt;a href=&quot;https://aws.amazon.com/about-aws/whats-new/2017/11/lambda-at-edge-now-supports-content-based-dynamic-origin-selection-network-calls-from-viewer-events-and-advanced-response-generation/&quot;&gt;Lambda@Edge Now Supports Content-Based Dynamic Origin Selection, Network Calls from Viewer Events, and Advanced Response Generation&lt;/a&gt; (Posted On: Nov 21, 2017), I thought it was time to take another look at this feature.  Reviewing &lt;a href=&quot;http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/lambda-at-the-edge.html&quot;&gt;Using CloudFront with Lambda@Edge&lt;/a&gt;, I saw this interesting note:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You can use a Lambda function to generate HTTP responses when CloudFront viewer request or origin request events occur.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;That reminded me of the &lt;a href=&quot;https://devcentral.f5.com/wiki/iRules.HomePage.ashx&quot;&gt;F5 BIG-IP iRule&lt;/a&gt; we wrote for WestlawNext that would return a custom “We’re Sorry” HTML page if no servers were available.  I’m not sure Lambda@Edge is the right fit or if &lt;a href=&quot;http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/custom-error-pages.html&quot;&gt;Customizing Error Responses&lt;/a&gt; is better.  Regardless, it got me thinking about CloudFront’s potential role in disaster recovery.&lt;/p&gt;
&lt;p&gt;Consider this active/passive solution where CloudFront sits in front of the “active” region:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a775e4d7d0e7c90e30e55b98670a98b0/073e9/pastedImage_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.78378378378378%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC+ElEQVR42mNgAIL/xgysq0IZmBnQQH19PROIPnPmjM+FCxd8wGr//2dkIACYvk4N2PVjZuiud+WC/CCBNGNj1tDQUGaggSwg/qwpE6OnT+pJgFrCApKzt7dnqa+3Z7myKpTt/8w0VhAfJM4w319e4Pm0uPKbbUF9y1yEpRgYtNji4+05gAo4PDw82KGuZAViHpDrQGIwOUlJYy4GBhV2oBynCpDv4+PDxQCSAIootFtLFO9O1JxdbSLmIsfAIAhz/pEkdd51MZo9Z/L1J/3vtOKFiSsxMPDHKwt6bIxUW7ojTqPejptV115Liwckx9npKJd2vdjw//sms/8XC/VrgGLKE3PBNjOsj9X02paotfZIlu76c/m6npBwrGcSZ2AQWxOmvv1Frcn/D83mj+utpL2AdoAdwtllL5twvdjo/+cWi/9n8nRqgWK6CsJs6kBaZF2spv/pIst1NyptNl3PN/Q7zq0jft/cXCGTgV9pc6j6ntf1Zv9/tFneb7aRcgEb6CEhIWrAw6Y1N1il8HCmTle/u4K6HgObGjTsGFclawnND1aZvD9de8rhCl2QC8Axr8XAIBGlKmK3KV5jwslc3RQLoJctxZXEGEIlVETVGcCukQdiWWAgCZuzsWlCg4oRaoAoEMuBIgcck0Bgy8UlKQ9RB9InaghkmysqioNdaMrGpibCy6Yqzslirs7JKWXGw6MF1hSqapZcZ9vavNwnHMSPKjMMyptgqQOWE+SQ1ebh0RThYjWW4WNXATnCVF5egkErNJTNmZ1dSYWFw16amdnLlJPTxF6eXwCkySNepy5vgt3/pnWu+0GuTWywPF290LkDJBeqJMhvxAo0jJnZXY2Z2dkGaIaFhQUnONlAvQdK1IJQ73GBXeGrpmgXoFyU0GhkC+I7BatkxJQZuELVg7wuBMRiQAw2AxgcnAwgU11dXbnNzMz49PX1BUAYxAeJGwNzDCjs+Pn5BYCJGhSWEkDMB4wwNlAitrKy4tXV1RUE0aFA9aCEDQCzw8ye9kFfXwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AWS multi-region diagram&quot;
        title=&quot;&quot;
        src=&quot;/static/a775e4d7d0e7c90e30e55b98670a98b0/fcda8/pastedImage_1.png&quot;
        srcset=&quot;/static/a775e4d7d0e7c90e30e55b98670a98b0/12f09/pastedImage_1.png 148w,
/static/a775e4d7d0e7c90e30e55b98670a98b0/e4a3f/pastedImage_1.png 295w,
/static/a775e4d7d0e7c90e30e55b98670a98b0/fcda8/pastedImage_1.png 590w,
/static/a775e4d7d0e7c90e30e55b98670a98b0/073e9/pastedImage_1.png 719w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The product’s DNS name points at the CloudFront distribution, and there you specify the name of the load balancer as your origin server.  This solution uses an ELB for that Web Distribution in the primary region. In the event of a disaster recovery cutover, that Web Distribution is updated to the name of the load balancer in the DR region. Contrast this with updating the products DNS entry to load balancer and waiting for TTL to pass.&lt;/p&gt;
&lt;p&gt;For more background on CloudFront Custom Origins:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/distribution-web.html&quot;&gt;Working with Web Distributions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/CustomOriginBestPractices.html&quot;&gt;Requirements and Recommendations for Using Amazon EC2 and Other Custom Origins)&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/RequestAndResponseBehaviorCustomOrigin.html&quot;&gt;Request and Response Behavior for Custom Origins&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/distribution-web-awswaf.html&quot;&gt;Using AWS WAF to Control Access to Your Content&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/cnames-and-https-procedures.html&quot;&gt;Configuring Alternate Domain Names and HTTPS&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;However, you now might want to limit traffic flowing into the regional ELBs.  Luckily, &lt;a href=&quot;https://medium.com/cagataygurturk/restricting-elb-access-to-cloudfront-8b0990dea69f&quot;&gt;Restricting ELB access to CloudFront&lt;/a&gt; is possible.  Amazon publishes the &lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/LocationsOfEdgeServers.html&quot;&gt;Locations and IP Address Ranges of CloudFront Edge Servers&lt;/a&gt; in a JSON file and changes appear as an SNS topic.  This allows a Security Group created to restrict to CloudFront IP ranges to be updated whenever Amazon updates those ranges.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/de57a5e00e2055c8372f8d725f904190/c5bb3/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.08108108108108%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABd0lEQVR42mNggADGNd2W8re2ebAzoIF/9WZ8HyoUTUE0iP8fqBZEzzQ2Zj0uJia+Sl5eYgsQb5eTk9wvKsrD0FOkJrKqyXjalm6z7/fXOO28sMhWEW6YBwP7tz7X/f+3Vfz/2miw/99EhIV7gIZtUFfnBTlmPwMDS319PdMOKSlZhsW1RrZHZ1j/395n/u/bXq//d1c7JwEVMQMx15pICa/fswL+/r2y6/+feaF/TqdLOwDF2Rj4GQTjBAW1/wNdiezqXbKyUgzTC/WlN3eZLNvZZ/b63iqn41eXOMqDnfD/P2OlIoP4u2mRZ/+vTPv/YW7KmfnyDAJQBzI1S0jI/9fSYkM2EORtcPgBsVC6m7hZWZi8BcQsBsZ6oCYQu9KMR6vZXrAlRZXBAMQPhbie4biiongAL68wSC/Q3yCadz3IyyDTjRkYQE5nDA0NZQaFBXKkAJ3LAaT4oTTMAQwzJSW5lvPzK1SIiSlViIqq1IiIqO6WkhIGAKYtdSSs9YeCAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Amazon SNS topic data flow&quot;
        title=&quot;&quot;
        src=&quot;/static/de57a5e00e2055c8372f8d725f904190/fcda8/pastedImage_3.png&quot;
        srcset=&quot;/static/de57a5e00e2055c8372f8d725f904190/12f09/pastedImage_3.png 148w,
/static/de57a5e00e2055c8372f8d725f904190/e4a3f/pastedImage_3.png 295w,
/static/de57a5e00e2055c8372f8d725f904190/fcda8/pastedImage_3.png 590w,
/static/de57a5e00e2055c8372f8d725f904190/c5bb3/pastedImage_3.png 680w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I’m sure that I am not the first person to consider this.  What do you think of using CloudFront as part of the Disaster Recovery cutover flow?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS Certificate Manager and Certificate Pinning]]></title><description><![CDATA[As a background, please review Out with HPKP, in with CAA? to re-familiarize yourself with HTTP Public Key Pinning (HPKP) and Certificate…]]></description><link>https://kevinhakanson.com/2017-10-30-aws-certificate-manager-and-certificate-pinning/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-30-aws-certificate-manager-and-certificate-pinning/</guid><pubDate>Mon, 30 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;As a background, please review &lt;a href=&quot;../2017-08-30-out-with-hpkp-in-with-caa&quot;&gt;Out with HPKP, in with CAA?&lt;/a&gt; to re-familiarize yourself with HTTP Public Key Pinning (HPKP) and Certificate Authority Authorization (CAA).&lt;/p&gt;
&lt;p&gt;Today, I saw &lt;a href=&quot;https://aws.amazon.com/blogs/security/how-to-prepare-for-aws-move-to-its-own-certificate-authority/&quot;&gt;How to Prepare for AWS’s Move to Its Own Certificate Authority | AWS Security Blog&lt;/a&gt; and saw this comment about Certificate Pinning:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;AWS recommends against using certificate pinning because it introduces a potential availability risk. If the certificate to which you pin is replaced, your application will fail to connect. If your use case requires pinning, we recommend that you pin to a CA rather than to an individual certificate. If you are pinning to an Amazon Trust Services CA, you should pin to all CAs shown in the table earlier in this post.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It wasn’t mentioned in that blog posting, but AWS Certificate Manager works with CAA Records (see &lt;a href=&quot;http://docs.aws.amazon.com/acm/latest/userguide/setup-caa.html&quot;&gt;(Optional) Configure a CAA Record&lt;/a&gt;) and as of August 2017 &lt;a href=&quot;https://aws.amazon.com/about-aws/whats-new/2017/08/amazon-route-53-now-supports-caa-records/&quot;&gt;Amazon Route 53 now supports CAA records&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It Seems like we don’t want to &lt;a href=&quot;http://www.dictionary.com/browse/pin-one-s-hopes-on&quot;&gt;pin one’s hopes on&lt;/a&gt; HPKP.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Using the Virtual MFA Device with the AWS CLI]]></title><description><![CDATA[In Creating and Using an AWS Virtual MFA Device with the AWS SDK for Python, some Python code was used to add a Virtual MFA Device to IAM…]]></description><link>https://kevinhakanson.com/2017-10-22-using-the-virtual-mfa-device-with-the-aws-cli/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-22-using-the-virtual-mfa-device-with-the-aws-cli/</guid><pubDate>Sun, 22 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In &lt;a href=&quot;../2017-10-21-creating-and-using-an-aws-virtual-mfa-device-with-python&quot;&gt;Creating and Using an AWS Virtual MFA Device with the AWS SDK for Python&lt;/a&gt;, some Python code was used to add a Virtual MFA Device to IAM User &lt;code class=&quot;language-text&quot;&gt;kjh-SuperDuperUser&lt;/code&gt; as well as use that to call &lt;a href=&quot;http://boto3.readthedocs.io/en/latest/reference/services/sts.html#STS.Client.assume_role&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;STS.Client.assume_role&lt;/code&gt;&lt;/a&gt;.  This document uses the AWS CLI to call &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/sts/assume-role.html&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;assume-role&lt;/code&gt;&lt;/a&gt; using the Virtual MFA Device.&lt;/p&gt;
&lt;p&gt;As background, recall that &lt;code class=&quot;language-text&quot;&gt;kjh-DuperRole&lt;/code&gt; has this Trust Policy which requires MFA to be present for &lt;code class=&quot;language-text&quot;&gt;sts:AssumeRole&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;AWS&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:user/service-user/kjh-SuperDuperUser&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;Bool&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;aws:MultiFactorAuthPresent&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;true&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;An attempt to assume role will fail (which is expected):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws &lt;span class=&quot;token parameter variable&quot;&gt;--profile&lt;/span&gt; kjh-SuperDuperUser sts assume-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-arn arn:aws:iam::123456789012:role/kjh-DuperRole &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-session-name my-cli-session

An error occurred &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AccessDenied&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; when calling the AssumeRole operation: User: arn:aws:iam::123456789012:user/service-user/kjh-SuperDuperUser is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::123456789012:role/kjh-DuperRole&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, when the MFA serial number and token code are supplied, there is a success.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws &lt;span class=&quot;token parameter variable&quot;&gt;--profile&lt;/span&gt; kjh-SuperDuperUser sts assume-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-arn arn:aws:iam::123456789012:role/kjh-DuperRole &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-session-name my-cli-session &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--serial-number arn:aws:iam::123456789012:mfa/service-user/kjh-SuperDuperUser &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--token-code 000000

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token string&quot;&gt;&quot;Credentials&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;AccessKeyId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ASIAXXXXXXXXXXXXXXXX&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;SecretAccessKey&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[redacted]&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;SessionToken&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[redacted]&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;Expiration&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2017-10-21T22:59:21Z&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;AssumedRoleUser&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;AssumedRoleId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:my-cli-session&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/kjh-DuperRole/my-cli-session&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Alternatively, a profile can be created in &lt;code class=&quot;language-text&quot;&gt;~/.aws/config&lt;/code&gt; which specifies both the &lt;code class=&quot;language-text&quot;&gt;role_arn&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;mfa_serial&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ini&quot;&gt;&lt;pre class=&quot;language-ini&quot;&gt;&lt;code class=&quot;language-ini&quot;&gt;&lt;span class=&quot;token section&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token section-name selector&quot;&gt;profile kjh-DuperRole&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;role_arn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;arn:aws:iam::123456789012:role/kjh-DuperRole&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;source_profile&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;kjh-SuperDuperUser&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;mfa_serial&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;arn:aws:iam::123456789012:mfa/service-user/kjh-SuperDuperUser&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This causes the AWS CLI to automatically assume-role and prompt for the MFA code (and store the temporary credentials in a file in the &lt;code class=&quot;language-text&quot;&gt;~/.aws/cache/&lt;/code&gt; directory).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws &lt;span class=&quot;token parameter variable&quot;&gt;--profile&lt;/span&gt; kjh-DuperRole sts get-caller-identity
Enter MFA code: 000000
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;UserId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:AWS-CLI-session-1508622621&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;Account&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456789012&quot;&lt;/span&gt;,
  &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/kjh-DuperRole/AWS-CLI-session-1508622621&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Creating and Using an AWS Virtual MFA Device with the AWS SDK for Python]]></title><description><![CDATA[Some scenarios, like on-premise servers that need access to AWS resources, require AWS IAM Users to be created.  These “service users” are…]]></description><link>https://kevinhakanson.com/2017-10-21-creating-and-using-an-aws-virtual-mfa-device-with-the-aws-sdk-for-python/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-21-creating-and-using-an-aws-virtual-mfa-device-with-the-aws-sdk-for-python/</guid><pubDate>Sat, 21 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Some scenarios, like on-premise servers that need access to AWS resources, require AWS IAM Users to be created.  These “service users” are given Access Keys, which serve as long term credentials and needed to be protected.  An additional measure of protection could be to enable programmatic multifactor authentication for these users.&lt;/p&gt;
&lt;p&gt;This Python code creates a virtual MFA device with &lt;a href=&quot;http://boto3.readthedocs.io/en/latest/index.html&quot;&gt;Boto 3&lt;/a&gt; (AWS SDK for Python).  The  &lt;a href=&quot;https://boto3.readthedocs.io/en/latest/reference/services/iam.html#IAM.Client.create_virtual_mfa_device&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;create_virtual_mfa_device&lt;/code&gt;&lt;/a&gt; response includes a shared secret (saved in &lt;code class=&quot;language-text&quot;&gt;string_seed&lt;/code&gt;) and the bytes of a PNG image of a QR code that can be used with standard Authenticator apps.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;session &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Session&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;profile_name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;kjh-SuperDuperUser&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
iam_client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;iam&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; iam_client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create_virtual_mfa_device&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    Path&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/service-user/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    VirtualMFADeviceName&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;kjh-SuperDuperUser&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

string_seed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;VirtualMFADevice&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Base32StringSeed&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

qrbytes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;VirtualMFADevice&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;QRCodePNG&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;kjh-SuperDuperUser.png&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mode&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;wb&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;write&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;qrbytes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;close&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Using &lt;a href=&quot;https://github.com/pyotp/pyotp&quot;&gt;GitHub - pyotp/pyotp: Python One-Time Password Library&lt;/a&gt;, two consecutive codes are generated from the &lt;code class=&quot;language-text&quot;&gt;string_seed&lt;/code&gt; to enable the virtual mfa device for the user.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;totp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pyotp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;TOTP&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;string_seed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# the code from 30 seconds ago&lt;/span&gt;
code_1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; totp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;generate_otp&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;totp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;timecode&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;datetime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;datetime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;now&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; datetime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;timedelta&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;seconds&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# the current code&lt;/span&gt;
code_2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; totp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;generate_otp&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;totp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;timecode&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;datetime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;datetime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;now&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; iam_client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;enable_mfa_device&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    UserName&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;kjh-SuperDuperUser&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    SerialNumber&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;arn:aws:iam::123456789012:mfa/service-user/kjh-SuperDuperUser&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    AuthenticationCode1&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;code_1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    AuthenticationCode2&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;code_2
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Afterwards, looking at the AWS Console indicates &lt;code class=&quot;language-text&quot;&gt;kjh-SuperDuperUser&lt;/code&gt; now has an assigned MFA device.  Additionally, &lt;code class=&quot;language-text&quot;&gt;kjh-DuperRole&lt;/code&gt; has this Trust Policy, which requires MFA to be present for &lt;code class=&quot;language-text&quot;&gt;sts:AssumeRole&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;AWS&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:user/service-user/kjh-SuperDuperUser&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;Bool&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;aws:MultiFactorAuthPresent&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;true&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To use the Virtual MFA Device in an &lt;a href=&quot;http://boto3.readthedocs.io/en/latest/reference/services/sts.html#STS.Client.assume_role&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;assume_role&lt;/code&gt;&lt;/a&gt; API call, a TOTP code needs to be generated and passed as a parameter.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;sts_client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

totp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pyotp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;TOTP&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;string_seed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
token_code &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; totp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;now&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sts_client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;assume_role&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    RoleArn&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;arn:aws:iam::123456789012:role/kjh-DuperRole&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    RoleSessionName&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;my-python-session&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    SerialNumber&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;arn:aws:iam::123456789012:mfa/service-user/kjh-SuperDuperUser&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    TokenCode&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;token_code
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note:  This IAM Policy needed to be added to &lt;code class=&quot;language-text&quot;&gt;kjh-SuperDuperUser&lt;/code&gt; in order to allow the MFA related actions.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:CreateVirtualMFADevice&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:DeleteVirtualMFADevice&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:mfa/service-user/${aws:username}&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:EnableMFADevice&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:DeactivateMFADevice&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:ResyncMFADevice&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:user/service-user/${aws:username}&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:ListVirtualMFADevices&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:mfa/*&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;References:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa_enable_virtual.html&quot;&gt;Enabling a Virtual Multi-factor Authentication (MFA) Device - AWS Identity and Access Management&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa_enable_cliapi.html&quot;&gt;Enable and manage virtual MFA devices (AWS CLI, Tools for Windows PowerShell, or AWS API) - AWS Identity and Access Management&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa_configure-api-require.html&quot;&gt;Configuring MFA-Protected API Access - AWS Identity and Access Management&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[HashiCorp Vault supports AWS STS AssumeRole and TOTP]]></title><description><![CDATA[The working security model for on-premise servers to access AWS resources is an IAM User which should only assume an IAM Role.  This makes…]]></description><link>https://kevinhakanson.com/2017-10-21-hashicorp-vault-supports-aws-sts-assumerole-and-totp/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-21-hashicorp-vault-supports-aws-sts-assumerole-and-totp/</guid><pubDate>Sat, 21 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The working security model for on-premise servers to access AWS resources is an IAM User which should only assume an IAM Role.  This makes the behavior similar to the Role-based permissions used by EC2 or Lambda.  This IAM User cannot log in onto the AWS Console, but uses an Access Key as long term credentials.  The call to &lt;code class=&quot;language-text&quot;&gt;sts:AssumeRole&lt;/code&gt; returns temporary security credentials that are valid for an hour. (see &lt;a href=&quot;http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_control-access.html&quot;&gt;Controlling Permissions for Temporary Security Credentials - AWS Identity and Access Management&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Reading about &lt;a href=&quot;https://www.vaultproject.io/&quot;&gt;Vault by HashiCorp&lt;/a&gt; highlighted two relevant features:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The &lt;a href=&quot;https://www.vaultproject.io/docs/secrets/aws/index.html#sts-assumerole&quot;&gt;AWS Secret Backend&lt;/a&gt; has built-in support for STS AssumeRole, which allows a &lt;code class=&quot;language-text&quot;&gt;POST /aws/sts/:name&lt;/code&gt; call to retrieve temporary credentials (see &lt;a href=&quot;https://www.vaultproject.io/api/secret/aws/index.html#generate-iam-with-sts&quot;&gt;AWS Secret Backend - HTTP API&lt;/a&gt; for full reference).  For internal teams that use Vault, this could allow the long term credentials (from the IAM User Access Key) to be securely stored once, and server instances request temporary security credentials as needed.&lt;/li&gt;
&lt;li&gt;The &lt;a href=&quot;https://www.vaultproject.io/docs/secrets/totp/index.html&quot;&gt;TOTP Secret Backend&lt;/a&gt; allows Vault users to store their multi-factor authentication keys in Vault and use the API to retrieve time-based one-time use passwords on demand.  The &lt;strong&gt;Using MFA with AssumeRole&lt;/strong&gt; section of &lt;a href=&quot;https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html&quot;&gt;AssumeRole - AWS Security Token Service&lt;/a&gt; explains how can optionally include multi-factor authentication (MFA) information when you call AssumeRole.  However, storage of the TOTP secret and generation of the TOTP code don’t have an implemented solution.  If the secret is stored alongside the long term credentials, then it is as easy to steal two secrets, as it is one.&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[API-First and the Customer Experience]]></title><description><![CDATA[Enabling distributed digital business with API-first architecture (Google Cloud Next ‘17) was a good, high-level overview of API strategies…]]></description><link>https://kevinhakanson.com/2017-10-17-api-first-and-the-customer-experience/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-17-api-first-and-the-customer-experience/</guid><pubDate>Tue, 17 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=9SmXhbgYmbU&quot;&gt;Enabling distributed digital business with API-first architecture (Google Cloud Next ‘17)&lt;/a&gt; was a good, high-level overview of API strategies, and reminds me of our internal Customer Experience Model and Customer Experience Principles goals.&lt;/p&gt;
&lt;p&gt;The “Inside-out” vs. “Outside-in” perspective is analogous to how developers used to build UIs, but we now utilize a Central UX: Experience Design &amp;#x26; Research team to focus on the user (vs. the feature).&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d20d62956ab9b1628a5723c1e310eeb2/2cefc/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.43243243243243%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABQElEQVR42l1PPU8CURC8H+vPMHbWxsZG7C2wsCImEoiFocDEBBECBAPxPO6477f73h5XjMuhklhM9uPNzM7zrLX4D+cc8jxHEARI0xRJkiCKIoRh2CCO44Zz1LgfWHjMDCI+mtljT2RgjPmbjSEw//ZG3+mgYVIceN5+WeQpxFmFQxhnKFVYiUORabo4UiJjJ2pEme5Z0zGydAsqc9SVgx9mmK/ig+E6srh9VtPSIkgs2gODlwU1B4YLRu9NrytxGTDuh4SPjUVSOJ0t3teEMHO46Fhc9wTLjcAbzBxO26xDhYm/w+UDo/PqsC1qtPqC83sLP91hMK9wdsdaBVPltfoWjyOHWVDjqrvDyY3D06SC529JxmsjpWH9Mcv0kyRMSOqKRVPJeEUalsUyS5SSVhJRXmH2lRrN/EukO3KqY/kGFLjAWkDV1VkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Inside-out&amp;quot; - service provider view&quot;
        title=&quot;&quot;
        src=&quot;/static/d20d62956ab9b1628a5723c1e310eeb2/fcda8/pastedImage_2.png&quot;
        srcset=&quot;/static/d20d62956ab9b1628a5723c1e310eeb2/12f09/pastedImage_2.png 148w,
/static/d20d62956ab9b1628a5723c1e310eeb2/e4a3f/pastedImage_2.png 295w,
/static/d20d62956ab9b1628a5723c1e310eeb2/fcda8/pastedImage_2.png 590w,
/static/d20d62956ab9b1628a5723c1e310eeb2/efc66/pastedImage_2.png 885w,
/static/d20d62956ab9b1628a5723c1e310eeb2/c83ae/pastedImage_2.png 1180w,
/static/d20d62956ab9b1628a5723c1e310eeb2/2cefc/pastedImage_2.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/2cefc/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.43243243243243%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABPUlEQVR42l2QwUoDMRCG91l9Al9BPPkIgiiCHgQRD/WiUFEsYltEWtC1LZWq2+2uaTfJJpNsrf4m61qhhz/5ZjLzM5OAiLAqYwyEEIiiCEmSgDG25DiOMZlMIKUs61Z7A39Y400qs0qetdZQTrqSUr/Sy9y/0R+XhuM0g8w15oWBdJNxzh1b5FIgY0l5+5gUh6UchTXg2Qx8xhx7M4kZS8upgzCaY6tmcdGx4LlFI1Sod3PHBh+ccHafYyoIwsX+rfOiS85c7ulNIZMGzYFCrc1RuC2Dy8dPrO0QtusWYVTgsKGxe6XQG1vchBbrBwqtgUE/ttg8Vdi/1hgmFke3hD1X13d13RFh40Tg/EEhGCUGx3cWrb7B15wwjAnP7xoLx/FUo9lTSLMqZtpN5L+GwCVBKipX/l4QXlPfq/EDwOrAn3Zi9VUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Outside-in&amp;quot; - digital consumer view&quot;
        title=&quot;&quot;
        src=&quot;/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/fcda8/pastedImage_3.png&quot;
        srcset=&quot;/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/12f09/pastedImage_3.png 148w,
/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/e4a3f/pastedImage_3.png 295w,
/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/fcda8/pastedImage_3.png 590w,
/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/efc66/pastedImage_3.png 885w,
/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/c83ae/pastedImage_3.png 1180w,
/static/5d96200a9c1ed3635d83d9d2aa2b4b0b/2cefc/pastedImage_3.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;APIs serve different purposes, and your internal APIs might not be the SDKs or “experience APIs” the external developer needs.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;APIs as services (e.g. Web)&lt;/li&gt;
&lt;li&gt;APIs as interactions (e.g. Mobile or Partners)&lt;/li&gt;
&lt;li&gt;APIs as products (e.g. Devices)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7c0a6179c17de40fc2b2c93735a93843/5dded/pastedImage_6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 43.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABmklEQVR42m1Sy44UMQycX+c7+AYQFy4gDnuAC9KKFeIpwc5Oz0yS6c6rEyfdMysKO9nlshxKthOn7LKzyTljnmckRpwzvg0JW0348J0wBcJhZP8HYX8iWI5HT/i8zc0OpwIqBbUKKgr7m2maoJSC0Qp6Cnh9PbcHV18ydibj5jbj7U3CJ7avPvb4jcS/M56/SxhDhYsVIQQQETbCKkgpsSWkXLAufMZVbeTKfDf60s5tKDCuILNPJN0RtD9j8gmHwx7O+U4ozN57iPyFyc6M/VgwsNw/l4KfRybhHCH5pXrBLrMw4QXORyY8YBzHTuicY0JGJBi/Nth5hWNo3+0pdLjU78U/uhWKO4wxYhgGWGs7oXQmM0hsM/URKJZ2nAoW7mJrKmIqCIw7U1qOIFFpkn2ITbIQP5EssZDIrJQtuKyyTeI7wsyz27H/OPfKM1QseXLxYYYOG1m3YF1XPPqFsTDuz7Vt8dlLwnv+Rrjn86X+y5PCPvFSOMc727+N1hr/g1Iaxmjc3u3x4mqL6687jEbh+CRXNWuMafYvgdGpZnyk2wQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;API layers&quot;
        title=&quot;&quot;
        src=&quot;/static/7c0a6179c17de40fc2b2c93735a93843/fcda8/pastedImage_6.png&quot;
        srcset=&quot;/static/7c0a6179c17de40fc2b2c93735a93843/12f09/pastedImage_6.png 148w,
/static/7c0a6179c17de40fc2b2c93735a93843/e4a3f/pastedImage_6.png 295w,
/static/7c0a6179c17de40fc2b2c93735a93843/fcda8/pastedImage_6.png 590w,
/static/7c0a6179c17de40fc2b2c93735a93843/efc66/pastedImage_6.png 885w,
/static/7c0a6179c17de40fc2b2c93735a93843/c83ae/pastedImage_6.png 1180w,
/static/7c0a6179c17de40fc2b2c93735a93843/5dded/pastedImage_6.png 1588w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The “mediation layer” above is where an API Gateway fits in, and where many of the non-functional requirements can be addressed.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Interesting Speculation about Blockchain and Future Society]]></title><description><![CDATA[I recently read The Blockchain Man (Or A Speculative Sociology of Our Blockchain Future) and still processing what it means and with what…]]></description><link>https://kevinhakanson.com/2017-10-12-interesting-speculation-about-blockchain-and-future-society/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-12-interesting-speculation-about-blockchain-and-future-society/</guid><pubDate>Thu, 12 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I recently read &lt;a href=&quot;https://www.ribbonfarm.com/2017/10/10/the-blockchain-man/&quot;&gt;The Blockchain Man&lt;/a&gt; &lt;em&gt;(Or A Speculative Sociology of Our Blockchain Future)&lt;/em&gt; and still processing what it means and with what parts I agree or disagree.  Instead of trying to analyze or summarize the whole document, I will list some of the sections and call out a couple of specific points I found interesting.&lt;/p&gt;
&lt;p&gt;These sections had the most interesting names.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The Anatomy of our Blockchain Future&lt;/li&gt;
&lt;li&gt;The Balkanization of Everything: City States are The New Nation States&lt;/li&gt;
&lt;li&gt;The Hollywood Model is the New Career Ladder&lt;/li&gt;
&lt;li&gt;Probabilism is the New Determinism&lt;/li&gt;
&lt;li&gt;Protocolism is the New Nationalism&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;One of the sections introduces the “self-owning car” and how commuting could be market driven.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A car that pays for its lease, its insurance, and its gas, by giving people rides. A car that is not owned by a corporation. It is a corporation. The car exists as an autonomous financial entity, potentially with no human ownership.&lt;/p&gt;
&lt;p&gt;When the Blockchain Man gets in the car, he will see a sliding scale offering him the ability to set an arrival time and calculate the cost of the ride. If he wants to arrive quickly, the car will make a flurry of micropayments to other cars allowing it to pass. If he’s not in a hurry, he may choose a later arrival time and lower fare, allowing other cars fly past in return for the lower fare.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The “The Hollywood Model is the New Career Ladder” section reminded me of the task based scenarios from &lt;a href=&quot;https://www.linkedin.com/pulse/four-futures-work-america-anne-marie-slaughter&quot;&gt;Four Futures for Work in America&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In two of these scenarios, we will continue to work mostly in jobs, one where there’s less work available in total (what we called the King of the Castle Economy, a winner-take-all game) and one where there’s more work available (the Go Economy, where you can keep building as long as you want).&lt;/p&gt;
&lt;p&gt;In the two scenarios where work evolves mostly into tasks, one has less work for us to do (the Rock-Paper-Scissors Economy, where we continue to compete in short spurts), and one more (the Jump Rope Economy, where individual workers can control the pace and pattern of their own careers, as long as they keep jumping).&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Comparing Brandon Sanderson's Legion and Mixed Reality]]></title><description><![CDATA[At some point, I received a free copy of the Legion audiobook from Audible.  Legion is a novella, so the unabridged audio is just over…]]></description><link>https://kevinhakanson.com/2017-10-05-comparing-brandon-sandersons-legion-and-mixed-reality/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-05-comparing-brandon-sandersons-legion-and-mixed-reality/</guid><pubDate>Thu, 05 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;At some point, I received a free copy of the &lt;a href=&quot;https://www.audible.com/pd/Sci-Fi-Fantasy/Legion-Audiobook/B009GJVJC4/ref=a_search_c4_1_2_srTtl?qid=1507206788&amp;#x26;sr=1-2&quot;&gt;Legion audiobook&lt;/a&gt; from Audible.  &lt;a href=&quot;https://brandonsanderson.com/books/legion/legion/&quot;&gt;Legion is a novella&lt;/a&gt;, so the unabridged audio is just over 2 hours. It was released in 2012, but I finally listened to it on a recent road trip.  The main character is a private investigator.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Stephen Leeds, AKA ‘Legion,’ is a man whose unique mental condition allows him to generate a multitude of personae: hallucinatory entities with a wide variety of personal characteristics and a vast array of highly specialized skills.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Put another way, the character is aware of their mental state and fully functional.  He interacts with entities that no one else either sees or hears, and whose expertise helps him gain knowledge and solve problems.  It seems like a great bit of fiction and does work well in this story.&lt;/p&gt;
&lt;p&gt;Now, look again at the blog header, which is an image from &lt;a href=&quot;https://blogs.windows.com/windowsexperience/2017/10/03/the-era-of-windows-mixed-reality-begins-october-17/&quot;&gt;The era of Windows Mixed Reality begins October 17&lt;/a&gt; and review how Microsoft describes mixed reality.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;With mixed reality, our ideas move beyond the boundaries of paper, beyond the boundaries of screens, and beyond the boundaries of description. This is the fundamental promise of mixed reality. The barrier that exists between our physical and digital worlds will disappear.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Also, recall &lt;a href=&quot;https://blogs.microsoft.com/blog/2017/08/30/hey-cortana-open-alexa-microsoft-amazons-first-kind-collaboration/&quot;&gt;Hey Cortana, open Alexa: Microsoft and Amazon’s first-of-its-kind collaboration&lt;/a&gt;.  How long until we are walking around with mixed reality headsets, talking to multiple virtual assistants that can also see what we are seeing, have specialized domain skills, and we can also “see” them as part of the augmented reality functionality?  These could even be a virtual network of lawyers, accountants, and financial professionals.&lt;/p&gt;
&lt;p&gt;Now compare these two scenarios.  To the observer, they may appear the same (if you don’t factor in the huge headset).&lt;/p&gt;
&lt;p&gt;p.s.  I just realized that interacting with a virtual professional isn’t new - Star Trek has already thought of everything.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 350px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9fd57d45a5e923bac437d2e1a3d44c19/70ebb/89986-6390166Bk.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 71.62162162162163%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEDAgT/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAZc+Vm0EH//EABkQAQEAAwEAAAAAAAAAAAAAAAECABIhMf/aAAgBAQABBQKaNJBHE5HMr3//xAAVEQEBAAAAAAAAAAAAAAAAAAAREP/aAAgBAwEBPwFZ/8QAFREBAQAAAAAAAAAAAAAAAAAAERD/2gAIAQIBAT8BCf/EABcQAQADAAAAAAAAAAAAAAAAAAEQIDH/2gAIAQEABj8CcKJH/8QAGRABAQADAQAAAAAAAAAAAAAAAQARMVFx/9oACAEBAAE/IcneGrMNxBjPZZwXV//aAAwDAQACAAMAAAAQ/B//xAAWEQEBAQAAAAAAAAAAAAAAAAABECH/2gAIAQMBAT8QwCf/xAAWEQEBAQAAAAAAAAAAAAAAAAAAETH/2gAIAQIBAT8Q0V//xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhQTFRYeH/2gAIAQEAAT8QXcFWPBzCeKcN6ggAquoYypdTpqZsljovMbjp19n/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;The Doctor from Star Trek: Voyager&quot;
        title=&quot;&quot;
        src=&quot;/static/9fd57d45a5e923bac437d2e1a3d44c19/70ebb/89986-6390166Bk.jpg&quot;
        srcset=&quot;/static/9fd57d45a5e923bac437d2e1a3d44c19/a80bd/89986-6390166Bk.jpg 148w,
/static/9fd57d45a5e923bac437d2e1a3d44c19/1c91a/89986-6390166Bk.jpg 295w,
/static/9fd57d45a5e923bac437d2e1a3d44c19/70ebb/89986-6390166Bk.jpg 350w&quot;
        sizes=&quot;(max-width: 350px) 100vw, 350px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[IAM Roles: "trust policy" == "assume role policy"]]></title><description><![CDATA[Take a look at the screenshot below.  What’s the name of this policy?  If you said “trust relationships policy” or “trusted entities policy…]]></description><link>https://kevinhakanson.com/2017-10-04-iam-roles-trust-policy-assume-role-policy/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-04-iam-roles-trust-policy-assume-role-policy/</guid><pubDate>Wed, 04 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Take a look at the screenshot below.  What’s the name of this policy?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8791b68ca023594f85bdda6dbc4c2010/0f882/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 16.216216216216214%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAnElEQVR42oWKzQqCQBhFfep2Bb1NEEEP0TNE6EwaojaT9s1PYeOot8miRZsuHO5ZnEiKMzhLIEUFWxcQpwNyvsdV5CjLEowxpGkKKeX0nHNkWQbnHLz36PwA3w/fj+y9RXVRAUJVGxTBG9LQxkJr9UFDqbcTESi4MWZq6NaBrEMTsK1HtIsJs1WMxYZjvk6w3B5hHz1eG/F/40/3BI9h4luI9oTrAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;&amp;quot;Trust relationships&amp;quot; tab&quot;
        title=&quot;&quot;
        src=&quot;/static/8791b68ca023594f85bdda6dbc4c2010/fcda8/pastedImage_4.png&quot;
        srcset=&quot;/static/8791b68ca023594f85bdda6dbc4c2010/12f09/pastedImage_4.png 148w,
/static/8791b68ca023594f85bdda6dbc4c2010/e4a3f/pastedImage_4.png 295w,
/static/8791b68ca023594f85bdda6dbc4c2010/fcda8/pastedImage_4.png 590w,
/static/8791b68ca023594f85bdda6dbc4c2010/efc66/pastedImage_4.png 885w,
/static/8791b68ca023594f85bdda6dbc4c2010/c83ae/pastedImage_4.png 1180w,
/static/8791b68ca023594f85bdda6dbc4c2010/0f882/pastedImage_4.png 1584w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If you said “trust relationships policy” or “trusted entities policy” then good luck finding the API to update it, where it is called the “assume role policy” document. Just to show how confusing the terms are, take this example from &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/iam/update-assume-role-policy.html&quot;&gt;update-assume-role-policy — AWS CLI 1.11.164 Command Reference&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;To update the trust policy for an IAM role&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The followingupdate-assume-role-policycommand updates the trust policy for the role namedTest-Role:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;aws iam update-assume-role-policy —role-name Test-Role —policy-document file://Test-Role-Trust-Policy.json&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The trust policy is defined as a JSON document in the_Test-Role-Trust-Policy.json_file. (The file name and extension do not have significance.) The trust policy must specify a principal.&lt;/p&gt;
&lt;p&gt;To update the permissions policy for a role, use theput-role-policycommand.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It not only calls it a “trust policy”, but the example policy document as “Trust-Policy” in the filename.  Maybe “assume role policy” was the legacy name, and no one wanted to rename the API?&lt;/p&gt;
&lt;p&gt;Naming is hard!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Searching CloudTrail using Amazon Athena SQL]]></title><description><![CDATA[I was querying CloudTrail event history for a specific user, , and it only listed two events when I knew there were more. The AWS Console…]]></description><link>https://kevinhakanson.com/2017-10-02-searching-cloudtrail-using-amazon-athena-sql/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-10-02-searching-cloudtrail-using-amazon-athena-sql/</guid><pubDate>Mon, 02 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was querying CloudTrail event history for a specific user, &lt;code class=&quot;language-text&quot;&gt;projectID-AppUser&lt;/code&gt;, and it only listed two events when I knew there were more. The AWS Console had a message explaining why:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Your event history contains the create, modify, and delete activities for supported services taken by people, groups, or AWS services in your AWS account. To view a complete log of your CloudTrail events, create a trail and then go to your Amazon S3 bucket or CloudWatch Logs.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;How do I find all the events?  I know the exact day and time (if I can convert to UTC), but didn’t want to download 300 .gz files from an S3 bucket and search through them.  Then I remembered Amazon Athena (serverless, interactive query service) and found exactly the blog post that could help me:  &lt;a href=&quot;https://aws.amazon.com/blogs/big-data/aws-cloudtrail-and-amazon-athena-dive-deep-to-analyze-security-compliance-and-operational-activity/&quot;&gt;Analyze Security, Compliance, and Operational Activity Using AWS CloudTrail and Amazon Athena | AWS Big Data Blog&lt;/a&gt;.  I followed the instructions, but because I only cared about a specific day of CloudTrail logs for a specific region, I created a smaller table using that restriction.  The lines from the “create table” SQL I changed were:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;CREATE&lt;/span&gt; EXTERNAL &lt;span class=&quot;token keyword&quot;&gt;TABLE&lt;/span&gt; cloudtrail_logs_useast1_20170928

LOCATION &lt;span class=&quot;token string&quot;&gt;&apos;s3://123456789012-cloudtrail-acct-logs/localadmin/AWSLogs/123456789012/CloudTrail/us-east-1/2017/09/28/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, my “User name” of “projectID-AppUser” query would find 15 events (Run time: 6.15 seconds, Data scanned: 28.85MB).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt; useridentity&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;username&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; eventid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; eventtime&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; eventname 
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; sampledb&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cloudtrail_logs_useast1_20170928
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; useridentity&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;username &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;projectID-AppUser&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;by&lt;/span&gt; eventtime&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I could even get the full details on the two &lt;code class=&quot;language-text&quot;&gt;eventid&lt;/code&gt; entries I saw from the AWS Console CloudTrail Event history.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; sampledb&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cloudtrail_logs_useast1_20170928
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; eventid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;bbc83507-e7a0-4464-8684-51d32757d3c8&apos;&lt;/span&gt; 
   &lt;span class=&quot;token operator&quot;&gt;or&lt;/span&gt; eventid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;5a602970-f337-4441-be78-0470e827b28f&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If I wanted everything related to &lt;code class=&quot;language-text&quot;&gt;projectID-AppUser&lt;/code&gt;, my query would find 40 events (Run time: 20.94 seconds, Data scanned: 28.87MB)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt; eventid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; eventtime&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; eventname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; requestparameters
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; sampledb&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cloudtrail_logs_useast1_20170928
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; requestparameters &lt;span class=&quot;token operator&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;%projectID-AppUser%&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;by&lt;/span&gt; eventtime&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I used the web console for my interactive queries, but &lt;a href=&quot;http://docs.aws.amazon.com/athena/latest/ug/connect-with-jdbc.html&quot;&gt;Accessing Amazon Athena with JDBC&lt;/a&gt; is also possible.&lt;/p&gt;
&lt;p&gt;This seems like we should “turn on” for the whole account — more work to add to the backlog.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Customer Data Encryption-At-Rest Options]]></title><description><![CDATA[This post is going to enumerate some customer data encryption-at-rest options for those customers asking about specific key management…]]></description><link>https://kevinhakanson.com/2017-09-27-customer-data-encryption-at-rest-options/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-09-27-customer-data-encryption-at-rest-options/</guid><pubDate>Wed, 27 Sep 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;This post is going to enumerate some customer data encryption-at-rest options for those customers asking about specific key management choices.  Examples below will refer to AWS specific technologies.&lt;/p&gt;
&lt;h2&gt;No Encryption&lt;/h2&gt;
&lt;p&gt;Although this option may have been used in the past, it is no longer acceptable for applications.  Listed here for completeness.&lt;/p&gt;
&lt;h2&gt;Transparent&lt;/h2&gt;
&lt;p&gt;This leverages software like disk encryption (e.g. BitLocker or Vormetric), database encryption (e.g. &lt;a href=&quot;https://docs.microsoft.com/en-us/sql/relational-databases/security/encryption/transparent-data-encryption&quot;&gt;Transparent Data Encryption (TDE)&lt;/a&gt; ), or Amazon managed keys (see &lt;a href=&quot;https://aws.amazon.com/about-aws/whats-new/2015/01/06/amazon-rds-encryption-with-kms-mysql-postgresql/&quot;&gt;Encryption for Amazon RDS using keys managed in AWS Key Management Service&lt;/a&gt; or &lt;a href=&quot;http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingServerSideEncryption.html&quot;&gt;Protecting Data Using Server-Side Encryption with Amazon S3-Managed Encryption Keys (SSE-S3)&lt;/a&gt;) to transparently encrypt data being stored.  This “checks the box” when customers ask about encryption.&lt;/p&gt;
&lt;h2&gt;Managed Keys&lt;/h2&gt;
&lt;p&gt;A Key Management Service (KMS) is used to handle encryption keys for the application.  These keys may be both region and data store specific.  The application team is responsible for safeguarding, managing, and rotating these keys.  This can be used along with &lt;a href=&quot;http://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#enveloping&quot;&gt;envelope encryption&lt;/a&gt; to protect data at the object or field level further.&lt;/p&gt;
&lt;h2&gt;Customer Specific, Managed Keys&lt;/h2&gt;
&lt;p&gt;The features of Managed Keys apply, but these keys are customer specific.  This may also imply that data is not able to be stored in a multi-tenant database (which the application code would need to support).  Separate keys could allow customers to monitor an event stream for key rotation and encryption/decryption operations.  Costs for extra keys and separate hardware could be passed on to the customer.&lt;/p&gt;
&lt;h2&gt;Customer Specific, Customer Managed Keys&lt;/h2&gt;
&lt;p&gt;Similar to Managed Keys, the customer manages these keys in their AWS account (e.g., &lt;a href=&quot;https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user_externalid.html&quot;&gt;How to Use an External ID When Granting Access to Your AWS Resources to a Third Party&lt;/a&gt;).  This also introduces an operational dependency between our application the customer managed key, which could result in loss of functionality or data and would affect support and contractual agreements like service level agreement (SLA).  Customers would also need to understand that the application has access to the unencrypted data, and this does not imply separate application servers or processing engines.&lt;/p&gt;
&lt;h2&gt;Pre Encryption&lt;/h2&gt;
&lt;p&gt;With this option, applications never sees unencrypted versions of data. However, this results in significant functionality loss and treats applications like a raw data store.  Since no processing nor business value can be applied to the data, this has limited customer value as well.  This is an unlikely option.&lt;/p&gt;
&lt;h2&gt;Diagram&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9959745c13b0c5549e992d5b4df49f37/5d6a0/EncryptionOptions.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.86486486486486%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABibAAAYmwFJdYOUAAACAUlEQVR42l2QbU/TABSF9xeN8Y+YqB+MMQZDSIwiMEUGyCIRSRADYiKvwWWjZWRs7MVNtrJRxurarmOUrV3L2se6xC+em3tu8iT35OaGCOS4t1iWjRvMf/I8D01TURQFXdf5X67r0u/3sf+24+INBkMeYmDTalSCxd90zesh9AcOnqVxUb+kVpWGoQENKnDfw7d02u02hmGgKjKanBseNQx0GiLkX1AvJjg93sPtXOLoJciMYp7tUxDW0Uu7pMU9zKaEayr4mTEsaYtsfJ3KzwTVk8/Ekhlk1SDUK32HbJhSYomVyAh2M0dPTgaBYeoHEaLjDzlPzBGZHOWy+AO3VcZPTWKkF1gav89WbIeNM5uxqRkO8hIhM7NKJ3KXhjBPeecVtlakKx1gTN+hdzIPyhp+dQUz9Q67LmCpFdqRe9wIE6Cu0ZBiZEoFYqcN6u0uoa4s0k+F+fD2OS9HHuBqBXpqkZtkmKY4R2x1gmbqI4nNJTrnR/SvZG5SM7SSs8S/TCHEFxGFab5tbVO6qBGyajEoRylsTiAuP2Wg5+k1TuB0Af1olo35JyjiLJ+mn6EUdnGvavi/opjZKNvvH7O8s8jY8SGP3rzmazoZ/NCQ6dQO8Vp5Bmqa224L+1odslsth9/K4apZrmsCTucCxzK5qiVxAoaRpdGsEK+W2ZeKyB2DPxx9MgWAVe2DAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Encryption Options&quot;
        title=&quot;&quot;
        src=&quot;/static/9959745c13b0c5549e992d5b4df49f37/fcda8/EncryptionOptions.png&quot;
        srcset=&quot;/static/9959745c13b0c5549e992d5b4df49f37/12f09/EncryptionOptions.png 148w,
/static/9959745c13b0c5549e992d5b4df49f37/e4a3f/EncryptionOptions.png 295w,
/static/9959745c13b0c5549e992d5b4df49f37/fcda8/EncryptionOptions.png 590w,
/static/9959745c13b0c5549e992d5b4df49f37/efc66/EncryptionOptions.png 885w,
/static/9959745c13b0c5549e992d5b4df49f37/c83ae/EncryptionOptions.png 1180w,
/static/9959745c13b0c5549e992d5b4df49f37/5d6a0/EncryptionOptions.png 1580w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Out with HPKP, in with CAA?]]></title><description><![CDATA[I hadn’t looked at HTTP Public Key Pinning (HPKP) in detail at until Pokemon Go vs. Certificate Pinning, and later realized how bad things…]]></description><link>https://kevinhakanson.com/2017-08-30-out-with-hpkp-in-with-caa/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-08-30-out-with-hpkp-in-with-caa/</guid><pubDate>Wed, 30 Aug 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I hadn’t looked at HTTP Public Key Pinning (HPKP) in detail at until &lt;a href=&quot;../2016-07-11-pokemon-go-vs-certificate-pinning&quot;&gt;Pokemon Go vs. Certificate Pinning&lt;/a&gt;, and later realized how bad things could get with &lt;a href=&quot;../2016-09-06-hpkp-and-ransompkp&quot;&gt;HPKP and RansomPKP&lt;/a&gt;.  Now, as I read &lt;a href=&quot;https://scotthelme.co.uk/im-giving-up-on-hpkp/&quot;&gt;I’m giving up on HPKP&lt;/a&gt; from Scott Helme (&lt;a href=&quot;https://twitter.com/Scott_Helme&quot;&gt;@Scott_Helme&lt;/a&gt;) I think I agree with this statement:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The problem with HPKP is that it can be quite a complex idea to get your head around and requires a perfect deployment otherwise things can go wrong.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So, what instead?  Maybe use &lt;a href=&quot;https://scotthelme.co.uk/certificate-authority-authorization/&quot;&gt;Certificate Authority Authorization&lt;/a&gt; (CAA), which is a DNS record that lists the Certificate Authorities (CAs) which are permitted to issue certificates for your domain.  Luckily for our AWS based projects, &lt;a href=&quot;https://aws.amazon.com/about-aws/whats-new/2017/08/amazon-route-53-now-supports-caa-records/&quot;&gt;Amazon Route 53 now supports CAA records&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Amazon RDS and IAM Policy Notes]]></title><description><![CDATA[As a follow up to Amazon RDS and Tag-Based Permissions, this document digs into an IAM policy that restricts by tag value. Took a look at…]]></description><link>https://kevinhakanson.com/2017-08-24-amazon-rds-and-iam-policy-notes/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-08-24-amazon-rds-and-iam-policy-notes/</guid><pubDate>Thu, 24 Aug 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;As a follow up to &lt;a href=&quot;../2017-04-27-amazon-rds-and-tag-based-permissions&quot;&gt;Amazon RDS and Tag-Based Permissions&lt;/a&gt;, this document digs into an IAM policy that restricts by tag value.&lt;/p&gt;
&lt;p&gt;Took a look at the AWS Managed (Predefined) Policies for Amazon RDS, including &lt;code class=&quot;language-text&quot;&gt;AmazonRDSFullAccess&lt;/code&gt; (see &lt;a href=&quot;http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAM.AccessControl.IdentityBased.html&quot;&gt;Using Identity-Based Policies (IAM Policies) for Amazon RDS&lt;/a&gt;), which includes &lt;code class=&quot;language-text&quot;&gt;Action&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;rds:*&lt;/code&gt; for &lt;code class=&quot;language-text&quot;&gt;Resource&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;*&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The following are the general formats for ARNs; the specific components and values used depend on the AWS service. (see &lt;a href=&quot;http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html#genref-arns&quot;&gt;Amazon Resource Names (ARNs) and AWS Service Namespaces&lt;/a&gt; )&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;arn:partition:service:region:account-id:resource&lt;br&gt;
arn:partition:service:region:account-id:resourcetype/resource&lt;br&gt;
arn:partition:service:region:account-id:resourcetype:resource&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;RDS has 11 ARN resource types (see &lt;a href=&quot;http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html#arn-syntax-rds&quot;&gt;Amazon Resource Names (ARNs) and AWS Service Namespaces&lt;/a&gt;).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;arn:aws:rds:region:account-id:db:db-instance-name&lt;br&gt;
arn:aws:rds:region:account-id:snapshot:snapshot-name&lt;br&gt;
arn:aws:rds:region:account-id:cluster:db-cluster-name&lt;br&gt;
arn:aws:rds:region:account-id:cluster-snapshot:cluster-snapshot-name&lt;br&gt;
arn:aws:rds:region:account-id:og:option-group-name&lt;br&gt;
arn:aws:rds:region:account-id:pg:parameter-group-name&lt;br&gt;
arn:aws:rds:region:account-id:cluster-pg:cluster-parameter-group-name&lt;br&gt;
arn:aws:rds:region:account-id:secgrp:security-group-name&lt;br&gt;
arn:aws:rds:region:account-id:subgrp:subnet-group-name&lt;br&gt;
arn:aws:rds:region:account-id:es:subscription-name&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Each RDS resource type has its own tag name, like &lt;code class=&quot;language-text&quot;&gt;db-tag&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;cluster-tag&lt;/code&gt; (see &lt;a href=&quot;http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAM.ResourcePermissions.html&quot;&gt;Amazon RDS API Permissions: Actions, Resources, and Conditions Reference&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;I tried to add &lt;code class=&quot;language-text&quot;&gt;StringEqualsIfExists&lt;/code&gt; for each RDS tag type, but fails with duplicate keys for &lt;code class=&quot;language-text&quot;&gt;StringEqualsIfExists&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;StringEqualsIfExists&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;rds:db-tag/xx:project-id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;StringEqualsIfExists&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;rds:cluster-tag/xx:project-id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Note&lt;/em&gt;: “You cannot use a wildcard in the portion of the ARN that specifies the resource type” (see &lt;a href=&quot;http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html#arns-paths&quot;&gt;Amazon Resource Names (ARNs) and AWS Service Namespaces&lt;/a&gt; ).  Since &lt;code class=&quot;language-text&quot;&gt;rds&lt;/code&gt; is service namespace and &lt;code class=&quot;language-text&quot;&gt;db&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;snapshot&lt;/code&gt; is the resource type, this syntax won’t work.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:*:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Therefore, you need to wildcard on resource name prefix (assuming all RDS resources are customer nameable vs. generated).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:db:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:cluster:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:es:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:og:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:pg:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:cluster-pg:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:secgrp:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:subgrp:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:snapshot:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:cluster-snapshot:123456-*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:*:ri:123456-*&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Note&lt;/em&gt;:  “Policies have a maximum size between 2048 characters and 10,240 characters, depending on what entity the policy is attached to.” (see &lt;a href=&quot;http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_grammar.html&quot;&gt;Grammar of the IAM Policy Language&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;rds:*&quot;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:123456789012:db:*&quot;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;StringEqualsIfExists&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;rds:db-tag/xx:project-id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456&quot;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;rds:*&quot;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:rds:*:123456789012:cluster:*&quot;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;token property&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;StringEqualsIfExists&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
               &lt;span class=&quot;token property&quot;&gt;&quot;rds:cluster-tag/xx:project-id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;123456&quot;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[AWS Chalice, Amazon API Gateway, and AWS IAM Authorization]]></title><description><![CDATA[I’ve wanted to take a hands-on look at Amazon API Gateway and the recent 1.0 release of aws/chalice: Python Serverless Microframework for…]]></description><link>https://kevinhakanson.com/2017-08-15-aws-chalice-amazon-api-gateway-and-aws-iam-authorization/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-08-15-aws-chalice-amazon-api-gateway-and-aws-iam-authorization/</guid><pubDate>Tue, 15 Aug 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I’ve wanted to take a hands-on look at &lt;a href=&quot;https://aws.amazon.com/api-gateway/&quot;&gt;Amazon API Gateway&lt;/a&gt; and the recent 1.0 release of &lt;a href=&quot;https://github.com/aws/chalice&quot;&gt;aws/chalice: Python Serverless Microframework for AWS&lt;/a&gt; pushed me over the edge.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The python serverless microframework for AWS allows you to quickly create and deploy applications that use Amazon API Gateway and AWS Lambda.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Since I am using the &lt;a href=&quot;https://docs.continuum.io/anaconda/&quot;&gt;Anaconda Distribution&lt;/a&gt; of Python, I needed to consult &lt;a href=&quot;https://conda.io/docs/using/envs.html&quot;&gt;Managing environments — Conda documentation&lt;/a&gt; for setting things up without using &lt;a href=&quot;https://virtualenv.pypa.io/en/stable/&quot;&gt;virtualenv&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ conda create &lt;span class=&quot;token parameter variable&quot;&gt;--name&lt;/span&gt; chalice &lt;span class=&quot;token assign-left variable&quot;&gt;python&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
$ &lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; activate chalice
$ pip &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; chalice
$ chalice new-project helloworld&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A simple &lt;code class=&quot;language-text&quot;&gt;app.py&lt;/code&gt; file was created for me…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; chalice &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Chalice

app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Chalice&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;app_name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;helloworld&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hello&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;world&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;…which I was able to easily deploy to our AWS account.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ chalice deploy
Initial creation of lambda function.
Creating role
Creating deployment package.
Initiating first &lt;span class=&quot;token function&quot;&gt;time&lt;/span&gt; deployment&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
Deploying to: api
https://fw7xjo57bc.execute-api.us-east-1.amazonaws.com/api/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I tested with curl and got the result I was expecting.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; https://fw7xjo57bc.execute-api.us-east-1.amazonaws.com/api/
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;world&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, this was now publicly exposed and I don’t want everyone to know about “Hello World”.  It was time to consult the documentation on how to secure my new API:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/apigateway/&quot;&gt;apigateway — AWS CLI 1.11.134 Command Reference&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://botocore.readthedocs.io/en/latest/reference/services/apigateway.html&quot;&gt;APIGateway — botocore 1.6.2 documentation&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I needed the &lt;code class=&quot;language-text&quot;&gt;resource-id&lt;/code&gt; of my GET method to add an authorizationType of &lt;code class=&quot;language-text&quot;&gt;AWS_IAM&lt;/code&gt; so only a valid AWS user in this account could call my API.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws apigateway get-resources --rest-api-id fw7xjo57bc
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;items&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;9y11coidb1&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;path&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;resourceMethods&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;GET&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

$ aws apigateway update-method &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --rest-api-id fw7xjo57bc &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --resource-id 9y11coidb1 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --http-method GET &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --patch-operations &lt;span class=&quot;token assign-left variable&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;replace&quot;&lt;/span&gt;,path&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/authorizationType&quot;&lt;/span&gt;,value&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;AWS_IAM&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But this didn’t work right away, so I had to deploy my changes before my curl was rejected.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws apigateway create-deployment --rest-api-id fw7xjo57bc --stage-name api
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;5pr2ed&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;createdDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1502815254&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; https://fw7xjo57bc.execute-api.us-east-1.amazonaws.com/api/
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Missing Authentication Token&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The docs for &lt;a href=&quot;http://docs.aws.amazon.com/general/latest/gr/signing_aws_api_requests.html&quot;&gt;Signing AWS API Requests&lt;/a&gt; had &lt;a href=&quot;http://docs.aws.amazon.com/general/latest/gr/sigv4-signed-request-examples.html#sig-v4-examples-get-auth-header&quot;&gt;Examples of the Complete Version 4 Signing Process (Python)&lt;/a&gt; but they weren’t working for me, so I used &lt;a href=&quot;https://github.com/jmenga/requests-aws-sign&quot;&gt;jmenga/requests-aws-sign: This package allows for AWS V4 request signing using the Python requests library&lt;/a&gt; instead.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ pip &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; requests
$ pip &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; requests_aws_sign&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Since naming things is hard, I created &lt;code class=&quot;language-text&quot;&gt;fw7xjo57bc.py&lt;/code&gt; to make the signed request.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; requests
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; requests_aws_sign &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; AWSV4Sign
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; boto3 &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; session

session &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Session&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
credentials &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_credentials&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
region &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;region_name &lt;span class=&quot;token keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;us-east-1&apos;&lt;/span&gt;
service &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;execute-api&apos;&lt;/span&gt;

url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://fw7xjo57bc.execute-api.us-east-1.amazonaws.com/api/&quot;&lt;/span&gt;
auth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; AWSV4Sign&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;credentials&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; region&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; service&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; requests&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; auth&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;auth&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It works!&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ python3 fw7xjo57bc.py 
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;world&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I then set authorizationType back to NONE, deployed, and tested again.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws apigateway update-method &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --rest-api-id fw7xjo57bc &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --resource-id 9y11coidb1 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --http-method GET &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --patch-operations &lt;span class=&quot;token assign-left variable&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;replace&quot;&lt;/span&gt;,path&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/authorizationType&quot;&lt;/span&gt;,value&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;NONE&quot;&lt;/span&gt;

$ aws apigateway create-deployment --rest-api-id fw7xjo57bc --stage-name api
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;xxtj1w&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;createdDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1502816441&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; https://fw7xjo57bc.execute-api.us-east-1.amazonaws.com/api/
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;world&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Using an &lt;code class=&quot;language-text&quot;&gt;authorizationType&lt;/code&gt; of &lt;code class=&quot;language-text&quot;&gt;AWS_IAM&lt;/code&gt; is only interesting for more “internal” or “infrastructure” APIs.  Most cases where API Gateway come up is for customer-facing, external API which needs either API Keys for &lt;a href=&quot;http://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-api-usage-plans.html&quot;&gt;Usage Plans&lt;/a&gt; or &lt;a href=&quot;http://docs.aws.amazon.com/apigateway/latest/developerguide/use-custom-authorizer.html&quot;&gt;Custom Authorizers&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Lastly, it was also just as easy to clean up after myself&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ chalice delete
Deleting rest API fw7xjo57bc
Deleting lambda &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; helloworld-dev
Delete the role helloworld-dev? &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;y/N&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;: y
Deleting role name helloworld-dev&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[The Frozen Caveman Antipattern]]></title><description><![CDATA[That “clickbait” headline is a reference to Unfrozen Caveman Lawyer and based on my favorite part of nealford.com • Knowledge Breadth versus…]]></description><link>https://kevinhakanson.com/2017-08-08-the-frozen-caveman-antipattern/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-08-08-the-frozen-caveman-antipattern/</guid><pubDate>Tue, 08 Aug 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;That “clickbait” headline is a reference to &lt;a href=&quot;https://en.wikipedia.org/wiki/Unfrozen_Caveman_Lawyer&quot;&gt;Unfrozen Caveman Lawyer&lt;/a&gt; and based on my favorite part of &lt;a href=&quot;http://nealford.com/memeagora/2015/09/08/knowledge-breadth-versus-depth.html&quot;&gt;nealford.com • Knowledge Breadth versus Depth&lt;/a&gt;.  However, the most relevant part is the lead up to this pyramid, which illustrates “enhanced breadth and shrinking depth for the architect role.”&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 430px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2200bc78dda47d73e5987a2fc66a1b2c/05ed2/pastedImage_5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.75675675675677%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACxUlEQVR42pWQW0hUURSGjzGDUQ+9RBikdIEwL5OlEhHdb0IPZRfoKR8qfIgaL2XqaDneJW9JZpYmYWZhPUhWGoFZRj4UZeKFcEYnndGxscHTeGaOM+f87bNPMxwrrTYs9lp7/+vb/9oMFEsURUw5pmg+Yh3Fu4H3GDANoG+4H6bxL/jw+SOJbvSSWlqSViA9ysUoi2luGq1drRgeG4Zh1EjCAKPFiMHRQRjMRhpybSAPmPDsbStYB+sz8xvQ6XSC53n865K0Us+cDl0u1yygd5oRK0vc2medeYFSz5xApUPvCCznxpseG151f8Uk66Fn3n/7q8NfR2Y5D+68dqPmJVDdLqLiuQj79H+MPBsooq7DjUuPBBS2CLjyREDiPYGABd/Y/wR0umRgR7+AM/Ui9M0gQBFpD0Wkk5DO2npkoqSdF8iRS9HDwzABJDeKSGrgoa21IrV+Atq6b9DetiGp/jsSGkT0mkG1HDcPkHc5ycfzKHpKgA+AlEYO2lsjOHtjCAm1FpyrHkJirRnJ90XktADjdh4z/B+A0p9IQzgcDhQ0jeHEtUnE35zE6SorTlVa5Lg+jpOVZpKbEV9tQxzRZDWOYYp10F7vv1Kg2yPQoqjmBZhwHRZvzoU6Wg9VVBbZs2moovTyLtUklzRMmA45VW1QMhjPz6Stsw+q0BQCTCORikWbLiNoXyECduZh6bYcBOzKx7LtuVi+Ox9LtuiphtGkwW/deTxu/+SDUocWqx2r95IXQy5CFZkBvwgd/KMzERRThJDYcmiOViDkUBmCD5ZhzYFi+phfRDrVSj2BO7JhMttkhzNuN/bEVYJZocWCUPJqcIocay9ATdwujMyE/8YMqDXp8Ce5er2O3nl1tCdQi63Hr4JzzYC529yFVTEFiDhWjvDDpb7QHClFWGwJcVaM0NhiRV5C75TaDaR35f481DR14gdIGhHGj4ofnQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;knowledge pyramid&quot;
        title=&quot;&quot;
        src=&quot;/static/2200bc78dda47d73e5987a2fc66a1b2c/05ed2/pastedImage_5.png&quot;
        srcset=&quot;/static/2200bc78dda47d73e5987a2fc66a1b2c/12f09/pastedImage_5.png 148w,
/static/2200bc78dda47d73e5987a2fc66a1b2c/e4a3f/pastedImage_5.png 295w,
/static/2200bc78dda47d73e5987a2fc66a1b2c/05ed2/pastedImage_5.png 430w&quot;
        sizes=&quot;(max-width: 430px) 100vw, 430px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;From the article (slightly reformatted):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Mark’s pyramid illustrates how fundamentally different the role of &lt;em&gt;architect&lt;/em&gt; compares to &lt;em&gt;developer&lt;/em&gt;. Developers spend their whole career honing expertise, and transitioning to the architect role means a shift in that perspective, which many architects find difficult. This in turn leads to two common dysfunctions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;First, an architect tries to maintain expertise in a wide variety of areas, succeeding in none of them and working themselves ragged in the process.&lt;/li&gt;
&lt;li&gt;Second, it manifests as &lt;em&gt;stale expertise&lt;/em&gt;–the mistaken sensation that your outdated information is still cutting edge. I see this often in large companies where the developers who founded the company have moved into leadership roles yet still make technology decisions using ancient criteria (I refer to this as the &lt;em&gt;Frozen Caveman Antipattern&lt;/em&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;As I have been spending more time on “cloud” and “security” topics, I feel my “front-end” and “JavaScript” skills have atrophied a bit.  That’s OK for my projects because there are experts to fill the void, but it is an uneasy feeling for me.&lt;/p&gt;
&lt;p&gt;Anyone else concerned with being classified a “Frozen Caveman?”&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ffb375f1a023bf11611143b6fccd4bb3/c08c5/1238985.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABZsqeHKhX/8QAGhABAAIDAQAAAAAAAAAAAAAAAgABAxETMf/aAAgBAQABBQIDniDILyVvdxeqf//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AUf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAeEAABAQkAAAAAAAAAAAAAAAAAAQIQEiEiMTJBof/aAAgBAQAGPwJurJCFdkl4Xf8A/8QAGxAAAgMBAQEAAAAAAAAAAAAAAAERITFBUXH/2gAIAQEAAT8hRIlRmDMxxa+Hn0dCgVjL6aP/2gAMAwEAAgADAAAAECjf/8QAFxEBAAMAAAAAAAAAAAAAAAAAARARIf/aAAgBAwEBPxAMbh//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPxBn/8QAHBAAAgICAwAAAAAAAAAAAAAAAREAITFBcZHw/9oACAEBAAE/ED0qAF43CDCnREM91CQagOy9w4FBCT1CKKIpYdKYeJ//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Frozen Caveman Lawyer&quot;
        title=&quot;&quot;
        src=&quot;/static/ffb375f1a023bf11611143b6fccd4bb3/1c72d/1238985.jpg&quot;
        srcset=&quot;/static/ffb375f1a023bf11611143b6fccd4bb3/a80bd/1238985.jpg 148w,
/static/ffb375f1a023bf11611143b6fccd4bb3/1c91a/1238985.jpg 295w,
/static/ffb375f1a023bf11611143b6fccd4bb3/1c72d/1238985.jpg 590w,
/static/ffb375f1a023bf11611143b6fccd4bb3/c08c5/1238985.jpg 640w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[DataDog APM Tracing HTTP Headers]]></title><description><![CDATA[Update: Might be obsolete based on Datadog + OpenTracing: Embracing the open standard for APM from December 6, 2017 Do the DataDog APM…]]></description><link>https://kevinhakanson.com/2017-08-07-datadog-apm-tracing-http-headers/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-08-07-datadog-apm-tracing-http-headers/</guid><pubDate>Mon, 07 Aug 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; Might be obsolete based on &lt;a href=&quot;https://www.datadoghq.com/blog/opentracing-datadog-cncf/&quot;&gt;Datadog + OpenTracing: Embracing the open standard for APM&lt;/a&gt; from December 6, 2017&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Do the &lt;a href=&quot;https://www.datadoghq.com/apm/&quot;&gt;DataDog APM&lt;/a&gt; tracing headers to see if they match &lt;a href=&quot;https://github.com/openzipkin/b3-propagation&quot;&gt;Zipkin&lt;/a&gt; (&lt;code class=&quot;language-text&quot;&gt;X-B3-*&lt;/code&gt;) or OpenTracing or &lt;a href=&quot;http://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-tracingheader&quot;&gt;AWS X-Ray&lt;/a&gt; (&lt;code class=&quot;language-text&quot;&gt;X-Amzn-Trace-Id&lt;/code&gt;) or anything else? Of course not, they use &lt;code class=&quot;language-text&quot;&gt;x-ddtrace-*&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;It’s hard to find the docs, but look in the &lt;a href=&quot;https://github.com/DataDog/dd-trace-py/blob/bb4812f13f8bb5b28f3c3f4d7aa5ee2b7d319db6/docs/index.rst&quot;&gt;official Python source&lt;/a&gt; and find them:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;parent_trace_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;‘x&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ddtrace&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;parent_trace_id‘&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
parent_span_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;‘x&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ddtrace&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;parent_span_id‘&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Also, the &lt;a href=&quot;https://github.com/chonton/apm-client/blob/19adc8e6c442cb463d0422d05574348042ba68ee/README.md&quot;&gt;unofficial Java&lt;/a&gt; documents them:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The TraceServletFilter traces every incoming request. If the client request includes the &lt;strong&gt;x-ddtrace-parent_trace_id&lt;/strong&gt; and &lt;strong&gt;x-ddtrace-parent_span_id&lt;/strong&gt; headers, that indicated span is used as the parent trace and span. Otherwise, a new trace is created. Once the request is complete, the new span or trace is closed and sent to Datadog APM.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Could the Bitcoin "SegWit 2x" fork be the start of a "51% Attack"?]]></title><description><![CDATA[Update:  Bitcoin Segwit2x hard fork suspended | ZDNet First read The ultimate, 3500-word, plain English guide to blockchain all the way to…]]></description><link>https://kevinhakanson.com/2017-07-24-could-the-bitcoin-segwit-2x-fork-be-the-start-of-a-51-attack/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-07-24-could-the-bitcoin-segwit-2x-fork-be-the-start-of-a-51-attack/</guid><pubDate>Mon, 24 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt;  &lt;a href=&quot;http://www.zdnet.com/article/bitcoin-segwit2x-hard-fork-suspended/&quot;&gt;Bitcoin Segwit2x hard fork suspended | ZDNet&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;First read &lt;a href=&quot;https://thenextweb.com/evergreen/2017/07/04/ultimate-3500-word-plain-english-guide-blockchain/&quot;&gt;The ultimate, 3500-word, plain English guide to blockchain&lt;/a&gt; all the way to the end where the author talks about a “51% Attack.”&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The ability of someone controlling a majority of network hash rate to revise transaction history and prevent new transactions from confirming.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Then read &lt;a href=&quot;https://thenextweb.com/contributors/2017/07/24/ultimate-guide-upcoming-fork-thats-splitting-bitcoin-community/&quot;&gt;Your ultimate guide to the upcoming fork that’s splitting the Bitcoin community&lt;/a&gt; and compare the SegWit fork (favored by users) against the SegWit2 fork (favored by miners).&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/13a9d6f499cd7ba2c271390af8413cf9/d48f1/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.51351351351351%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABd0lEQVR42qVS226CQBDl/7+h9dVUY4w1+AEmhgeftJq0D5RSqVxUdrkssAvL9gDWJm1qm3RIJofZMztnDmjqH6FdPxaizPO8KIqqqoqCA5dlKbgAEEL80hzSQ8oSxrKQnI5hkCRJFEWHk5dlGWPsx+Yaj1L7o+UGu1qqjCduaMmqKZv7DaGkqqTGhejEtMIKzrmUEhkYRfRDNcBkcn97c9vr9YbDIV7R0uzM0hS8NE0jSoHjJInjGJryNs4ilPI8b+fsHMdxXbeu67NhznYbBkGlVOz7xHFQxtDX9RrrdZOvuQ0GVsfw9WplGMZyuTRNsxQCRRxjFxBkG7AXGGO7IrLWaYDs6XSq6/poNFosFo3WlpTljasIuAvbsRQwyMiEEK3jfbW6DYAXK4hoWpackDTw4vbL86fHN9wWRVS7sKuPgMK20tQjynw/qGtpPdvzubHZPNi2HceMUooW7S+/Ia6bzfTB4K7f74/H40+3r7d93+giSin1DkKS63Ae9uUgAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Bitcoin fork&quot;
        title=&quot;&quot;
        src=&quot;/static/13a9d6f499cd7ba2c271390af8413cf9/fcda8/pastedImage_3.png&quot;
        srcset=&quot;/static/13a9d6f499cd7ba2c271390af8413cf9/12f09/pastedImage_3.png 148w,
/static/13a9d6f499cd7ba2c271390af8413cf9/e4a3f/pastedImage_3.png 295w,
/static/13a9d6f499cd7ba2c271390af8413cf9/fcda8/pastedImage_3.png 590w,
/static/13a9d6f499cd7ba2c271390af8413cf9/d48f1/pastedImage_3.png 796w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If you buy into the argument that only those “with enough money to upgrade their computation power” will survive, then it seems like this could be the first step for a “51% Attack” on Bitcoin by state-level actors?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/63978a0418d57ebb74899a06d046fada/9f82e/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9ElEQVR42qVU227TQBDNL/IPfAD/wDsPvFYighdAlRoUitpGFeUipNAWRAJJaKrUd8eX+O7d9dreNbbXsZ2QUhDzMPKM5+yeOTu7new/rLMzCxFK07QOAQSEkFvBlNI6RSk5OXolCgsWogi86e+vLJ2VMWvAVVD44gPH8OvH/lKaVduG9uW7nmWKNZiVVeCcIS+KSZJk6zSEG7QhhDltWv40TGM0HjVgzzUPXuytVmrNgma03VuVLP3V5POg9wTHYQWGocNNhgg4a/IbEmyFMYaBZ28K9hcHw1ZAMBJuBBzhRjCEwNZuO8DlaY1O9p89uKfMJxUYIXh6euwHXqEtAKIoGoYuy5Jl2bquq6qq65osyziKCoGksf/pcYTWPbu2+v5117XkJCWKLOfVQmmKokiSxPN8jlwsFhzHkYT0p9ePBt2ZZja0A4DvpF0de4RVy0zKFkpwijPIURr/82yjJIuVITi7T53vTJY7ZGv5ThBCS53eDJ8GjrA1DzuHxPW888sLdk86UeCf8drDt+PzZXH05PbOGVgSZoNeNwR2Cc4txo7rp2tYCMBS09oARVV9368mLALWUqQk3b7PrHR+NT46fJmTqNPHh8+nPy5+b6fT7od5Q76ef/tASCU+IYnw84ut882I/uElyZdIyUYRaT0AbfAvfhCDoqr/BmIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;RIP&quot;
        title=&quot;&quot;
        src=&quot;/static/63978a0418d57ebb74899a06d046fada/fcda8/pastedImage_2.png&quot;
        srcset=&quot;/static/63978a0418d57ebb74899a06d046fada/12f09/pastedImage_2.png 148w,
/static/63978a0418d57ebb74899a06d046fada/e4a3f/pastedImage_2.png 295w,
/static/63978a0418d57ebb74899a06d046fada/fcda8/pastedImage_2.png 590w,
/static/63978a0418d57ebb74899a06d046fada/9f82e/pastedImage_2.png 820w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Alternatively, maybe I watched too much &lt;a href=&quot;http://www.imdb.com/title/tt0243069/&quot;&gt;The Lone Gunmen&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b48b0714554dc960e9f54830749e348d/c08c5/1220268.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.10810810810811%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEA//EABUBAQEAAAAAAAAAAAAAAAAAAAMA/9oADAMBAAIQAxAAAAGZZGNNycg//8QAGRAAAwEBAQAAAAAAAAAAAAAAAAECEiEx/9oACAEBAAEFAlll5FXBsnz/xAAXEQADAQAAAAAAAAAAAAAAAAAAARED/9oACAEDAQE/AVo5CH//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEv/aAAgBAgEBPwGT/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEQESFxgf/aAAgBAQAGPwLDHRqOR//EABsQAAIDAQEBAAAAAAAAAAAAAAABESFhUUHB/9oACAEBAAE/IdS+krknn0U4LA3SwbaVetEUT//aAAwDAQACAAMAAAAQbD//xAAXEQEBAQEAAAAAAAAAAAAAAAABABFR/9oACAEDAQE/EAcJG3//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QRsl//8QAHRABAQACAgMBAAAAAAAAAAAAAREAITGRQVFhcf/aAAgBAQABPxBQ8EAOVWz81iCcG1dw5OWxpJXVDh6xDd8d5fFUINw6uXEq1X3vP//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;The Lone Gunmen&quot;
        title=&quot;&quot;
        src=&quot;/static/b48b0714554dc960e9f54830749e348d/1c72d/1220268.jpg&quot;
        srcset=&quot;/static/b48b0714554dc960e9f54830749e348d/a80bd/1220268.jpg 148w,
/static/b48b0714554dc960e9f54830749e348d/1c91a/1220268.jpg 295w,
/static/b48b0714554dc960e9f54830749e348d/1c72d/1220268.jpg 590w,
/static/b48b0714554dc960e9f54830749e348d/c08c5/1220268.jpg 640w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Blockchain Programming vs. Web Development]]></title><description><![CDATA[Have a read through A hacker stole $31M of Ether — how it happened, and what it means for Ethereum, but make sure to get to section 3 where…]]></description><link>https://kevinhakanson.com/2017-07-21-blockchain-programming-vs-web-development/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-07-21-blockchain-programming-vs-web-development/</guid><pubDate>Fri, 21 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Have a read through &lt;a href=&quot;https://medium.freecodecamp.org/a-hacker-stole-31m-of-ether-how-it-happened-and-what-it-means-for-ethereum-9e5dc29e33ce&quot;&gt;A hacker stole $31M of Ether — how it happened, and what it means for Ethereum&lt;/a&gt;, but make sure to get to section 3 where it compares the mantra of “move fast and break things” vs. the irrevertible code in a smart contact.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The problem is, &lt;strong&gt;blockchain programming is fundamentally different from web development&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Web development is far more forgiving. When you push bad code to a web server, it’s not a big deal if there’s a critical mistake — you can just roll back the code, or roll forward with a fix, and all is well because you control the server. Or if the worst happens and there’s an active breach or a data leak, you can always stop the bleeding by shutting off your servers and disconnecting yourself from the network.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;And before you think “our developers are better, this wouldn’t happen to us”, read this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.parity.io/the-multi-sig-hack-a-postmortem/&quot;&gt;The developers here&lt;/a&gt; were a cross-collaboration between the Ethereum foundation (literally the creators of Ethereum), the Parity core team, and members of the open-source community. It underwent extensive peer review. This is basically the highest standard of [programming] that exists in the Ethereum ecosystem.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Not sure the takeaway here, other than to be cautious about over-committing on any blockchain / smart contract initiatives.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Penetration Testing, Secure Code Review, and Secure Design Review (Threat Modeling)]]></title><description><![CDATA[Software Security Initiative Capabilities: Getting Started mentions three common security capabilities: Penetration testing Code review Some…]]></description><link>https://kevinhakanson.com/2017-07-20-penetration-testing-secure-code-review-and-secure-design-review-threat-modeling/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-07-20-penetration-testing-secure-code-review-and-secure-design-review-threat-modeling/</guid><pubDate>Thu, 20 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://www.synopsys.com/blogs/software-security/software-security-initiative-capabilities/&quot;&gt;Software Security Initiative Capabilities: Getting Started&lt;/a&gt; mentions three common security capabilities:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Penetration testing&lt;/li&gt;
&lt;li&gt;Code review&lt;/li&gt;
&lt;li&gt;Some sort of secure design review (e.g., threat modeling)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Tools can help some - Dynamic Analysis (DAST) for pen testing and Static Analysis (SAST) for code review - but don’t catch everything.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/63436e44aa7881034a56e05efc83b43d/8608d/pastedImage_12.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAAB2JtLSQX/xAAXEAEBAQEAAAAAAAAAAAAAAAACAwET/9oACAEBAAEFAqGBTEDghFGvNqnNYKTI/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Bh//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABsQAAMAAgMAAAAAAAAAAAAAAAABEgIRIjGx/9oACAEBAAY/ApeInAnBvfouXQlR/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARITFBUf/aAAgBAQABPyGnAZ2xLgdNMGP66RTQUKyM4pHjP//aAAwDAQACAAMAAAAQBP8A/8QAFREBAQAAAAAAAAAAAAAAAAAAEHH/2gAIAQMBAT8Qo//EABYRAAMAAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxChf//EAB8QAQACAgICAwAAAAAAAAAAAAEAESExUXFBYZGx0f/aAAgBAQABPxDCzBR4+YhsDOFw68+osYNl2P3Nm6B4nUwiDXVNaO4WxVWPyn//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;SAST vs DAST&quot;
        title=&quot;&quot;
        src=&quot;/static/63436e44aa7881034a56e05efc83b43d/1c72d/pastedImage_12.jpg&quot;
        srcset=&quot;/static/63436e44aa7881034a56e05efc83b43d/a80bd/pastedImage_12.jpg 148w,
/static/63436e44aa7881034a56e05efc83b43d/1c91a/pastedImage_12.jpg 295w,
/static/63436e44aa7881034a56e05efc83b43d/1c72d/pastedImage_12.jpg 590w,
/static/63436e44aa7881034a56e05efc83b43d/8608d/pastedImage_12.jpg 638w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/82d16e58557a5e252de1e0fb339376d5/8608d/6-most-common-threat-modeling-misconceptions-4-638.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB2FPCbkjX/8QAGBABAAMBAAAAAAAAAAAAAAAAAgABERL/2gAIAQEAAQUCXWm2odykXCKM2p//xAAVEQEBAAAAAAAAAAAAAAAAAAAQcf/aAAgBAwEBPwGH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHRAAAgIBBQAAAAAAAAAAAAAAAAERIQIQM1Fxov/aAAgBAQAGPwKs0l0bnktyQc6f/8QAHBABAAICAwEAAAAAAAAAAAAAAQARIVExQXHh/9oACAEBAAE/ITc6RnEKoe/UAx3sKlmMvcUu31BuJ//aAAwDAQACAAMAAAAQrw//xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8QVcj/xAAYEQACAwAAAAAAAAAAAAAAAAABERBhof/aAAgBAgEBPxAFmlsf/8QAGhABAQEBAQEBAAAAAAAAAAAAAREAIVGBMf/aAAgBAQABPxAY1Fuhz25YGBeJcKHQ2Q/NQkDiIn3OUyQ8Ylrgz83/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Security Defects Uncovered in Practice&quot;
        title=&quot;&quot;
        src=&quot;/static/82d16e58557a5e252de1e0fb339376d5/1c72d/6-most-common-threat-modeling-misconceptions-4-638.jpg&quot;
        srcset=&quot;/static/82d16e58557a5e252de1e0fb339376d5/a80bd/6-most-common-threat-modeling-misconceptions-4-638.jpg 148w,
/static/82d16e58557a5e252de1e0fb339376d5/1c91a/6-most-common-threat-modeling-misconceptions-4-638.jpg 295w,
/static/82d16e58557a5e252de1e0fb339376d5/1c72d/6-most-common-threat-modeling-misconceptions-4-638.jpg 590w,
/static/82d16e58557a5e252de1e0fb339376d5/8608d/6-most-common-threat-modeling-misconceptions-4-638.jpg 638w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;However, there aren’t tools for secure design reviews, and this requires a subject matter expert (SME).  The threat modeling process involves documenting the architecture and diagraming the application to help to identify threats.  This same information would be needed by both secure code reviews and penetration testing later in the SDLC.&lt;/p&gt;
&lt;p&gt;Related Links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.safaribooksonline.com/library/view/agile-application-security/9781491938836/ch08.html#threat_assessments&quot;&gt;8. Threat Assessments and Understanding Attacks - Agile Application Security, 1st Edition [Book]&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.safaribooksonline.com/library/view/threat-modeling-designing/9781118810057/&quot;&gt;Threat Modeling: Designing for Security [Book]&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.slideshare.net/cisoplatform7/application-security-architecture-and-threat-modelling&quot;&gt;Application Security Architecture and Threat Modelling&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.slideshare.net/Cigital/6-most-common-threat-modeling-misconceptions&quot;&gt;Shedding Light Onto the 6 Top Threat Modeling Misconceptions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Application Security Testing: SAST, DAST, and IAST]]></title><description><![CDATA[Definitions from Magic Quadrant for Application Security Testing  Gartner defines the application security testing (AST) market as the…]]></description><link>https://kevinhakanson.com/2017-07-20-application-security-testing-sast-dast-and-iast/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-07-20-application-security-testing-sast-dast-and-iast/</guid><pubDate>Thu, 20 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Definitions from &lt;a href=&quot;https://www.utest.com/articles/magic-quadrant-for-application-security-testing&quot;&gt;Magic Quadrant for Application Security Testing&lt;/a&gt; &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Gartner defines the application security testing (AST) market as the buyers and sellers of products and services designed to analyze and test applications for security vulnerabilities. Gartner identifies three main styles of AST:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Static AST (SAST) technology analyzes an application’s source, bytecode or binary code for security vulnerabilities, typically at the programming and/or testing phases of the software development life cycle (SDLC).&lt;/li&gt;
&lt;li&gt;Dynamic AST (DAST) technology analyzes applications in their dynamic running state during testing or operational phases. It simulates attacks against an application (typically web-enabled applications and services) and analyzes the application’s reactions to determine whether it is vulnerable.&lt;/li&gt;
&lt;li&gt;Interactive AST (IAST) technology combines inside-out observation of a running application being tested with DAST simultaneously. It is typically implemented as an agent within the test runtime environment (for example, instrumenting the Java Virtual Machine [JVM] or .NET CLR) that observes operation or attacks from within the application and identifies vulnerabilities.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;How is Veracode?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Veracode is a well-established global AST provider with a strong presence in the North American market as well as presence in the European market. Veracode’s offering includes SAST, DAST and SCA cloud services, as well as IAST (and RASP).&lt;br&gt;
In the last 12 months, Veracode launched Greenlight, a SAST service to be used early on in the development process by integrating into the IDE to scan an individual class or file. In addition to Greenlight, Veracode provides the Developer Sandbox, which can statically scan an application or component and measure results without impacting or penalizing developer metrics. Veracode focused some of its recent efforts on extending its language and framework support, as well as SDLC integration, and most recently it announced a single instrumentation agent to provide IAST and RASP capabilities.&lt;br&gt;
Veracode will meet the requirements of organizations looking for a broad set of AST services and that want support for their AST and SCA from a third-party expert with a comprehensive AST solution.&lt;/p&gt;
&lt;p&gt;STRENGTHS&lt;br&gt;
Gartner clients highly rate the ease of use of the solution, as well as the vendor’s support and willingness to work with customer requirements.&lt;br&gt;
Veracode provides a comprehensive AST-as-a-cloud service. The results of all types of testing can be integrated into a single dashboard to simplify vulnerability management and remediation.&lt;br&gt;
For integration into SDLC processes, Veracode offers built-in integration with multiple IDEs, bug-tracking systems and build servers, as well as APIs for integration, Greenlight and the Developer Sandbox.&lt;/p&gt;
&lt;p&gt;CAUTIONS&lt;br&gt;
Veracode does not offer AST tools, only AST as a service, though it provides a virtual scan appliance that can be located on the client’s network to support discovery and testing of internal applications, with scanning configured and controlled via the cloud service.&lt;br&gt;
Veracode SAST requires byte/binary code for analysis of compiled languages, such as Java, C/C# and Objective-C. This requires the application to be compiled before being shipped to Veracode for analysis.&lt;br&gt;
Veracode’s IAST is still on early availability and needs to establish itself in the market.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Finding Publicly Exposed Amazon S3 Buckets]]></title><description><![CDATA[You may have read recent news about millions of Verizon customers having their data exposed (see Experts Warn Too Often AWS S3 Buckets Are…]]></description><link>https://kevinhakanson.com/2017-07-19-finding-publicly-exposed-amazon-s3-buckets/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-07-19-finding-publicly-exposed-amazon-s3-buckets/</guid><pubDate>Wed, 19 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;You may have read recent news about millions of Verizon customers having their data exposed (see &lt;a href=&quot;https://threatpost.com/experts-warn-too-often-aws-s3-buckets-are-misconfigured-leak-data/126826/&quot;&gt;Experts Warn Too Often AWS S3 Buckets Are Misconfigured, Leak Data&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Possibly, people are confused about what the &lt;strong&gt;Authenticated Users group&lt;/strong&gt; means. From &lt;a href=&quot;http://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html&quot;&gt;Access Control List (ACL) Overview - Amazon Simple Storage Service&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Represented by &lt;a href=&quot;http://acs.amazonaws.com/groups/global/AuthenticatedUsers&quot;&gt;http://acs.amazonaws.com/groups/global/AuthenticatedUsers&lt;/a&gt;.&lt;br&gt;
This group represents all AWS accounts. Access permission to this group allows any AWS account to access the resource. However, all requests must be signed (authenticated).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This doesn’t just mean IAM Users from their account, but &lt;em&gt;any&lt;/em&gt; user from &lt;em&gt;any&lt;/em&gt; AWS account.&lt;/p&gt;
&lt;p&gt;How do we check this on our accounts?  There are a couple of options.&lt;/p&gt;
&lt;p&gt;Use a &lt;a href=&quot;http://www.capitalone.io/cloud-custodian/docs/policy/resources/s3.html&quot;&gt;Cloud Custodian S3 filter &lt;/a&gt; with a &lt;code class=&quot;language-text&quot;&gt;policy.yml&lt;/code&gt; like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;policies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; s3&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;global
  &lt;span class=&quot;token key atrule&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; s3
  &lt;span class=&quot;token key atrule&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Publicly Exposed S3 Buckets
  &lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; global&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;grants&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then run the &lt;a href=&quot;https://github.com/capitalone/cloud-custodian&quot;&gt;custodian&lt;/a&gt; tool and use &lt;a href=&quot;https://stedolan.github.io/jq/&quot;&gt;jq&lt;/a&gt; to filter the output, I find a bucket (names changed to protect the innocent).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ custodian run --output-dir&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;. policy.yml &lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;us-west-2

$ jq &lt;span class=&quot;token string&quot;&gt;&apos;.[].Name&apos;&lt;/span&gt; s3-global/resources.json
&lt;span class=&quot;token string&quot;&gt;&quot;project1-test-bucket1&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Amazon also has a utility called &lt;a href=&quot;https://aws.amazon.com/premiumsupport/trustedadvisor/&quot;&gt;Trusted Advisor&lt;/a&gt; that can report on several items, including &lt;strong&gt;Amazon S3 Bucket Permissions&lt;/strong&gt;.  That has both a Console UI and is callable via API or CLI (via &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/support/describe-trusted-advisor-check-result.html&quot;&gt;describe-trusted-advisor-check-result&lt;/a&gt;):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws support describe-trusted-advisor-check-result &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--check-id Pfx0RwqBli &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--query&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;result.flaggedResources[*].metadata[2]&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;project1-portal-ui&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;project1-test-bucket1&quot;&lt;/span&gt;,
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, that list has 2 items vs. the 1 which Cloud Custodian found using its global-grants filter.  It appears that Cloud Custodian is filtering out buckets set up for website hosting (see &lt;a href=&quot;https://docs.aws.amazon.com/AmazonS3/latest/dev/WebsiteHosting.html&quot;&gt;Hosting a Static Website on Amazon S3&lt;/a&gt;), which seems like a valid result.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 309px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c00af066905dc9e6e25efbdc3e7f3902/532e8/pastedImage_140.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACPklEQVR42o1U13LiQBD0v9+33A/cw71elQn2kSSEEFgCESSSrEBQTn2zK4KxryhvMaWp2dne6Z5ZnjzPQxAE3E6nE7z9HofjEfvDgfss5vv+1YLgq8/ORlGEA515YofZKsuSfwv6/s9/tC45juPgiVXBVqPRQL3eQKvVwmAgY75Y4LXVxp/nGgRBwMtLEz1Bgkx7siyj1xN4riiIWBqrG6B7BlQUBe12B91uF31pAG2q47lWR63ZrA6KInqihPlsjn6/j7+Uq2kaXmm/3RXuAeMsu6OZFwW38kz5EW2+T7lsua5bAUZpSk048mYcqAkuNcom80hkm5KY8FEUI4pj+OcGhEGIMAwRUyxJ0g+AdDDJM8zmc0jyAPrCwPhtDIVsSvSYXspwCJ32mVYjipvGEm+qBpUoL00T2611o8zGI0wSJFmOia6T8AIl6hirKuShjKk+g6pOMBqr0CYa6TalPQ2j0QiiJHNml8UrZDPEdIsI1CcKjHJAlBi9gmmZF8josjyvjMWKIieaCVKSqjjrdwd4J/L5G2cFJPMEZRPA9GL0yX/307ucz3N4q7AorxVcLCM7hQnCOEWSZiRLxmWpKiw+VFv5XypkQT4C5/urUSirH8UZzc+XXi+nsbsCbk0LP3/8grvdQ1boJQwVdGi49emU/CG9kh7G4xEfm289Pdf20PktIzxG9GfgwrYdWNY7fGqOQzeypM1mzZv0LcA1JTt7G+v1GrvdjsCYWQSygbWrfBZfr1YwaeYemWEY+AeSMHJo7GQS9AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;S3 Static website hosting&quot;
        title=&quot;&quot;
        src=&quot;/static/c00af066905dc9e6e25efbdc3e7f3902/532e8/pastedImage_140.png&quot;
        srcset=&quot;/static/c00af066905dc9e6e25efbdc3e7f3902/12f09/pastedImage_140.png 148w,
/static/c00af066905dc9e6e25efbdc3e7f3902/e4a3f/pastedImage_140.png 295w,
/static/c00af066905dc9e6e25efbdc3e7f3902/532e8/pastedImage_140.png 309w&quot;
        sizes=&quot;(max-width: 309px) 100vw, 309px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[The Geographical Center of the United States and IP Addresses]]></title><description><![CDATA[Do you remember Internet mapping turned a remote farm into a digital hell | Fusion? Some summary points from the article: When MaxMind was…]]></description><link>https://kevinhakanson.com/2017-07-06-the-geographical-center-of-the-united-states-and-ip-addresses/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-07-06-the-geographical-center-of-the-united-states-and-ip-addresses/</guid><pubDate>Thu, 06 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Do you remember &lt;a href=&quot;http://fusion.net/story/287592/internet-mapping-glitch-kansas-farm/&quot;&gt;Internet mapping turned a remote farm into a digital hell | Fusion&lt;/a&gt;? Some summary points from the article:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;When MaxMind was first choosing the default point on its digital map for the center of the U.S., it decided to clean up the measurements and go with a simpler, nearby latitude and longitude: 38°N 97°W or 38.0000,-97.0000.&lt;/li&gt;
&lt;li&gt;Every time MaxMind’s database has been queried about the location of an IP address in the United States it can’t identify, it has spit out the default location of a spot two hours away from the geographic center of the country.&lt;/li&gt;
&lt;li&gt;There are now over 600 million IP addresses associated with that default coordinate.&lt;/li&gt;
&lt;li&gt;This happens to be in the front yard of Joyce Taylor’s house.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Well, it looks like that is no longer the case: &lt;a href=&quot;http://fusion.kinja.com/this-is-the-new-digital-center-of-the-united-states-1793856143&quot;&gt;This is the new digital center of the United States&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 429px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4b7dfa19c42bf7009539d97111812f2b/3d026/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 140.54054054054052%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE2klEQVR42o1V2VIbRxTl/78gD3lNJS6HmE0WYpGwQxXGwTZ2YiAghNYZabSMNJqt15PTPRhXXmyr6qq7Z7pPn3vuMhvTTKHZWeHP7gqnvQSvOV6GmZ+fDdZo8V2rs8Q4lXA/i2//Nqy1yIVEXkoUQiEtSqR5ybV4eiaNhbbfg3oENMZgsZhjOo2wXC4RhgH6/T6C0QjDwQDjcAzLPT/623B/WZYRcIo4jv3Y6XQwIFi7fYd+Z4hVOK3cNfbHAIuiwGw28wzn8zkmkwlZL/w8iiKyDp9MKfVtQK01oukMQ7roDrt5p/OAPhmOggABzQH1ej0vhfPguwyNktBS+NHyAsXRaAklJSTNsRJCcC78+puA81zhfJDiIkjxgelyMUpxOc58Ko0SUWln8eNBEcpgvC4QpSXCJMc4KTBn2gyWGeJcOPoE1NzqjPppVWXj07NHs8rfvAFbYL0cQJQRD08YSZqe8OUURgSQi3u6PCHOmHtGWI+vkC0foE1EmQLayL9z5rA2jGbKRNy4jnhwRAv5khs1I+rA8j7nYxINUeRDLON7LIafIDM+534thhxDiKIHKRKX2DlTJESyIpjo+1utjSBXbSTxP2Qy8Qe+mHuXrbuY9T5C5l1/mRYDyLLPIK5d6ZUoiyHRAw9WkEHB9Xp+g1V+W7FzZsZkz8My9M9kyTOzz/Sg9+h2SJczByi8bu6BsRMk0R2C2wuM2++pWcBndDXrIScrRfcU2WhJRhxnD++QTm68noJraxKX2Dk3d0iXm1NqlnYg59dQ0yvoxR1MfIcsHyDJHdio0peeONaC7+Sy/RigUQUoZU6hH+gCqWseSBjB0zrU1m/Q25sw9V2YV/uw4Wd2nKkHUzQpKUFG1ivKYnhO9gi4qjQ0dEEbakP9zN4fMC/3oA8b0HWOjRpUbQ/q+a/Q9+9hMEeadFmi9yhX9yRA0451v2JoGWUXXUUdTbNGsDpM6wi2eQBzfETAl9AHdeh9js9/gVpSFkY6TQfI4jZKrp32LoWscVE2BfOc0Ztcw+y8gDlpwhztI28Q7OiAwEcEPuTzY+jdbci3BxCM7CoZYBLeYDZipDNesqbeMiYgg+IBHy5htl5At5rA8T6Sxgluf/oZWW2XoAQ8blRSnB0yVZha03+RMcGjv5tM9L+gGQOjk68Mbf8T7DYZvmrxMJm1DjHdbSAlU0sJTOuYAaLr503uj5DQo7j7EcvBGbLZOYrwHUy5qBhKNUAaXkFsPqNWNejaFtTLHZj9XQaGVtuhlmT3+zPIjycoszayuzc+V2ftM8jhW+TdN9DFrAqK02TOdClPGYidbWinI1k6DRXNsdN1XlTf4iFXYj1qxuhGVyivTyhBx2eJ8VFm2rhOYVkRpmT6vGKUt7dgGvuMLnVrMH32HMtNaOqmuc8lseCZeHJLt8/ZGG6YKR12qdUXwPCxHoOq2G/fkiX1OmIaHZPZh9fQrCBlw6d2JVj7a+Zt1LtEPL0hOxL6H6BrRbJqRRqsCJdbrjW5CxgErfoezJWca22Weyxblmal+JRhLlubVlFW8lEX8VDNBTc6k11fUtq3tR5Kdpq0CNmdRvz0DpEu2lhPr5nk7E4xS1A5QLZuwxr0puOvc7PkevG0tibGqkj5aUj4uXWf2hFtiPGwh8k8QrBK/MftP1ZbRD9NKzRAAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Geolocation map&quot;
        title=&quot;&quot;
        src=&quot;/static/4b7dfa19c42bf7009539d97111812f2b/3d026/pastedImage_4.png&quot;
        srcset=&quot;/static/4b7dfa19c42bf7009539d97111812f2b/12f09/pastedImage_4.png 148w,
/static/4b7dfa19c42bf7009539d97111812f2b/e4a3f/pastedImage_4.png 295w,
/static/4b7dfa19c42bf7009539d97111812f2b/3d026/pastedImage_4.png 429w&quot;
        sizes=&quot;(max-width: 429px) 100vw, 429px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Maybe it was the result of a sign like this in Joyce Taylor’s front yard.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 380px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/44c7b56d5e24dafd1cd8881d2be9162d/0246a/pastedImage_1.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.189189189189186%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECA//EABYBAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABvBWeYP/EABgQAAIDAAAAAAAAAAAAAAAAAAARAiEi/9oACAEBAAEFAsqiSf8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFxABAQEBAAAAAAAAAAAAAAAAADEBIf/aAAgBAQAGPwKrjj//xAAbEAACAgMBAAAAAAAAAAAAAAABEQAhMUFxgf/aAAgBAQABPyG7I1hwA9XsMLK7P//aAAwDAQACAAMAAAAQf+//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPxCH/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qp//EABoQAQADAAMAAAAAAAAAAAAAAAEAESExYdH/2gAIAQEAAT8QBIAWw1qFN4BMbnuSs205OzP/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Go Jump in the Lake!&quot;
        title=&quot;&quot;
        src=&quot;/static/44c7b56d5e24dafd1cd8881d2be9162d/0246a/pastedImage_1.jpg&quot;
        srcset=&quot;/static/44c7b56d5e24dafd1cd8881d2be9162d/a80bd/pastedImage_1.jpg 148w,
/static/44c7b56d5e24dafd1cd8881d2be9162d/1c91a/pastedImage_1.jpg 295w,
/static/44c7b56d5e24dafd1cd8881d2be9162d/0246a/pastedImage_1.jpg 380w&quot;
        sizes=&quot;(max-width: 380px) 100vw, 380px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Capital One Cloud Custodian "Test Drive"]]></title><description><![CDATA[I’ve mentioned capitalone/cloud-custodian: Rules engine for AWS management before but hadn’t taken it for a “test drive” yet. However…]]></description><link>https://kevinhakanson.com/2017-07-05-capital-one-cloud-custodian-test-drive/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-07-05-capital-one-cloud-custodian-test-drive/</guid><pubDate>Wed, 05 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I’ve mentioned &lt;a href=&quot;https://github.com/capitalone/cloud-custodian&quot;&gt;capitalone/cloud-custodian: Rules engine for AWS management&lt;/a&gt; before but hadn’t taken it for a “test drive” yet.&lt;/p&gt;
&lt;p&gt;However, instead of following the instructions, I wanted to use the &lt;a href=&quot;https://www.continuum.io/what-is-anaconda&quot;&gt;Anaconda&lt;/a&gt; distribution of Python, so I used these install commands.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ conda create &lt;span class=&quot;token parameter variable&quot;&gt;--name&lt;/span&gt; custodian &lt;span class=&quot;token assign-left variable&quot;&gt;python&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2.7&lt;/span&gt;
$ &lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; activate custodian
$ pip &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; c7n&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I wanted something simple to test, and easy to verify, so I created this &lt;code class=&quot;language-text&quot;&gt;policy.yml&lt;/code&gt; to find any running ec2 instances without the &lt;code class=&quot;language-text&quot;&gt;xx:financial-identifier&lt;/code&gt; tag:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;policies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; tag&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;compliance
  &lt;span class=&quot;token key atrule&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ec2
  &lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;State.Name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; running
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;&quot;tag:xx:financial-identifier&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; absent&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I ran &lt;code class=&quot;language-text&quot;&gt;custodian&lt;/code&gt; using the command line to first validate the &lt;code class=&quot;language-text&quot;&gt;policy.yml&lt;/code&gt; and the execute a dry run:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ custodian validate policy.yml 
&lt;span class=&quot;token number&quot;&gt;2017&lt;/span&gt;-07-05 &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;:31:35,651: custodian.commands:INFO Configuration valid: policy.yml

$ custodian run &lt;span class=&quot;token parameter variable&quot;&gt;--dryrun&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-s&lt;/span&gt; out policy.yml
&lt;span class=&quot;token number&quot;&gt;2017&lt;/span&gt;-07-05 &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;:31:41,651: custodian.policy:INFO policy: tag-compliance resource:ec2 region:us-east-1 count:24 time:0.01&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It found 24 instances!  If I look in &lt;code class=&quot;language-text&quot;&gt;out/tag-compliance/resources.json&lt;/code&gt; I can see the full details, or I can just grep for the &lt;code class=&quot;language-text&quot;&gt;InstanceId&lt;/code&gt; values and see something like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;grep&lt;/span&gt; InstanceId out/tag-compliance/resources.json
    &lt;span class=&quot;token string&quot;&gt;&quot;InstanceId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;i-01234567890123456&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;InstanceId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;i-01234567&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I chose this filter because I can use the AWS Console Tag Editor to verify that count.&lt;/p&gt;
&lt;p&gt;Now that I know it works, time to start crafting some interesting policies.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Authenticated Encryption with the AWS CLI]]></title><description><![CDATA[I wanted to understand Authenticated Encryption better as a follow up to my research on Encrypted Properties and AWS IAM Roles.  I decide to…]]></description><link>https://kevinhakanson.com/2017-06-28-authenticated-encryption-with-the-aws-cli/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-06-28-authenticated-encryption-with-the-aws-cli/</guid><pubDate>Wed, 28 Jun 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I wanted to understand &lt;a href=&quot;http://docs.aws.amazon.com/kms/latest/developerguide/crypto_authen.html&quot;&gt;Authenticated Encryption&lt;/a&gt; better as a follow up to my research on &lt;a href=&quot;../2017-06-26-encrypted-properties-and-aws-iam-roles&quot;&gt;Encrypted Properties and AWS IAM Roles&lt;/a&gt;.  I decide to try and learn interactively, so I saved some “sensitive” data into a file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;P@ssword1&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; pw1.txt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then using &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/kms/encrypt.html&quot;&gt;aws kms encrypt&lt;/a&gt; from the AWS CLI, I tried to encrypt one of the values.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms encrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--key-id arn:aws:kms:us-west-2:123456789012:key/79cce4f6-7e4d-42ab-9942-9e6bb05b6121 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--plaintext&lt;/span&gt; fileb://pw1.txt

An error occurred &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;NotFoundException&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; when calling the Encrypt operation: Invalid arn&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hmm, that didn’t work despite using the full ARN (which includes the region). I need to set the AWS region explicitly and &lt;code class=&quot;language-text&quot;&gt;--region&lt;/code&gt; is one of the general options for the AWS CLI (see &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/topic/config-vars.html?highlight=region&quot;&gt;AWS CLI Configuration Variables&lt;/a&gt;).  If you didn’t know about the region restriction, that error message wouldn’t be very helpful.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms encrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--key-id 79cce4f6-7e4d-42ab-9942-9e6bb05b6121 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--plaintext&lt;/span&gt; fileb://pw1.txt

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;CiphertextBlob&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AQECAHizfom2LowDtrU53mpnuTkvNGUC8c+nPE8dtp40x+QLMAAAAGcwZQYJKoZIhvcNAQcGoFgwVgIBADBRBgkqhkiG9w0BBwEwHgYJYIZIAWUDBAEuMBEEDEubUtCeZ5dJiDjQ4QIBEIAkhYDNKHuwbu5FSxP1sknpWa5K0lOVnXBLIXg6K+ekvSyrOW+M&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;KeyId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:kms:us-west-2:123456789012:key/79cce4f6-7e4d-42ab-9942-9e6bb05b6121&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If I encrypt it again, the &lt;code class=&quot;language-text&quot;&gt;CiphertextBlob&lt;/code&gt; value is different (but starts with many of the same characters).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms encrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--key-id 79cce4f6-7e4d-42ab-9942-9e6bb05b6121 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--plaintext&lt;/span&gt; fileb://pw1.txt

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;CiphertextBlob&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AQECAHizfom2LowDtrU53mpnuTkvNGUC8c+nPE8dtp40x+QLMAAAAGcwZQYJKoZIhvcNAQcGoFgwVgIBADBRBgkqhkiG9w0BBwEwHgYJYIZIAWUDBAEuMBEEDJyjJV/HtiuS0S8pFAIBEIAkMe2atLnrx1L2/TtuGx4hS+9bN/76AgaEkK5lvUbiCA+xhC+Y&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;KeyId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:kms:us-west-2:123456789012:key/79cce4f6-7e4d-42ab-9942-9e6bb05b6121&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I went back to the original example from the AWS CLI documentation, and saved the binary, encrypted data to a file:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms encrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--key-id 79cce4f6-7e4d-42ab-9942-9e6bb05b6121 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--plaintext&lt;/span&gt; fileb://pw1.txt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--output&lt;/span&gt; text &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--query&lt;/span&gt; CiphertextBlob &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; base64 &lt;span class=&quot;token parameter variable&quot;&gt;--decode&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; ExampleEncryptedFile&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then it was time to decrypt and verify I could get my original data back.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms decrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--ciphertext-blob fileb://ExampleEncryptedFile &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--output&lt;/span&gt; text &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--query&lt;/span&gt; Plaintext

An error occurred &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AccessDeniedException&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; when calling the Decrypt operation: The ciphertext refers to a customer master key that does not exist, does not exist &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; this region, or you are not allowed to access.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice I didn’t need to provide the KMS key id. However, I have the same region problem - but this time, I had an error message that gives me a hint.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms decrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--ciphertext-blob fileb://ExampleEncryptedFile &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--output&lt;/span&gt; text &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--query&lt;/span&gt; Plaintext

UEBzc3dvcmQx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That worked but didn’t look like my password.  I needed to base64 decode the value.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms decrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--ciphertext-blob fileb://ExampleEncryptedFile &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--output&lt;/span&gt; text &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--query&lt;/span&gt; Plaintext &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; base64 &lt;span class=&quot;token parameter variable&quot;&gt;--decode&lt;/span&gt;

P@ssword1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Back to Authenticated Encryption, where I need to provide a name-value pair that specifies the encryption context using the &lt;code class=&quot;language-text&quot;&gt;--encryption-context&lt;/code&gt; parameter.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms encrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--key-id 79cce4f6-7e4d-42ab-9942-9e6bb05b6121 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--encryption-context &lt;span class=&quot;token assign-left variable&quot;&gt;database_username&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;service1 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--plaintext&lt;/span&gt; fileb://pw1.txt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--output&lt;/span&gt; text &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--query&lt;/span&gt; CiphertextBlob &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; base64 &lt;span class=&quot;token parameter variable&quot;&gt;--decode&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; ExampleAuthenticatedEncryptedFile&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And for the decrypt, I need to provide the same &lt;code class=&quot;language-text&quot;&gt;--encryption-context&lt;/code&gt; parameter.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms decrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--encryption-context &lt;span class=&quot;token assign-left variable&quot;&gt;database_username&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;service1 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--ciphertext-blob fileb://ExampleAuthenticatedEncryptedFile &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--output&lt;/span&gt; text &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--query&lt;/span&gt; Plaintext &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; base64 &lt;span class=&quot;token parameter variable&quot;&gt;--decode&lt;/span&gt;

P@ssword1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With an incorrect context, I get an &lt;code class=&quot;language-text&quot;&gt;InvalidCiphertextException&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws kms decrypt &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--region&lt;/span&gt; us-west-2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--encryption-context &lt;span class=&quot;token assign-left variable&quot;&gt;database_username&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;service2 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--ciphertext-blob fileb://ExampleAuthenticatedEncryptedFile &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--output&lt;/span&gt; text &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--query&lt;/span&gt; Plaintext &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; base64 &lt;span class=&quot;token parameter variable&quot;&gt;--decode&lt;/span&gt;

An error occurred &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;InvalidCiphertextException&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; when calling the Decrypt operation:&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Encrypted Properties and AWS IAM Roles]]></title><description><![CDATA[I was working on a pattern for application teams to secure and encrypt sensitive properties like database passwords.  Below is an…]]></description><link>https://kevinhakanson.com/2017-06-26-encrypted-properties-and-aws-iam-roles/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-06-26-encrypted-properties-and-aws-iam-roles/</guid><pubDate>Mon, 26 Jun 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was working on a pattern for application teams to secure and encrypt sensitive properties like database passwords.  Below is an interaction flow where the DBA for project 204503 can encrypt a property that only the intended microservice can decrypt.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c56e51dc5ffbee4a74ed930c080f7812/c83ae/pastedImage_14.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 45.27027027027027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABibAAAYmwFJdYOUAAAB90lEQVR42lWS3W/SUBjG+U+99M/QeOOVyfRmajYjcRovdInbmFME4/gYUwELdFBwfAsFRstGW2hL+/O0+8h2kpP3zcmT53ne57wRbh3btjFN86ZaloXrutQUhU6ni+d5GIaB67jgw8r3g3LnRK6b1WpFt9tFliu0W22q1Zq4VUHU4cHDR6w/f8FspjOdTMk3jmmlN5jtr2Eac/xbrJFA1RcvoTPHDh8XtoFlz29Av/N5KrJMYMu4MMgVvnOSj2Ns3OPiJCmwjnC0xFu5RDRNC10o9TqqqrKyfd5/ecJ+9pXoEUIL1KEaijqOg67ruLYbCuUS2yipd0ykjxzuvsY8axMJAKo6xBEq+nzK6bjMcXEPSU7SHMtkSwni6V2UfonzuRbmZzsLka9JI7VFM/mUUe4l9fgaxqhOJFD2r0L4pzUpSF9p1YsUa2my0jekdooPPzbZiq0j1X+iDkYhdr5wMC/G6AMxWaeGNW0J58blp1wTDvU2v5QYcvOQI+WAndRbiv0EsUKUz8U3VBoFukE8oxLj2GMWSuYyZN+7+8vXhAPhsFxJ0PtbQFKyZP4kKPcyfDqKsrm9hr4cYc5mJI93UA+eMY/exxPjh8tzRXpJeLVNxuKc3tkpQ61HX9TORKE3aYha43Qos3StYPnC64n9dEXmt90FhP8BhWKV9siWJWMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;DBA interaction&quot;
        title=&quot;&quot;
        src=&quot;/static/c56e51dc5ffbee4a74ed930c080f7812/fcda8/pastedImage_14.png&quot;
        srcset=&quot;/static/c56e51dc5ffbee4a74ed930c080f7812/12f09/pastedImage_14.png 148w,
/static/c56e51dc5ffbee4a74ed930c080f7812/e4a3f/pastedImage_14.png 295w,
/static/c56e51dc5ffbee4a74ed930c080f7812/fcda8/pastedImage_14.png 590w,
/static/c56e51dc5ffbee4a74ed930c080f7812/efc66/pastedImage_14.png 885w,
/static/c56e51dc5ffbee4a74ed930c080f7812/c83ae/pastedImage_14.png 1180w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In the diagram:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A DBA human creates separate database users for service1 and service2&lt;/li&gt;
&lt;li&gt;Assuming the &lt;code class=&quot;language-text&quot;&gt;204503-DBA&lt;/code&gt; IAM Role, the DBA encrypts the service1 user’s password (P@ssword1) and encrypts with CMK 1
&lt;ul&gt;
&lt;li&gt;Pre-condition: CMK 1 was created with a Resource Policy that allows &lt;code class=&quot;language-text&quot;&gt;204503-DBA&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;kms:Encrypt&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Assuming the &lt;code class=&quot;language-text&quot;&gt;204503-DBA&lt;/code&gt; IAM Role, the DBA encrypts the service2 user’s password (P@ssword2) and encrypts with CMK 2
&lt;ul&gt;
&lt;li&gt;Pre-condition: CMK 2 was created with a Resource Policy that allows &lt;code class=&quot;language-text&quot;&gt;204503-DBA&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;kms:Encrypt&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The DBA puts the encrypted data into the location that deploys to the Config Server&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Later, in the diagram:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Instances of service1 are running with the &lt;code class=&quot;language-text&quot;&gt;204503-service1&lt;/code&gt; IAM Role
&lt;ul&gt;
&lt;li&gt;They retrieve the encrypted property from the Config Server&lt;/li&gt;
&lt;li&gt;They decrypt the property using CMK 1
&lt;ul&gt;
&lt;li&gt;Pre-condition: CMK 1 was created with a Resource Policy that allows &lt;code class=&quot;language-text&quot;&gt;204503-service1&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;kms:Decrypt&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;They connect to the database&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Instances of service2 are running with the &lt;code class=&quot;language-text&quot;&gt;204503-service2&lt;/code&gt; IAM Role
&lt;ul&gt;
&lt;li&gt;They retrieve the encrypted property from the Config Server&lt;/li&gt;
&lt;li&gt;They decrypt the property using CMK 2
&lt;ul&gt;
&lt;li&gt;Pre-condition: CMK 2 was created with a Resource Policy that allows &lt;code class=&quot;language-text&quot;&gt;204503-service2&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;kms:Decrypt&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;They connect to the database&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Potentially, this could be altered to support an EncryptionContext with the service name as part of the key-value map.  See &lt;a href=&quot;https://aws.amazon.com/blogs/security/how-to-protect-the-integrity-of-your-encrypted-data-by-using-aws-key-management-service-and-encryptioncontext/&quot;&gt;How to Protect the Integrity of Your Encrypted Data by Using AWS Key Management Service and EncryptionContext&lt;/a&gt;) for more details and look for an upcoming post on the topic.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Amazon Elasticsearch Service and IAM Policies on HTTP Methods]]></title><description><![CDATA[The Creating and Configuring Amazon Elasticsearch Service Domains documentation shows the Elasticsearch HTTP methods could be controlled…]]></description><link>https://kevinhakanson.com/2017-06-25-amazon-elasticsearch-service-and-iam-policies-on-http-methods/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-06-25-amazon-elasticsearch-service-and-iam-policies-on-http-methods/</guid><pubDate>Sun, 25 Jun 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The &lt;a href=&quot;http://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/es-createupdatedomains.html#es-createdomain-configure-access-policies&quot;&gt;Creating and Configuring Amazon Elasticsearch Service Domains&lt;/a&gt; documentation shows the Elasticsearch HTTP methods could be controlled using IAM policies:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Amazon ES supports the following actions for HTTP methods. You can attach a separate access policy to each HTTP method:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;es:ESHttpDelete&lt;/li&gt;
&lt;li&gt;es:ESHttpGet&lt;/li&gt;
&lt;li&gt;es:ESHttpHead&lt;/li&gt;
&lt;li&gt;es:ESHttpPost&lt;/li&gt;
&lt;li&gt;es:ESHttpPut&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Since this is an open source interface and not an Amazon solution, it may be initially confusing to understand how this could work. The &lt;a href=&quot;https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-elasticsearch/src/main/java/com/amazonaws/services/elasticsearch/AWSElasticsearchClient.java&quot;&gt;aws-sdk-java/AWSElasticsearchClient.java&lt;/a&gt; source in GitHub shows an AWSCredentialsProvider implementing the &lt;a href=&quot;http://docs.aws.amazon.com/general/latest/gr/signature-version-4.html&quot;&gt;Signature Version 4 Signing Process&lt;/a&gt; on the HTTP requests.  Unfortunately, this means not all &lt;a href=&quot;https://www.elastic.co/guide/en/elasticsearch/client/index.html&quot;&gt;Elasticsearch Clients&lt;/a&gt; will be compatible with this security configuration.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Creating an AWS IAM Role for sts:AssumedRole]]></title><description><![CDATA[This post is a research summary of tasks relating to creating an IAM role via the CLI: The “trust policy” only included an explicit single…]]></description><link>https://kevinhakanson.com/2017-05-15-creating-an-aws-iam-role-for-stsassumedrole/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-05-15-creating-an-aws-iam-role-for-stsassumedrole/</guid><pubDate>Mon, 15 May 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;This post is a research summary of tasks relating to creating an IAM role via the CLI:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws iam create-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-name kjh-wildcard-test-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--assume-role-policy-document file://kjh-wildcard-test-role.iam.policy.json&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The “trust policy” only included an explicit single member of the &lt;code class=&quot;language-text&quot;&gt;204503-PowerUser&lt;/code&gt; role: &lt;a href=&quot;mailto:kevin.hakanson@example.com&quot;&gt;kevin.hakanson@example.com&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;AWS&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/204503-PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Test if it works via the CLI, and it does.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws sts assume-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-arn arn:aws:iam::123456789012:role/kjh-wildcard-test-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-session-name cli-kjh-wildcard-test-role&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Update &lt;code class=&quot;language-text&quot;&gt;~/.aws/config&lt;/code&gt; to enable the &lt;code class=&quot;language-text&quot;&gt;--profile&lt;/code&gt; CLI option:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ini&quot;&gt;&lt;pre class=&quot;language-ini&quot;&gt;&lt;code class=&quot;language-ini&quot;&gt;&lt;span class=&quot;token section&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token section-name selector&quot;&gt;profile kjh-wildcard-test-role&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;role_arn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;arn:aws:iam::123456789012:role/kjh-wildcard-test-role&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;source_profile&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;xx-sandbox&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Try something “easy”, like &lt;code class=&quot;language-text&quot;&gt;get-role&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws iam &lt;span class=&quot;token parameter variable&quot;&gt;--profile&lt;/span&gt; kjh-wildcard-test-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
get-role --role-name kjh-wildcard-test-role

An error occurred &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AccessDenied&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; when calling the GetRole operation: User: arn:aws:sts::123456789012:assumed-role/kjh-wildcard-test-role/AWS-CLI-session-1494616606 is not authorized to perform: iam:GetRole on resource: role kjh-wildcard-test-role&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It didn’t work because that new role has no permissions. Add an inline policy document via the console which lets this role get itself:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Sid&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Stmt1494616662000&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:GetRole&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;iam:GetRolePolicy&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:role/kjh-wildcard-test-role&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Try again and see a result. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws iam &lt;span class=&quot;token parameter variable&quot;&gt;--profile&lt;/span&gt; kjh-wildcard-test-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
get-role --role-name kjh-wildcard-test-role

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Role&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;AssumeRolePolicyDocument&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;AWS&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/204503-PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAZZZZZZZZZZZZZZZZZ&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;CreateDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2017-05-12T19:09:07Z&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kjh-wildcard-test-role&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Path&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:role/kjh-wildcard-test-role&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Since this only applies to &lt;a href=&quot;mailto:kevin.hakanson@example.com&quot;&gt;kevin.hakanson@example.com&lt;/a&gt;, I’ll try and expand to “everyone” in &lt;code class=&quot;language-text&quot;&gt;204503-PowerUser&lt;/code&gt;, but wildcards don’t work here.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;An error occurred: Invalid principal in policy: “AWS”:“arn:aws:sts::123456789012:assumed-role/204503-PowerUser/*”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Instead, find the &lt;code class=&quot;language-text&quot;&gt;RoleId&lt;/code&gt; for &lt;code class=&quot;language-text&quot;&gt;204503-PowerUser&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws iam get-role --role-name &lt;span class=&quot;token number&quot;&gt;204503&lt;/span&gt;-PowerUser

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Role&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;AssumeRolePolicyDocument&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRoleWithSAML&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;StringEquals&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                            &lt;span class=&quot;token string&quot;&gt;&quot;SAML:aud&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://signin.aws.amazon.com/saml&quot;&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;Federated&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:saml-provider/ADFS&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;Service&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;lambda.amazonaws.com&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;CreateDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2017-04-05T14:28:24Z&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;204503-PowerUser&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Path&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/204503/&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:role/204503/204503-PowerUser&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then add a &lt;code class=&quot;language-text&quot;&gt;Condition&lt;/code&gt; that uses &lt;code class=&quot;language-text&quot;&gt;aws:userId&lt;/code&gt;, which is based on &lt;code class=&quot;language-text&quot;&gt;RoleId&lt;/code&gt; mentioned above.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;AWS&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:root&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;StringLike&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;&quot;aws:userId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:*&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Try again and see a result that includes the new &lt;code class=&quot;language-text&quot;&gt;AssumeRolePolicyDocument&lt;/code&gt; section.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws iam &lt;span class=&quot;token parameter variable&quot;&gt;--profile&lt;/span&gt; kjh-wildcard-test-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
get-role --role-name kjh-wildcard-test-role

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Role&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;AssumeRolePolicyDocument&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;StringLike&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                            &lt;span class=&quot;token string&quot;&gt;&quot;aws:userId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:*&quot;&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;AWS&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:root&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAZZZZZZZZZZZZZZZZZ&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;CreateDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2017-05-12T19:09:07Z&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kjh-wildcard-test-role&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Path&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:role/kjh-wildcard-test-role&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next steps are probably to automate as part of a Python script or CloudFormation template that creates these service roles, looking up the &lt;code class=&quot;language-text&quot;&gt;RoleId&lt;/code&gt; and building the trust policy there.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Amazon RDS and Tag-Based Permissions]]></title><description><![CDATA[AWS Identity-Based, Resource-Based, Resource-Level, and Tag-Based Permissions contains a link to AWS Services That Work with IAM - AWS…]]></description><link>https://kevinhakanson.com/2017-04-27-amazon-rds-and-tag-based-permissions/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-04-27-amazon-rds-and-tag-based-permissions/</guid><pubDate>Thu, 27 Apr 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;../2017-04-25-aws-identity-based-resource-based-resource-level-and-tag-based-permissions&quot;&gt;AWS Identity-Based, Resource-Based, Resource-Level, and Tag-Based Permissions&lt;/a&gt; contains a link to &lt;a href=&quot;https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html&quot;&gt;AWS Services That Work with IAM - AWS Identity and Access Management&lt;/a&gt;, which has the table of services supporting tag-based permissions.&lt;/p&gt;
&lt;p&gt;Amazon RDS is one of those services. See &lt;a href=&quot;http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAM.Conditions.html&quot;&gt;Using IAM Policy Conditions for Fine-Grained Access Control - Amazon Relational Database Service&lt;/a&gt; for some example policies using condition keys with custom tags.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;StringEquals&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;rds:db-tag/stage&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;development&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;test&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In the above example, the RDS tag identifier &lt;code class=&quot;language-text&quot;&gt;db-tag&lt;/code&gt; applies to “DB instances, including Read Replicas.” The link above also has a table that lists the RDS tag identifiers that you can use in a &lt;code class=&quot;language-text&quot;&gt;Condition&lt;/code&gt; element.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS Identity-Based, Resource-Based, Resource-Level, and Tag-Based Permissions]]></title><description><![CDATA[In Overview of AWS IAM Permissions - AWS Identity and Access Management, they introduce identity-based and resource-based permissions…]]></description><link>https://kevinhakanson.com/2017-04-25-aws-identity-based-resource-based-resource-level-and-tag-based-permissions/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-04-25-aws-identity-based-resource-based-resource-level-and-tag-based-permissions/</guid><pubDate>Tue, 25 Apr 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In &lt;a href=&quot;https://docs.aws.amazon.com/IAM/latest/UserGuide/access_permissions.html&quot;&gt;Overview of AWS IAM Permissions - AWS Identity and Access Management&lt;/a&gt;, they introduce identity-based and resource-based permissions:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Permissions can be assigned in two ways: as &lt;em&gt;identity-based&lt;/em&gt; or as &lt;em&gt;resource-based&lt;/em&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;They also introduce the concept of resource-level permissions.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There’s a difference between &lt;em&gt;resource-based&lt;/em&gt; permissions and &lt;em&gt;resource-level&lt;/em&gt; permissions. Resource-based permissions are permissions you can attach directly to a resource, as described in this topic. Resource-level permissions refers to the ability to specify not just what actions users can perform, but which resources they’re allowed to perform those actions on.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Resource-based permissions are being looked at to secure S3 and KMS, but not all services support these inline policies.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Resource-based permissions are supported only by some AWS services. For a list of which services support resource-level permissions, see &lt;a href=&quot;https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html&quot;&gt;AWS Services That Work with IAM&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There is also the concept of tag-based permissions for those services that support testing resource tags in a &lt;code class=&quot;language-text&quot;&gt;Condition&lt;/code&gt; element.  However, in the list linked above, hardly any of the services support this.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS sts:AssumeRole and Condition Keys]]></title><description><![CDATA[In wondering how to restrict roles to only allowed to be assumed from specific EC2 instances, I found Actions and Condition Context Keys for…]]></description><link>https://kevinhakanson.com/2017-04-19-aws-stsassumerole-and-condition-keys/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-04-19-aws-stsassumerole-and-condition-keys/</guid><pubDate>Wed, 19 Apr 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In wondering how to restrict roles to only allowed to be assumed from specific EC2 instances, I found &lt;a href=&quot;http://docs.aws.amazon.com/IAM/latest/UserGuide/list_sts.html&quot;&gt;Actions and Condition Context Keys for AWS Security Token Service - AWS Identity and Access Management&lt;/a&gt;, which lists the &lt;code class=&quot;language-text&quot;&gt;Action&lt;/code&gt; key that is used to assume role:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html&quot;&gt;sts:AssumeRole&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here is an example of a trust policy:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;Service&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ec2.amazonaws.com&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It doesn’t look like any &lt;code class=&quot;language-text&quot;&gt;Condition&lt;/code&gt; keys can be applied here based on:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Condition context keys for AWS Security Token Service&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;AWS Security Token Service has no service-specific context keys that can be used in an IAM policy. For the list of the global condition context keys that are available to all services, see &lt;a href=&quot;http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#AvailableKeys&quot;&gt;Available Global Condition Keys&lt;/a&gt; in the &lt;em&gt;IAM Policy Elements Reference&lt;/em&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Maybe some of these Global Condition Keys could be used?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;aws:SourceArn&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;aws:userid&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[AmazonS3EncryptionClient example]]></title><description><![CDATA[The following code uses the  from the  to put an encrypted object into an S3 bucket. Note: When you view this object in the S3 console, it…]]></description><link>https://kevinhakanson.com/2017-04-14-amazons3encryptionclient-example/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-04-14-amazons3encryptionclient-example/</guid><pubDate>Fri, 14 Apr 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The following code uses the &lt;code class=&quot;language-text&quot;&gt;AmazonS3EncryptionClient&lt;/code&gt; from the &lt;code class=&quot;language-text&quot;&gt;aws-java-sdk&lt;/code&gt; to put an encrypted object into an S3 bucket.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; bucketName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kjh-encryption-test1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; objectKey  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sdk-s3/ExampleKMSEncryptedObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; kms_cmk_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;79cce4f6-7e4d-42ab-9942-9e6bb05b6121&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//  &quot;kjh-encryption-s3&quot;;&lt;/span&gt;

&lt;span class=&quot;token class-name&quot;&gt;KMSEncryptionMaterialsProvider&lt;/span&gt; materialProvider &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KMSEncryptionMaterialsProvider&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;kms_cmk_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

encryptionClient &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AmazonS3EncryptionClient&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ProfileCredentialsProvider&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; materialProvider&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CryptoConfiguration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withKmsRegion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Regions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;US_WEST_2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withRegion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Region&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getRegion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Regions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;US_WEST_2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Upload object using the encryption client.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; plaintext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hello World, S3 Client-side Encryption Using KMS!&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBytes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;plaintext&apos;s length: &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; plaintext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
encryptionClient&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;putObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PutObjectRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bucketName&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; objectKey&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ByteArrayInputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;plaintext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ObjectMetadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: When you view this object in the S3 console, it shows “Encryption” as “None” because it was client-side encryption and not server-side.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Object&lt;/strong&gt;&lt;br&gt;
Key: ExampleKMSEncryptedObject&lt;br&gt;
Link: &lt;a href=&quot;https://s3-us-west-2.amazonaws.com/kjh-encryption-test1/sdk-s3/ExampleKMSEncryptedObject&quot;&gt;https://s3-us-west-2.amazonaws.com/kjh-encryption-test1/sdk-s3/ExampleKMSEncryptedObject&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Properties&lt;/strong&gt;&lt;br&gt;
Encryption: None&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;When you view the Metadata, you will see the tags the SDK uses to indicate client-side encryption (see &lt;a href=&quot;https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/package-summary.html&quot;&gt;Appendix: Amazon S3 client-side encryption meta information&lt;/a&gt;).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;x-amz-meta-x-amz-cek-alg&lt;/strong&gt;: AES/CBC/PKCS5Padding&lt;br&gt;
&lt;strong&gt;x-amz-meta-x-amz-iv&lt;/strong&gt;: VeF05slNCyQ1jvAHXDyQyw==&lt;br&gt;
&lt;strong&gt;x-amz-meta-x-amz-key-v2&lt;/strong&gt;: AQEDAHizfom2LowDtrU53mpnuTkvNGUC8c+nPE8dtp40x+QLMAAAAH4wfAYJKoZIhvcNAQcGoG8wbQIBADBoBgkqhkiG9w0BBwEwHgYJYIZIAWUDBAEuMBEEDGsVDhAswrMNCD2PkwIBEIA7rka2dnMOLtAcqNRAShf4iXULv95cqPEjwrf9zEwjPraTfxUN9LFX8EyS3YajUe7N6flxORd0Ybs3ilg=&lt;br&gt;
&lt;strong&gt;x-amz-meta-x-amz-matdesc&lt;/strong&gt;: {“kms_cmk_id”:“79cce4f6-7e4d-42ab-9942-9e6bb05b6121”}&lt;br&gt;
&lt;strong&gt;x-amz-meta-x-amz-wrap-alg&lt;/strong&gt;: kms&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This uses a single KMS key, from a single AWS region.  The &lt;a href=&quot;https://github.com/awslabs/aws-encryption-sdk-java&quot;&gt;aws-encryption-sdk-java&lt;/a&gt; now allows for multiple KMS keys (see also &lt;a href=&quot;https://aws.amazon.com/blogs/security/new-aws-encryption-sdk-for-python-simplifies-multiple-master-key-encryption/&quot;&gt;New AWS Encryption SDK for Python Simplifies Multiple Master Key Encryption | AWS Security Blog&lt;/a&gt; )&lt;/p&gt;
&lt;p&gt;However, check the &lt;a href=&quot;https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/faq.html#s3-encryption-client&quot;&gt;Frequently Asked Questions - AWS Encryption SDK&lt;/a&gt; about the difference between this and the S3 encryption client.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;How is the AWS Encryption SDK different from the Amazon S3 encryption client?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The Amazon S3 encryption client in the &lt;a href=&quot;http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html?com/amazonaws/services/s3/AmazonS3EncryptionClient.html&quot;&gt;AWS SDK for Java&lt;/a&gt;, &lt;a href=&quot;http://docs.aws.amazon.com/sdkforruby/api/Aws/S3/Encryption/Client.html&quot;&gt;AWS SDK for Ruby&lt;/a&gt;, and &lt;a href=&quot;http://docs.aws.amazon.com/sdkfornet/v3/apidocs/index.html?page=S3/TS3EncryptionS3EncryptionClient.html&quot;&gt;AWS SDK for .NET&lt;/a&gt; provides encryption and decryption for data that you store in Amazon Simple Storage Service (Amazon S3). These clients are tightly coupled to Amazon S3 and are intended for use only with data stored there.&lt;/p&gt;
&lt;p&gt;The AWS Encryption SDK provides encryption and decryption for data that you can store anywhere. The AWS Encryption SDK and the Amazon S3 encryption client are not compatible because they produce ciphertexts with different data formats.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Open Question&lt;/strong&gt;: What is the right pattern for multi-region client-side encryption of S3 objects using KMS?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Thou shalt not depend on me: analysing the use of outdated JavaScript libraries on the web]]></title><description><![CDATA[If you aren’t scared about JavaScript libraries and security, you will be after reading Thou shalt not depend on me: analysing the use of…]]></description><link>https://kevinhakanson.com/2017-03-09-thou-shalt-not-depend-on-me-analysing-the-use-of-outdated-javascript-libraries-on-the-web/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-03-09-thou-shalt-not-depend-on-me-analysing-the-use-of-outdated-javascript-libraries-on-the-web/</guid><pubDate>Thu, 09 Mar 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;If you aren’t scared about JavaScript libraries and security, you will be after reading &lt;a href=&quot;https://blog.acolyer.org/2017/03/07/thou-shalt-not-depend-on-me-analysing-the-use-of-outdated-javascript-libraries-on-the-web/&quot;&gt;Thou shalt not depend on me: analysing the use of outdated JavaScript libraries on the web&lt;/a&gt;, which is a summary of &lt;a href=&quot;http://www.ccs.neu.edu/home/arshad/publications/ndss2017jslibs.pdf&quot;&gt;http://www.ccs.neu.edu/home/arshad/publications/ndss2017jslibs.pdf&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Some excerpts to get you interested:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In this paper, we conduct the first comprehensive study of client-side JavaScript library usage and the resulting security implications across the Web.&lt;/p&gt;
&lt;p&gt;Perhaps our most sobering finding is practical evidence that the JavaScript library ecosystem is complex, unorganised, and quite “ad hoc” with respect to security. There are no reliable vulnerability databases, no security mailing lists maintained by library vendors, few or no details on security issues in release notes, and often, it is difficult to determine which versions of a library are affected by a specific reported vulnerability.&lt;/p&gt;
&lt;p&gt;Unfortunately, security does not appear to be a priority in the JavaScript library ecosystem. Popular vulnerability databases contain nearly no entries regarding JavaScript libraries.&lt;/p&gt;
&lt;p&gt;The results of this work highlight the need for more thorough and systematic approaches to JavaScript library inclusion and dependency management on the Web.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[AWS Request IDs]]></title><description><![CDATA[I was reading Techniques and Tools for Better Serverless API Logging with Amazon API Gateway and AWS Lambda when I came across a reference…]]></description><link>https://kevinhakanson.com/2017-03-08-aws-request-ids/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-03-08-aws-request-ids/</guid><pubDate>Wed, 08 Mar 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was reading &lt;a href=&quot;https://aws.amazon.com/blogs/compute/techniques-and-tools-for-better-serverless-api-logging-with-amazon-api-gateway-and-aws-lambda/&quot;&gt;Techniques and Tools for Better Serverless API Logging with Amazon API Gateway and AWS Lambda&lt;/a&gt; when I came across a reference to the &lt;strong&gt;x-amzn-RequestId&lt;/strong&gt; HTTP response header.  This appears to be a common way for Amazon services to return a unique request id. Each service has documentation similar to this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;x-amzn-RequestId&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A value created by Amazon {service} that uniquely identifies your request. If you have a problem with Amazon {service}, AWS can use this value to troubleshoot the problem. We recommend that you log these values.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;(&lt;em&gt;Note&lt;/em&gt;: S3 is an exception using &lt;strong&gt;x-amz-request-id&lt;/strong&gt; (and optionally &lt;strong&gt;x-amz-id-2 )&lt;/strong&gt;, and CloudFront adds an &lt;strong&gt;X-Amz-Cf-Id&lt;/strong&gt; request header before forwarding to your origin.)&lt;/p&gt;
&lt;p&gt;Assuming you are not making raw HTTP requests and are using an AWS SDK, this value becomes easy to access using the &lt;strong&gt;requestId&lt;/strong&gt; property of the response.&lt;/p&gt;
&lt;p&gt;I started to wonder how this relates to the &lt;strong&gt;X-Amzn-Trace-Id&lt;/strong&gt; &lt;a href=&quot;http://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-tracingheader&quot;&gt;Tracing Header&lt;/a&gt; from AWS X-Ray, which uses an extendable &lt;strong&gt;Field=version-time-id&lt;/strong&gt; format.  Here is an example:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;X-Amzn-Trace-Id: Root=1-5759e988-bd862e3fe1be46a994272793; Parent=53995c3f42cd8ad8; Sampled=1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The answer is probably as simple as request tracing vs. response logging, but does the AWS X-Ray SDK take advantage of this common request id?  Looking at the Node.js SDK source code, I see that &lt;code class=&quot;language-text&quot;&gt;patchers/aws_p.js&lt;/code&gt; uses &lt;code class=&quot;language-text&quot;&gt;segments/attributes/aws.js&lt;/code&gt; which has this line of code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;request_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;extendedRequestId &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;requestId &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It is logged as an attribute of subsegments related to AWS services. However, I could have found this by looking at the example from &lt;a href=&quot;http://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-awssdkclients.html&quot;&gt;Tracing AWS SDK Calls with the X-Ray SDK for Node.js&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In the end, it looks like Amazon’s advice to “log these values” ourselves s what we should do. That will give us the best option to log other important data alongside the request id and not have to worry if our tracing request was sampled.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[CLI SAML Authentication and AWS STS assume-role]]></title><description><![CDATA[When I run a CLI based SAML log in (using an internal tool), I can select from the roles available to my account (e.g., PowerUser or…]]></description><link>https://kevinhakanson.com/2017-03-02-cli-saml-authentication-and-aws-sts-assume-role/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-03-02-cli-saml-authentication-and-aws-sts-assume-role/</guid><pubDate>Thu, 02 Mar 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;When I run a CLI based SAML log in (using an internal tool), I can select from the roles available to my account (e.g., PowerUser or ReadOnly).  I think of these as user roles.  However, IAM roles can also be created and assigned to EC2 instances or Lambda functions.  I was trying to understand how local code could run under one of those specific IAM roles.  I decided to try out &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/sts/assume-role.html&quot;&gt;assume-role — AWS CLI 1.11.56 Command Reference&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws sts assume-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-arn arn:aws:iam::123456789012:role/kjh-s3-encryption-test1-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-session-name cli-kjh-s3-encryption-test1-role

An error occurred &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AccessDenied&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; when calling the AssumeRole operation: User: arn:aws:sts::123456789012:assumed-role/PowerUser/kevin.hakanson@example.com is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::123456789012:role/kjh-s3-encryption-test1-role&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can see, that didn’t work.  &lt;code class=&quot;language-text&quot;&gt;PowerUser&lt;/code&gt; has the authority to &lt;code class=&quot;language-text&quot;&gt;sts:AssumeRole&lt;/code&gt;, but I had to add myself to that role policy so my specific &lt;code class=&quot;language-text&quot;&gt;Principal&lt;/code&gt; could assume &lt;code class=&quot;language-text&quot;&gt;kjh-s3-encryption-test1-role&lt;/code&gt;.  The default was to only allow the EC2 service to do this.  You can see the full policy below.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws iam get-role &lt;span class=&quot;token parameter variable&quot;&gt;--role&lt;/span&gt; kjh-s3-encryption-test1-role

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Role&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;AssumeRolePolicyDocument&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;Service&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ec2.amazonaws.com&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sts:AssumeRole&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;AWS&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;CreateDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2016-08-13T16:31:08Z&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;RoleName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kjh-s3-encryption-test1-role&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Path&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:role/kjh-s3-encryption-test1-role&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After that change, I was able to perform an &lt;code class=&quot;language-text&quot;&gt;AssumeRole&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws sts assume-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-arn arn:aws:iam::123456789012:role/kjh-s3-encryption-test1-role &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--role-session-name cli-kjh-s3-encryption-test1-role

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;AssumedRoleUser&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;AssumedRoleId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:cli-kjh-s3-encryption-test1-role&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/kjh-s3-encryption-test1-role/cli-kjh-s3-encryption-test1-role&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;Credentials&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;SecretAccessKey&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;secret&gt;&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;SessionToken&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;token&gt;&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Expiration&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2017-03-01T22:41:37Z&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;AccessKeyId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ASIAXXXXXXXXXXXXXXXX&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, this wasn’t as useful as I thought, since I would also need to create a profile and copy those credentials into my  &lt;code class=&quot;language-text&quot;&gt;~/.aws/credentials&lt;/code&gt; file.  Luckily, I discovered &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/userguide/cli-roles.html&quot;&gt;Assuming a Role - AWS Command Line Interface&lt;/a&gt; and just added a new profile section to my &lt;code class=&quot;language-text&quot;&gt;~/.aws/config&lt;/code&gt; that referenced that role ARN and my &lt;code class=&quot;language-text&quot;&gt;saml&lt;/code&gt; profile.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ini&quot;&gt;&lt;pre class=&quot;language-ini&quot;&gt;&lt;code class=&quot;language-ini&quot;&gt;&lt;span class=&quot;token section&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token section-name selector&quot;&gt;profile kjh-s3-encryption-test1-role&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;role_arn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;arn:aws:iam::123456789012:role/kjh-s3-encryption-test1-role&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;source_profile&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;saml&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After that, I was able to automatically assume that role with the CLI by specifying my new profile.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws s3api &lt;span class=&quot;token parameter variable&quot;&gt;--profile&lt;/span&gt; kjh-s3-encryption-test1-role list-objects &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--bucket&lt;/span&gt; kjh-encryption-test1 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--prefix&lt;/span&gt; cli-s3api-kms/

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Contents&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;LastModified&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2016-12-06T21:02:16.000Z&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;ETag&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;f3a07b31bc1cee5e70b6f0bbd9c5bf09&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;StorageClass&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STANDARD&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Key&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cli-s3api-kms/QBF.txt.enc&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Size&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;45&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Interestingly, when I run that same command with my &lt;code class=&quot;language-text&quot;&gt;saml&lt;/code&gt; profile, I got a different result:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws s3api &lt;span class=&quot;token parameter variable&quot;&gt;--profile&lt;/span&gt; saml list-objects &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--bucket&lt;/span&gt; kjh-encryption-test1 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token parameter variable&quot;&gt;--prefix&lt;/span&gt; cli-s3api-kms/

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Contents&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;LastModified&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2016-12-06T21:02:16.000Z&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;ETag&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;f3a07b31bc1cee5e70b6f0bbd9c5bf09&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;StorageClass&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STANDARD&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Key&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cli-s3api-kms/QBF.txt.enc&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Owner&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;DisplayName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redacted&quot;&lt;/span&gt;,
                &lt;span class=&quot;token string&quot;&gt;&quot;ID&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;redacted&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Size&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;45&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Seeing the difference was the &lt;code class=&quot;language-text&quot;&gt;Owner&lt;/code&gt;, I added &lt;code class=&quot;language-text&quot;&gt;s3:GetObjectAcl&lt;/code&gt; to my policy using the AWS Console UI.  After that, I got the same result using either profile.  I also learned that if you want to see the policy document from the CLI, &lt;code class=&quot;language-text&quot;&gt;get-policy&lt;/code&gt; doesn’t give you that information…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws iam get-policy --policy-arn arn:aws:iam::123456789012:policy/kjh-s3-encryption-test1

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Policy&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;PolicyName&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kjh-s3-encryption-test1&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;CreateDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2016-08-12T22:55:52Z&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;AttachmentCount&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;IsAttachable&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; true,
        &lt;span class=&quot;token string&quot;&gt;&quot;PolicyId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ANPAXXXXXXXXXXXXXXXXX&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;DefaultVersionId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;v5&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Path&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Arn&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:policy/kjh-s3-encryption-test1&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;UpdateDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2017-03-01T22:15:36Z&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;. so you need to use &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;get-policy-version&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt; with the version &lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt; to get that policy document.

```console
$ aws iam get-policy-version &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--policy-arn arn:aws:iam::123456789012:policy/kjh-s3-encryption-test1 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
--version-id v5

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;PolicyVersion&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;CreateDate&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2017-03-01T22:15:36Z&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;VersionId&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;v5&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;Document&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;s3:DeleteObject&quot;&lt;/span&gt;,
                        &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;,
                        &lt;span class=&quot;token string&quot;&gt;&quot;s3:PutObject&quot;&lt;/span&gt;,
                        &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObjectAcl&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::kjh-encryption-test1/*&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;s3:ListBucket&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                        &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::kjh-encryption-test1&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
                    &lt;span class=&quot;token string&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;IsDefaultVersion&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hopefully, this will allow me to better understand and change IAM policies in order to apply the &lt;a href=&quot;https://en.wikipedia.org/wiki/Principle_of_least_privilege&quot;&gt;Principle of least privilege&lt;/a&gt; and only grant the specific actions required.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Monotonic Time in JavaScript]]></title><description><![CDATA[I was looking at the source code for The AWS X-Ray SDK for Node.js and saw these code snippets: Whenever I see  in JavaScript for…]]></description><link>https://kevinhakanson.com/2017-02-15-monotonic-time-in-javascript/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-02-15-monotonic-time-in-javascript/</guid><pubDate>Wed, 15 Feb 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was looking at the source code for &lt;a href=&quot;http://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs.html&quot;&gt;The AWS X-Ray SDK for Node.js&lt;/a&gt; and saw these code snippets:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;Segment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;init&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; rootId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; parentId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; traceId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; rootId &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;1-&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;-&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    crypto&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;randomBytes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hex&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; crypto&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;randomBytes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hex&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; startTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ... stuff removed ...&lt;/span&gt;

&lt;span class=&quot;token class-name&quot;&gt;Segment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;close&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;end_time&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;end_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Whenever I see &lt;code class=&quot;language-text&quot;&gt;new Date()&lt;/code&gt; in JavaScript for performance timings, my &lt;a href=&quot;http://marvelanimated.wikia.com/wiki/Spider-Sense&quot;&gt;Spider-Sense&lt;/a&gt; tingles. Browsers have &lt;code class=&quot;language-text&quot;&gt;performance.now()&lt;/code&gt; for this, which always returns values that increase at a constant rate. Other terms you see relating to this concept are monotonically increasing, monotonic clock, and monotonic time. For more info:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/web/updates/2012/08/When-milliseconds-are-not-enough-performance-now&quot;&gt;When milliseconds are not enough: performance.now  |  Web  |  Google Developers&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Performance/now&quot;&gt;performance.now() - Web APIs | MDN&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://w3c.github.io/hr-time/&quot;&gt;High Resolution Time Level 3&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now, the X-Ray SDK is running in Node.js and not in the browser, but &lt;a href=&quot;https://nodejs.org/api/process.html#process_process_hrtime_time&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;process.hrtime()&lt;/code&gt;&lt;/a&gt; and NPM packages like &lt;a href=&quot;https://www.npmjs.com/package/performance-now&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;performance-now&lt;/code&gt;&lt;/a&gt; ensure the reported time will be monotonically increasing.&lt;/p&gt;
&lt;p&gt;Do you remember the leap second earlier this year? Do you also remember that this caused some problems? From &lt;a href=&quot;https://blog.cloudflare.com/how-and-why-the-leap-second-affected-cloudflare-dns/&quot;&gt;How and why the leap second affected Cloudflare DNS&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;h2&gt;A falsehood programmers believe about time&lt;/h2&gt;
&lt;p&gt;The root cause of the bug that affected our DNS service was the belief that &lt;em&gt;time cannot go backwards&lt;/em&gt;. In our case, some code assumed that the &lt;em&gt;difference&lt;/em&gt; between two times would always be, at worst, zero.&lt;/p&gt;
&lt;p&gt;RRDNS is written in Go and uses Go’s &lt;a href=&quot;https://golang.org/pkg/time/#Now&quot;&gt;time.Now()&lt;/a&gt; function to get the time. Unfortunately, this function does not guarantee monotonicity. Go currently doesn’t offer a monotonic time source (see issue &lt;a href=&quot;https://github.com/golang/go/issues/12914&quot;&gt;12914&lt;/a&gt; for discussion).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So, not understanding that computer time can go backward causes bigger problems than invalid performance metrics. It makes me glad &lt;a href=&quot;http://www.bbc.co.uk/programmes/profiles/5Dp7g7b0dSVhD2TM1xNlf7c/the-tardis&quot;&gt;The TARDIS&lt;/a&gt; is a living consciousness and not written in either JavaScript or Go.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 192px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d0e5bc67c970355861eadd34a4f92cd2/7809d/pastedImage_1.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwACBf/EABUBAQEAAAAAAAAAAAAAAAAAAAIE/9oADAMBAAIQAxAAAAEdgDDXSp6P/8QAGhAAAgIDAAAAAAAAAAAAAAAAAQIAAxASE//aAAgBAQABBQII25WwrzMSHH//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwEZ/8QAFREBAQAAAAAAAAAAAAAAAAAAEDH/2gAIAQIBAT8Bp//EABsQAAEEAwAAAAAAAAAAAAAAAAIAARARI3Fy/9oACAEBAAY/AsdKyNtQXLz/AP/EABkQAQADAQEAAAAAAAAAAAAAAAEAESFxEP/aAAgBAQABPyF4sENWZLizwa4SPTsQtn//2gAMAwEAAgADAAAAEOvv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/EEAgMv/EABURAQEAAAAAAAAAAAAAAAAAAAEA/9oACAECAQE/EEEsrf/EABoQAQADAQEBAAAAAAAAAAAAAAEAESExQWH/2gAIAQEAAT8QW7yeLa5FAWo6o0k3cYlJWxPiVTGvvaQxB7P/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;TARDIS&quot;
        title=&quot;&quot;
        src=&quot;/static/d0e5bc67c970355861eadd34a4f92cd2/7809d/pastedImage_1.jpg&quot;
        srcset=&quot;/static/d0e5bc67c970355861eadd34a4f92cd2/a80bd/pastedImage_1.jpg 148w,
/static/d0e5bc67c970355861eadd34a4f92cd2/7809d/pastedImage_1.jpg 192w&quot;
        sizes=&quot;(max-width: 192px) 100vw, 192px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Web Browser Secure Contexts]]></title><description><![CDATA[HTTPS - it isn’t just for breakfast authentication anymore. Yeah, I stole that from a Florida Orange Juice 1979 TV commercial.  So, what are…]]></description><link>https://kevinhakanson.com/2017-02-14-web-browser-secure-contexts/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-02-14-web-browser-secure-contexts/</guid><pubDate>Tue, 14 Feb 2017 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;HTTPS - it isn’t just for &lt;del&gt;breakfast&lt;/del&gt; authentication anymore.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Yeah, I stole that from a &lt;a href=&quot;https://www.youtube.com/watch?v=7lhFNAYfxNg&quot;&gt;Florida Orange Juice 1979 TV commercial&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 267px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2bb7cf43b448e5243f38b877ae45d280/05876/pastedImage_3.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIEAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAACAP/aAAwDAQACEAMQAAAB5j5VByCkv//EABoQAAEFAQAAAAAAAAAAAAAAAAIAAREhIhL/2gAIAQEAAQUC4pghENg2CfEyv//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ASf/xAAWEQEBAQAAAAAAAAAAAAAAAAAAIQH/2gAIAQIBAT8B2q//xAAbEAACAQUAAAAAAAAAAAAAAAAAEQEQITFBYf/aAAgBAQAGPwJwzZc6Zp//xAAZEAEAAwEBAAAAAAAAAAAAAAABABEhYTH/2gAIAQEAAT8h9VS8mRqzAXZHsBw0H2Uh1XI3XP/aAAwDAQACAAMAAAAQT8//xAAYEQACAwAAAAAAAAAAAAAAAAAAAREhUf/aAAgBAwEBPxCKRWH/xAAWEQEBAQAAAAAAAAAAAAAAAAABAHH/2gAIAQIBAT8QarV//8QAGhABAQEBAQEBAAAAAAAAAAAAAREAMSFBYf/aAAgBAQABPxA8ZEoxfzucDAnhDKFJxc32TMF5hV9AVy4i3f/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Florida Orange Juice&quot;
        title=&quot;&quot;
        src=&quot;/static/2bb7cf43b448e5243f38b877ae45d280/05876/pastedImage_3.jpg&quot;
        srcset=&quot;/static/2bb7cf43b448e5243f38b877ae45d280/a80bd/pastedImage_3.jpg 148w,
/static/2bb7cf43b448e5243f38b877ae45d280/05876/pastedImage_3.jpg 267w&quot;
        sizes=&quot;(max-width: 267px) 100vw, 267px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So, what are &lt;a href=&quot;https://www.w3.org/TR/secure-contexts/&quot;&gt;Secure Contexts&lt;/a&gt; anyway? &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts&quot;&gt;Secure Contexts - Web security | MDN&lt;/a&gt; provides full info, but some key points:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A context will be considered secure when it’s delivered securely or locally.&lt;/li&gt;
&lt;li&gt;Secure contexts allow the browser to expose APIs that should only be permitted when transferred securely to the user.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some APIs (Service Workers, Web Bluetooth, Encrypted Media Extensions) require secure contexts per specification, while other APIs (getUserMedia, Geolocation, etc) have been disabled in non-secure contexts due to browser vendor decisions (see &lt;a href=&quot;https://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features&quot;&gt;Prefer Secure Origins For Powerful New Features - The Chromium Projects&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;That means for some browser features even to work, you need to have full session HTTPS.  Lots of web applications do this today and have been doing so for years.  I’m personally proud that WestlawNext launched this way, starting with our User Acceptance Testing (UAT) pre-release environment in 2009.  That predates both Gmail (&lt;a href=&quot;https://gmail.googleblog.com/2010/01/default-https-access-for-gmail.html&quot;&gt;Official Gmail Blog: Default https access for Gmail&lt;/a&gt; ) and Google Search (&lt;a href=&quot;https://googleblog.blogspot.com/2010/05/search-more-securely-with-encrypted.html&quot;&gt;Official Google Blog: Search more securely with encrypted Google web search&lt;/a&gt;).&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Production-Ready Microservices by Susan J. Fowler]]></title><description><![CDATA[I saw this book review on Twitter today:  Production-Ready Microservices: Building Standardized Systems Across An Engineering Organization…]]></description><link>https://kevinhakanson.com/2017-02-06-production-ready-microservices-by-susan-j-fowler/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-02-06-production-ready-microservices-by-susan-j-fowler/</guid><pubDate>Mon, 06 Feb 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I saw this book review on Twitter today:  &lt;a href=&quot;https://www.bennadel.com/blog/3222-production-ready-microservices-building-standardized-systems-across-an-engineering-organization-by-susan-j-fowler.htm&quot;&gt;Production-Ready Microservices: Building Standardized Systems Across An Engineering Organization By Susan J. Fowler&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 145px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cdad84b9496eff30ba0a94c6eb668365/7771f/pastedImage_3.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 131.0344827586207%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAaABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAQCAwUG/8QAFgEBAQEAAAAAAAAAAAAAAAAAAgAB/9oADAMBAAIQAxAAAAHTty12uhFAG5bQNoEzL//EAB0QAAIBBAMAAAAAAAAAAAAAAAECAwAEETMQEhP/2gAIAQEAAQUCYZl8o6UBRLsOattZhQlYR3RAg5//xAAVEQEBAAAAAAAAAAAAAAAAAAARIP/aAAgBAwEBPwEj/8QAFhEBAQEAAAAAAAAAAAAAAAAAEBES/9oACAECAQE/AclP/8QAHhAAAgICAgMAAAAAAAAAAAAAAAECESFBEiAiMnH/2gAIAQEABj8Crgmj1R4qiX00Yey6ySUoY0VHp//EAB0QAAIBBAMAAAAAAAAAAAAAAAABERAhQWExUfH/2gAIAQEAAT8huprmMnjkMQmqJgCPqB2abbH7AciCkKjEf//aAAwDAQACAAMAAAAQb/Zw/8QAGREBAAIDAAAAAAAAAAAAAAAAAQAQETFR/9oACAEDAQE/EB9juZa//8QAGREAAgMBAAAAAAAAAAAAAAAAAAEQETFR/9oACAECAQE/EE1aPS3Y/8QAHRABAQADAAIDAAAAAAAAAAAAAREAITFBURDR8f/aAAgBAQABPxA4E6vY9nefls2iGwQuMuoxEZgQiB40uGZAI2XcLgD01a24OKwgoJ6737zpv2Vd/BE2DvzhAgBvxn//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Production-Ready Microservices book cover&quot;
        title=&quot;&quot;
        src=&quot;/static/cdad84b9496eff30ba0a94c6eb668365/7771f/pastedImage_3.jpg&quot;
        srcset=&quot;/static/cdad84b9496eff30ba0a94c6eb668365/7771f/pastedImage_3.jpg 145w&quot;
        sizes=&quot;(max-width: 145px) 100vw, 145px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;And when I saw it was an O’Reilly book, I knew I was be able to access it through Safari Books Online.  If the overview below looks interesting, check it out at &lt;a href=&quot;http://techbus.safaribooksonline.com/book/software-engineering-and-development/9781491965962&quot;&gt;Production-Ready Microservices: Safari Books Online - Premium&lt;/a&gt; &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;One of the biggest challenges for organizations that have adopted microservice architecture is the lack of architectural, operational, and organizational standardization. After splitting a monolithic application or building a microservice ecosystem from scratch, many engineers are left wondering what’s next. In this practical book, author Susan Fowler presents a set of microservice standards in depth, drawing from her experience standardizing over a thousand microservices at Uber. You’ll learn how to design microservices that are stable, reliable, scalable, fault tolerant, performant, monitored, documented, and prepared for any catastrophe.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Profile Picture Performance Problems Pondered]]></title><description><![CDATA[In researching browser component UX timings for a project, I found some a slow requests. Here is the likely culprit:  Well, not Kevin…]]></description><link>https://kevinhakanson.com/2017-01-28-profile-picture-performance-problems-pondered/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-01-28-profile-picture-performance-problems-pondered/</guid><pubDate>Sat, 28 Jan 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In researching browser component UX timings for a project, I found some a slow requests. Here is the likely culprit:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 200px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9b7fa4f27929efeffc3355705d598182/772e8/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFiElEQVR42h2UW1CUhxmGf7xIOtOLJpl22pSkGhU8AAUFPHIQJQjsArucd5eFZY8sJ11YlsXlDIsoJ4uwkgUEBBcWFVhXLfHYkTQYIyZo42kMbdokHSczrRe96N3Tv168d988833f+84rvPzmK/76dJUXj7/i5ZNVvnv5jBdPnrB0b5UTo34qW1zo7d2YrK3UNJ6gtG0EndODoW2Sko7zlHd6sHRNU9frxTl4CWHWfweP7zY9Y35aXXNYu2cwtJ9HVtpBWHQMiTHRHIoVtXcnOakHUOVloK1qpeT4jAicegOs6pqh7tQsbf8HyqxnkFmHyLB+QqbNTV79OLKyDgJ/82sEQWDdugAC3mgdAQEBvP32OrZtDKSgogX7gI9aEVTV7aWqZwZ73wyCquEsSlHqpnEKmkYxdl0k+nAuv3xLIGrzJja9H8h7P/8FWz/cQMzW7UQHB7Ptg9+yKzKK3uGLDHmv0zHso3v8Gu7ZGwiuiYtUij9QNY9T7JxC3ejm99tDqEhPxGUtw2nUYEyVUp4hozori9r8HOxFCuKjwjGYLayt/Z1XP3zPf/71E69ffY/Q193LqMfH0Z5pHGcWqO5wEfFRIH0VRUw01nCusZZT5SacumKchmI6S42ctlnQyOXk56t5+Ogp9++vcOvuMjeXlhGsNQ5OdHaxcPVTfNeXcE0tIE2Io06VRll2BpWZWTQoC2lSF1Mqy8IgT8dh0GFWqWlqOc7yw78wffkW5xZu4r16B6GxoZXa2gau+n2Mzt/CenICc14OubH7+DhiN3s2h6BPSqUsPZN9wREkhO8h73AqJqWKvlODeBeXOH52nkuLf+La7c8QrszNUVfXiGvAxfMXTxnqGqAsOZnSdAmHQiKJDwqlU6fGoVJyMCSKgzv2U5CcgkVTRHu5hbELVxm5tMidP99jyi+a8vjBMoP9A1y5PM9/X7/i4d3b2HLluI6U0WMyYZfJcVdbaNPqKJOkUZOdj108v6ZQS0tVA5OXbzDs9eMWwePznyLc+KOfF49W+GHtGWtPH9Nx8jQlufk4izV060opS5SijpeijJWgj0vGkVsoumwUZ9QMOLtZ+WKZ56srvP7nd/z7x7+JLvf18vWXn/Pj2nO+/WaVzhOnUcrzqRQ30yVKUMcdIntnHJkR8eTuSsAszeGoooiSQj0KlZn8wnKcnb1Mnpuk2dmD0NzUwtio+w30p398y5PVB4wMDlIkSUcRn0TalijyNu4hZ+NepFv2oTiQijZTgVZtxFHfzicDbkbdZ5m7cJGaujYxNtW1tDaL0BE395ZuMzvtwT08jM1cTvqu/ZhEh3X7JRREJqFJSCbvYDL50jwuiXPPHj1g5d5nXPHNc/2an8cP7yOYzRVYLDXU19fjmRrDOzWJ3dGMMkfzJiJ6qRx7dgGlSTnkHZIh/1iGJDGLGc8sd28t0t7eQbXVjq3WwRnXGQSd1oROb8ZsruSa7wI3/XMUlTcRGZtHxO+2EBW6l5S9KaTGpBG3+zDJsUnsjEjC5Bjiwd0bzHunOHrEKjJKKdIYEAoUBSjylaiLdAwNT9DaP0tcUSfR8mOEfbST7R+EErJpNzu2xRIZEkPohyFsiFQgPzZL//klxqd92Gx1GLRGCgs1CPojzWht/WjrJ5BbRojTDxIubyEsq40dKTYit8QTG5oglkEaEcEHCNyWRVCGk9TqaaQ1F1C2iD3QO0dV2xAmsSeF0t6bFB9fJNs+TUq5mxhNP5sPN/D+/iO8F1zMu4G57AlPZVd4CkG7S1gfYyMo6yQymxdJlQe53YuieQFFkw/jSTHYqsY5pBVjJBqHOKAdIE43SFhmJxsOHuOd9QX8LFDL+hANYVsl/CrSyrtBesIVf0Bi8ZBUcY4UyyTxhmES9G6xTxf4H6KLtILEz56HAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Kevin Hakanson profile picture&quot;
        title=&quot;&quot;
        src=&quot;/static/9b7fa4f27929efeffc3355705d598182/772e8/pastedImage_4.png&quot;
        srcset=&quot;/static/9b7fa4f27929efeffc3355705d598182/12f09/pastedImage_4.png 148w,
/static/9b7fa4f27929efeffc3355705d598182/772e8/pastedImage_4.png 200w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Well, not &lt;strong&gt;Kevin Hakanson&lt;/strong&gt; the person, but his profile photo which is base64 encoded and included in the body of the JSON response, bloating the size to 105KB and likely adding extra time as well.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d7793201a9c07bc0f0474f84018d176a/b5a09/pastedImage_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 9.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeElEQVR42lWMyw6DIBRE/f/fa7ygMVq9UFuxQmDDYzFFdl3N5EzmdCQH9CRBYsCjJwg51hRQSuMwBiklmPNEKQVcGQnZWIwROWcszxXf64L3Afq1o9tYtbJujLmOzLr1W2ata2frXBVmvD8Hpnn5E97Me48QQvv8ALl1lUcUaJejAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Chrome Developer Tools network requests&quot;
        title=&quot;&quot;
        src=&quot;/static/d7793201a9c07bc0f0474f84018d176a/fcda8/pastedImage_1.png&quot;
        srcset=&quot;/static/d7793201a9c07bc0f0474f84018d176a/12f09/pastedImage_1.png 148w,
/static/d7793201a9c07bc0f0474f84018d176a/e4a3f/pastedImage_1.png 295w,
/static/d7793201a9c07bc0f0474f84018d176a/fcda8/pastedImage_1.png 590w,
/static/d7793201a9c07bc0f0474f84018d176a/efc66/pastedImage_1.png 885w,
/static/d7793201a9c07bc0f0474f84018d176a/c83ae/pastedImage_1.png 1180w,
/static/d7793201a9c07bc0f0474f84018d176a/b5a09/pastedImage_1.png 1360w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;That exact same image data is included in multiple responses; both from different endpoints and repeated calls to the same endpoint.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/api/profiles/v1/users/F4EB32BB5B1D4F86B126FE07E65CB2D3&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 313px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0950e5b348f17c9d1ba4eff481d42f0f/80977/pastedImage_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwklEQVR42pWR25KaUBBF/f+fylseJqnRiaAiiooXLoebygEPCCsNsSZ5S9JVXU03Vfv0Xj1RSrE/7DkcDxRFgYqlPx6JkwT/dOIgeQoC3N2OreTQX6KIs8yG/0macglDApldr1cmz+5JpjK82Z7sUlCmCmX/IPM81HZD8DEjsixOb28E7+9cJJVtoVZLwtmMYr8j2bhkqxVN0zBBotEtuVsQ2SmhlXD1FeboUy+XmM2G7naj15quLOkqTS+1r2u6YfZ40EsOdYhR8PmQLU9XynNE/t0mtx3qk899PqdcLKh9H+2uMWmClm0e57P0LrWgqQVXtfPGSt//EmzrlmihyL0YNd1y9/bUYlc7DpVYHzYxwqwVRiaUmmVjbYRzI48YYdjI7PeG5olayBG+XvC/BZT5ncpZchd+lWxiBPjw+l+j614Mq5ZwHhNMQ3ZfDgROyiPPqcReK5fvjeFfYxQ0uiH8iEjcjEIOkk4dbrYtG07Ra7Et9suFPeaAQTsrtFy5tOaf39V2K27WL8GyIZINIzvhpgq0NRtFTBSOdps4HnkZFX8yMzIbOar4xTId2Y6CXduNouZuMFVDV1d0/2HzT8s/AV/99O45ods1AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Chrome Developer Tools&quot;
        title=&quot;&quot;
        src=&quot;/static/0950e5b348f17c9d1ba4eff481d42f0f/80977/pastedImage_3.png&quot;
        srcset=&quot;/static/0950e5b348f17c9d1ba4eff481d42f0f/12f09/pastedImage_3.png 148w,
/static/0950e5b348f17c9d1ba4eff481d42f0f/e4a3f/pastedImage_3.png 295w,
/static/0950e5b348f17c9d1ba4eff481d42f0f/80977/pastedImage_3.png 313w&quot;
        sizes=&quot;(max-width: 313px) 100vw, 313px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/api/profiles/v1/staff-availability/0D08931CA24D498DB6CD6800194B463B&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 338px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/034cec88132160c2c967e417f1be88e2/2b41d/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4ElEQVR42pVTa5ObMAzk//+v9qZ3V3pJSCA8QsgBMRBsgs1jgLAVJOQ6/dSa0UgymkW7ElqapSiuBUZ6htuA2+328Pe473uM4/i0YbjfL/HyfjqT1+IgBj8KcEegCEoUxxJlICFjBcklWMKQsASO48CyLMiyRBzHcF0XJcWT+b6PzWaDM2PQlFRIvRRpmOJ0PMGxXOivv5B8MnwG4VzIzmcwKjYMA7quw/O8OV+t17Bte/5QFIY40L22tF6cCiRWisxNEe0jVCyCePuBy9sbKtdBZe4gCCx9eQHXf0JtDWTfv0GsVxDv71C7LdqigIbHycwcmZWjFhKNf0R7Cmdf73Zo/QPU6gPN3kJtmmgO3t08Fx1J0jg2bk0z4zwBuS+Qk465J1CyK0rqVnqcCluM0xCIBR5+zsnwp02DmYayAMozaWleEL3GyIl+EwZEg7o7ne5g/3iegCK4gn0kiHSGK3WobA/FykBt74neAT3P0eU5BimfcU+aDbRyveDoOJ9zbdkfTlQn2sLlyPcT7RaqaDAoOYNOoitjg5rWp6LJqu2W7m1UljkPrCI2Fen7paErkOwzqFRCuWd0l4w6uZC/3DX6X8q1aOZlrmWLvhRooxAtLXBL+zV2HR6/wpdf7K/8NzTmQzltWiaEAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Chrome Developer Tools&quot;
        title=&quot;&quot;
        src=&quot;/static/034cec88132160c2c967e417f1be88e2/2b41d/pastedImage_2.png&quot;
        srcset=&quot;/static/034cec88132160c2c967e417f1be88e2/12f09/pastedImage_2.png 148w,
/static/034cec88132160c2c967e417f1be88e2/e4a3f/pastedImage_2.png 295w,
/static/034cec88132160c2c967e417f1be88e2/2b41d/pastedImage_2.png 338w&quot;
        sizes=&quot;(max-width: 338px) 100vw, 338px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;On the surface, this redundancy seems easy to fix: replace &lt;code class=&quot;language-text&quot;&gt;photo&lt;/code&gt; / &lt;code class=&quot;language-text&quot;&gt;profilePicture&lt;/code&gt; with &lt;code class=&quot;language-text&quot;&gt;photoURL&lt;/code&gt; / &lt;code class=&quot;language-text&quot;&gt;profilePictureURL&lt;/code&gt; and add some HTTP caching headers.  After that, the image request will only be made once.  However, if the profile picture image data is being sourced from another system (like an identity provider), there may still be a problem.  There might not be direct URL access to the image and even then, the caching headers may not be set to ensure that any profile picture updates take effect immediately.  It may still be necessary to proxy the image data request.&lt;/p&gt;
&lt;p&gt;With any caching solution, there is a trade-off between performance and stale data.  One solution to this problem is to generate a unique image URL for every photo.  A new image would get a new URL.  Something like:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/api/profiles/v1/users/F4EB32BB5B1D4F86B126FE07E65CB2D3/photo/{hash-of-image-data}&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This URL will uniquely and deterministically map to that exact image data so the HTTP response can be cached “forever” by the browser.  Also, since the image response can now be binary data instead of a base64 string, there will be about a 25% savings in bytes transmitted.&lt;/p&gt;
&lt;p&gt;With the browser performance problem solved, the server can decide it’s caching strategy, including how often it wants to consult the source of truth and if it wants to cache the image data or just store the hash value.  Profile picture changes don’t happen that often, and if they primarily happen in the UI, they are easy to track and manage the cache.  As few as 1 trip to get the image data might be needed for most sessions.&lt;/p&gt;
&lt;p&gt;There are certainly edge cases, and this isn’t intended to be a full design, but a topic worth investigating.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Yahoo Maps?]]></title><description><![CDATA[The other day, I was having a Slack conversation with a co-worker when he replied “true” in agreement with a statement I was making.  My…]]></description><link>https://kevinhakanson.com/2017-01-27-yahoo-maps/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-01-27-yahoo-maps/</guid><pubDate>Fri, 27 Jan 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The other day, I was having a Slack conversation with a co-worker when he replied “true” in agreement with a statement I was making.  My first instinct was to respond “Double True!” due to the &lt;a href=&quot;http://www.nbc.com/saturday-night-live/video/snl-digital-short-lazy-sunday/n12003?snl=1&quot;&gt;SNL Digital Short: Lazy Sunday&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 306px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d77954cb6bca3e4393643e16e8387b2d/98b92/pastedImage_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAADDElEQVR42h2RzU/bBRzGfyaOAaVQ+r5SChMQobxsRIatUAgLYa44sk1meWk7WzpK+fW9pS/0vbVgSofZTEx06UE9THfQGL3t6kUPXvRvMDEx0YXDbh9/2eGbPKfP83yfRwiEfWSyEYrFFKVcAjHkJhBwkAx+SDa8Qza2Qz51n3rR/+qqBT/H5QAnlQd8Un7ASclHo7JPNr5FppBAiMQDHOWilEppapXMK2AksMF99xpu1zrpsJNI0ME9xypRyaSa81Er+qiXXBLMQ0PSn1b2yMe3CSaDCGEJmCvEqVSzFMspDoIu/OImN9cXeVIOkRRdvLMwyfXlWeasVzn+OMbZSZzTqshZPUBTgp1V/eTiTqLZGIIoekmng+QLUsJanljShyg6cNxZJe++xfur86gGlVQONhG37+KJBCke17jl2GDHvUHu0MXZcYB81ElKqk2IRfbJpEPUqkWcfi/LNgvfNapEPFtcm53Ev+dhZX6R6YnLuD6w8YU3wOPPn2C/t4ZMq2Ju6RrNapCjqJtELo4QONglnU0SSkS4NDmKWqXi3SkzAyMmLAsWnp0UqCzcQKYwYBgwsGYaxjg4yuD4OF06LR1aNYchB+XENvX6IUKqVqT4qMHUkpV2tQK5XsUFhYxuvRplvw6HfRH/xm3atEYu6E28bjTRrtXwWqecdo1CMp2mkvuIes5J8zSLsO7ZZGXzNvrRy3Soe5DrlMg0SjqUvVxUdNPW1UZvr1xKo0c9bKRHp0I1YGLlrp19qevT+r4E9FLOuGk2jySgBJu3X8fy3rL0hhnjjI3RqRmmx/qwrlh5+8ZNJsxvoNXqsdlnGLbMcnV5jri4SzCyS1JaNxzZIhp2kDjcQ/jy6xa1hw2KD0+ZtljpMg5i6O9jZMTA1LyZK7YlRob6kas16If06N4ap++KmWRIpPXNV/z+5x/88tuvfPvjM77/+QeEz1otWk+fcse9gyDrQPvmELoJM50GDRd7ZHTKu+mShjLPzWIcG0Omv0SfNIg3GuWn58958fIl/5y/4K///uXv83P+B03KvTUCqL+fAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Double True!&quot;
        title=&quot;&quot;
        src=&quot;/static/d77954cb6bca3e4393643e16e8387b2d/98b92/pastedImage_1.png&quot;
        srcset=&quot;/static/d77954cb6bca3e4393643e16e8387b2d/12f09/pastedImage_1.png 148w,
/static/d77954cb6bca3e4393643e16e8387b2d/e4a3f/pastedImage_1.png 295w,
/static/d77954cb6bca3e4393643e16e8387b2d/98b92/pastedImage_1.png 306w&quot;
        sizes=&quot;(max-width: 306px) 100vw, 306px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Full lyrics for this December 2005 masterpiece can be found at &lt;a href=&quot;http://www.azlyrics.com/lyrics/lonelyisland/lazysunday.html&quot;&gt;THE LONELY ISLAND LYRICS - Lazy Sunday&lt;/a&gt;, but the relevant lines are these:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(Well let’s hit up Yahoo Maps to find the dopest route!)&lt;br&gt;
I prefer MapQuest (that’s a good one too)&lt;br&gt;
Google Maps is the best (true dat) DOUBLE TRUE!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I had totally forgotten about Yahoo Maps, which made me wonder what happened to that service. The URL no longer works and &lt;a href=&quot;https://en.wikipedia.org/wiki/Yahoo!_Maps&quot;&gt;Yahoo! Maps - Wikipedia&lt;/a&gt; gave me this timeline:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Shutdown&lt;/strong&gt;&lt;br&gt;
On June 4, 2015, Yahoo! announced that Yahoo! Maps would be shut down, along with Yahoo! Pipes, at the end of the month.&lt;/p&gt;
&lt;p&gt;As of 28 April 2016, Yahoo! Maps can still be accessed at &lt;a href=&quot;https://maps.yahoo.com/b/&quot;&gt;https://maps.yahoo.com/b/&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;As of 24 October 2016, Yahoo! Maps is no longer showing any data.&lt;/p&gt;
&lt;p&gt;As of 6 November 2016, Yahoo! Maps (maps.yahoo.com) redirects to a Yahoo! Search for the word “maps”.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As much as I like to say “double true,” my favorite line from &lt;a href=&quot;https://en.wikipedia.org/wiki/Lazy_Sunday_(The_Lonely_Island_song)&quot;&gt;Lazy Sunday&lt;/a&gt; is this one:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(You can call us Aaron Burr) from the way we’re droppin Hamiltons&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Interestingly, “Hamiltons” almost had the same fate as Yahoo Maps (see &lt;a href=&quot;http://money.cnn.com/2016/04/16/news/economy/jack-lew-hamilton-10-bill/&quot;&gt;Jack Lew nears decision to keep Hamilton on front of $10 bill, put a woman on the $20 - Apr. 16, 2016&lt;/a&gt; ), but I don’t think a hit Broadway musical would have made any difference for Yahoo Maps.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS X-Ray Investigation]]></title><description><![CDATA[In Zipkin JS Investigation and Zipkin JS Investigation (Part 2), I took a simple Express (Node.js) based web application and added zipkin…]]></description><link>https://kevinhakanson.com/2017-01-15-aws-x-ray-investigation/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-01-15-aws-x-ray-investigation/</guid><pubDate>Sun, 15 Jan 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In &lt;a href=&quot;../2016-06-10-zipkin-js-investigation&quot;&gt;Zipkin JS Investigation&lt;/a&gt; and &lt;a href=&quot;../2016-07-20-zipkin-js-investigation-part-2&quot;&gt;Zipkin JS Investigation (Part 2)&lt;/a&gt;, I took a simple &lt;a href=&quot;http://expressjs.com/&quot;&gt;Express&lt;/a&gt; (Node.js) based web application and added &lt;a href=&quot;http://zipkin.io/&quot;&gt;zipkin&lt;/a&gt; tracing. I updated that application with support for &lt;a href=&quot;https://aws.amazon.com/xray/&quot;&gt;AWS X-Ray&lt;/a&gt; (Preview).   The code snippet below was based on instructions found at &lt;a href=&quot;http://docs.aws.amazon.com/xray-sdk-for-nodejs/latest/reference/&quot;&gt;http://docs.aws.amazon.com/xray-sdk-for-nodejs/latest/reference/&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; http &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;http&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; AWSXRay &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;aws-xray-sdk&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;AWS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;captureAWS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;aws-sdk&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;port&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PORT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;servicename&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;helloservice&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;plugins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ElasticBeanstalk&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;captureHTTPs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;http&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// below not working, need to start with: XRAY_TRACING_NAME=helloservice node index.js&lt;/span&gt;
AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setDefaultName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;helloservice&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;express&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;openSegment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;// handler code here uses http.request()&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AWSXRay&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;express&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;closeSegment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Looking on the X-Ray Console, here is a screenshot of the result of calling: &lt;code class=&quot;language-text&quot;&gt;http://dev-env.3tp23hiz9p.us-east-1.elasticbeanstalk.com/?count=3&lt;/code&gt;.  I have also included the &lt;a href=&quot;/97dd5d29efde57b873a6260d0fb6ec77/1-587c35e2-c21cf7e73003b660d10e33ea.json.zip&quot;&gt;raw JSON data&lt;/a&gt; for this trace.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/051de3e72ec3003848485fd3f8d71ffa/29114/pastedImage_6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7ElEQVR42mWQzUrEQBCE8/6v4sWLHrwJetIFEZVlD8qSNTOTzKTnP5JJUk4SDeg2fBRdh6K7CiUVeFWCM4YQAowxaElDZx2GEfNMEzadfvXH+z9FzRkEr8AYhxACdV3DakIwBEcKliRM1o123Ve/hdb6D0UjJUQOcc7BOAvXObydCLd7jvtDvfDwLjd2HxKPmbtDg7IxiMHDe48Y40Ixv0lEK86Aegf/NeLYRpTU4agirl8ELp/YwsWuwtUzw/6zRUMOqe+RUsoVTAvFnD6HWWPhuwiXwlkvtutx88rzdQonaaFsxDT0GId01uE3BpF8AiWa4hkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;X-Ray Trace Timeline&quot;
        title=&quot;&quot;
        src=&quot;/static/051de3e72ec3003848485fd3f8d71ffa/fcda8/pastedImage_6.png&quot;
        srcset=&quot;/static/051de3e72ec3003848485fd3f8d71ffa/12f09/pastedImage_6.png 148w,
/static/051de3e72ec3003848485fd3f8d71ffa/e4a3f/pastedImage_6.png 295w,
/static/051de3e72ec3003848485fd3f8d71ffa/fcda8/pastedImage_6.png 590w,
/static/051de3e72ec3003848485fd3f8d71ffa/efc66/pastedImage_6.png 885w,
/static/051de3e72ec3003848485fd3f8d71ffa/c83ae/pastedImage_6.png 1180w,
/static/051de3e72ec3003848485fd3f8d71ffa/29114/pastedImage_6.png 1920w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Amazon uses the &lt;strong&gt;X-Amzn-Trace-Id&lt;/strong&gt; HTTP header with &lt;strong&gt;Root&lt;/strong&gt; and &lt;strong&gt;Parent&lt;/strong&gt; segments for carrying trace ids (see &lt;a href=&quot;http://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-request-tracing.html&quot;&gt;Request Tracing for Your Application Load Balancer&lt;/a&gt; for syntax).  For example:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;X-Amzn-Trace-Id: Root=1-587c35e2-c21cf7e73003b660d10e33ea; Parent=06b7ad9dfdae682a; Sampled=1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;To learn more about AWS X-Ray, you can watch &lt;a href=&quot;https://www.youtube.com/watch?v=s8tB3YhZd9U&quot;&gt;AWS re:Invent 2016: NEW LAUNCH! Introduction to AWS X-Ray (DEV316) - YouTube&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA["Hacked" by Baiduspider and YandexMetrika]]></title><description><![CDATA[Earlier this week, I was investigating the preview of AWS X-Ray – Distributed Tracing System and got quite a scare.  After I deployed my…]]></description><link>https://kevinhakanson.com/2017-01-13-hacked-by-baiduspider-and-yandexmetrika/</link><guid isPermaLink="false">https://kevinhakanson.com/2017-01-13-hacked-by-baiduspider-and-yandexmetrika/</guid><pubDate>Fri, 13 Jan 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Earlier this week, I was investigating the preview of &lt;a href=&quot;https://aws.amazon.com/xray/&quot;&gt;AWS X-Ray – Distributed Tracing System&lt;/a&gt; and got quite a scare.  After I deployed my sample app to &lt;a href=&quot;https://aws.amazon.com/elasticbeanstalk/&quot;&gt;AWS Elastic Beanstalk&lt;/a&gt;, I went into the AWS X-Ray Console to look at my trace data and saw more domain names listed than just the &lt;code class=&quot;language-text&quot;&gt;dev-env.3tp23hiz9p.us-east-1.elasticbeanstalk.com&lt;/code&gt; I was expecting - including at least one domain that is NSFW!&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e528eb03fa8c0a7a13cc49446f8dd57b/4ef49/Screen%2BShot%2B2017-01-13%2Bat%2B7.45.41%2BAM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABTUlEQVR42q1SXVPCMBDs//9Tjm8ODjKKBQQtrTDQNG1s0hb7vSZBioWiZcbt7MPlepvduRiL2QR8PUPMCKjvw5ek1JOke3oUPvXhybN9j8Lzjn1CSFNHUQTDtpdIIo48+4Rt23AcRw8KwRGJCB6jYOEHBBfgnJ9QIAxDTVXvdjsY5vgRS+cdXAjkeYY0TVGWJRTyqsBg84RpYKFBXeMSatkzGGNapKqqsx8q1BitTVjBaj+Ay2IHGM1wh6BCIV1WdYW+MH4Wym1RFGcx+jjrFAzkMrIsawTCVOB2dQ+W8l6RVb8z8mGQxSFurDsESfinYP39tRwS4kqHeRNVxS+KUm9dR/+FD2SCkTc9CqrDOI61wOnNfTB253gm87ZDKl98nh8dXsPhxsRwa7YdJknSPOprYdJXybe2Q9d19Zavdaig3A224/9zuKA2XqiFL7R1RooFwM99AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;X-Ray Service Map&quot;
        title=&quot;&quot;
        src=&quot;/static/e528eb03fa8c0a7a13cc49446f8dd57b/fcda8/Screen%2BShot%2B2017-01-13%2Bat%2B7.45.41%2BAM.png&quot;
        srcset=&quot;/static/e528eb03fa8c0a7a13cc49446f8dd57b/12f09/Screen%2BShot%2B2017-01-13%2Bat%2B7.45.41%2BAM.png 148w,
/static/e528eb03fa8c0a7a13cc49446f8dd57b/e4a3f/Screen%2BShot%2B2017-01-13%2Bat%2B7.45.41%2BAM.png 295w,
/static/e528eb03fa8c0a7a13cc49446f8dd57b/fcda8/Screen%2BShot%2B2017-01-13%2Bat%2B7.45.41%2BAM.png 590w,
/static/e528eb03fa8c0a7a13cc49446f8dd57b/efc66/Screen%2BShot%2B2017-01-13%2Bat%2B7.45.41%2BAM.png 885w,
/static/e528eb03fa8c0a7a13cc49446f8dd57b/4ef49/Screen%2BShot%2B2017-01-13%2Bat%2B7.45.41%2BAM.png 890w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I got scared we had been hacked!  I started doing a nslookup on those domain names, trying to track down the IP address so I could find the EC2 instance and kill it.  All of these domains pointed to the same set of IPs and looked to be hosted by a company named wix.com that also uses AWS.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;www.allbione.com canonical name = www18.wixdns.net.  
www18.wixdns.net canonical name = premium.42.wix.com.  
premium.42.wix.com canonical name = dispatchers-premium-693024781.us-east-1.elb.amazonaws.com.  
Name: dispatchers-premium-693024781.us-east-1.elb.amazonaws.com  
Address: 52.21.74.6  
Name: dispatchers-premium-693024781.us-east-1.elb.amazonaws.com  
Address: 52.72.254.231  
Name: dispatchers-premium-693024781.us-east-1.elb.amazonaws.com  
Address: 107.23.215.71&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I couldn’t find the servers; I couldn’t figure out what was going on; I needed some help.  Luckily, I saw my boss was also working late so I started a online conversation.  We looked at the API activity history in Cloud Trail and didn’t find any evidence.  Eventually, he noticed the incoming IPs and we looked at the access logs. In addition to my Mac, we saw traffic from Baiduspider and YandexMetrika.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;172.31.11.216 - - \[11/Jan/2017:23:51:11 +0000\] &quot;GET / HTTP/1.1&quot; 200 13 &quot;-&quot; &quot;Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)&quot; &quot;180.76.15.7&quot;  
172.31.11.216 - - \[11/Jan/2017:23:51:27 +0000\] &quot;GET /?count=7 HTTP/1.1&quot; 304 0 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10\_10\_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36&quot; &quot;198.179.137.210&quot;  
172.31.11.216 - - \[11/Jan/2017:23:58:51 +0000\] &quot;GET / HTTP/1.1&quot; 200 13 &quot;-&quot; &quot;Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)&quot; &quot;220.181.108.113&quot;  
172.31.11.216 - - \[12/Jan/2017:00:01:45 +0000\] &quot;GET / HTTP/1.1&quot; 200 13 &quot;-&quot; &quot;Mozilla/5.0 (compatible; YandexMetrika/2.0; +http://yandex.com/bots mtmon01i.yandex.ru)&quot; &quot;37.9.118.28&quot;  
172.31.11.216 - - \[12/Jan/2017:00:06:47 +0000\] &quot;GET / HTTP/1.1&quot; 200 13 &quot;-&quot; &quot;Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)&quot; &quot;123.125.71.97&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mystery solved. It appears that these spiders and bots didn’t have updated DNS records, and the external IP that AWS assigned my web app must have previously been used by the wix.com hosting platform.  They were just trying to reindex the web based on outdated info.  My web app was a victim of mistaken identity, not elite hackers from China and Russia.&lt;/p&gt;
&lt;p&gt;Because this was for a simple test, I had used &lt;a href=&quot;http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3.html&quot;&gt;The Elastic Beanstalk Command Line Interface (EB CLI)&lt;/a&gt; to make things easy and let it pick the defaults. This created a security group that allowed anyone to connect to port 80 - as you would expect for a public web site.  However, since this was only a test for me, I updated the incoming rule only to allow my IP range.  This stopped the extra log entries from being created.&lt;/p&gt;
&lt;p&gt;So, why am I posting this since getting “hacked” by a web spider doesn’t contribute to my “street cred” very much?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A reminder that you can’t control external traffic and as soon as something appears on the internet, it will be found.  Everything from our sandbox testing to our production systems needs to understand this and plan for it.&lt;/li&gt;
&lt;li&gt;A realization that at the time I was a bit unclear of what to do next if this had been hackers.  I am going to follow up internally on this topic.&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[My First Published Alexa Skill: Mars Rover Mission]]></title><description><![CDATA[While attending AWS re:Invent 2016, I participated in the AWS re:Invent Alexa Skill Contest.  I didn’t win the $10,000 grand prize but was…]]></description><link>https://kevinhakanson.com/2016-12-21-my-first-published-alexa-skill-mars-rover-mission/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-12-21-my-first-published-alexa-skill-mars-rover-mission/</guid><pubDate>Wed, 21 Dec 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;While attending AWS re:Invent 2016, I participated in the &lt;a href=&quot;https://www.hackster.io/contests/alexa-reinvent&quot;&gt;AWS re:Invent Alexa Skill Contest&lt;/a&gt;.  I didn’t win the $10,000 grand prize but was one of the finalists. See &lt;a href=&quot;https://medium.com/capital-one-developers/crowning-the-new-amazon-alexa-champ-at-aws-re-invent-85a55479fabf#.w1oqsrnyf&quot;&gt;Crowning the New Amazon Alexa Champ at AWS re:Invent&lt;/a&gt; for a recap of the contest.  Mars Rover Mission is an adventure game where you control a Mars exploration rover. It is slow-paced in that you can only take one turn per day exploring the Martian surface.&lt;/p&gt;
&lt;p&gt;At this point, I know you must be too excited to keep reading, so turn to your Echo and say:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“Alexa, enable Mars Rover Mission”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Alternatively, enable Mars Rover Mission via the Alexa app or at &lt;a href=&quot;https://www.amazon.com/dp/B01N002EZY&quot;&gt;Amazon.com: Mars Rover Mission: Alexa Skills&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f44c273f1fa8bac2678269aed9307a1d/01e7c/71k2KOc15YL.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEj0lEQVR42o2UC0xTVxjHqzNbwqJZZhaciZL52KaIOl9AFnFThKGorCqPMQoaRRDUIUOJINUphkdlCOWhcZHXGGBEmIACczCH25RHlPFS05VGQUqhvb29t5f2tv3v3GaAGs08yZdzcs49v/M/3z3fXyR6pgF4g8QUIQYGBjaOjo6WUHq9kqINPKWnzTo9/UirHb2oUqnW/vf9VCFEL2sCTOgHBwedNBrNdd5qA6WnbJ3td/FbfQ1aGuvQfb8DDMPaTGYew8NDFQqFwnEc/CLMPqFUKpfrafqxkWVRXXrJmnwwzHI0eJMtLtAbB3Z44miIry01dq+lvqrCylssoHRUH1E7T9grlUqnjsOmCH1PT89MhmG6iTrknjrCJ0h8cSp8O2KCtyAxWoL4iCCkx0gg3e2H42FbUZCZbGbIwTRtuN3W1uYwwRq/Kk3TZ83kKsVZyfzZmGDkJO6zx4n9AchKDEf+yWjIj+2FPDECuUmROHs4BFcuyYXMgKKoY8+mTURkz2aNnLq15RcUy2JtFTlJKMtKsEeRLA6X5Ym4UZSK4oyjKJMnoZysX86V4qfsBGtf1z0wrPGRprd3+kQODQZDAJGOW7VF1ubKbPx6JRvNlXK0/Hwet6ry0FKdh7YbP6D5ag6Zz8PtmgtobyzA75WZ+KOh3MqwHAw63fpJIMueHlEPojDtoKU8bR9qv49A3bko/Fl+BsqOq3ZofWkGnj5oQHN1PurKMtFUdQGZsVtxMSXGQm4HrVYbPQk0juWMDPaj4kQg35AWgvbz4biTH47qM8Goy9iD0szD2EP+9OloP0h8VsF//TJ4uDhhudM7iNy+zqIZHoLBwH43CeRMqaNDT1CXFsq3nNuFm7JQnJSsw9efLUKQ5zKEfLEa7gtmYuVsByxyfBseH81C1JaVKIzfhpu5hyxEHfR6fewEkDyX3WQCtRlRlmsnd6CWKMuLFSPlkBjX0sOwy3MJNrjMhdu8d7HwPQd4u7kg/0gAFCVRaC1PsTJGExi9fvMEUK1SzafZMfpuTQFqkrbZrqeEIkHihYQwL5RLA7HL+xN8+vH78F0xB4eCNmCPrysCP3dB/E5X21+NVWA501OFotPxuSohOShk9Dqk7/PjvxW7ItJ/PXK/2YrsyI3wcVuE1UsWIC5gLUI8XRD1pQd2un+IgxIxz3FjYGhaPsEaL5kHnZ3zjBw31P33fWxYsdiyxc0ZkZvWwMd5FjavWgix+2L4LHXCmjkz4L/UEcdDNlm7untgMpkGurq65j5bdRMqVap/vMiJBkVfNy7Fh43J/JzNss3zIfNdAKnXB8gTL8a5IDekx0VYBvoVPDc2hsdKpfhVBjFN6J8ole5ana7PbLGht+OOrbEwCxWyBPJGE1H/Yz767rXyjNFoFeq4v78/StjT1NQ07VUWZpfc29syXatR76cZppViORvFsKAMrJUEbxZchqIY4pdfPVe/r2rjBjsO16iH6mjypCid1izY2vDw8G1ivEteC/YC9E1hzHFcCRmD2Fq/Wq0+8PDhw7demrPXgNo3EEVSEkkjIyMz/tf2RSLRv40KYa2h6OBLAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Mars Rover&quot;
        title=&quot;&quot;
        src=&quot;/static/f44c273f1fa8bac2678269aed9307a1d/01e7c/71k2KOc15YL.png&quot;
        srcset=&quot;/static/f44c273f1fa8bac2678269aed9307a1d/12f09/71k2KOc15YL.png 148w,
/static/f44c273f1fa8bac2678269aed9307a1d/e4a3f/71k2KOc15YL.png 295w,
/static/f44c273f1fa8bac2678269aed9307a1d/01e7c/71k2KOc15YL.png 512w&quot;
        sizes=&quot;(max-width: 512px) 100vw, 512px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If you want more of the technical details (including links to the JavaScript &lt;a href=&quot;https://github.com/kjhsoftware/mars-rover-mission&quot;&gt;code&lt;/a&gt;, how to cheat, and the &lt;a href=&quot;https://youtu.be/P4A-EMxqtuk&quot;&gt;demo video&lt;/a&gt; I recorded at 4 am), take a look at the project writeup:  &lt;a href=&quot;https://www.hackster.io/kevin-hakanson/mars-rover-mission-a-slow-paced-adventure-game-971ae2&quot;&gt;Mars Rover Mission: A slow paced adventure game. - Hackster.io&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;If you don’t own an Amazon Echo, and can’t buy one because they are out of stock, try out the browser based &lt;a href=&quot;https://echosim.io/&quot;&gt;Alexa Skill Testing Tool - Echosim.io&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 494px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5c485fb3b190da6c2d583d771941c7e8/d72d4/Screen%2BShot%2B2016-12-20%2Bat%2B16.19.45%2BPM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.621621621621614%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABk0lEQVR42o2S2W7bMBBF/f8/UPShQF/61n5GkaI17CZxUS9xEkvWRi3USlHWckLJsduHAg2BwWB4OXfmznC2Xu9YLG5ZLldsN1sWP+YEvsev1T03X79RFCXjGYaBt5zZs+uwe9qgSkHfnWhOLXnVUNUnsqKm0i1l3aJ0R9P2BjsZrKVQ7dmPsXlzJay2nynv36PWn9Du0iR3WEGFLRRPXsWjV3IMFXGupyJ+UhNlGjeuCWSNY7AxvhKq+UfU9w+om3fo1RfysiGUCmEsiCvcqDQdnEbR9H0/SZ/kv/qLXbBZUdVGhp6Soqw0hOV/5/TK91c8XP2sKnIcx0bYz1g/5/i/V8jAQwhBFApEGBHHCUmSII2F5n6MszQlNFjg+2c1Rv7Y5Wxk1dp0mEl8y+Wwd9hsbVY7l/Wjz377wPFuSey5ZuMFUkqyLJ+2n8p0KpIWGpk3Z8LIVBm7yCKBPBxI7CPp0UM3Ha1R0ncdQ2u22L/x2+gkoLTNtwkONNJHuXtqYVGHNpXzYO4tBkN6mdG/7c9MXwDgsLEKS+5nHAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Amazon Echo - Black&quot;
        title=&quot;&quot;
        src=&quot;/static/5c485fb3b190da6c2d583d771941c7e8/d72d4/Screen%2BShot%2B2016-12-20%2Bat%2B16.19.45%2BPM.png&quot;
        srcset=&quot;/static/5c485fb3b190da6c2d583d771941c7e8/12f09/Screen%2BShot%2B2016-12-20%2Bat%2B16.19.45%2BPM.png 148w,
/static/5c485fb3b190da6c2d583d771941c7e8/e4a3f/Screen%2BShot%2B2016-12-20%2Bat%2B16.19.45%2BPM.png 295w,
/static/5c485fb3b190da6c2d583d771941c7e8/d72d4/Screen%2BShot%2B2016-12-20%2Bat%2B16.19.45%2BPM.png 494w&quot;
        sizes=&quot;(max-width: 494px) 100vw, 494px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let me know what you think, and if you like it - how about a 5 star review on Amazon.com?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Wolfram|Alpha and Pokémon Answers]]></title><description><![CDATA[The other day, my daughter had me search for zigzagoon on Wolfram|Alpha: Computational Knowledge Engine.  Apparently, there is a full…]]></description><link>https://kevinhakanson.com/2016-11-03-wolframalpha-and-pokmon-answers/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-11-03-wolframalpha-and-pokmon-answers/</guid><pubDate>Thu, 03 Nov 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The other day, my daughter had me search for &lt;a href=&quot;https://www.wolframalpha.com/input/?i=zigzagoon&quot;&gt;zigzagoon&lt;/a&gt; on &lt;a href=&quot;https://www.wolframalpha.com/&quot;&gt;Wolfram|Alpha: Computational Knowledge Engine&lt;/a&gt;.  Apparently, there is a full Pokédex loaded because it knew details like number, type, size, and generation.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 350px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/03dd1b11447860ddc0de24a04dd2a714/13ae7/pastedImage_6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 106.08108108108108%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAklEQVR42qWUWbPaMAyF8/9/U9/72mdghiWB7Pu+gJrP1GkcuL0zNDMiJpaOjo5kW3FWipvkEmSFXKNc7CAVJ0xlnO7yyWNNc2CW5U/LC6mqWqb7Z2AK8D4HXy4X2e12cjwexfd9mabp/wC3D98+NcuNM7HDRHhf/Gi2WOquV8CPPwkej4dhXz3sWeNcXjsDDOMk3TBI2z/XOiPlb4HeMZvuTz8Lh34GCcNQsjQ1sulgx3HkcDjI6XSS2+0m4zgazLWfAuRnmJlVVSVt275kJrgoCgmCQFk6J+2H/kUGKlEagg6Q67oSRZGyLMsUk7qulTNA5/NZ9vu9YpokiUoCOJbnuapyYdh1nZRlqQBYs9k0jVrDkO8khYVmQlX4YfiMw/iXIcEwvF6vSkuMefQ8TzkznzBfa7Xt9jI2WkNYEMx/vcmabySkAsrcavdWQ8A81zO6p998gx2dtm3bYPjPptAIBIYFHddsANR7uknfAiJ+HMeKSVmUqmtxEi9jQ1fRGOD1/G3Hy2BIEEAwgaEOJHMYBqpJGONE0/BfN8lgiOhkR3gAeWsHMld1oyrQE4AvSddALwwJoNub064uiF8/f4h73hkNe3dDGUcPHfVFYGozie+cpKly8BdG746oUTL6IHwYhMYNwzoIo4X9t11eDzYd1kdsfX1Fs276rH51sWoSvwFtHmmZ8dAtdAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Input Interpretation: Zigzagoon&quot;
        title=&quot;&quot;
        src=&quot;/static/03dd1b11447860ddc0de24a04dd2a714/13ae7/pastedImage_6.png&quot;
        srcset=&quot;/static/03dd1b11447860ddc0de24a04dd2a714/12f09/pastedImage_6.png 148w,
/static/03dd1b11447860ddc0de24a04dd2a714/e4a3f/pastedImage_6.png 295w,
/static/03dd1b11447860ddc0de24a04dd2a714/13ae7/pastedImage_6.png 350w&quot;
        sizes=&quot;(max-width: 350px) 100vw, 350px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So, I tried this computation…&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b55710b47e53c748d3c5c2577b1f2b9d/be86f/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 7.4324324324324325%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQUlEQVR42nXIsQqAIBgA4d7/9UoLBydFhX5RgnTJS9objg9ueerB6TTiNkrYpwrxiiuZ793ZQo/Qwm+jRYZoyCsv0ZVLXptBBRIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;average height of generation iii pokemon&quot;
        title=&quot;&quot;
        src=&quot;/static/b55710b47e53c748d3c5c2577b1f2b9d/fcda8/pastedImage_4.png&quot;
        srcset=&quot;/static/b55710b47e53c748d3c5c2577b1f2b9d/12f09/pastedImage_4.png 148w,
/static/b55710b47e53c748d3c5c2577b1f2b9d/e4a3f/pastedImage_4.png 295w,
/static/b55710b47e53c748d3c5c2577b1f2b9d/fcda8/pastedImage_4.png 590w,
/static/b55710b47e53c748d3c5c2577b1f2b9d/be86f/pastedImage_4.png 662w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and it worked as expected!&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 283px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bf0a345159bf4130edf866d768e6b1c0/bde6a/pastedImage_5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 97.97297297297297%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHElEQVR42p1Ui3LaMBDk/3+spFCYMEPLJNMU6oBjW7Zly+/XVidHqmWcTlvNLPgk3epu76SVyEvcGEeUZniLONyQK/vVjxAmGWgMw4C/HauirOFzgUz+x1mhSCJRvM9V+Nexop8yLxC4HriMMJUI/QAZT8G8ANefVzgXB7fXm7QZoiCCSASSJEEUySzCEGVZ2oSpdD4+HvFls8Pj7oCHT59xPBzx9PUJz9+esd/usX3YYifXD/uDPDCE4zhYr9fYbDbgnNuEfd+PGHqlF8HM9b/nFPoBXd9Z6wRDqB2mi13XKczt6fx8j8aKSfF/vDFcJL7fAuRVM1YW/zdUhFXdoG4aFFWNpu1kWna009TnEc3TVhqOTpRCi0YST0nIFkIgz3Ml/kdkbduqAw1hwhPVAkEQIE1TUwTaSHPUJowx0+hzEIchnEc1Fb1uarVe17XBUoFojyGkSUrH93yELESe5ZbQp9MJnuepCCl9yoa+6Z/8SA6tsYmQUquqynzPI9S2loHQyGJqHytC2phlmYEWWGtzPp/huq5yjuNYRUTXjkj0sDQkgzZRMTIxEk6r5/ujFERIxSFJRCqUnrqVrCprYzp0hNN0dK8tXU+LkCboRCVyzNW3ikA2umob+cpM7+vSuEuZnqCiKAzKonwvRovLy1WmWfzxsbUI265d3DgWpYV782Vzs/EgeTBhWri7xl56UTRGx/urtvQC0V3+BQ2NGhNrAVdtAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Input Interpretation: Generation III Pokémon height&quot;
        title=&quot;&quot;
        src=&quot;/static/bf0a345159bf4130edf866d768e6b1c0/bde6a/pastedImage_5.png&quot;
        srcset=&quot;/static/bf0a345159bf4130edf866d768e6b1c0/12f09/pastedImage_5.png 148w,
/static/bf0a345159bf4130edf866d768e6b1c0/bde6a/pastedImage_5.png 283w&quot;
        sizes=&quot;(max-width: 283px) 100vw, 283px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;How is this relevant to the capabilities we are developing around how knowledge workers &lt;strong&gt;Find&lt;/strong&gt;, &lt;strong&gt;Analyze&lt;/strong&gt;, and &lt;strong&gt;Decide&lt;/strong&gt; about &lt;strong&gt;Content&lt;/strong&gt;?  Now think again about the Wolfram|Alpha Pokémon example and how that combines natural language input and content to recommend an answer.  Then go to &lt;a href=&quot;https://www.wolframalpha.com/&quot;&gt;https://www.wolframalpha.com/&lt;/a&gt; and try some queries out yourself.  How does the user experience compare to more traditional research products?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[UX Issues with Authenticator Apps]]></title><description><![CDATA[I recently got a new personal iPhone and realized that none of my accounts stored in Google Authenticator were restored via the iCloud…]]></description><link>https://kevinhakanson.com/2016-10-17-ux-issues-with-authenticator-apps/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-10-17-ux-issues-with-authenticator-apps/</guid><pubDate>Mon, 17 Oct 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I recently got a new personal iPhone and realized that none of my accounts stored in Google Authenticator were restored via the iCloud backup restore process.  I thought it might be time to switch authenticator apps to something like &lt;a href=&quot;https://www.authy.com/app/&quot;&gt;Authy&lt;/a&gt;, which supports encrypted backups and multiple devices (including desktop). &lt;/p&gt;
&lt;p&gt;So, I decided to try out some iOS Authenticator Apps using a stand-alone, in-browser, MFA demo website (&lt;a href=&quot;https://daplie.github.io/browser-authenticator/&quot;&gt;https://daplie.github.io/browser-authenticator/&lt;/a&gt;).  I was surprised by some fundamental UX issues I uncovered.&lt;/p&gt;
&lt;p&gt;To test, I generated a “secret” for fake Issuer (&lt;code class=&quot;language-text&quot;&gt;Example Corporation&lt;/code&gt;) and fake Account &lt;code class=&quot;language-text&quot;&gt;firstname.lastname@corporation.example.com&lt;/code&gt;.  Here’s the URI and QR code (feel free to steal my “secret”):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;otpauth://totp/Example%20Corporation:&lt;a href=&quot;mailto:firstname.lastname@corporation.example.com&quot;&gt;firstname.lastname@corporation.example.com&lt;/a&gt;?secret=XOJ4YXLNDHB7OLQFIIYW6E3NEXA5IEIE&amp;#x26;issuer=Example%20Corporation&amp;#x26;algorithm=SHA1&amp;#x26;digits=6&amp;#x26;period=30 &lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 166px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5c703823188a0b4a7cb9c4f8d3835a28/e72ac/pastedImage_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAADOklEQVR42k2U2UuqYRDG+4e6rQuJiBQqEjFtJajUbLGiMm0xbdE2zFbb9w1xi4pWzJsuAqM/pGgzsyKi4/l9fXZOL/Tx9s48M888M2NKIpGIRqO3t7fxeFy839/fc3l9feXy/Px8d3fHJf59vr6+Xl5ebm5uYrEYPimPj4/9/f29vb1Wq3V+ft7j8czOzs7MzDQ3N8/Nze3s7BgMBp1Ot7S0ND4+Xl9fz9dkMg0ODgpgAnd1deXm5k5NTen1evzsdjuxSkpKOjs7Mfl8PqPRiGlgYID75OSkTCbDRwBDwO12kwSwy+UCAL6pqQn89PS0xWKBS3FxcVVVFe/n5+f7+/sgCSSAn56eSktLJyYmzGbzxcUFqWpra9vb20mVnZ1dWFiYl5fncDgADw8PHx0dLS8vj42NLSwsCOCPjw/IEEmtVlN8fn4+hr6+vpOTEwAQJij1UychuPOCD/kFMH9DQ0MQI1tdXR3y8EUYYvGON4WIRXKysrJ4LC8vPzw8TILxwAzh0dHRg4MDohwfH5NBKpUiBzqDRxSlUtnS0tLW1kZT1tbWBDCt293d7enpgQmEA4EABqpqbW0lIox4LCgoaGhooH7U4VJUVEQaAfzw8IA3gZEaPpeXl2VlZfQcwSmB/HhTAu1VqVREEfv3v2aETUtLA4BtY2Ojo6Ojuroac01NjVwu12q11Al5BkYikRCOKPgkwZgbGxttNhsX1BKFPT09zcnJSU1NJQ9pNzc3GSTj98GZERDA7+/v6enplZWVq6urfr8fqrQNcDAYRAvqRKRQKHR9fc2QkJA+U2Y4HBbAb29vqCIO9vr6OhNCP+gkEiAPKvDNzMykVBihEw3LyMjY3t5O0oYw7QEPH2THb2RkhAz4AUYRjUYDHWTHihwKheLq6ioJpirEYM7IDCVGnxcuiERQxpu6CIH17OyMisjf3d0tgFlgp9O5uLgITzaRrqCZ8/vgQSCGlCmCCOPBnOBDZpIlVxIn5oFUbDLK0TA2DAxbSZPwrqio4N+VlRUmh4s4wgKY3wrWhU0AwG5BgVaTkHXf2tryer17e3sAxOZhikQifJM/Bvz9+TmJn/P5+fnvkfn97fPb8y+wG7plZ/jI+wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;TOTP QR code&quot;
        title=&quot;&quot;
        src=&quot;/static/5c703823188a0b4a7cb9c4f8d3835a28/e72ac/pastedImage_4.png&quot;
        srcset=&quot;/static/5c703823188a0b4a7cb9c4f8d3835a28/12f09/pastedImage_4.png 148w,
/static/5c703823188a0b4a7cb9c4f8d3835a28/e72ac/pastedImage_4.png 166w&quot;
        sizes=&quot;(max-width: 166px) 100vw, 166px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now for the UX problems I found with these apps since my iOS device set to a larger font and I used longer than “normal” Issuer and Account values.&lt;/p&gt;
&lt;p&gt;First the &lt;a href=&quot;https://itunes.apple.com/us/app/authy/id494168017?mt=8&quot;&gt;Authy iOS app&lt;/a&gt;, which uses a small square box for the truncated &lt;code class=&quot;language-text&quot;&gt;Example Corp...&lt;/code&gt; issuer and even more truncated &lt;code class=&quot;language-text&quot;&gt;firstname.lastname@...&lt;/code&gt; account.  There is no excuse since Authy has so much white space to work with here.  Also, notice how unreadable that light grey text is on a white background.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 200px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8a9345888636dd331c9a14aa6c35d5a5/772e8/pastedImage_7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 177.7027027027027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAADp0lEQVR42q1WS28jRRCef8GVX7FHDkhwWZC4c+XMhQt/AWklTlyIvBEPwUqrBS0EDlEO4bCQ3eAYJ/YmjhPFiR17Z8bveT8/+qu4Ledhx5vdlmqmu7r766rqqm/GWFlZQa1Ww8HBARqNBobDISqVCgaDAc7OzkSq1SqKxaLo2cIwxO7urqw/Pz8XfaFQwNraGgzbtmWB53lwXRdJksg4TVMR9qnnvO/7ApjnOYIgQBRFItQTh0YYWLLlN+gcxxEgekXJsgwGT5tuyq9vS7McVGfqwf5s095QCC6AC62a7I/jBHGSLuWJcZuLq89PcO+bf/Bh4QX+qpuiy27wRHt3I6DeUDztwfhyHR//VMHvBz28/+1zDLzwkvVLWZhMYrW6dYJ3vnqGX6sWfnlp490Hz1B7NZxr5a0W1swRPv35P3z04x6ML9Zx/+GLqWn5a8dwsqPU6uPzpxU82DyC7QQL3V0IeNPGRUBzAa/mYqrGjGki+ZjfPW3u2gSQdanrdbZu+dY6vYb1TR0rQ3MAdZcAWUIsck0GcRxLnyB6jn3q6TbnqOMc+7OhmNYyT9zb2xPLOp0O9vf3BYDURAJg45tydHQktNXr9YTWuFfH/1IM2+02tre3heeOj49lU7/fR6lUknnqyY08aGdnR8iAgKStKaC2kBs3NjZgWZZYx42tVgubm5sCzDYajVCv17G1tSWkzJiWy+XLtaw73W4Xh4eHcjpdaTabEnAyOYF0rMfjsYBxDcOjSXdh2uhDFuUdL8P33GvZPgVkPPSNsU/R/askTB1Dc273MY5SOHF2HZBpQRrnm7dGN3U+ckxXde5RXpkmGk6Kf9tjlE+taWkasyfPE23lrKU9dYkdqyuxd0bDabHfufTky6esp0dvvZbJn/r79UaAEg4dhvwtWtgchbDd+M0AtWUVy8UH35fx2dMahkFyUSlXEzif81mdlXSyZ6fj4L2HJXzyqIKurwB51bMLXyuGk3fV8nAyuLhtww8U/6m61D9HfhiJBGGMILoQjr1gvuRZiiRN4PoRDO/RE/y5uoZC2cQf+5b8dnCC/zFxSNLNBLBtD+ZK0+yLsG/kJw08Lrfx9d9n+K7YQqgAozhlcSNrnAL8ZVOgHXuITvd2UTHM8NtLEz8Um1iv24hJ/dFFCmTKMvnBVIcsAyaAkVocumOY7RaiwFexyFTxKyDFwrkiBMUIiNR4acCRq1jGcWF2+3BVgMdqPHIUcXrqq+eqr57ry3hZwP8BYl7Ze8e7PawAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Authy iOS app&quot;
        title=&quot;&quot;
        src=&quot;/static/8a9345888636dd331c9a14aa6c35d5a5/772e8/pastedImage_7.png&quot;
        srcset=&quot;/static/8a9345888636dd331c9a14aa6c35d5a5/12f09/pastedImage_7.png 148w,
/static/8a9345888636dd331c9a14aa6c35d5a5/772e8/pastedImage_7.png 200w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Next was the &lt;a href=&quot;https://itunes.apple.com/us/app/microsoft-authenticator/id983156458?mt=8&quot;&gt;Microsoft Authenticator iOS app&lt;/a&gt;, which showed the full &lt;code class=&quot;language-text&quot;&gt;Example Corporation&lt;/code&gt; issuer, but truncated the &lt;code class=&quot;language-text&quot;&gt;firstname.lastname@corporatio...&lt;/code&gt; account.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 200px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/addcba2ec2ff3c4530c534b40413585e/772e8/pastedImage_10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 177.7027027027027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB2klEQVR42u1SyY7aQBT0//8BP5ATgrlxAoHEgTWARNi3YSYoGGMbDN6wqXQ9YkKiaEhydkvlfq5+Xf02rdvtYjab4ev7O/r9PiaTCabTKZbLJcIwxHq9Fr5arYK+5EzTRKvVwmg0wnw+R6fTQSaTQT6fh2bbNnTThmUfsN/vYRgGyB2PR3ieJ/vhcIBlWbKTO51OIko/8rzzunrFZrNRgo6LT58NDDZHRIGHs+vifD7DVbuu6xgMBhLxeDwWm4/yjMIJzq6HmeHD8wNojnrtzXRhOR4CX5Ge/9NRCVNgt9sJttutREWeUT7CPDhwHAdaEAQw9G8w94a6ZEhUTIECTCtJiTZ9oyiSOl4uFwH/ifjHrvkqqqEqbrPZkqKz2Cw002OxyTUaDbEpynW9XgV/WhIhnZvN5v3yYrFArVZDu90Wjl0ulUriR46o1+vyONP9RZAfkuxg0jXaTDnptqNAmzXiecInk/AYrQhyxrLZLCqVirzOvVAoIP/ygtVygVD5fNFvdXu2tDiOJa1cLoder4fhcIhisSgDXi6X1XytwPf7StALo+eC0iEleu/Wg82V/MdxdOc/gsaZIlif32cr4W5zd/N7Bu1vnP4FqWAqmAqmgqlgKpgK/rfgd4IUxd302dvaAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Microsoft Authenticator iOS app&quot;
        title=&quot;&quot;
        src=&quot;/static/addcba2ec2ff3c4530c534b40413585e/772e8/pastedImage_10.png&quot;
        srcset=&quot;/static/addcba2ec2ff3c4530c534b40413585e/12f09/pastedImage_10.png 148w,
/static/addcba2ec2ff3c4530c534b40413585e/772e8/pastedImage_10.png 200w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Then was the &lt;a href=&quot;https://itunes.apple.com/us/app/lastpass-authenticator/id1079110004?mt=8&quot;&gt;LastPass Authenticator iOS app&lt;/a&gt;, which shows a larger and full &lt;code class=&quot;language-text&quot;&gt;Example Corporation&lt;/code&gt; issuer and a  truncated &lt;code class=&quot;language-text&quot;&gt;firstname.lastname@corporation...&lt;/code&gt; account.  However, they could have moved the countdown timer up to make room for the full issuer and avoided that grey text.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 200px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0d077cf0d1c7e5b05023241c903d1189/772e8/pastedImage_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 177.7027027027027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAADLklEQVR42u1WyU5UQRR9f2LcKTMyyaAMogZxNojGGGOIS+NKN8Y/gQR2hCUhgQXTjgQI/YZ+PdIDY7AZeu5mao7nFt2CiSy0dcdLTt9b91adO1SnqjTP44ewOzvgbGmGu7sLrnudcHXegd3eCr2sBM7mRnifP4XvzWt4nj2BXl4Ks65G2Vz378LuaIP7UTdWv32F/91baGZttZpg3qiCVV8LkzBqqmFUV0IvuQajshymjOk3qirObDKXdoHVUAe79Rasm/XQ5Cf86aPKRC+9DqOiTEm7vQ3BD33wvXpJ9MLX8wJ+Zhnoe382l8SqisYG+Hp74H7QBc0gu8WSdUZ0MAsHI4pUdpZvSmT6RVegbpJAVVFbo6TJuU6Wbt1ugRYNBpEMh5DZ2EBmczOPDSTCYaSIzNoa0isrSi8gFgohJrIAjqOBZewtL0NLptOwvV7YPh8MlwtLpgmTMri6CtPjhcPphO33w3C7ods2/CTInZzgd9/R8TG0bDaLTWa1TPYC1phVLBaDn0ROEq6vryNMIrFvsJKTiwiPjqAdk3V/fx+JRAJpZiuLo9EogmyF+A4ODhAIBJQvxNJSqZTSd3Z2FMl5ckUoiq7rmJqawuTkJIaHh2GztPHxcZWtLJyfn0d/fz/m5uYwOzurpMyXL5fLnREeHp4SRiIROBwOTExMqMWyaGFhAZZlIZlMYmZmBl72WfwDAwMYGRnB6OjoKSEzzDEzMp9mKBGkhO3tbdVLydbj8WBxcRGZTEaVPj09rXwSbGtrC4fMRPop3yHXyz8k63EruyY9EkUgPZMAAumNRBTk8tHFVuhroX/73FT5Mm4XsqxUEyLJUEqTjYnH40qXjZENkPHu7u5PX8GWzRMdM9gB9aO9vdOSZYKU9qeQJApQO0/SJKUmmQj2GKGgnx+LvMj3C/I2Tf7A/xKXhJeEl4SXhP+RkAdwjMdX8YQ8/wQJnvpxHrRyJmpFkfFaiPKa3RwbQ8Q0EOdJXhxhOgPfl89wXL0Cs7kJ33lT/j0hLyq5CoyWJnj4jDP5tAsNDRVBSLI4L6bA4CCW+GC1+HqN8JVW/C6zb1t8SO1IgHQaPwAbYiHCEJpiTwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;LastPass Authenticator iOS app&quot;
        title=&quot;&quot;
        src=&quot;/static/0d077cf0d1c7e5b05023241c903d1189/772e8/pastedImage_1.png&quot;
        srcset=&quot;/static/0d077cf0d1c7e5b05023241c903d1189/12f09/pastedImage_1.png 148w,
/static/0d077cf0d1c7e5b05023241c903d1189/772e8/pastedImage_1.png 200w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Last was the &lt;a href=&quot;https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8&quot;&gt;Google Authenticator iOS app&lt;/a&gt;, which showed the most information with the full &lt;code class=&quot;language-text&quot;&gt;Example Corporation&lt;/code&gt; issuer and a less truncated &lt;code class=&quot;language-text&quot;&gt;firstname.lastname@corporation.ex...&lt;/code&gt; account.  However, why are there two entries for a single QR code camera scan?  Before you answer “user error,” I tried this twice and got the same result.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 200px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/95e5673c1e7363a7a73368edf6a1dc94/772e8/pastedImage_14.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 177.7027027027027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEMklEQVR42u1U628UVRSfv0k/qSGmlgoCNVExmmiIYlulNWiMMRiltIKogJGQYOTVCokf0Q9ojM9gQyRtaaXuzr5nX7OzO7M7O9udmd2d989zZ7paEkr5QOKX3uTMedxzfvfce393uL2Taew5lMD2d3g882EKw+8nMXwoiV3vJfDw6Ap2vMvjucMp7DueCfVDIyt47M0YXphKh/lDa3XHLot4+0wB3JMfKXjiiIzBKRlPHauD+QPkP35YxrYPZAxMKhiajmRwiuYmKZfmWd7gtIwh0juOKnj6U5WkAW73KR0jF008e9rA9k90vPylif3nTYzPRvq1Cyb2fWXgVbJfOWdi+HMdO0/ooX7prIGdn+nYQxijhLHrZBvcwNEW9p/TsfvEKh6Z1PDimTbeumxgYlbHxIyOsQs6xmcMHKTYOMUGP25h23QLQ8dbeP70Kh49omHvF23KM8I4N0GdvDHbwcTXHRy80sEBsscumeGKY5c6eJ3ZlDxynoSBz7LFjHCRsYuRfYDsUZpjNue6Lgy9hV7XhGG0YZL0ugbsnomuSXZHh+97uN/B9Xo9xP6+jaWlW1haXEAum0UqyUf+8l+IxWK0kBEmB0GwOSD76BZgUxMGaZ9qOg7g+lGCQ7pHfrvro2MFqLd9eP69OnQCzCUd/B63cZ238dOKjW8XLOQVl/WEa0s2EhUPP952kZA8XFt2aOFgreO7ADouA2RFLv7MOCH4NzcsxEUXkubh7M89LOQc3MzYEFUPt4RoIc+/E61/HFyXtrOYD1BUgZsCoJlAWg7QNKNErROAlwLEKoBKR7naXQPYaMuObaNWKaKhVNGsS2g2G6jLEuqKjKpUhVyToNZprlFDvS5DFMtoNCinXofn/Xf71WoV7IJD2hRKZZRKIvKFEmRZQZH8SkVCqVxGoVAkLZIuhbEyxWRZRq1Wg03N9Mfc3BwkSQJ3P1TYaLDavvT9kId8IolUKo1YPA5ByCMnCEhnMhRLIZPJwjBNohNdBPHFJfF9n4rv5E4UI0DPc8MzkqsiSRlaU6XzkiFVyhBpiyrZ67e2KbEZSdMyILUirbQDFBoB2r0oobYKiE0fceKipPlYKnjoOsGGN805XkA8c3Ej5WCBOPbdoo0rcxYyNSq0A8xct5CVPfwWdyAoPn6JOXC8janDsaLvif1x0cMPyzbiZRdX523wRHTV8HF1wcavBPZHwkGZiM2L3tqZBXe9IM6lDjUzgGkxEgMWPQSDtuuudcHq2BtnR8Dm7vWOww5ty0I6GUcul4ZAUi4VkU0nyc8imUyB53n6A0VzgpBDnJhQKBTIFmBRbX/Mz89DVVV2y17I8G63GwqzO53Ov75JlGF+P7Z+znGckC5s5PN5aJoGThRFegGVUBjT1+vNhNUyYa9HUZTopbD2H4SwDpnmisUiHqRsAW4BbgH+L4D/AEQRIZSljJdgAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Google Authenticator iOS app&quot;
        title=&quot;&quot;
        src=&quot;/static/95e5673c1e7363a7a73368edf6a1dc94/772e8/pastedImage_14.png&quot;
        srcset=&quot;/static/95e5673c1e7363a7a73368edf6a1dc94/12f09/pastedImage_14.png 148w,
/static/95e5673c1e7363a7a73368edf6a1dc94/772e8/pastedImage_14.png 200w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I was surprised they all had issues.  I even rotated the device for each app, hoping for more screen space, but no effect.&lt;/p&gt;
&lt;p&gt;I guess you get what you pay for.  It looks like the market could use an Authenticator app built by a UX team.&lt;/p&gt;</content:encoded></item><item><title><![CDATA["I have people skills"]]></title><description><![CDATA[The other day, I ran across Why “Relationship Workers” will replace “Knowledge Workers”.  After only reading the title, my first humorous…]]></description><link>https://kevinhakanson.com/2016-10-11-i-have-people-skills/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-10-11-i-have-people-skills/</guid><pubDate>Tue, 11 Oct 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The other day, I ran across &lt;a href=&quot;https://www.linkedin.com/pulse/why-relationship-workers-replace-knowledge-abhijit-bhaduri&quot;&gt;Why “Relationship Workers” will replace “Knowledge Workers”&lt;/a&gt;.  After only reading the title, my first humorous thought was this scene in Office Space.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ac67cc127ccc27e091eb7e726eb91016/0a47e/pastedImage_13.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADm0lEQVR42h2TW0xbBRzGT7LFB2ei7pbJLkYTb1Mjic63vZi4RKOLLxo1BNiQbQRoKRToDeiFFkoLBVp6eqHlnHLr2jIo99YM8cK4BzZEYSzTuXnLshd9m8Gfxz18yf/p+5L/7/uE37aXGRKNdLgaaHGa8bithP1tTKaTbG/OsbOzys3tG2xsLLL1/Swr302TGuyjpqIEveYSNeUXabNUEbKWsDL3NcJCNoG3oQi3owqns552j51Or4tEYoCl+Vnm52a5enWa9Fia1MQ44YEUYiBIrVaNvqYCk16DRVPAGwcfp7XRjrA2l8Xv1uHz2uiRQvT1y8R6o4xPjZKZTDI+FCUejxCTwoxdjtLbF0XulQiIPiJhEVmOoC8vJEcQCLa1IWTGkjRZK/B1OfF2NRMIeegKtTEyNUyLrxWbp55ul4qRYD0en5Fmv5FwLEClphRdtYpaRRbtF5S9c5KZuIwQiwbRlOfhD7oJRzqQZBFfsJ10dozW3gEMzQ5kXR6LEQMutwW7t5VAxE+VVkWdqQadTkONuhjTB7lMS36Eod4w5vKPcZhLaXVq6PDa8QS9SIkYVzKjjH+ZprnsU0YdJcxkrjD1VQabox6tYnixKJ+SS+fo7HAy2R9ga30Vwe1wcerFlyn65F1s1WdpMhYo1EqwOnSISlhmYZY2hbqpQcvk0rfMrF5DGpQpLb2gkC5j/foSu/8+5J/dXf68fx/B1djCkScP8+ZruZw6mcvp11/l/bdeos6iI6iQdcf7sIRECvUmEt/MII6OMLK8gD/k49btH/n74V/88eB3fn1wjzv3fkGwmW3s2/MELxx7nueOnODYoaOcyHkWi1FNX9CO3VmH2aan3a4nmR1haCKpVCrM4toCy2uLj/TDrU22FPPbP/+EYKkzs1fYy/FDxzm6/xn273uanAMHOX/mbSyfn6a+4AyGvPdIWIsZ9hno0ueT8DeQSKeQByXGFHjzyhvmVq6xvXMTwVpvQVA69NievRx+6gBaTRXFheepVKlwu5w0NTbidrtoaTTT0dJEJBJC7u+lR5YwmY04fS0MpuNcnkhxY3MDQa1S84oCRVddy0cfnqVaq6X4XBEmgxFR7KLL731kEgz4lI6K9MRkvKIfh6MRo6FGuX2EpW583SKr19cRstNZ8j/Lw2axUllZyf8BZWXlVKjVeDs99PfHlDUoC1EWER+MEZUk2ts9uJrsNFkaiPZESQyniA8nuXP3Lv8B9i6xdIE86GYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Office Space meme&quot;
        title=&quot;&quot;
        src=&quot;/static/ac67cc127ccc27e091eb7e726eb91016/fcda8/pastedImage_13.png&quot;
        srcset=&quot;/static/ac67cc127ccc27e091eb7e726eb91016/12f09/pastedImage_13.png 148w,
/static/ac67cc127ccc27e091eb7e726eb91016/e4a3f/pastedImage_13.png 295w,
/static/ac67cc127ccc27e091eb7e726eb91016/fcda8/pastedImage_13.png 590w,
/static/ac67cc127ccc27e091eb7e726eb91016/0a47e/pastedImage_13.png 600w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;But as I read the article, I understood the core premise. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There are two factors today that are dramatically shaping the future of work. Technology is reshaping what can be done by machines. … The second factor is the increasing complexity in our world&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The author continues to talk about “transdisciplinary teams” and the value of “creative people who are skilled in working with others to solve complex problems.”  He author ends the article with this comment and image.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Those who can navigate complex human relationships with &lt;em&gt;empathy&lt;/em&gt; will be the most valuable workers in future.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d59da9986d2eefb8437940f4e673210e/6af66/pastedImage_5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.810810810810814%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACy0lEQVR42mWT2XLiSBBF+f9PmLeZiHZ099jTbZt2GwwGBGYTAgQIhNhBCBCLQIDYfaaM523qqaIq40TeezN9wahELhUlnwygySHatTh9o8h4OsFeuhSKKqY1YlE22HRNzt6ed+D9/cL5fGa/33M4HLhcLmw2G3wvT49IgRvCv2+IRX6SL6ZpltO4loZlmdzffSeTktD/+Er9z1scAR/bNt7Ww/M8SuUyOUVhMplwPB7xPT/c8Bp85On+luCvOxLRAN3BkO20zcSso1VKPNz/4Pn7LYEnP/G3OH9/+4tiIXcFJpNJFAF0HIfT6YQv9OsHidhXXiNfyOf9qKUgo/mQtVWjp2VYiftsZosaP7HXf8gk7pFCXygpz7hrh5yco1xSsUXX1w5fAo9kpVui0h2pzE+UwgPDQZb9vCEKTrgrh9l4gKHJtHVZdN2m39QY9mrif8vW27Hd7Vi7LqfjQQDjcdR0GF31Uy0/0Gm8sRkWODgjzvs1M6vDuKOJEGA3GrLp1NkNDNyayrpVYzfpsVRzOEXRxHqBLxCJUaro1PNpxu0K++2UzbhNS5Mwqgnq5RSTfpHD0uK881gaNYYRiamSx9FrzPMFRrEUnj3l4/iC4QgZvxiZhMywY7G0l2ymGlVNQU7FSCfCVKsKx1WLy2nPzl4wimaZFWtMilW6sTRO37rC3oUMXzD0CaxISQEcsjA0vHULVZWQZT+GEWW1MrkcZhyXIzbzJSNNx260GesNZr0BFzGTH7BPYDBM9ncILfKGqdYFsCnkNWm308jZII2mjLNosZ81rpI/h5r/nY+3K/DlNUbm6YVKNIlZ0lmaNm63K2Sr7NZiO4RU1yrBYc1LKEwmk6Df02m1yrRbFXQ9T6ORx3Xn/3koJBezCs2qwbghEhN+eIsVR7EJh9VMpG1x2rrX4lKpgmk2GVmKsCJBp5Ol2xXeD0VAy/4V+C8zb1rlIkz9oQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Knowledge Worker sketch&quot;
        title=&quot;&quot;
        src=&quot;/static/d59da9986d2eefb8437940f4e673210e/fcda8/pastedImage_5.png&quot;
        srcset=&quot;/static/d59da9986d2eefb8437940f4e673210e/12f09/pastedImage_5.png 148w,
/static/d59da9986d2eefb8437940f4e673210e/e4a3f/pastedImage_5.png 295w,
/static/d59da9986d2eefb8437940f4e673210e/fcda8/pastedImage_5.png 590w,
/static/d59da9986d2eefb8437940f4e673210e/6af66/pastedImage_5.png 640w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Yesterday, I attended an internal DevOps Conference where the keynote covered similar topic areas of automation, complexity, and empathy.  At one point, he said that “purpose of [middle] management is communication” and highlighted that ability to connect people.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[HPKP and RansomPKP]]></title><description><![CDATA[In Pokemon Go vs. Certificate Pinning I explored RFC 7469 - Public Key Pinning Extension for HTTP and the HPKP header.  This looked like…]]></description><link>https://kevinhakanson.com/2016-09-06-hpkp-and-ransompkp/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-09-06-hpkp-and-ransompkp/</guid><pubDate>Tue, 06 Sep 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In &lt;a href=&quot;../2016-07-11-pokemon-go-vs-certificate-pinning&quot;&gt;Pokemon Go vs. Certificate Pinning&lt;/a&gt; I explored &lt;a href=&quot;https://tools.ietf.org/html/rfc7469&quot;&gt;RFC 7469 - Public Key Pinning Extension for HTTP&lt;/a&gt; and the HPKP header.  This looked like something that was complicated to implement if you didn’t have a very mature key management process that already knew about future certificates’ public keys.  I was a little scared, since I could see a scenario where someone sets this header without completely thinking it through - and locks out paying customers from accessing our products.&lt;/p&gt;
&lt;p&gt;Today, I read &lt;a href=&quot;https://blog.qualys.com/ssllabs/2016/09/06/is-http-public-key-pinning-dead&quot;&gt;Is HTTP Public Key Pinning Dead?&lt;/a&gt; and was introduced to the concept of &lt;strong&gt;RansomPKP&lt;/strong&gt; and I am even more scared.  In &lt;a href=&quot;https://scotthelme.co.uk/using-security-features-to-do-bad-things/&quot;&gt;Using security features to do bad things&lt;/a&gt;, Scott Helme explains how an attacker who has access to your server’s HTTP response headers could generate a public key that you don’t have access to, lock your customers out of your website for the next 60 days, and then ransom that key back to you.&lt;/p&gt;
&lt;p&gt;It gets worse since HPKP has the &lt;code class=&quot;language-text&quot;&gt;includeSubDomains&lt;/code&gt; feature:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If this optional parameter is specified, this rule applies to all of the site’s subdomains as well.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now suppose somebody applies RansomPKP to our naked domain server (e.g., example.com) and includes the includeSubDomains option?  Could they ransom multiple company products all at once?  Our public facing website is now an attack vector for other unrelated properties.&lt;/p&gt;
&lt;p&gt;All hope is not lost.  &lt;a href=&quot;https://blog.qualys.com/ssllabs/2016/09/06/is-http-public-key-pinning-dead&quot;&gt;Is HTTP Public Key Pinning Dead?&lt;/a&gt; did have some ideas in a “What can you do today?” section, including just stripping that header in your reverse proxy / load balancer. Alternatively, you can implement HPKP yourself (and only be a little scared).&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Smaller and faster data compression with Zstandard]]></title><description><![CDATA[I saw this post from Facebook on their new open source compression algorithm: Smaller and faster data compression with Zstandard…]]></description><link>https://kevinhakanson.com/2016-09-01-smaller-and-faster-data-compression-with-zstandard/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-09-01-smaller-and-faster-data-compression-with-zstandard/</guid><pubDate>Thu, 01 Sep 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I saw this post from Facebook on their new open source compression algorithm: &lt;a href=&quot;https://code.facebook.com/posts/1658392934479273&quot;&gt;Smaller and faster data compression with Zstandard | Engineering Blog | Facebook Code&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We’re thrilled to announce &lt;a href=&quot;https://github.com/facebook/zstd&quot;&gt;Zstandard 1.0&lt;/a&gt;, a new compression algorithm and implementation designed to scale with modern hardware and compress smaller and faster. Zstandard combines recent compression breakthroughs, like &lt;a href=&quot;https://github.com/Cyan4973/FiniteStateEntropy&quot;&gt;Finite State Entropy&lt;/a&gt;, with a performance-first design — and then optimizes the implementation for the unique properties of modern CPUs. As a result, it improves upon the trade-offs made by other compression algorithms and has a wide range of applicability with very high decompression speed. Zstandard, available now under the BSD license, is designed to be used in nearly every lossless compression [1] scenario, including many where current algorithms aren’t applicable.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The “internet standard” today is Deflate, which is used by zip, gzip, and zlib. When compared to zlib, Facebook shows that zstandard scales much better:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;At the same compression ratio, it compresses substantially faster: ~3-5x.&lt;/li&gt;
&lt;li&gt;At the same compression speed, it is substantially smaller: 10-15 percent smaller.&lt;/li&gt;
&lt;li&gt;It is almost 2x faster at decompression, regardless of compression ratio; the command line tooling numbers show an even bigger difference: more than 3x faster.&lt;/li&gt;
&lt;li&gt;It scales to much higher compression ratios, while sustaining lightning-fast decompression speeds.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;The article continues with an “under the hood” section talking about “parallel execution” and “branchless design” and how those are important to today’s CPU architectures.  Good reading for those propeller-heads out there.&lt;/p&gt;
&lt;p&gt;One of their highlighted use cases is storing “small data”; some examples are pages in a database or JSON documents.  They also mention that compressed data stored on SSDs help with both IOPs and the write endurance of the hardware.  Facebook stores a lot of data and buys a lot of SSDs, so I can see how this will save them money.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Investigating CloudTrail for S3 PutBucketNotification]]></title><description><![CDATA[I was investigating the types of CloudTrail events that are available for S3.  However, when I was comparing Services Supported by…]]></description><link>https://kevinhakanson.com/2016-08-22-investigating-cloudtrail-for-s3-putbucketnotification/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-08-22-investigating-cloudtrail-for-s3-putbucketnotification/</guid><pubDate>Mon, 22 Aug 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was investigating the types of CloudTrail events that are available for S3.  However, when I was comparing &lt;a href=&quot;http://docs.aws.amazon.com/awscloudtrail/latest/userguide/view-cloudtrail-events-supported-services.html#view-cloudtrail-events-supported-apis-s3&quot;&gt;Services Supported by CloudTrail API Activity History&lt;/a&gt; against the &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/s3api/&quot;&gt;s3api — AWS CLI 1.10.58 Command Reference&lt;/a&gt;, I noticed something that confused me.&lt;/p&gt;
&lt;p&gt;CloudTrail will log a bucket level API event for PutBucketNotification, but the CLI has &lt;code class=&quot;language-text&quot;&gt;s3api&lt;/code&gt; commands for both &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/s3api/put-bucket-notification.html&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;put-bucket-notification&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;http://docs.aws.amazon.com/cli/latest/reference/s3api/put-bucket-notification-configuration.html&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;put-bucket-notification-configuration&lt;/code&gt;&lt;/a&gt;.  What is the difference?  Is the later not logged to CloudTrail? Digging into the documentation, I saw this description for &lt;code class=&quot;language-text&quot;&gt;put-bucket-notification&lt;/code&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Deprecated, see the PutBucketNotificationConfiguraiton operation.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I tried it out and see what got logged.  First, I created a blank bucket notification configuration file:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;TopicConfigurations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;QueueConfigurations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;LambdaFunctionConfigurations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then I used the s3api CLI to put this configuration onto my S3 bucket:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws &lt;span class=&quot;token parameter variable&quot;&gt;--profile&lt;/span&gt; saml s3api put-bucket-notification-configuration &lt;span class=&quot;token parameter variable&quot;&gt;--bucket&lt;/span&gt; kjh-encryption-test1 --notification-configuration file://bucket-notification-configuration-blank.json&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After a couple minutes, the event appears in CloudTrail as a &lt;code class=&quot;language-text&quot;&gt;PutBucketNotification&lt;/code&gt;. Here’s the raw JSON you see if you click “View event”:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;eventVersion&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1.03&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;userIdentity&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;AssumedRole&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;principalId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX:kevin.hakanson@example.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;arn&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:sts::123456789012:assumed-role/PowerUser/kevin.hakanson@example.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;accountId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;123456789012&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;accessKeyId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ASIAXXXXXXXXXXXXXXXX&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;sessionContext&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
         &lt;span class=&quot;token property&quot;&gt;&quot;attributes&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;mfaAuthenticated&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;false&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;creationDate&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;2016-08-23T01:58:41Z&quot;&lt;/span&gt;  
         &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
         &lt;span class=&quot;token property&quot;&gt;&quot;sessionIssuer&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Role&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;principalId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;AROAXXXXXXXXXXXXXXXXX&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;arn&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:iam::123456789012:role/PowerUser&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;accountId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;123456789012&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;userName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;PowerUser&quot;&lt;/span&gt;  
         &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;eventTime&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;2016-08-23T02:24:27Z&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;eventSource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;s3.amazonaws.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;eventName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;PutBucketNotification&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;awsRegion&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;us-west-2&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;sourceIPAddress&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;198.179.137.232&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;userAgent&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;[aws-cli/1.10.43 Python/2.7.10 Darwin/14.5.0 botocore/1.4.33]&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;requestParameters&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;bucketName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;kjh-encryption-test1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token property&quot;&gt;&quot;NotificationConfiguration&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
         &lt;span class=&quot;token property&quot;&gt;&quot;xmlns&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;responseElements&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token null keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;requestID&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;BABEFFD87216E573&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;eventID&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;3fb71544-ab01-433b-94df-651b808348fe&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;eventType&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;AwsApiCall&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
   &lt;span class=&quot;token property&quot;&gt;&quot;recipientAccountId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;123456789012&quot;&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Bonus:  If you noticed the typo above from the AWS CLI documentation, I created &lt;a href=&quot;https://github.com/aws/aws-cli/issues/2127&quot;&gt;Issue #2127 · aws/aws-cli · GitHub&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[How IAM Roles Become Credentials on EC2]]></title><description><![CDATA[While investigating how to secure S3 buckets using IAM Roles, I was curious how the IAM Role assigned to my EC2 instance became the…]]></description><link>https://kevinhakanson.com/2016-08-15-how-iam-roles-become-credentials-on-ec2/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-08-15-how-iam-roles-become-credentials-on-ec2/</guid><pubDate>Mon, 15 Aug 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;While investigating how to secure S3 buckets using IAM Roles, I was curious how the IAM Role assigned to my EC2 instance became the credentials an AWS based application could use.  IAM Roles for EC2 are the recommended practices, but how they worked was “magic” to me.&lt;/p&gt;
&lt;p&gt;First, I created an IAM Role with a policy that allowed Get, Put, and Delete access to my S3 bucket.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;Sid&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Stmt1471042403000&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
                &lt;span class=&quot;token string&quot;&gt;&quot;s3:DeleteObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
                &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
                &lt;span class=&quot;token string&quot;&gt;&quot;s3:PutObject&quot;&lt;/span&gt;  
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
                &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::kjh-encryption-test1/*&quot;&lt;/span&gt;  
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then, I created an EC2 instance and assigned that IAM role:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 290px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/39b7f5e5d755fe4bf85cec837cb0618c/139a5/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 18.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAy0lEQVR42m2Q226DMBBE+f/P60MVpcgEX4qxAVOSQKAqp4vFY0YarXYsnbG22PcdxGMaiF1HSiNpHDk0/CzEYaZL4nGhlz1NL3z/lLlK9sr59FiJaWHd/ig45ZzmqyypbzWV+JANT5S9Y9qZ2s+U7s5VT1zqSfYHn1XicksEKfgoe6b5l6JSVf6ZdZa+jxhrCTFmoNEVjTO4b0doPVofZUrKLdu68U6FEqAViFKK4H2ejW/zo28aAQUBNHjJtDYYc9ixnsDjZOfVMvAf5pQu7nCH4JwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;IAM role and Key pair name&quot;
        title=&quot;&quot;
        src=&quot;/static/39b7f5e5d755fe4bf85cec837cb0618c/139a5/pastedImage_2.png&quot;
        srcset=&quot;/static/39b7f5e5d755fe4bf85cec837cb0618c/12f09/pastedImage_2.png 148w,
/static/39b7f5e5d755fe4bf85cec837cb0618c/139a5/pastedImage_2.png 290w&quot;
        sizes=&quot;(max-width: 290px) 100vw, 290px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I connected to my instance over SSH…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;ssh&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-i&lt;/span&gt; kjh-tax-sandbox.pem ec2-user@54.200.155.114&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;…and on that instance, I followed the instruction from &lt;a href=&quot;http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html#instance-metadata-security-credentials&quot;&gt;IAM Roles for Amazon EC2 - Amazon Elastic Compute Cloud&lt;/a&gt; to get the credentials the same way the AWS SDK does:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; http://169.254.169.254/latest/meta-data/iam/security-credentials/kjh-s3-encryption-test1-role  
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  &lt;span class=&quot;token string&quot;&gt;&quot;Code&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Success&quot;&lt;/span&gt;,  
  &lt;span class=&quot;token string&quot;&gt;&quot;LastUpdated&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2016-08-13T16:36:13Z&quot;&lt;/span&gt;,  
  &lt;span class=&quot;token string&quot;&gt;&quot;Type&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AWS-HMAC&quot;&lt;/span&gt;,  
  &lt;span class=&quot;token string&quot;&gt;&quot;AccessKeyId&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ASIAJ27C6XNOZEXAMPLE&quot;&lt;/span&gt;,  
  &lt;span class=&quot;token string&quot;&gt;&quot;SecretAccessKey&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;rrGyOOa3TPLJQIIedUfW5hbCzPXb+EXAMPLEKEY&quot;&lt;/span&gt;,  
  &lt;span class=&quot;token string&quot;&gt;&quot;Token&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;TOKEN&quot;&lt;/span&gt;,  
  &lt;span class=&quot;token string&quot;&gt;&quot;Expiration&quot;&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2016-08-13T23:09:05Z&quot;&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For a test, I edited my local &lt;code class=&quot;language-text&quot;&gt;.aws/credentials&lt;/code&gt; to add a new profile to match that ec2role&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ini&quot;&gt;&lt;pre class=&quot;language-ini&quot;&gt;&lt;code class=&quot;language-ini&quot;&gt;&lt;span class=&quot;token section&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token section-name selector&quot;&gt;ec2role&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;  
&lt;span class=&quot;token key attr-name&quot;&gt;aws_access_key_id&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;ASIAJ27C6XNOZEXAMPLE&lt;/span&gt;  
&lt;span class=&quot;token key attr-name&quot;&gt;aws_secret_access_key&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;rrGyOOa3TPLJQIIedUfW5hbCzPXb+EXAMPLEKEY&lt;/span&gt;  
&lt;span class=&quot;token key attr-name&quot;&gt;aws_session_token&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;TOKEN&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then, from my local machine, I did an upload using the AWS CLI S3 command and specifying that new &lt;code class=&quot;language-text&quot;&gt;ec2role&lt;/code&gt; profile.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws &lt;span class=&quot;token parameter variable&quot;&gt;--profile&lt;/span&gt; ec2role s3 &lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; quickbrownfox.txt s3://kjh-encryption-test1/cli-s3-sse/ &lt;span class=&quot;token parameter variable&quot;&gt;--sse&lt;/span&gt;  
upload: ./quickbrownfox.txt to s3://kjh-encryption-test1/cli-s3-sse/quickbrownfox.txt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Back on the EC2 instance, I downloaded that same file, but using the default profile&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ aws s3 &lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; s3://kjh-encryption-test1/cli-s3-sse/quickbrownfox.txt quickbrownfox.txt  
download: s3://kjh-encryption-test1/cli-s3-sse/quickbrownfox.txt to ./quickbrownfox.txt  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Everything worked as expected.  AWS took care of supplying IAM credentials to an EC2 instance in a way the AWS SDK could find them.  However, since I had root access via SSH, it was also easy for me to “steal” my own credentials and access that S3 bucket from outside the VPC.  For protecting customer data stored in S3, additional controls like &lt;a href=&quot;http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-endpoints.html&quot;&gt;VPC Endpoints&lt;/a&gt; or &lt;a href=&quot;https://docs.aws.amazon.com/AmazonS3/latest/dev/ServerSideEncryptionCustomerKeys.html&quot;&gt;Using Server-Side Encryption with Customer-Provided Encryption Keys (SSE-C)&lt;/a&gt; should be considered.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[.NET Zipkin Investigation (Medidata.ZipkinTracerModule)]]></title><description><![CDATA[Medidata.ZipkinTracerModule is a “A .NET implementation of the Zipkin Tracer client.”  I built a simple Web Api 2 service, similar to the…]]></description><link>https://kevinhakanson.com/2016-07-29-net-zipkin-investigation-medidatazipkintracermodule/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-07-29-net-zipkin-investigation-medidatazipkintracermodule/</guid><pubDate>Fri, 29 Jul 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/mdsol/Medidata.ZipkinTracerModule&quot;&gt;Medidata.ZipkinTracerModule&lt;/a&gt; is a “A .NET implementation of the Zipkin Tracer client.”  I built a simple Web Api 2 service, similar to the code from the &lt;a href=&quot;../2016-06-10-zipkin-js-investigation&quot;&gt;Zipkin JS Investigation&lt;/a&gt;.  The service recursively calls itself base on the count parameter:  (e.g., &lt;code class=&quot;language-text&quot;&gt;http://localhost:52399/api/hello?count=3&lt;/code&gt;).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Hello World! (x3)
Hello World! (x2)
Hello World!&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ZipkinTracerModule&lt;/code&gt; is implemented as a OWIN Middleware and required an &lt;code class=&quot;language-text&quot;&gt;OwinStartup&lt;/code&gt; class to configure &lt;code class=&quot;language-text&quot;&gt;Zipkin&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;csharp&quot;&gt;&lt;pre class=&quot;language-csharp&quot;&gt;&lt;code class=&quot;language-csharp&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OwinStartup&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ZipkinConfig&lt;/span&gt; _zipkinConfig&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token return-type class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;IAppBuilder&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt;&lt;/span&gt; zipkinConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token constructor-invocation class-name&quot;&gt;ZipkinConfig&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
            Domain &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; request &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token constructor-invocation class-name&quot;&gt;Uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            ZipkinBaseUri &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token constructor-invocation class-name&quot;&gt;Uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://10.194.52.207:9411&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            SpanProcessorBatchSize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            SampleRate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        &lt;span class=&quot;token comment&quot;&gt;// TODO: how can I register this with Unity and inject into Controller?  &lt;/span&gt;
        _zipkinConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; zipkinConfig&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;UseZipkin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;zipkinConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;HelloController&lt;/code&gt; uses the &lt;code class=&quot;language-text&quot;&gt;ZipkinConfig&lt;/code&gt; and the &lt;code class=&quot;language-text&quot;&gt;OwinContext&lt;/code&gt; to configure a &lt;code class=&quot;language-text&quot;&gt;ZipkinClient&lt;/code&gt; which plugs into the .NET provided &lt;code class=&quot;language-text&quot;&gt;HttpClient&lt;/code&gt;.  This is what propagates the trace, parent, and span ID values.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;csharp&quot;&gt;&lt;pre class=&quot;language-csharp&quot;&gt;&lt;code class=&quot;language-csharp&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HelloController&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token type-list&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;ApiController&lt;/span&gt;&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IZipkinConfig&lt;/span&gt; _zipkinConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; OwinStartup&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_zipkinConfig&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token comment&quot;&gt;// TODO: how can I inject _zipkinConfig using Unity?  &lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token return-type class-name&quot;&gt;System&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Threading&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Tasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Task&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;HttpResponseMessage&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;string&lt;/span&gt;&lt;/span&gt; msg &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hello World!\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
            &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt;&lt;/span&gt; context &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; System&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Web&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;HttpContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;GetOwinContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
            &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt;&lt;/span&gt; client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token constructor-invocation class-name&quot;&gt;ZipkinClient&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_zipkinConfig&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  

            &lt;span class=&quot;token keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt;&lt;/span&gt; httpClient &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token constructor-invocation class-name&quot;&gt;HttpClient&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token constructor-invocation class-name&quot;&gt;ZipkinMessageHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
                httpClient&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;BaseAddress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token constructor-invocation class-name&quot;&gt;Uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;RequestUri&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; RequestContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;VirtualPathRoot&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
                &lt;span class=&quot;token class-name&quot;&gt;HttpResponseMessage&lt;/span&gt; httpClientResponse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; httpClient&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;GetAsync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token interpolation-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;$&quot;api/hello?count=&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token expression language-csharp&quot;&gt;count &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
                &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;httpClientResponse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;IsSuccessStatusCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
                    &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt;&lt;/span&gt; text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; httpClientResponse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Content&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ReadAsStringAsync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
                    msg &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token interpolation-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;$&quot;Hello World! (x&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token expression language-csharp&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;)\n&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; text&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  

        &lt;span class=&quot;token class-name&quot;&gt;HttpResponseMessage&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;CreateResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;HttpStatusCode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;OK&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Content &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token constructor-invocation class-name&quot;&gt;StringContent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;msg&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Encoding&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;UTF8&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;text/plain&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  

        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;There was a bug with the NuGet version, so needed to compile from source and make a fix (see &lt;a href=&quot;https://github.com/mdsol/Medidata.ZipkinTracerModule/pull/91&quot;&gt;Pull Request #91&lt;/a&gt;).  Also, C# code may look a bit ugly, and wasn’t able to get Unity working to dependency inject the &lt;code class=&quot;language-text&quot;&gt;ZipkinConfig&lt;/code&gt; data.&lt;/p&gt;
&lt;p&gt;The final result from &lt;code class=&quot;language-text&quot;&gt;http://10.194.52.207:9411/traces/4e3c247d68677a1e?serviceName=localhost&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;traceId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4e3c247d68677a1e&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;get&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4e3c247d68677a1e&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966269543&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;duration&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;210907&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;annotations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966269543&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sr&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966480450&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ss&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;binaryAnnotations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http.path&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/api/hello&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;traceId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4e3c247d68677a1e&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;get&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4c3c03caf1337298&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;parentId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4e3c247d68677a1e&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966361425&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;duration&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100997&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;annotations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966361425&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cs&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966383550&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sr&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966449422&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cr&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966462422&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ss&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;binaryAnnotations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http.path&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/api/hello&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http.status&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;200&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sa&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;traceId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4e3c247d68677a1e&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;get&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4f18dc0c1c6745e0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;parentId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4c3c03caf1337298&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966398553&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;duration&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;63869&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;annotations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966398553&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cs&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966417424&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sr&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966445425&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cr&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1469831966462422&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ss&quot;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    &lt;span class=&quot;token property&quot;&gt;&quot;binaryAnnotations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http.path&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/api/hello&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http.status&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;200&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10.211.55.8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sa&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;token property&quot;&gt;&quot;endpoint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;serviceName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;ipv4&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
          &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;52399&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Categorizing Information Security Topics]]></title><description><![CDATA[“Security” as a topic or category can be confusing without additional context. This document attempts to categorize information security…]]></description><link>https://kevinhakanson.com/2016-07-20-categorizing-information-security-topics/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-07-20-categorizing-information-security-topics/</guid><pubDate>Wed, 20 Jul 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;“Security” as a topic or category can be confusing without additional context. This document attempts to categorize information security topics using industry standard groupings.&lt;/p&gt;
&lt;p&gt;My internal cloud security group has created a plan which lists cloud security controls required, along with their ISO 27001 mappings. &lt;a href=&quot;http://www.iso27001security.com/html/27002.html&quot;&gt;ISO 27001&lt;/a&gt; groups security controls into various sections that we use in our policy framework as categories.  This list appears more Enterprise IT focused and includes:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;5: Information security policies&lt;br&gt;
6: Organization of information security&lt;br&gt;
7: Human resource security&lt;br&gt;
8: Asset management&lt;br&gt;
9: Access control&lt;br&gt;
10: Cryptography&lt;br&gt;
11: Physical and environmental security&lt;br&gt;
12: Operations management&lt;br&gt;
13: Communications security&lt;br&gt;
14: System acquisition, development and maintenance&lt;br&gt;
15: Supplier relationships&lt;br&gt;
16: Information security incident management&lt;br&gt;
17: Information security aspects of business continuity management&lt;br&gt;
18: Compliance&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Another way to classify information security topics is with the 8 &lt;a href=&quot;https://www.isc2.org/cissp-domains/default.aspx&quot;&gt;CISSP Domains&lt;/a&gt;, which are standard knowledge groupings for Information Security professionals.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Security and Risk Management&lt;/li&gt;
&lt;li&gt;Asset Security&lt;/li&gt;
&lt;li&gt;Security Architecture and Engineering&lt;/li&gt;
&lt;li&gt;Communications and Network Security&lt;/li&gt;
&lt;li&gt;Identity and Access Management&lt;/li&gt;
&lt;li&gt;Security Assessment and Testing&lt;/li&gt;
&lt;li&gt;Security Operations&lt;/li&gt;
&lt;li&gt;Software Development Security&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;A web application developer might think more in terms of the &lt;a href=&quot;https://www.owasp.org/images/d/d8/OpenSAMM_Core_V1-1-Final.pdf&quot;&gt;Software Assurance Maturity Model (SAMM)&lt;/a&gt; from OWASP when thinking about security related to building products for customers.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;SAMM is built upon a collection of Security Practices that are tied back into the core Business Functions involved in software development.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Governance (Strategy &amp;#x26; Metrics; Policy &amp;#x26; Compliance; Education &amp;#x26; Guidance)&lt;/li&gt;
&lt;li&gt;Construction (Threat Assessment; Security Requirements; Secure Architecture)&lt;/li&gt;
&lt;li&gt;Verification (Design Review; Implementation Review; Security Testing)&lt;/li&gt;
&lt;li&gt;Operations (Issue Management; Environment Hardening; Operational Enablement)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;The SAMM groupings might be the best mental modal for product teams.  However, these is still work in understanding how ISO 27001 controls fit into the responsibility matrix.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Zipkin JS Investigation (Part 2)]]></title><description><![CDATA[The continuing story from my Zipkin JS Investigation My zipkin-js issue was fixed a couple days ago when zipkin-js/packages/zipkin-transport…]]></description><link>https://kevinhakanson.com/2016-07-20-zipkin-js-investigation-part-2/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-07-20-zipkin-js-investigation-part-2/</guid><pubDate>Wed, 20 Jul 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The continuing story from my &lt;a href=&quot;../2016-06-10-zipkin-js-investigation&quot;&gt;Zipkin JS Investigation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;My zipkin-js &lt;a href=&quot;https://github.com/openzipkin/zipkin-js/issues/15&quot;&gt;issue&lt;/a&gt; was fixed a couple days ago when &lt;a href=&quot;https://github.com/openzipkin/zipkin-js/tree/master/packages/zipkin-transport-http&quot;&gt;zipkin-js/packages/zipkin-transport-http&lt;/a&gt; landed, so I decided to revisit my test project and see how it works.&lt;/p&gt;
&lt;p&gt;I updated my &lt;code class=&quot;language-text&quot;&gt;app.js&lt;/code&gt; to use &lt;code class=&quot;language-text&quot;&gt;BatchRecorder&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;HttpLogger&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Tracer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ExplicitContext&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; BatchRecorder&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;zipkin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;HttpLogger&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;zipkin-transport-http&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ctxImpl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ExplicitContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; recorder &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BatchRecorder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  &lt;span class=&quot;token literal-property property&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpLogger&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token literal-property property&quot;&gt;endpoint&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;http://localhost:9411/api/v1/spans&apos;&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tracer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Tracer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;ctxImpl&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; recorder&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then using instructions from &lt;a href=&quot;http://zipkin.io/pages/quickstart.html&quot;&gt;Quickstart · OpenZipkin&lt;/a&gt;, I ran a docker command to get started, …&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;docker&lt;/span&gt; run &lt;span class=&quot;token parameter variable&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9411&lt;/span&gt;:9411 openzipkin/zipkin&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;… ran my recursive service code, …&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 343px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/97a0de583cde0bb7d4a2f0bbb764e199/41431/pastedImage_24.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 18.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3UlEQVR42i2Q3YqDMBSEff8364Jda2uy5s8kJtELbdnCai3C9Bj2YpjAnPMxOYUQAlIKtORfpxO895imidyBMQ4hJJRSsNZCa5PzlBJCDBjIf59PrOuKZVmyCs4ZGIlzjrIs0fc95nmGdw51XYOznwyMMaIj6DiOCCFkYIoJfwTZ9x3btmE9gFJqCiK1lIghkmgwkdOC/QcY08E5T40GjMOQM610Bh+Zore1He6PB4ryXNGwgxQtmluTv2Sdzbp8V1DG5IZXanvMHYu2o6y6QtCpfB9waxo6TYvX9sYHVHIi5f977AYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;browser screenshot&quot;
        title=&quot;&quot;
        src=&quot;/static/97a0de583cde0bb7d4a2f0bbb764e199/41431/pastedImage_24.png&quot;
        srcset=&quot;/static/97a0de583cde0bb7d4a2f0bbb764e199/12f09/pastedImage_24.png 148w,
/static/97a0de583cde0bb7d4a2f0bbb764e199/e4a3f/pastedImage_24.png 295w,
/static/97a0de583cde0bb7d4a2f0bbb764e199/41431/pastedImage_24.png 343w&quot;
        sizes=&quot;(max-width: 343px) 100vw, 343px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;… and looked in zipkin to see the result:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0c58787a957cd5b96305f3f20441aec8/66caf/pastedImage_0.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 12.837837837837837%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAu0lEQVR42iWMS47CMBBEcw3OOuIKSHMStogN+9nMBikYiY8GcBjIzyHEseP4jeNp6amqu0qdrI4PliLjJ1eopqXVhndvuT8LtHUY54PPKdULDxg7UJQVujdxr8P9WdaYEZq2I5kt1iTzJSshcaZne5KIy4Nr1SGVCarJGhvZScX2WrP/fSMCafbikP/nSg8M40jy+XXiY7PjXHdMY53DWosL4eh9ZPJBELeC74MkvU1PW9J7w6XsYsdH4A/VceA1nPCHawAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Zipkin trace&quot;
        title=&quot;&quot;
        src=&quot;/static/0c58787a957cd5b96305f3f20441aec8/fcda8/pastedImage_0.png&quot;
        srcset=&quot;/static/0c58787a957cd5b96305f3f20441aec8/12f09/pastedImage_0.png 148w,
/static/0c58787a957cd5b96305f3f20441aec8/e4a3f/pastedImage_0.png 295w,
/static/0c58787a957cd5b96305f3f20441aec8/fcda8/pastedImage_0.png 590w,
/static/0c58787a957cd5b96305f3f20441aec8/66caf/pastedImage_0.png 853w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Pokemon Go vs. Certificate Pinning]]></title><description><![CDATA[Saw this Tweet from @notdan about the Pokémon Go video game and their lack of certificate pinning:  At first, I thought “duh, of course…]]></description><link>https://kevinhakanson.com/2016-07-11-pokemon-go-vs-certificate-pinning/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-07-11-pokemon-go-vs-certificate-pinning/</guid><pubDate>Mon, 11 Jul 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Saw this Tweet from &lt;a href=&quot;https://twitter.com/notdan&quot;&gt;@notdan&lt;/a&gt; about the &lt;a href=&quot;http://www.pokemon.com/us/pokemon-video-games/pokemon-go/&quot;&gt;Pokémon Go&lt;/a&gt; video game and their lack of certificate pinning:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 576px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/75420e960ee1f202ea382dc034510785/533c1/pastedImage_9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 29.72972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGElEQVR42o1RPU/DMBTM/4WNkRmpgqFjJxbE0J0fADOqGMhX0zSfzic0cWInkCw5nlN1QKoQT3ry+d75fLK1p/UjVrc3+Pwo4fkBuq6Dqmma8FepcU/a5Ubi8kXi4llg+dZBW9+vcHd9hYTFsF0f8r+G1OMw4MHssdh8YfEqCJNh23Dw+gDeNJCyg5ASNedohUBV13Ni1Zwf50qnsBASh6rCdy8xUp9Ky4sShmXD3XsIoxi6aeJd1xGEEa0GgiBEkqZHHIawHQcm6Q3LgmlvsXM9bB2XLhAYxhFammVEumAsgbPbzYeVcVGWyIsCMfEqaZbniGI279WMJSlxxYyTNCOeoW0FNCX0KYVKpIzOf8D0603Pve+J+QHpWb9KCFPkKgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;@notdan Pokemon Go Tweet&quot;
        title=&quot;&quot;
        src=&quot;/static/75420e960ee1f202ea382dc034510785/533c1/pastedImage_9.png&quot;
        srcset=&quot;/static/75420e960ee1f202ea382dc034510785/12f09/pastedImage_9.png 148w,
/static/75420e960ee1f202ea382dc034510785/e4a3f/pastedImage_9.png 295w,
/static/75420e960ee1f202ea382dc034510785/533c1/pastedImage_9.png 576w&quot;
        sizes=&quot;(max-width: 576px) 100vw, 576px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;At first, I thought “duh, of course, they should have” but then I realized that I need to understand &lt;a href=&quot;https://www.owasp.org/index.php/Certificate_and_Public_Key_Pinning&quot;&gt;Certificate and Public Key Pinning&lt;/a&gt; better.  I’ve known about &lt;a href=&quot;https://tools.ietf.org/html/rfc7469&quot;&gt;RFC 7469 - Public Key Pinning Extension for HTTP&lt;/a&gt; and the HPKP header for a while, but never implemented it for any web applications (where the browser does the check) nor for any mobile/desktop applications (where you need to code the check yourself).&lt;/p&gt;
&lt;p&gt;I read though &lt;a href=&quot;https://scotthelme.co.uk/hpkp-http-public-key-pinning/&quot;&gt;HPKP: HTTP Public Key Pinning&lt;/a&gt; to see how these pins work.  I grabbed the &lt;code class=&quot;language-text&quot;&gt;Public-Key-Pins&lt;/code&gt; header from that blog post using a curl command:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-sI&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://scotthelme.co.uk/hpkp-http-public-key-pinning/&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-Fi&lt;/span&gt; public-key-pins

Public-Key-Pins: pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;X3pGTSOuJeEVw989IJ/cEtXUEmy52zs1TZQrU06KUKg=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;MHJYVThihUrJcxW6wcqyOISTXIsInsdj3xK8QrZbHec=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;isi41AizREkLvvft0IRW4u3XMFR2Yg7bvrF7padyCJg=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;I/bAACUzdYEFNw2ZKRaypOyYvvOtqBzg21g9a5WVClg=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Y4/Gxyck5JLLnC/zWHtSHfNljuMbOJi6dRQuRJTgYdo=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/oCVQg3nP3DroGpFdAbaiYzenycUftqrH3LAyaIal2g=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0PiItvsnLZy1slbsVPGky8YnDsJavMNtxD0TPwsCdC8=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;t3EPvqF+7XoKypCPHyN1b5uey7zTfIGDHn4oBWz2pds=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;zqbcEslrpiH0bA9uhNyl2ovpLEfGJQM/QvZSVumMFJ8=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;V+J+7lHvE6X0pqGKVqLtxuvk+0f+xowyr3obtq8tbSw=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Myokb3mG16eRkVBE+ZmFSKSpYQzWHKMY1MZbXgA8BkQ=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;WSg/oQliyMYyP6yZ0CzDdQ8PHmtUkoUsOsa5svxxXxo=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;9lBW+k9EF6yyG9413/fPiHhQy5Ok4UI5sBpBTuOaa/U=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ipMu2Xu72A086/35thucbjLfrPaSjuw4HIjSWsxqkb8=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;6OnjvIKf0SxyerXzg9N0RvQ2sgaL6niV+MLn9wBrh+s=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; pin-sha256&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;9dNiZZueNZmyaf3pTkXxDgOzLkjKvI+Nza0ACF5IDwg=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; max-age&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2592000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; includeSubDomains&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; report-uri&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://scotthelme.report-uri.io/r/default/hpkp/enforce&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I generated the same value as one of the pins (thanks to the example from &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Security/Public_Key_Pinning&quot;&gt;Public Key Pinning - Web security | MDN&lt;/a&gt; ):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ openssl s_client &lt;span class=&quot;token parameter variable&quot;&gt;-servername&lt;/span&gt; scotthelme.co.uk &lt;span class=&quot;token parameter variable&quot;&gt;-connect&lt;/span&gt; scotthelme.co.uk:443 &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; openssl x509 &lt;span class=&quot;token parameter variable&quot;&gt;-pubkey&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-noout&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; openssl rsa &lt;span class=&quot;token parameter variable&quot;&gt;-pubin&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-outform&lt;/span&gt; der &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; openssl dgst &lt;span class=&quot;token parameter variable&quot;&gt;-sha256&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-binary&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; openssl enc &lt;span class=&quot;token parameter variable&quot;&gt;-base64&lt;/span&gt;
&lt;span class=&quot;token assign-left variable&quot;&gt;depth&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; /C&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;US/O&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;Let&lt;span class=&quot;token string&quot;&gt;&apos;s Encrypt/CN=Let&apos;&lt;/span&gt;s Encrypt Authority X3
verify error:num&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;:unable to get &lt;span class=&quot;token builtin class-name&quot;&gt;local&lt;/span&gt; issuer certificate
verify return:0
writing RSA key
X3pGTSOuJeEVw989IJ/cEtXUEmy52zs1TZQrU06KUKg&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now that I’ve leveled up my InfoSec skills, maybe I should go learn more about Pokemon?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;: I was a little scared to login with my Google Account and give the app “Full Account Access” (see &lt;a href=&quot;http://arstechnica.com/gaming/2016/07/pokemon-go-on-ios-gets-full-access-to-your-google-account/&quot;&gt;iOS version of Pokémon Go is a possible privacy trainwreck | Ars Technica&lt;/a&gt; ) but after reading
&lt;a href=&quot;https://www.theguardian.com/technology/2016/jul/11/pokemon-go-privacy-security-full-access-google-account&quot;&gt;Have you given Pokémon Go full access to everything in your Google account? | Technology | The Guardian&lt;/a&gt;  things might not be that bad.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Software Customization Taxonomy]]></title><description><![CDATA[Building customizable systems is strategic to selling multi-tenant software.  Ideally these system support a number of factors while…]]></description><link>https://kevinhakanson.com/2016-06-30-software-customization-taxonomy/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-06-30-software-customization-taxonomy/</guid><pubDate>Thu, 30 Jun 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Building customizable systems is strategic to selling multi-tenant software.  Ideally these system support a number of factors while avoiding decreasing technical health.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Global growth with a scalable localization model&lt;/li&gt;
&lt;li&gt;Customer specific customization (e.g. data model extensions for fields, relationships, or new objects)&lt;/li&gt;
&lt;li&gt;Rapid product development (declarative / no dependencies on engineering code)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Internationalization (I18N) and Localization (L10N) have well-known, open-source solutions.  This is important, and can be considered a prerequisite to custom labeling in the UI.&lt;/p&gt;
&lt;p&gt;For terminology, I settled on these definitions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Configurable&lt;/strong&gt;: A system that is can alter behavior or appearance based on parameters.  Parameters may be specified via code, configuration files, tables, etc.  Each configuration parameter generally results in a low and finite number of code paths (e.g. 10 types of search result ranking paths).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Extensible&lt;/strong&gt;: A system that can have its capabilities extended through data model extensions, behavioral extensions, and use of APIs to compose new capabilities and integrate with other systems.  This quality is not mutually exclusive with configurable.  Extensibility often has configuration in its implementation (e.g. configuration of an additional object field, like customer status).
&lt;ul&gt;
&lt;li&gt;Reference: &lt;a href=&quot;https://en.wikipedia.org/wiki/Open/closed_principle&quot;&gt;Open–closed principle&lt;/a&gt;  We don’t want to extend classes as an implementation – keep interface formal and rigid.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Customization&lt;/strong&gt;: Modifying source code to handle unique branches in logic / code paths for a specific deliverable.  Typically implemented by branching code or using “if/else if” logic.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To help visualize this, I created a Software Customization Taxonomy as a hierarchy and focused on &lt;strong&gt;System Extensibility&lt;/strong&gt;.  I consider &lt;strong&gt;Personalization&lt;/strong&gt; to be at user level (e.g. number of results per page). I wanted to avoid &lt;strong&gt;Source Code Modification&lt;/strong&gt; as a single codebase where execution happens along multiple code paths is preferred over code branches.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/866d2a22c077687a41ddff7e4ba87aac/bd44e/taxonomy.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.72972972972974%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABcRAAAXEQHKJvM/AAACZ0lEQVR42mVSXWiSYRT+nDpXVpNZmttQMmHUjUQQQYF0J9HNLrbAZOsmGwsvpCChC2kRyYS6y7zy785wsZlusATFn22CCqbNTR06//BCvBALutCez16HrQMP38t3znnOeZ73pXq93ggBg4BJIQ4PD6+n0+lf+/v7vzOZzM9UKtXL5XJ+isSgx2AwnPRTp2Jk6MyWSCRjAE8kEomlUqlYLpfzZDLZBeRGASap+4+EarVaH7HNZiwW82CLzXa77TKZTNxSqTQJfMb/rzs7OxuJRMJTr9ff0j3NZnO+XC4H3W73F5/P5240Gt/AM9snBMGzQqGwEolEXiaTyVdIvICM0Wq1ehESX8fj8RWQ0ngHkid0Dwju4PwGYVxdXX1fLBY/dDqd2/9sCg9YAHt5efkcBoiDwaCIpJhEJmW1WsdALMVwgVar5djtdr5GoxkfsqxvxaTL5bp7jEBhBRdRgLxGpVJxd7tdDiRxkD9D7LlXq9VKsOAINflsNtvEv09ITcHfq/hO9KnRwMR03tzc3OWlpaUZvV7PD4fD50/7bbFY2EajcVypVE6r1WqZTqebcDgc3KELYlB4Evej0eijQCCgAmZtNtvN7e1t1dbW1sO9vb3HyN+gC+HvPIaoQ6GQan19/YHZbL61tra26Pf751G/gK2v9WlRuAGpWUg4QPggacHr9R5h4x8ej6cOJ57Tbw35OF7Bd1xSHkPs+Xz+KUiOnU5nYnd3t4jexYGSSWAauAIIyAXwAR4BmxhO10gAMcACaKlTgBC4ROr6IQVmSFKgUChYQzfPOPHmb5OIEDAJzgqFQu7gFdDxB5PbZFGRAZH7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Software Customization Taxonomy&quot;
        title=&quot;&quot;
        src=&quot;/static/866d2a22c077687a41ddff7e4ba87aac/fcda8/taxonomy.png&quot;
        srcset=&quot;/static/866d2a22c077687a41ddff7e4ba87aac/12f09/taxonomy.png 148w,
/static/866d2a22c077687a41ddff7e4ba87aac/e4a3f/taxonomy.png 295w,
/static/866d2a22c077687a41ddff7e4ba87aac/fcda8/taxonomy.png 590w,
/static/866d2a22c077687a41ddff7e4ba87aac/efc66/taxonomy.png 885w,
/static/866d2a22c077687a41ddff7e4ba87aac/c83ae/taxonomy.png 1180w,
/static/866d2a22c077687a41ddff7e4ba87aac/bd44e/taxonomy.png 1643w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Configuration can be considered just good software engineering as it involves building capabilities into the system.  Configuration can take place at build, deployment or runtime.  However, one still needs to be careful as too much configuration can deteriorate the technical health of a system.&lt;/p&gt;
&lt;p&gt;Today, these code paths typically makes use the strategy pattern and polymorphism, with a fixed number of behaviors statically defined in the build.  The open questions are best practices for imperative extensibility by customers.  Good engineering says to create a formal interface between core system and extension points with no leaky implementations, versioning, a way to “sandbox” extensions for security, and may other factors.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Zipkin JS Investigation]]></title><description><![CDATA[To better understand the concepts behind Zipkin, I took a look at Zipkin JS (a Zipkin instrumentation implementation for Node.js), including…]]></description><link>https://kevinhakanson.com/2016-06-10-zipkin-js-investigation/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-06-10-zipkin-js-investigation/</guid><pubDate>Fri, 10 Jun 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;To better understand the concepts behind &lt;a href=&quot;http://zipkin.io/&quot;&gt;Zipkin&lt;/a&gt;, I took a look at &lt;a href=&quot;https://github.com/openzipkin/zipkin-js&quot;&gt;Zipkin JS&lt;/a&gt; (a Zipkin instrumentation implementation for Node.js), including submitting &lt;a href=&quot;https://github.com/openzipkin/zipkin-js/pull/10&quot;&gt;Pull Request #10&lt;/a&gt; and &lt;a href=&quot;https://github.com/openzipkin/zipkin-js/issues/11&quot;&gt;Issue #11&lt;/a&gt; to that project.&lt;/p&gt;
&lt;p&gt;I wrote this (ugly but) simple Node.js Express app that recursively calls itself after decrementing a count value.  I thought this was an easy way to generate a distributed trace tree of arbitrary depth.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Tracer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ExplicitContext&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ConsoleRecorder&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;zipkin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; zipkinMiddleware &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;zipkin-instrumentation-express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expressMiddleware&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fetch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;node-fetch&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; wrapFetch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;zipkin-instrumentation-fetch&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ctxImpl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ExplicitContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; recorder &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ConsoleRecorder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tracer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Tracer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;ctxImpl&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; recorder&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// configure your tracer properly here  &lt;/span&gt;
  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;port&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PORT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;servicename&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;helloservice&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
&lt;span class=&quot;token comment&quot;&gt;// Add the Zipkin middleware  &lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;zipkinMiddleware&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  tracer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
  &lt;span class=&quot;token literal-property property&quot;&gt;serviceName&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;servicename&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// name of this application  &lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; zipkinFetch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wrapFetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fetch&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tracer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;serviceName&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;servicename&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;log&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;warn&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; oldMethod &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;method&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;console&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    console&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;method&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        arguments&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;tracer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;arguments&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        &lt;span class=&quot;token function&quot;&gt;oldMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;  
            console&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
            arguments  
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;count = &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;count&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;http://localhost:&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;port&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/?count=&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;calling &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;url&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token function&quot;&gt;zipkinFetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fetchres&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; fetchres&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Hello World! (x&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;count&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;)\n&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;result&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;ex&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ex&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Hello World!\n&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;    
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;port&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Example app listening on port &apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;port&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When I call it like this (explicitly passing in a TraceId and SpanId)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -H &quot;X-B3-TraceId: 1234567890abcdef&quot; -H &quot;X-B3-SpanId: 1234567890abcdef&quot; http://localhost:8001/?count=3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I get this result&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Hello World! (x3)
Hello World! (x2)
Hello World!&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and see this on the Node.js console as a result of my both &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt; calls and the configured &lt;code class=&quot;language-text&quot;&gt;ConsoleRecorder&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;TraceId(spanId=977a88d5c9febc13, parentId=977a88d5c9febc13, traceId=977a88d5c9febc13) Example app listening on port 8001  
Record at (spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef): ServiceName(&quot;myservice1&quot;)  
Record at (spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef): Rpc(&quot;GET&quot;)  
Record at (spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef): BinaryAnnotation(http.url=&quot;http://localhost:8001/%3Fcount=3&quot;)  
Record at (spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef): ServerRecv()  
Record at (spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef): LocalAddr(host=&quot;InetAddress(10.212.146.110)&quot;, port=0)  
TraceId(spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef) count = 3  
TraceId(spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef) calling http://localhost:8001/?count=2  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): ServiceName(&quot;myservice1&quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): Rpc(&quot;GET&quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): BinaryAnnotation(http.url=&quot;http://localhost:8001/?count=2&quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): ClientSend()  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): ServiceName(&quot;myservice1&quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): Rpc(&quot;GET&quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): BinaryAnnotation(http.url=&quot;http://localhost:8001/%3Fcount=2&quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): ServerRecv()  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): LocalAddr(host=&quot;InetAddress(10.212.146.110)&quot;, port=0)  
TraceId(spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef) count = 2  
TraceId(spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef) calling http://localhost:8001/?count=1  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): ServiceName(&quot;myservice1&quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): Rpc(&quot;GET&quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): BinaryAnnotation(http.url=&quot;http://localhost:8001/?count=1&quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): ClientSend()  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): ServiceName(&quot;myservice1&quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): Rpc(&quot;GET&quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): BinaryAnnotation(http.url=&quot;http://localhost:8001/%3Fcount=1&quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): ServerRecv()  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): LocalAddr(host=&quot;InetAddress(10.212.146.110)&quot;, port=0)  
TraceId(spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef) count = 1  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): BinaryAnnotation(http.status_code=&quot;200&quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): ServerSend()  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): BinaryAnnotation(http.status_code=&quot;200&quot;)  
Record at (spanId=9b550ac514a4af5, parentId=94a8246c4c298188, traceId=1234567890abcdef): ClientRecv()  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): BinaryAnnotation(http.status_code=&quot;200&quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): ServerSend()  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): BinaryAnnotation(http.status_code=&quot;200&quot;)  
Record at (spanId=94a8246c4c298188, parentId=1234567890abcdef, traceId=1234567890abcdef): ClientRecv()  
Record at (spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef): BinaryAnnotation(http.status_code=&quot;200&quot;)  
Record at (spanId=1234567890abcdef, parentId=1234567890abcdef, traceId=1234567890abcdef): ServerSend()  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can see the consistent TraceId for the request (&lt;code class=&quot;language-text&quot;&gt;1234567890abcdef&lt;/code&gt;) as well as the &lt;code class=&quot;language-text&quot;&gt;1234567890abcdef&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;94a8246c4c298188&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;9b550ac514a4af5&lt;/code&gt; lineage.  The &lt;code class=&quot;language-text&quot;&gt;ConsoleRecorder&lt;/code&gt; emitted the lines starting with “Record at” and I overloaded console methods to add the TraceId information.&lt;/p&gt;
&lt;p&gt;Instead of outputting to the console, I wanted to write to a Zipkin UI instance that could take reports over HTTP.  However, zipkin-js does not include a version of the Spring Cloud Slueth &lt;a href=&quot;https://github.com/spring-cloud/spring-cloud-sleuth/blob/2e2c8b3e17cbef809abf350f4960acdf14618d16/spring-cloud-sleuth-zipkin/src/main/java/org/springframework/cloud/sleuth/zipkin/HttpZipkinSpanReporter.java&quot;&gt;HttpZipkinSpanReporter.java&lt;/a&gt; or the Zipkin &lt;a href=&quot;https://github.com/openzipkin/zipkin/blob/680170cf5ccce96d31cc3b6e1c1d430edf70e070/zipkin/src/main/java/zipkin/internal/JsonCodec.java&quot;&gt;JsonCodec.java&lt;/a&gt; I need.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Introduction to Speech Interfaces for Web Applications]]></title><description><![CDATA[Since the 2025 Customer Challenge last fall, I have been interested in the current state of speech interfaces, especially how they could be…]]></description><link>https://kevinhakanson.com/2016-05-03-introduction-to-speech-interfaces-for-web-applications/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-05-03-introduction-to-speech-interfaces-for-web-applications/</guid><pubDate>Tue, 03 May 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Since the &lt;a href=&quot;../2015-09-21-2025-customer-challenge&quot;&gt;2025 Customer Challenge&lt;/a&gt; last fall, I have been interested in the current state of speech interfaces, especially how they could be exposed to browser-based web applications.  I put some of my research into presentation format and presented &lt;a href=&quot;http://www.slideshare.net/kevinhakanson/introduction-to-speech-interfaces-for-web-applications&quot;&gt;Introduction to Speech Interfaces for Web Applications&lt;/a&gt; at both &lt;a href=&quot;http://twincitiescodecamp.com/&quot;&gt;Twin Cities Code Camp&lt;/a&gt; and &lt;a href=&quot;http://minnestar.org/minnebar/&quot;&gt;MinneBar&lt;/a&gt; in April.  Here’s the abstract:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Speaking with your computing device is becoming commonplace. Most of us have used Apple’s Siri, Google Now, Microsoft’s Cortana, or Amazon’s Alexa - but how can you speak with your web application? The Web Speech API can enable a voice interface by adding both Speech Synthesis (Text to Speech) and Speech Recognition (Speech to Text) functionality.&lt;/p&gt;
&lt;p&gt;This session will introduce the core concepts of Speech Synthesis and Speech Recognition. We will evaluate the current browser support and review alternative options. See the JavaScript code and UX design considerations required to add a speech interface to your web application. Come hear if it’s as easy as it sounds?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I thought it came together quite well, and I even have the &lt;a href=&quot;https://twitter.com/kboeckman/status/723957969176535040&quot;&gt;tweet&lt;/a&gt; from Kate Boeckman (&lt;a href=&quot;https://twitter.com/kboeckman&quot;&gt;@kboeckman&lt;/a&gt;) to prove it.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9b2d3f0cf340e129a532acfe504f2d04/0c69d/Screen%2BShot%2B2016-05-03%2Bat%2B9.17.47%2BAM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 29.72972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABN0lEQVR42nWRy07CUBCG+7Su3OBWNz6HD+LKjUaNkYXl0sKhQEvvtKWl9EYD/WwJuDD6J18mZybzZ86MBA2BmBKtA1zPw3Gcc3TZ7/d0apqm5RLPHI+EScZ9v+DmLefqOePJqpEsTeOhd83nyyuaYTFSBSvTwg986rrmfzVsspLbj5y7z4ree8mjUSGFQcBoILNe++yyHWnHLiUNShK/YBeVZHFFvq0oioJkuyWOk5aYJEmoyrytxWQtnaTOQFU1hKIzU3UUWUNVBIuJhfgyGffnCNlkObWZCoE8GDIYjhiOFRR1gtDm6Mbq9KuT4SbesJi1CeGjT1w02cY1IjZxhOM56Csdr53ebzEtC8u2cVyXIAgJo6g1MjkcDj+LkLZpipjNTo1LQ0c3Dbrc5Rh/b+/X+3yozvAbY1LAEcYiWdMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Screen Shot 2016-05-03 at 9.17.47 AM.png&quot;
        title=&quot;&quot;
        src=&quot;/static/9b2d3f0cf340e129a532acfe504f2d04/fcda8/Screen%2BShot%2B2016-05-03%2Bat%2B9.17.47%2BAM.png&quot;
        srcset=&quot;/static/9b2d3f0cf340e129a532acfe504f2d04/12f09/Screen%2BShot%2B2016-05-03%2Bat%2B9.17.47%2BAM.png 148w,
/static/9b2d3f0cf340e129a532acfe504f2d04/e4a3f/Screen%2BShot%2B2016-05-03%2Bat%2B9.17.47%2BAM.png 295w,
/static/9b2d3f0cf340e129a532acfe504f2d04/fcda8/Screen%2BShot%2B2016-05-03%2Bat%2B9.17.47%2BAM.png 590w,
/static/9b2d3f0cf340e129a532acfe504f2d04/0c69d/Screen%2BShot%2B2016-05-03%2Bat%2B9.17.47%2BAM.png 598w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS WAF vs. ModSecurity]]></title><description><![CDATA[In a recent meeting with the corporate security team, it was mentioned that a Web Application Firewall (WAF) might be the recommendation for…]]></description><link>https://kevinhakanson.com/2016-04-25-aws-waf-vs-modsecurity/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-04-25-aws-waf-vs-modsecurity/</guid><pubDate>Mon, 25 Apr 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In a recent meeting with the corporate security team, it was mentioned that a Web Application Firewall (WAF) might be the recommendation for cloud projects to protect against XSS and SQL Injection.  The Cloud Security Workstream has done some research, including WAF options.  As I dug into what an AWS WAF solution might look like, I came up with this diagram:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7157823f3bdb46f3be99ca89a554e0d7/1cfc2/AWS%2BStatic%2BContent%2B-%2BAWS%2BWAF.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABibAAAYmwFJdYOUAAACSklEQVR42p1Sy4oTURDNX/gFbv0Tf2DcCy4HhAFRZjMgs3AjKCiCLlUUR3EzDBJ14QRiIiSZMXGSTPqRfqWTTr/Sfft1rOo8yCzceOF2X27VPXXqnKpgs4rlT7gojBqKIsf/rMo2YEbf4PIb8HUHC6sNP0zgeS5830P/UsbBxzZ+nMswNRWSJEPVTSiKDFkawbZtpGmKSlEUSJIEaZZBCEGPffiGgtDUkOZL1lHoYzC2cfjhJ6qnDWT0cLFYwFO68N0ZgiiGrmtU3EMljuPy4NN2CazXbqF67y7qB/ehDy6IZQhd0+BSHLUXKN7vIjP7EKSI+/wWgnd7QCZgGCbc+ZwBBRrNJjqdDmZ0wYD1h/v48+QR5F4XhmXB0HVohgH70yGmr+7AH7UwXySY/jqG9eAGxNkJTMeH68yWGsqKgvF4XLZiTiY4a9TRbTbgByHCICj1iUiOmTZCt/59bR+CMIJ+0UIaejCtCVzX3TaFmJOOCoGr1hSSbpVArK9pmnAcBxHFF0kKlSQY9Pukmw6RFQiosEWdbADZGF78OCDNnN+nmHZryFf3nBwTQ+noLWr7e3DJ2WRlInfF79nMOWu4zZABI5Gi+/Q2hi93N62FVGSsKqjv3MTr69cgH39eDhqBrskwIHdxFVDEEBTvfXkDs3a0Gs8CURRBUDG1eoLzZ48R2pOSMUuUrUD/yZBHiB0dSQpySs7zHDxa3LY1czAhFhYZNxwOSxDOZ+0YjDu5AsiVAnKVA7z5vN4GFVHJMI2mgWNcZJ23zuXifwGmAIKJwOPC7wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AWS Static Content - AWS WAF.png&quot;
        title=&quot;&quot;
        src=&quot;/static/7157823f3bdb46f3be99ca89a554e0d7/fcda8/AWS%2BStatic%2BContent%2B-%2BAWS%2BWAF.png&quot;
        srcset=&quot;/static/7157823f3bdb46f3be99ca89a554e0d7/12f09/AWS%2BStatic%2BContent%2B-%2BAWS%2BWAF.png 148w,
/static/7157823f3bdb46f3be99ca89a554e0d7/e4a3f/AWS%2BStatic%2BContent%2B-%2BAWS%2BWAF.png 295w,
/static/7157823f3bdb46f3be99ca89a554e0d7/fcda8/AWS%2BStatic%2BContent%2B-%2BAWS%2BWAF.png 590w,
/static/7157823f3bdb46f3be99ca89a554e0d7/efc66/AWS%2BStatic%2BContent%2B-%2BAWS%2BWAF.png 885w,
/static/7157823f3bdb46f3be99ca89a554e0d7/1cfc2/AWS%2BStatic%2BContent%2B-%2BAWS%2BWAF.png 900w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Since &lt;a href=&quot;https://aws.amazon.com/waf/&quot;&gt;AWS WAF&lt;/a&gt; and its &lt;a href=&quot;http://docs.aws.amazon.com/waf/latest/developerguide/web-acl.html&quot;&gt;Web ACL&lt;/a&gt; rules are a feature of the &lt;a href=&quot;https://aws.amazon.com/cloudfront/&quot;&gt;Amazon CloudFront CDN&lt;/a&gt;, a full solution would pull in other Amazon functionality.  CloudFront is most useful as a CDN, if you host your static content assets in S3.  You can configure both an S3 Origin for your static content and a Custom Origin for your dynamic content.  In the diagram above, a “behavior” with the “path prefix” of &lt;code class=&quot;language-text&quot;&gt;api/*&lt;/code&gt; was used to route application requests to the ELB.&lt;/p&gt;
&lt;p&gt;However, this solution requires some DNS changes.  CloudFront will now be configured for application hostname, and the ELB needs a new hostname.  This is where things become interesting.  In the classic &lt;code class=&quot;language-text&quot;&gt;www.example.com&lt;/code&gt; scenario, you make CloudFront respond to &lt;code class=&quot;language-text&quot;&gt;www.example.com&lt;/code&gt;, and your original ELB becomes something like &lt;code class=&quot;language-text&quot;&gt;origin-www.example.com&lt;/code&gt;, reflecting the fact it is the “Origin” server.  Our products use “naked” domains meaning &lt;code class=&quot;language-text&quot;&gt;example.com&lt;/code&gt; is the hostname instead of the more traditional &lt;code class=&quot;language-text&quot;&gt;www.example.com&lt;/code&gt;.  This makes the naming of &lt;code class=&quot;language-text&quot;&gt;origin.example.com&lt;/code&gt; harder (since &lt;code class=&quot;language-text&quot;&gt;origin-example.com&lt;/code&gt; would be a new domain).  It also may require us to use Route 53 for DNS because the requirement for an ALIAS record for the zone apex (see &lt;a href=&quot;http://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resource-record-sets-choosing-alias-non-alias.html&quot;&gt;Choosing Between Alias and Non-Alias Resource Record Sets - Amazon Route 53&lt;/a&gt;).  This topic needs more investigation.&lt;/p&gt;
&lt;p&gt;Earlier, I investigated putting Apache HTTP in front of Zuul and use the ProxyPass directive to pass any &lt;code class=&quot;language-text&quot;&gt;/api&lt;/code&gt; URIs.  This was for HTTP/2 protocol support, but could also be used if we use the &lt;a href=&quot;https://www.modsecurity.org/&quot;&gt;ModSecurity&lt;/a&gt; Apache module as a WAF.  This solution means no new hostnames, less new infrastructure and could also be used by the deployments in the corporate data center until they can move to AWS.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f749210300bc0c5cd0f4930b0586f413/b12f7/AWS%2BStatic%2BContent%2B-%2BModSecurity.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 35.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABibAAAYmwFJdYOUAAABfElEQVR42lVSu04kMRDcryPkDy5F4gvISLiAgIiQDCQyhO4BEj+AYKUjQUKzaPZWy+0sA8POwx4/ZvyYom1WJ2ip3R2Uq6rbHmEdw7pOXzi47DF4B+cspYtprf2axnzpHdUQo3BY64hxgNIaO+cT/L5/he8VKq7QcAHOOZRSMaWUEaddwHcfvR0gqe/7HqN+rRRq29LFm1PY6TVEU6L88R1ydgehDel5EvXRhcsTiJ97GGiCoc4gLvdhyoxIiZDzFkkywdMiw2KWQhxvob/Yw/I5R3W2C3a4iWIxw6qqUVclWCtRZn+xOtgAO99FxVrUR9/QnmxHlyNDzpLJBEVRQCqN+fgKxeMdOuvxms3xfPsLktXwtJIhpPdx3/xfApmOo+P5wx8sx5fQgRCfQgqBtjPonEdTV0jTKdKnJd5Wq7g7xhgEYcIjGBrXkoA1PTKa5q3h0LTjSBiUQwS3Wkl0Wv0nYE1NvUBZlsjzPNau6yJOEUbToxgiDXfCb3gHTRsPxtzd9V8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AWS Static Content - ModSecurity.png&quot;
        title=&quot;&quot;
        src=&quot;/static/f749210300bc0c5cd0f4930b0586f413/fcda8/AWS%2BStatic%2BContent%2B-%2BModSecurity.png&quot;
        srcset=&quot;/static/f749210300bc0c5cd0f4930b0586f413/12f09/AWS%2BStatic%2BContent%2B-%2BModSecurity.png 148w,
/static/f749210300bc0c5cd0f4930b0586f413/e4a3f/AWS%2BStatic%2BContent%2B-%2BModSecurity.png 295w,
/static/f749210300bc0c5cd0f4930b0586f413/fcda8/AWS%2BStatic%2BContent%2B-%2BModSecurity.png 590w,
/static/f749210300bc0c5cd0f4930b0586f413/efc66/AWS%2BStatic%2BContent%2B-%2BModSecurity.png 885w,
/static/f749210300bc0c5cd0f4930b0586f413/b12f7/AWS%2BStatic%2BContent%2B-%2BModSecurity.png 1020w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;CloudFront will be an important feature for the United States, but for the South America and Australia deployments, there are fewer edge locations (see &lt;a href=&quot;http://aws.amazon.com/cloudfront/details/&quot;&gt;Amazon CloudFront Product Details&lt;/a&gt; ) and will be less customer traffic.  An alternate solution to AWS WAF may be the best solution for now.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Graph Encryption: Going Beyond Encrypted Keyword Search]]></title><description><![CDATA[I have a decent understanding of keyword search from developing research applications for professionals and building a simple RSS search…]]></description><link>https://kevinhakanson.com/2016-03-28-graph-encryption-going-beyond-encrypted-keyword-search/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-03-28-graph-encryption-going-beyond-encrypted-keyword-search/</guid><pubDate>Mon, 28 Mar 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I have a decent understanding of keyword search from developing research applications for professionals and building a simple RSS search engine for an Information Retrieval course in graduate school.  I’v heard of encrypted keyword search, but haven’t allocated the brain cycles to comprehend it fully.  Recently, I saw a link to &lt;a href=&quot;http://outsourcedbits.org/2016/03/02/graph-encryption-going-beyond-encrypted-keyword-search/&quot;&gt;Graph Encryption: Going Beyond Encrypted Keyword Search&lt;/a&gt;, which piqued my interest.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Graph Encryption&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Previous work in encrypted search has focused on how to search encrypted documents, e.g., doing keyword search, conjunctive queries, etc. Graph encryption, on the other hand, focuses on performing graph queries on encrypted graphs rather than keyword search on encrypted documents.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In my current role, many of our products house customer data and that data’s interrelationships.  However, sometimes it would be nice to graft this customer data onto the corporate Knowledge Graph.  Maybe this is something that others inside my company are already aware of and/or looking at?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Microservices: An application revolution powered by the cloud]]></title><description><![CDATA[Good article and video interview explaining microservices and container technologies by Mark Russinovich, the CTO of Azure.  Most of the…]]></description><link>https://kevinhakanson.com/2016-03-25-microservices-an-application-revolution-powered-by-the-cloud/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-03-25-microservices-an-application-revolution-powered-by-the-cloud/</guid><pubDate>Fri, 25 Mar 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Good article and video interview explaining microservices and container technologies by Mark Russinovich, the CTO of Azure.  Most of the information is cloud provider neutral and explains the transition from a monolithic application model to microservices architecture.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://azure.microsoft.com/en-us/blog/microservices-an-application-revolution-powered-by-the-cloud/&quot;&gt;Microservices: An application revolution powered by the cloud | Blog | Microsoft Azure&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;These business realities are driving developers to adopt an application architecture model called “microservices,” a term popularized by &lt;a href=&quot;http://martinfowler.com/articles/microservices.html&quot;&gt;James Lewis and Martin Fowler&lt;/a&gt;. In this post, I’ll talk about how and why a microservices architecture can help with application development and lifecycle tasks, and describe the capabilities that platforms can provide to support those architectures.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Disaster Recovery Taken Meme]]></title><description><![CDATA[In a review of the technology goals, it was reinforced that products “will test DR” which triggered a flashback to Liam Neeson’s speech from…]]></description><link>https://kevinhakanson.com/2016-03-03-disaster-recovery-taken-meme/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-03-03-disaster-recovery-taken-meme/</guid><pubDate>Thu, 03 Mar 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In a review of the technology goals, it was reinforced that products “will test DR” which triggered a flashback to Liam Neeson’s speech from the 2008 movie &lt;a href=&quot;http://www.imdb.com/title/tt0936501/&quot;&gt;Taken&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;“I don’t know who you are. I don’t know what you want. If you are looking for ransom I can tell you I don’t have money, but what I do have are a very particular set of skills. Skills I have acquired over a very long career. Skills that make me a nightmare for people like you. If you let my daughter go now that’ll be the end of it. I will not look for you, I will not pursue you, but if you don’t, I will look for you, I will find you and I will kill you.”&lt;br&gt;
&lt;a href=&quot;https://www.youtube.com/watch?v=jZOywn1qArI&quot;&gt;—Liam Neeson, Taken&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So I created a internet style meme to represent that if we don’t test DR, someone will do it for us. Enjoy!&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 513px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/21c0e7b0ddccfd5d71c0e9bd2dbd2540/267f6/DR%2BTaken%2BMeme.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEz0lEQVR42kVV+U9UVxh9bDPzltln3uxvWAecwqCMQnUQrCWgNiIFLBQie7QgSANB0SKyBgggGJWtEnZZArTFUpoobYh/A3/P6fcuMf3h5C75vnPPvd/7zuOSkpJQU1ODyspKlJaWIj8/H3l5eSguLkZ5eTlbl5SUoKqqCi0tLWz//v37qKioQG5uLqqrq1FYWMjW4XAYXEZGBoaHh3F0dIS1tTV0d3djaGgIi4uLeP/+PQYHB3FwcIC3b98yvHr1Cuvr61hYWEB9fT1WVlbQ2tqKsbGxM0Kr1Yrl5WXs7+/j8PAQkUgEXV2PcXx8jI8fP6K/vx+zs7Mspq+vDy9fvsQqkezu7qLlYQuWlpbYobW1tfB6veCys7Px+vVrjI+PY2Jigl3nwYMHRNTHAjs7OtDU1ITR0VGmZGRkBAMDA1heWsZA/wDbe/LkCRobGxEIBMD19T/H58+fsb29jdW1VXz4cMDU9lPSwOAQ3tA1e5734I+D37G3t4v93/YxOjaCqekpHP19hMePu7Czs8Nyb5d8R1d26aEkOuH222B1SZDMBoh6CXabhOR4C6w0mm0W2CjO4TND9tGe28Bi1VynYmUwyQJCF8+BszglGO06mB06mOw8tAIPr4PH1aAJ1XnxKLhgh8nEQ2/RwShrKVEHq0NgsMhnsDlFGCwapGcmk0IitDgpwCVQMCk0CEhPlHDzvBW3wg58k2mD3yPB4TJA8ZsgkyqZ1DncKvRwefTwKEY4iCN8MRWczSGCgU6x2EXojTxkmUc42YiCdCuuhWRcD1lRcEnB3esB+BUDnETm9hIRQfFJSPDT3K1FTk7gf0I7KbXTyRa7gBSvgJyAGV0309BZlID8oAFV+QF0fJ+FcNAKt0dgRIoiIV4RkUiEXiL8OjsFnOwSocJBcHoIbhEpioBUjw43LnhQHXEjjRLSFBvqijJw+4oCn1dHJCJDkl8tHil163A5mxT6fQISCPE+kUaRzf1eEalE+m1Qxo+XPRQsIUqnQSTThcZbQTrQyJ7GZj8jTE3QI96jwRWVMJgg4atEkaCHOg8l66koIhQXj0iaCZfSLHBSZY0mAU4iuEuVv0bKY3kRcTx9Uma6TeIXQqpyzjkDctIkZDMQmS8aMn0CMVoeFrMWTlMMZGMsBD4OHBcFjSYaPK8BFxWF6OgYxOroPb0GJPt0iOTQGxadN+HGeQNKLrsx3NOBN9NjOP7nX8xT86+trmBve436eBG/9DxnXTM2PoGqezWYm5/HFnXXvdp6CGIsgqQyVy3KDxE77l5x4kamHpUV5XgzM0dtNU2WVotH7T9jcmoavS9eoO3RI8zPLzBzeNj6ENPkOioKi4pIOUdX1qIgj77D0qtJmBjqwd7WKk5PTzEzM0NJU1jf2MA0ETc3N2ODbGyb+lV1oV/fvcPJyQkmJicxOzfHVP55+BeJKcWlkA+cIErIvZqHn5pbmBfeuXMHtWS4z549Q0NDA+rq6pht9fb2orSsjDlRe3s7nj59is7OTrS1tdG8GykpAWoIB7iYmBh63GgmW4W6VkfVxT99+sT8TnWira0tZrSbm5sIhUIs5kteFBVIHRVFOSOMi4tj0Gg0DGqA6uTqb0H9DahjGalT56rirKwsRqDValmeOqprn8+H/wAAL9ZdZRpNRQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;DR Taken Meme&quot;
        title=&quot;&quot;
        src=&quot;/static/21c0e7b0ddccfd5d71c0e9bd2dbd2540/267f6/DR%2BTaken%2BMeme.png&quot;
        srcset=&quot;/static/21c0e7b0ddccfd5d71c0e9bd2dbd2540/12f09/DR%2BTaken%2BMeme.png 148w,
/static/21c0e7b0ddccfd5d71c0e9bd2dbd2540/e4a3f/DR%2BTaken%2BMeme.png 295w,
/static/21c0e7b0ddccfd5d71c0e9bd2dbd2540/267f6/DR%2BTaken%2BMeme.png 513w&quot;
        sizes=&quot;(max-width: 513px) 100vw, 513px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[WebSequenceDiagrams Notation]]></title><description><![CDATA[https://www.websequencediagrams.com/ supports notation for synchronous calls, asynchronous calls, return calls and activations.  These…]]></description><link>https://kevinhakanson.com/2016-03-01-websequencediagrams-notation/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-03-01-websequencediagrams-notation/</guid><pubDate>Tue, 01 Mar 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://www.websequencediagrams.com/&quot;&gt;https://www.websequencediagrams.com/&lt;/a&gt; supports notation for synchronous calls, asynchronous calls, return calls and activations.  These features are useful for documenting complex interactions with some of the operations happening in the background.  The example below illustrates these interactions (see &lt;a href=&quot;https://www.websequencediagrams.com/examples.html&quot;&gt;https://www.websequencediagrams.com/examples.html&lt;/a&gt; for full documentation).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Image:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 476px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d365f5445aaba7bd779fad3543c91dc1/f2205/call%2Bflows.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 89.1891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAABw0lEQVR42pWUV2/DMAyE/f9/WR7yECABsvfezt5h8RE4VTXSJhUgW5boO/JIKrE3o9frWbVa9cn6fr//aZ88Hg+73W72fD59g7e+md1u1zqdjpXLZWs0Goa9hmxjkmS/39t8Prfz+ewbx+PRZrOZHQ6HYMTZbrcLNiIHbLFYWJqm34CbzcY9iAHxarvdBiPA+/2+g2YB2ccB7SdswrBer221WtlyuXTWy+USAAmJ8zhcDUhwInjIAxAEHw6HVqlUrFAoBCBAYEaaV+N0Ov0gd0A8G4/HNp1O3btisejAyCF9/gWI23GWJ5OJk6APXrMm5I8BYRcgAyDqrtlshjfAr2rwJSBlg46EyASg1Wq552SQsJGCBH4EmM/nbTAY+M+EyzubUQDJ5vV6dQAmBJTU25AxkjcCJmG1Ws2TRQR0DetcLuckoQ6VFJWHALN6ZUOWLdVBI/APzfCrhwLUPslBa/bpKiZOjEYjl0sy+OVAImLNYFIYGqpLyaCI4h53DfkZlriXKZG4kHVhkNFsL5NE5AgawkrdxYB8x4AAQaoGkJaEGF8OeO2XAwcKGY34jpPCGWDUJgD1et3X7XbbSqWS66uy+wLNt3KbrwGMYwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;call flows&quot;
        title=&quot;&quot;
        src=&quot;/static/d365f5445aaba7bd779fad3543c91dc1/f2205/call%2Bflows.png&quot;
        srcset=&quot;/static/d365f5445aaba7bd779fad3543c91dc1/12f09/call%2Bflows.png 148w,
/static/d365f5445aaba7bd779fad3543c91dc1/e4a3f/call%2Bflows.png 295w,
/static/d365f5445aaba7bd779fad3543c91dc1/f2205/call%2Bflows.png 476w&quot;
        sizes=&quot;(max-width: 476px) 100vw, 476px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Source:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;title call flows  
  
a-&gt;+b: sync call  
b-&gt;b: in process call  
b-&gt;&gt;+c: async call  
c--&gt;b: 202 Accepted  
b--&gt;-a: return value  
c-&gt;d: background process  
d-&gt;d:  
d--&gt;-c:  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[AWS DynamoDB and Disaster Recovery]]></title><description><![CDATA[AWS DynamoDB (managed NoSQL database) appears to lag behind AWS RDS (managed relational database) w.r.t. some disaster recovery features…]]></description><link>https://kevinhakanson.com/2016-02-29-aws-dynamodb-and-disaster-recovery/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-02-29-aws-dynamodb-and-disaster-recovery/</guid><pubDate>Mon, 29 Feb 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;AWS DynamoDB (managed NoSQL database) appears to lag behind AWS RDS (managed relational database) w.r.t. some disaster recovery features:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Backup/Restore&lt;/li&gt;
&lt;li&gt;Cross Region Replication&lt;/li&gt;
&lt;li&gt;Encryption at Rest&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Related Videos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=yHSuK_k3dxU&quot;&gt;AWS re:Invent 2014 | (SDD424) Simplifying Scalable Distributed Applications Using DynamoDB Streams - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://youtu.be/ggDIat_FZtA?list=PLhr1KZpdzukeMbjRqGswHX38DCqOHZ5GA&quot;&gt;AWS re:Invent 2015 | (DAT401) Amazon DynamoDB Deep Dive - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Backup/Restore&lt;/h2&gt;
&lt;p&gt;There is no “checkbox” for backup/restore and seems to require either using Data Pipeline and/or DynamoDB Streams to orchestrate.  See &lt;a href=&quot;http://www.datahack.it/aws-dynamodb-backup-recovery/&quot;&gt;DynamoDB: Backup &amp;#x26; Recovery Solution&lt;/a&gt; for a potential solution.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Cross Region Replication&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There is no “checkbox” for replication.  The official documentation has a “how to” article (&lt;a href=&quot;http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Streams.CrossRegionRepl.html&quot;&gt;Cross-Region Replication Using DynamoDB Streams - Amazon DynamoDB&lt;/a&gt; ) on using an awslabs open source solution: &lt;a href=&quot;https://github.com/awslabs/dynamodb-cross-region-library&quot;&gt;GitHub - awslabs/dynamodb-cross-region-library: A library to facilitate cross-region replication with Amazon DynamoDB Streams&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Other replication options are discussed at &lt;a href=&quot;http://blog.sungardas.com/CTOLabs/2015/09/planning-for-failures-with-amazon-dynamodb-2/&quot;&gt;Planning for failures with Amazon DynamoDB | Sungard AS CTO Labs Blog&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 474px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/76f096d6e958e2d2202568554d56a253/5595f/pastedImage_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.78378378378378%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACeklEQVR42k1S21ITQRANJbC7s3PZ2Ws2uyGAVopIASFRE01ZpYiXBwzCWpa+KPyEZVlYfoJf4I/wA7zzwO8cuydo+XBmdnamT58+3S3P8xGpAFYLaBVCSgFFkGEA7eBDKgkdRUjqu7DWIklTJEkMbVMENkMgfASBgB8EaEmlsHcvwcEwxesHOV6Mcky2EsynBd5O23g8sJg+GuHktMHpyTscHR2haRrM53NsbKzD81agtAbzKEJLGwNtNLELp04TBGUqM42qTBFpCaMVsjSBjYxDWZaou10URYEosvB9VhgsCEMp0SkyPOx3Efieky0EkQouM0Z3+BxZtQmhY8i4gLI54qxwZHmeIaXyg9sYR3hnxcN0d4Df389vs3ecgqosiGgdO+e/0J8d4+XxJxw2X/CKMHpyCPaeKzFUIRMxoSRxrVXPw+Z6D5/fz7G21iNVmh5od6lNhN7wGVIiHmz1sb8/xHg0wvb2fUcUhhJxQlbEpD4MHWmLl5AOTGJshCi20OQbE7o7f5W+Q7qzKNpt6m5CnpLvepE0ohhDIgxNgVPIC4NJJZmvCEnepgDj/vEuREiBFv1+H0tLS4tEHEO7oaYkOXlLo+U85IU7LaVyTUmqDQw+/MTm6ABKeC5geXkZFxcXuLq6wtnZGXU2cnZIfwXV+A12P/4g0pIS0RyydPaD58j3VmHzCtvNN/R2nxIhGU8q67rG5eUlbm5ucH19jdls5prC99XeAXaar2RJSm/JQy7x/7LzLENVd1FVFdrkGf/j0RiPx45oMpm4KeCyWUin06H3Ne0lYmrOPw8d1MJk9uOvcg7MKAmT53numsJn5znFGCrdWXDbpD8XXjvLcWkrVgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Cross Region Replication&quot;
        title=&quot;&quot;
        src=&quot;/static/76f096d6e958e2d2202568554d56a253/5595f/pastedImage_2.png&quot;
        srcset=&quot;/static/76f096d6e958e2d2202568554d56a253/12f09/pastedImage_2.png 148w,
/static/76f096d6e958e2d2202568554d56a253/e4a3f/pastedImage_2.png 295w,
/static/76f096d6e958e2d2202568554d56a253/5595f/pastedImage_2.png 474w&quot;
        sizes=&quot;(max-width: 474px) 100vw, 474px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Encryption at Rest&lt;/h2&gt;
&lt;p&gt;There is no “checkbox” for server-side encryption at rest and any solution requires client-side encryption.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://java.awsblog.com/post/TxI32GE4IG2SNS/Client-side-Encryption-for-Amazon-DynamoDB&quot;&gt;Client-side Encryption for Amazon DynamoDB - AWS Developer Blog - Java&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blogs.aws.amazon.com/security/post/Tx2LZ6WBJJANTNW/How-to-Protect-the-Integrity-of-Your-Encrypted-Data-by-Using-AWS-Key-Management&quot;&gt;How to Protect the Integrity of Your Encrypted Data by Using AWS Key Management Service and EncryptionContext - AWS Security Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/awslabs/aws-dynamodb-encryption-java&quot;&gt;GitHub - awslabs/aws-dynamodb-encryption-java: Amazon DynamoDB Encryption Client for Java&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;RDS, S3, and EBS all support server-side encryption.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/AmazonS3/latest/dev/serv-side-encryption.html&quot;&gt;Protecting Data Using Server-Side Encryption - Amazon Simple Storage Service&lt;/a&gt;[&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/blogs/aws/new-amazon-s3-server-side-encryption/&quot;&gt;New – Amazon S3 Server Side Encryption for Data at Rest&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/blogs/aws/new-encryption-options-for-amazon-rds/&quot;&gt;Data Encryption Made Easier – New Encryption Options for Amazon RDS | AWS Official Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSEncryption.html&quot;&gt;Amazon EBS Encryption - Amazon Elastic Compute Cloud&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;AWS DynamoDB does not have the same “checkbox” features related to disaster recovery that other AWS PaaS solutions include. Therefore, any solution that is looking at this managed NoSQL offering needs to manage these features as part of the application infrastructure.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Visual Studio Code: Find, Search and Command Palette]]></title><description><![CDATA[I’ve started using Visual Studio Code for my web projects because it is the right balance between IDE features and lightweight text editor…]]></description><link>https://kevinhakanson.com/2016-02-04-visual-studio-code-find-search-and-command-palette/</link><guid isPermaLink="false">https://kevinhakanson.com/2016-02-04-visual-studio-code-find-search-and-command-palette/</guid><pubDate>Thu, 04 Feb 2016 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I’ve started using &lt;a href=&quot;https://code.visualstudio.com/&quot;&gt;Visual Studio Code&lt;/a&gt; for my web projects because it is the right balance between IDE features and lightweight text editor, multi-platform, and &lt;a href=&quot;https://github.com/Microsoft/vscode/&quot;&gt;open source&lt;/a&gt;. One interesting feature of Code is the lightweight program menu structure with many features exposed via a &lt;strong&gt;Command Palette&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 428px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/da940b827f5eff4723d319d7506782de/47730/VS%2BCode%2B-%2Bmenu.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 10.81081081081081%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAmUlEQVR42iXF3QrBAACAUe/mOTyTe7Es9yuKlZlsTTQzzTYz+2HL/K2kuFAuPsW5OZVrZOMaMuetialI3GKH2NK4Rg75YkhHDqnWn9SaDwLbovDm3PcbkqVBak95HXe/L+GKT5lTyTSRw6RNNhGJlRaJKpCOBJKhQDRokOoShTvH1wcEep/I+O+Nu5T+jHfucXEM1mqPkzXmC6oZhrwsNcrkAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - menu.png&quot;
        title=&quot;&quot;
        src=&quot;/static/da940b827f5eff4723d319d7506782de/47730/VS%2BCode%2B-%2Bmenu.png&quot;
        srcset=&quot;/static/da940b827f5eff4723d319d7506782de/12f09/VS%2BCode%2B-%2Bmenu.png 148w,
/static/da940b827f5eff4723d319d7506782de/e4a3f/VS%2BCode%2B-%2Bmenu.png 295w,
/static/da940b827f5eff4723d319d7506782de/47730/VS%2BCode%2B-%2Bmenu.png 428w&quot;
        sizes=&quot;(max-width: 428px) 100vw, 428px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;When you open the Command Palette, you are presented with a &lt;code class=&quot;language-text&quot;&gt;&gt;&lt;/code&gt; prompt and a list of commands along with their keyboard shortcuts.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bc4a4f9c63b94cfd34c818cda081c206/0a47e/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bnew.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKUlEQVR42p2SSVLDMBREdQLgBJDY8hDHdjxFni3PDlXsgKK4/0EaSdmkWASbRZdU0v9PrZZIdGaIkqtiMT+n6b+UsBSnIACh3ScO0xec+Rta+4HH6BVPG/UQLNjxd2jlG0had6i6CXy8IKt7vBgOnqmjxp3lrpPtIW9HuCEDybMMLeeoylLp5PuIghCe68KgFKZh3JWsOdg2eNPA9zyQoigxjhPatgPnLRoBj+MEgYBSKhoM865M08J+r4GlGaIwugIlrCwr1HWDqqrBGIOu0z9hv8GUmiASIB1Kd8MwIRUnWZatCrYAj0dX9Fkiw7wQMK6AfT+oUW6uue6tO2nMF/kr4LJcMM8zQpEBE/9pbX63GoZR9ZMsyxVALsrcNE3fnJ+slw/peT5+AL1PMvsYwLJlAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - command palette new.png&quot;
        title=&quot;&quot;
        src=&quot;/static/bc4a4f9c63b94cfd34c818cda081c206/fcda8/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bnew.png&quot;
        srcset=&quot;/static/bc4a4f9c63b94cfd34c818cda081c206/12f09/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bnew.png 148w,
/static/bc4a4f9c63b94cfd34c818cda081c206/e4a3f/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bnew.png 295w,
/static/bc4a4f9c63b94cfd34c818cda081c206/fcda8/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bnew.png 590w,
/static/bc4a4f9c63b94cfd34c818cda081c206/0a47e/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bnew.png 600w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Hit backspace to clear the  &lt;code class=&quot;language-text&quot;&gt;&gt;&lt;/code&gt; prompt, it shows &lt;strong&gt;recently opened&lt;/strong&gt; files.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/aabce1442f66eb1b21006e587123c795/d8f62/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bempty.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 14.864864864864865%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAnklEQVR42mXJzQqCQBwEcJ+hrEAvUQcVDcxd1/6Zq7sWfVhBJXTp/V9jWj0ZHX7MMGPt8hyyKKCqCrVWKKXE3mTXVSn7rJWCNn9OBJFyZCL91W1GyhmsoG4RHt5gzQeL8glPt3Dphgm/YCqagWu/2ew8cIIt7hjTCyNqMaMHLCaPSIwwqxBtFCLqaCzjLRwvNtZw/aHkX8Dh+AzzlcAXHq5g7CQ1UxUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - command palette empty.png&quot;
        title=&quot;&quot;
        src=&quot;/static/aabce1442f66eb1b21006e587123c795/fcda8/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bempty.png&quot;
        srcset=&quot;/static/aabce1442f66eb1b21006e587123c795/12f09/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bempty.png 148w,
/static/aabce1442f66eb1b21006e587123c795/e4a3f/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bempty.png 295w,
/static/aabce1442f66eb1b21006e587123c795/fcda8/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bempty.png 590w,
/static/aabce1442f66eb1b21006e587123c795/d8f62/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bempty.png 601w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Start typing without the  &lt;code class=&quot;language-text&quot;&gt;&gt;&lt;/code&gt; prompt, it also looks for &lt;strong&gt;file and symbol results&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cf884f8c19e801fde0539c006d82c500/43142/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bwith%2Btext.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 18.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvklEQVR42o3QzUrDUBCG4dyDNqJQqNactElBe/5DYtKEnrYIlYCL3v+VvJ4GNyKIi4eZxXwDM4kzCqMVzmis1nhrqCL/XzF3dc0YJUkW/YX18Mlj80HWjdzpEzfbwEweSGP/JxVn3Jm0Gpn5kYfqTFKEC3L3zsrv2TRH8lhXVSCzA/eF/eZ+Kz3pa08qw7T4Vh2Zqz2JbQNDW9N3LX37RtfUuPiC2juM3E7nvGxKxPKJ/Hn5gxB5JCZZJiiLgi8KPX7G67Z4IwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - command palette with text.png&quot;
        title=&quot;&quot;
        src=&quot;/static/cf884f8c19e801fde0539c006d82c500/fcda8/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bwith%2Btext.png&quot;
        srcset=&quot;/static/cf884f8c19e801fde0539c006d82c500/12f09/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bwith%2Btext.png 148w,
/static/cf884f8c19e801fde0539c006d82c500/e4a3f/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bwith%2Btext.png 295w,
/static/cf884f8c19e801fde0539c006d82c500/fcda8/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bwith%2Btext.png 590w,
/static/cf884f8c19e801fde0539c006d82c500/43142/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bwith%2Btext.png 599w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;With the  &lt;code class=&quot;language-text&quot;&gt;&gt;&lt;/code&gt; prompt, the Command Palette is for running features in Visual Studio Code, including triggering actions like &lt;strong&gt;Find&lt;/strong&gt; and &lt;strong&gt;Search&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/982e67164ea09bc186b8cc9088609640/32056/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bfind.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.86486486486486%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABOElEQVR42pXRyU7jQBDGcT8AIAQnJKIEL+0sGHdsd3u3E8fghBOamdPMYd7/Kf7UDGe2w0/VanVVqfU5VVXTtB1JmpIZizEGazI5S83zbyhI0wynzA2Pw56urmhKGVjvuC/39E3FZhl+ySpU6CjCZilOlPfY3ZG0Hf/bNiOL5gXfDsxUxCyMP3WrHjDtgbjocc6q31zv/jJrf3DT/uIyOXGuJ3HkQupnzuOJK+mJTn+Ydz9xZg81pp9obEaiNSulUJ5L6HvC/5JA3pe5Jd1qnNtYAulPFHLhegG+H6BkqBeEBEoEH/OkJ5EwhsOI1gmOLWr2hyem6cgwHPiXuulGVs0zXdezXK5kQfiuIFBsNveM40hRlDhavlkUb5Fbm5NklsW2JbUl6/WauzsX1/U+NJ8viCTlONa8AlEo90vx7UVEAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - command palette find.png&quot;
        title=&quot;&quot;
        src=&quot;/static/982e67164ea09bc186b8cc9088609640/fcda8/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bfind.png&quot;
        srcset=&quot;/static/982e67164ea09bc186b8cc9088609640/12f09/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bfind.png 148w,
/static/982e67164ea09bc186b8cc9088609640/e4a3f/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bfind.png 295w,
/static/982e67164ea09bc186b8cc9088609640/fcda8/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bfind.png 590w,
/static/982e67164ea09bc186b8cc9088609640/32056/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bfind.png 602w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Typing &lt;strong&gt;find&lt;/strong&gt; and selecting that Command Palette item brings up the &lt;strong&gt;Find&lt;/strong&gt; dialog in my current open file…&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/edc5ca40121f0f7f921b995c67641090/27b8e/VS%2BCode%2B-%2Bfind%2Bin%2Bfile%2Bwtih%2Btext.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 11.486486486486488%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdUlEQVR42h3MxxWDMBAAUeqwCAsiKgfz3H9lY8Fhjn865xwxRo7jYN93lmVmFkFkZhgn+lEYJuGjerReSblgrMVax2NTSpynwfvIdRk6aVgp9aa1JuZKrZVfzXzDgyI5BMy2cG4ruWTu+6aU2ipvz9T70IYXfzW5OypyN7NpAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - find in file wtih text.png&quot;
        title=&quot;&quot;
        src=&quot;/static/edc5ca40121f0f7f921b995c67641090/fcda8/VS%2BCode%2B-%2Bfind%2Bin%2Bfile%2Bwtih%2Btext.png&quot;
        srcset=&quot;/static/edc5ca40121f0f7f921b995c67641090/12f09/VS%2BCode%2B-%2Bfind%2Bin%2Bfile%2Bwtih%2Btext.png 148w,
/static/edc5ca40121f0f7f921b995c67641090/e4a3f/VS%2BCode%2B-%2Bfind%2Bin%2Bfile%2Bwtih%2Btext.png 295w,
/static/edc5ca40121f0f7f921b995c67641090/fcda8/VS%2BCode%2B-%2Bfind%2Bin%2Bfile%2Bwtih%2Btext.png 590w,
/static/edc5ca40121f0f7f921b995c67641090/27b8e/VS%2BCode%2B-%2Bfind%2Bin%2Bfile%2Bwtih%2Btext.png 836w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;…and as I type into the &lt;strong&gt;Find&lt;/strong&gt; input field, it highlights occurrences in that text of the file.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6577ec9068f2fd2eb1a9446264d00061/a1dd2/VS%2BCode%2B-%2Bfind%2Bin%2Bfile.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 11.486486486486488%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgUlEQVR42h3MQQ7CIBBG4Z5DaosUiUApLQVjjcat97/Qc+Jq/sV8r4shsK4r3nucc0zGcNEaZyeGceQ0aM6jRvU9xlhqbaSUiDEyy81ZbJilUaQR6bTgXp6VUgIMuVT2svN9P3iWxKsWtiUzXydu1v5ha41SiuyNo1U+x13iC8EHflx3O8r9a6BBAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - find in file.png&quot;
        title=&quot;&quot;
        src=&quot;/static/6577ec9068f2fd2eb1a9446264d00061/fcda8/VS%2BCode%2B-%2Bfind%2Bin%2Bfile.png&quot;
        srcset=&quot;/static/6577ec9068f2fd2eb1a9446264d00061/12f09/VS%2BCode%2B-%2Bfind%2Bin%2Bfile.png 148w,
/static/6577ec9068f2fd2eb1a9446264d00061/e4a3f/VS%2BCode%2B-%2Bfind%2Bin%2Bfile.png 295w,
/static/6577ec9068f2fd2eb1a9446264d00061/fcda8/VS%2BCode%2B-%2Bfind%2Bin%2Bfile.png 590w,
/static/6577ec9068f2fd2eb1a9446264d00061/a1dd2/VS%2BCode%2B-%2Bfind%2Bin%2Bfile.png 838w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I can also use the Command Palette to initiate a full text &lt;strong&gt;Search&lt;/strong&gt; across all files.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/317cc9930628b943397e214f4d387aaf/87254/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bsearch.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 11.486486486486488%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAUElEQVR42mOwsrb97+Hp9d/U3OK/qZk5hCYRmwCxhaXVfz19g/8McjYB/7VcI/5LO0T857WN/c9v7P2f39AdiD2Ixrz67v8V7UP+S5m6/wcAgjtAXxxXLeQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - command palette search.png&quot;
        title=&quot;&quot;
        src=&quot;/static/317cc9930628b943397e214f4d387aaf/fcda8/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bsearch.png&quot;
        srcset=&quot;/static/317cc9930628b943397e214f4d387aaf/12f09/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bsearch.png 148w,
/static/317cc9930628b943397e214f4d387aaf/e4a3f/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bsearch.png 295w,
/static/317cc9930628b943397e214f4d387aaf/fcda8/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bsearch.png 590w,
/static/317cc9930628b943397e214f4d387aaf/87254/VS%2BCode%2B-%2Bcommand%2Bpalette%2Bsearch.png 604w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This finds occurrences of text across all files in my project and displays highlighted snippets and counts per file.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 397px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b94e734293c207862c927d59079f7766/4c04a/VS%2BCode%2B-%2Bsearch.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.51351351351351%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVR42o1Ty3KbQBDkS1IpQLxk3sv7JUCWSolkVxRb8cmn3JJD/iKf3Z4ZFUcpOXQtLLszPd2NVlUV+r6H47jw/QBZluHhwYdprrBaWTfB3/l8FMWoqhp5kqBQCtput8P5fIZt2wjDGEVRIghCWJZNe85N8HcuyHfiJEVKyFQOTVFVpVJi6GAYNnh9fcXhcEBd12ia5i7quqHpBozjiA3d9bw1tHmecblcqKOFOE5RljWtCXWOZL2PFEmiSKZc2LmOB+14POJ4epIRuEOeFyjqDms/gq6bd3VcwOdYqoTG1uIoggpcKubCsl00VYmXxwb7NpMGq3+YsxjE5vi+D+375Q3Pf/7CJLqmYSIKQ7w/zfi2bRHSIdO0/oslp4TN0lRRIzj/huUFCKjDNG9RNR1UViCnCNkrZrgSSW7BICIcvTwnl6dpxGE7kKCOaOG6nji23x+E5c+vLeY6h0FMDd2gywtMOm8IeGRdv+5pp9MJlx9v4jIHmqPQdR06isM8EoYWWZqKRgmFNyJnw1jJyiYolUlum6YVt7U4pmASPM8TdmVZSR6ZZU/gwk3byR4/7zctzsS8yRUViqQRE7maEizBVliv10KbhZ2mGfP8CP4tmS0X47x2/YiX/YBfz1QwXuPTZ13GXMaXkdM0lYIcEdaCu3VdLyOM43RlRu/TNAnTE+n9/qVHnQSiK5vCLi/rB1KIm0hpzsLQAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;VS Code - search.png&quot;
        title=&quot;&quot;
        src=&quot;/static/b94e734293c207862c927d59079f7766/4c04a/VS%2BCode%2B-%2Bsearch.png&quot;
        srcset=&quot;/static/b94e734293c207862c927d59079f7766/12f09/VS%2BCode%2B-%2Bsearch.png 148w,
/static/b94e734293c207862c927d59079f7766/e4a3f/VS%2BCode%2B-%2Bsearch.png 295w,
/static/b94e734293c207862c927d59079f7766/4c04a/VS%2BCode%2B-%2Bsearch.png 397w&quot;
        sizes=&quot;(max-width: 397px) 100vw, 397px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So why bother documenting what seems like an obvious feature of a software development tool? I’m trying to understand the best UX for a “global search” feature. We are conditioned to type anything we want into Google and getting a mix of search results, entities in the InfoBox or tools (try &lt;strong&gt;calculator&lt;/strong&gt; or &lt;strong&gt;english to spanish&lt;/strong&gt;). Is one input field the right UX for a product or should commands be split from full text search and quick access to entities? Add the dimension of voice interfaces and speech recognition for more confusion.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[DevOps and the Myth of Efficiency]]></title><description><![CDATA[Ran across this series of posts on DevOps: DevOps and the Myth of Efficiency, Part I | Java Code Geeks DevOps and the Myth of Efficiency…]]></description><link>https://kevinhakanson.com/2015-12-22-devops-and-the-myth-of-efficiency/</link><guid isPermaLink="false">https://kevinhakanson.com/2015-12-22-devops-and-the-myth-of-efficiency/</guid><pubDate>Tue, 22 Dec 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Ran across this series of posts on DevOps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.javacodegeeks.com/2015/12/devops-myth-efficiency-part.html&quot;&gt;DevOps and the Myth of Efficiency, Part I | Java Code Geeks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.javacodegeeks.com/2015/12/devops-myth-efficiency-part-ii.html&quot;&gt;DevOps and the Myth of Efficiency, Part II | Java Code Geeks&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;They draw a distinction between “complicated” and “complex” and make statements like “efficiency is no longer enough.”  Part II refers to the success of “systems thinking” at NASA in the 1960s and ends with the summary below.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;DevOps, Microservices, Cloud, etc are all about &lt;a href=&quot;http://www.javacodegeeks.com/2015/07/the-real-success-story-of-microservices-architectures.html&quot;&gt;making organizations more effective&lt;/a&gt;. It’s laying the groundwork to treat our organizations as complex systems, not machines. This approach lends itself to &lt;em&gt;really understanding&lt;/em&gt; the value of &lt;strong&gt;feedback&lt;/strong&gt;, &lt;strong&gt;failure&lt;/strong&gt;, &lt;strong&gt;learning&lt;/strong&gt;, &lt;strong&gt;autonomy&lt;/strong&gt;, and &lt;strong&gt;emergent behavior&lt;/strong&gt; which are critical for any complex system to exhibit to evolve and stay relevant in a complex, not merely complicated, world.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Next Generation Session Management with Spring Session]]></title><description><![CDATA[I read Next Generation Session Management with Spring Session wondering if there was overlap.  However, it looks more like a cloud native…]]></description><link>https://kevinhakanson.com/2015-12-21-next-generation-session-management-with-spring-session/</link><guid isPermaLink="false">https://kevinhakanson.com/2015-12-21-next-generation-session-management-with-spring-session/</guid><pubDate>Mon, 21 Dec 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I read &lt;a href=&quot;http://www.infoq.com/articles/Next-Generation-Session-Management-with-Spring-Session&quot;&gt;Next Generation Session Management with Spring Session&lt;/a&gt; wondering if there was overlap.  However, it looks more like a cloud native drop-in for your existing Java session aware code with easier ways to hook into “non web requests” like JMS or WebSockets.  It maybe useful for those microservices that still need a key/value session that isn’t tied to a service instance.&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Conclusion&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Spring Session brings innovation back to the enterprise Java session management space making it easy to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Write horizontally scalable cloud native applications.&lt;/li&gt;
&lt;li&gt;Offload the storage of the session state into specialized external session stores, such as Redis or Apache Geode, that provide high quality clustering in an application server independent way.&lt;/li&gt;
&lt;li&gt;Keep the HttpSession alive when users are making requests over WebSocket.&lt;/li&gt;
&lt;li&gt;Access session data from non web request processing code such as JMS message processing code.&lt;/li&gt;
&lt;li&gt;Support multiple sessions per browser making it easy to build a richer end-user experience.&lt;/li&gt;
&lt;li&gt;Control how session ids are exchanged between the client and server making it easy to write Restful API’s that can extract the session id from an HTTP header rather than relying on cookies.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you are looking to move off a traditional heavyweight application server but are held back because you are using the session clustering features of the app server then Spring Session is a great step on the road to lighter weight containers such as Tomcat, Jetty or Undertow.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Chrome Dev Summit 2015 Notes]]></title><description><![CDATA[Chrome Dev Summit 2015 Notes is a summary by Daniel O’Connor of the presentations from the Chrome Dev Summit 2015, along with links to the…]]></description><link>https://kevinhakanson.com/2015-12-09-chrome-dev-summit-2015-notes/</link><guid isPermaLink="false">https://kevinhakanson.com/2015-12-09-chrome-dev-summit-2015-notes/</guid><pubDate>Wed, 09 Dec 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://danoc.me/blog/chrome-dev-summit-2015-notes/&quot;&gt;Chrome Dev Summit 2015 Notes&lt;/a&gt; is a summary by Daniel O’Connor of the presentations from the Chrome Dev Summit 2015, along with links to the videos.  The term “RAIL” appeared in many of the session titles and is defined below:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;RAIL: Response, Animation, Idle, and Load&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Response (100ms): The user feels an instantaneous response because the paint occurred quickly after click.&lt;/li&gt;
&lt;li&gt;Animation (16ms): Visual changes feel smooth and consistent.&lt;/li&gt;
&lt;li&gt;Idle (50ms): User isn’t interacting with the page yet, but they will be soon. This time should be used to proactively schedule work that will be completed in 50ms chunks.&lt;/li&gt;
&lt;li&gt;Load (1s): Getting the first meaningful paint&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[2025 Customer Challenge Demo Experience]]></title><description><![CDATA[For my company’s 2025 Customer Challenge, my finalist pitch included a live demo.  Teams were allowed 3 minutes of pitch time, and I…]]></description><link>https://kevinhakanson.com/2015-10-28-2025-customer-challenge-demo-experience/</link><guid isPermaLink="false">https://kevinhakanson.com/2015-10-28-2025-customer-challenge-demo-experience/</guid><pubDate>Wed, 28 Oct 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;For my company’s &lt;strong&gt;2025 Customer Challenge&lt;/strong&gt;, my finalist pitch included a live demo.  Teams were allowed 3 minutes of pitch time, and I allocated about 30 seconds for this demo.  Things didn’t go exactly as planned, but they did work out in the end. Why take the risk of a live demo?  Because my mentor, said it would be “awesome” - and he was right.&lt;/p&gt;
&lt;p&gt;When my mentor first mentioned the demo idea, I wasn’t sure how I was going to build it.  As luck would have it, I saw an internal posting highlighting an IBM partnership on October 8.  (Luck being defined by the famous quote: “Luck is what happens when preparation meets opportunity”)  IBM Watson Developer Cloud has services for both &lt;a href=&quot;http://www.ibm.com/smarterplanet/us/en/ibmwatson/developercloud/text-to-speech.html&quot;&gt;Text to Speech&lt;/a&gt; and &lt;a href=&quot;http://www.ibm.com/smarterplanet/us/en/ibmwatson/developercloud/speech-to-text.html&quot;&gt;Speech to Text&lt;/a&gt;, including sample code that runs in the browser.  This looked promising given my JavaScript and web development background. I spent the following weekend understanding the sample code and getting those projects running.  Then, a couple of nights of some ugly code hacking and I had a demo to present.&lt;/p&gt;
&lt;p&gt;I’m glad the demo (mostly) worked out, but I’m even happier that I got to write some code and learn something new.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Replacement strategy for Google Search Appliance?]]></title><description><![CDATA[During the introductions of an internal Search Experience Community meeting, a product was mentioned that uses the Google Search Appliance…]]></description><link>https://kevinhakanson.com/2015-09-28-replacement-strategy-for-google-search-appliance/</link><guid isPermaLink="false">https://kevinhakanson.com/2015-09-28-replacement-strategy-for-google-search-appliance/</guid><pubDate>Mon, 28 Sep 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;During the introductions of an internal Search Experience Community meeting, a product was mentioned that uses the Google Search Appliance (GSA) and was looking to move off of that platform onto Elastic.&lt;/p&gt;
&lt;p&gt;Some of our products also use a GSA for searching HTML based “Help” content.  The Technical Communications team authors this content and it is deployed as static content to a web server that is indexed by GSA.  This is technology I haven’t used before, but my understanding is that custom tags are used to control content indexing (see &lt;a href=&quot;http://www.google.com/support/enterprise/static/gsa/docs/admin/70/gsa_doc_set/admin_crawl/preparing.html&quot;&gt;7.0 - Preparing for a Crawl&lt;/a&gt; ):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!--googleoff: all--&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!--googleon: all--&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Searching the internet indicates using a web crawler (e.g., &lt;a href=&quot;http://nutch.apache.org/&quot;&gt;Apache Nutch&lt;/a&gt;) and applying a filter that respects the GSA custom tags could prepare the documents to be inserted into Elastic.&lt;/p&gt;
&lt;p&gt;This seems like a topic where a common solution or platform service could be useful.  We are thinking that Help might just be included in the single UI search box experience - possibly part of federated results, and keyed by detecting “How do I…” style questions.  This is a longer-term goal, but it seems like a relevant topic for an overall search experience audience.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[2025 Customer Challenge]]></title><description><![CDATA[September 18 was the close of my company’s 2025 Customer Challenge, and I got my idea submitted right before the deadline:  Algorithmic…]]></description><link>https://kevinhakanson.com/2015-09-21-2025-customer-challenge/</link><guid isPermaLink="false">https://kevinhakanson.com/2015-09-21-2025-customer-challenge/</guid><pubDate>Mon, 21 Sep 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;September 18 was the close of my company’s &lt;strong&gt;2025 Customer Challenge&lt;/strong&gt;, and I got my idea submitted right before the deadline:  &lt;strong&gt;Algorithmic Business Development Utilizing Intelligent Agents&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The premise of the innovation challenge was about customer needs in the year 2025:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;How can [we] adapt and grow to meet the needs of our customers in 2025?&lt;br&gt;
&lt;em&gt;What are the products, services and capabilities that these business professionals will expect in the future?&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;Sign Up and Register&lt;/strong&gt; page required me to provide a team name and a logo; so I went for &lt;strong&gt;Clippy.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 250px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5ad8de60e6e8379eae9897c59276d01e/63868/clippy.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 97.97297297297297%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADEklEQVR42pVUW1faQBDm/z/0qfacPuANES2oICmCl4oiNwUUBVHBCxoCiAEEgiGQfJ3dAMVjrTbnzJmdy34z3+xuLL2eioeHDCqVMy7Vagbl8hkeH7MkGW5Pxkw7A0k65TlsXaud054sul0FlnZbxuWlE9msA4nEHC4ulpFMziKfd+HszM7tXG6ZYjNIpea4//Z2jdssFotZ0W4HSXYhyyIs3W4DhYIHxeJPSnZTpU2q7sf19Tru730QxQ3c3Hipmx0C8vJcJldXbvJtE+gKjz8/76PZlGBRlDoBrdFmE1CSAgQaGOpNvkkUfZQc5AWKRYHHmcjyL5RKfqK8TR3uo9GQWId1nOdcRMHOK8lyEEAahnFM+oR0ivQx6eTYZ/qPeWzk63bDBFhiM3zCc3MPhn4ETTvkSTqtGQDTQGoIlhqCMz2KJ4a+CcBBrw4hJKBQOUSlJOAq7+E0k8kFmpWbDmwV8fgct4+ObMTEhrs7AdHoDE5Pl+ig7HRoLijKgUm503nCY20PfT1JMxKItocHWUVVjfJ1ux0aC7M1LcbXqhpBp2PmvqLcaoU4FQaWyzkpGBnO6s/M2FxNm9FPjEfBNPObHZbYKcsoikF0XpLoqYcYDE6oepi6iFNSmE53j2vWyctLbKLQpKSpiahJWe3KcO+sIJHzI5WYRuF6Dem0nS46m4+N5jaPSMRKM7PSzOwEGiJGu8PLbIqi7NELCuDpiTrUtD7arSpVqFLgkTox10wrSoXmyirfE1CN7CpdYGksrVaZACtcms0ysdJgwQefLNfQ72v0Zuv0FK9pJPq7uYZhmIBs8TfRdXNzrVaDIASQyeaJ9ilubnOkY0RT5HGWx/IJ6d8dmkmgZ1aBV9jC/LwDs/Yp7IYX4fJ8hyjdvcpj34eU2dcfGNgIbMMjOLAVFPBQ3kdRimGg99/kfgpQ1zU4fixhdd2FRecC4iknSpWTEY//A9S0LkriNry+b7BOf8XM7FesC18gN27e0P0UYKsl0q/sANncBgSfDTu7Uyjc+t/N/xTlETXDUPkdHQzUdwF/A+c0xZQeF1IpAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;clippy.png&quot;
        title=&quot;&quot;
        src=&quot;/static/5ad8de60e6e8379eae9897c59276d01e/63868/clippy.png&quot;
        srcset=&quot;/static/5ad8de60e6e8379eae9897c59276d01e/12f09/clippy.png 148w,
/static/5ad8de60e6e8379eae9897c59276d01e/63868/clippy.png 250w&quot;
        sizes=&quot;(max-width: 250px) 100vw, 250px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;When thinking of what technologies would be there in 2025 (10 years into the future), I started wondering what “staples” of technology were not around 10 years ago.  Below is a partial list I constructed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;2005 YouTube launch (acquired by Google in 2006)&lt;/li&gt;
&lt;li&gt;2006 Twitter launched and term “hash tag” appears&lt;/li&gt;
&lt;li&gt;2006 Amazon Web Services (AWS)&lt;/li&gt;
&lt;li&gt;2006 Tesla Motors Roadster prototype (general production in 2008)&lt;/li&gt;
&lt;li&gt;2007 Dropbox founded (launched in 2008)&lt;/li&gt;
&lt;li&gt;2007 iPhone&lt;/li&gt;
&lt;li&gt;2007 Amazon Kindle&lt;/li&gt;
&lt;li&gt;2007 Netflix introduces streaming&lt;/li&gt;
&lt;li&gt;2008 first commercially available smartphone running Android&lt;/li&gt;
&lt;li&gt;2008 Fitbit Classic&lt;/li&gt;
&lt;li&gt;2008 crowdfunding via Indigogo (with Kickstarter in 2009)&lt;/li&gt;
&lt;li&gt;2009 Bitcoin introduced (first decentralized digital currency)&lt;/li&gt;
&lt;li&gt;2009 Google began privately developing self-driving cars&lt;/li&gt;
&lt;li&gt;2010 UberCab launched&lt;/li&gt;
&lt;li&gt;2010 SRI launches Siri on iPhone 3GS / Apple acquires Siri&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Building this list helped me brainstorm on ideas that felt worthy of 2025 needs vs. something we could deliver in the next couple of years (or even today).  Will this push my idea to the top of the list?  I will just have to wait and see.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Azure "Search-as-a-Service"]]></title><description><![CDATA[Microsoft Azure Search became generally available in March.  To learn more, I watched some of the videos, including: Azure Search 10…]]></description><link>https://kevinhakanson.com/2015-06-03-azure-search-as-a-service/</link><guid isPermaLink="false">https://kevinhakanson.com/2015-06-03-azure-search-as-a-service/</guid><pubDate>Wed, 03 Jun 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Microsoft &lt;a href=&quot;http://azure.microsoft.com/en-us/services/search/&quot;&gt;Azure Search&lt;/a&gt; became generally available in March.  To learn more, I watched some of the &lt;a href=&quot;https://azure.microsoft.com/en-us/documentation/videos/index/?services=search&quot;&gt;videos&lt;/a&gt;, including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Azure Search 101 - Getting started with Azure Search with Liam Cavanagh&lt;/li&gt;
&lt;li&gt;Azure Search 102 - Searching and Mapping Spatial Data with Liam Cavanagh&lt;/li&gt;
&lt;li&gt;Azure Search 103 - Azure Search Suggestions with Liam Cavanagh&lt;/li&gt;
&lt;li&gt;Azure Search 104 - Multilingual Azure Search with Liam Cavanagh&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Azure Search is a fully-managed search-as-a-service implementation, running in the Azure cloud, leveraging Microsoft’s deep knowledge of natural language processing and adds geospatial search.  It uses familiar REST API calls and offers a .NET SDK.  The marketing says this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This release offers enhanced support for more than 50 languages. It uses the same technology that is used by Microsoft Office and Bing, and is built on our many years of experience with natural language processing.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;However, a question from the Azure Forum asks:  &lt;a href=&quot;https://social.msdn.microsoft.com/Forums/azure/en-US/cc86f15f-4e39-44a1-9e81-1bdcb63c8801/azure-search-service-hosted-elastic-search?forum=azuresearch&quot;&gt;Azure Search Service = Hosted Elastic Search?&lt;/a&gt;  With snippets from the answer including “Azure Search uses Elasticsearch as an underlying full-text search engine” and “ElasticSearch is great but we see it as an implementation detail.”&lt;/p&gt;
&lt;p&gt;It turns out that the years of natural language processing resulted in switching out the Lucene analyzers: e.g.  &lt;code class=&quot;language-text&quot;&gt;&quot;analyzer&quot; : &quot;en-lucene&quot;&lt;/code&gt; vs &lt;code class=&quot;language-text&quot;&gt;&quot;analyzer&quot; : &quot;en-microsoft&quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The goals of this research were to understand what search-as-a-service means: What are the key features and what implementation details to watch out for?  The documentation reinforced the same message I have been hearing about Elastic:  Don’t just drop in JSON - you need to understand your data and structure your indexes.  Also, don’t use as a primary data store because you will need to make changes and re-index (which may require a reload).  On the topic of document level security, the Access and Control session of the &lt;a href=&quot;https://msdn.microsoft.com/library/azure/dn798933.aspx&quot;&gt;Azure Search Overview&lt;/a&gt; states “There is no per-user authentication or authorization model. However, you can use &lt;code class=&quot;language-text&quot;&gt;$filter&lt;/code&gt; to restrict access by user identity” which is consistent with other sources on Elastic.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Global Search Box as Question Answering]]></title><description><![CDATA[During a product design session, we had a discussion on Global Search covering “what search is” and “what search should be.”  I used the…]]></description><link>https://kevinhakanson.com/2015-06-01-global-search-box-as-question-answering/</link><guid isPermaLink="false">https://kevinhakanson.com/2015-06-01-global-search-box-as-question-answering/</guid><pubDate>Mon, 01 Jun 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;During a product design session, we had a discussion on Global Search covering “what search is” and “what search should be.”  I used the following example of question answering as where I see “global search” heading:&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;I can search Google for &lt;strong&gt;US population&lt;/strong&gt; and it will give me an answer&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/148a4706e6bad2d0e412131f5fa5c119/4c7dc/Google%2B-%2BUS%2Bpopulation.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwElEQVR42l1SSXLUQBCcd3Pkxg848AMu/gOOAEdAgA3B2Mw+lkaLtbbU6lYvSldpLE0MpUi1lqqsrGURRi+IkwR5miJJUiilRnRdN4KfpZTzeXPX4Bg36KRA3QhkWYYoiig2wcP9HywG0OUcTF1CU5DWeiTq+36EMWZ+BvlecDbvPXrdwXoHqTQW0w9DAUzWv52OkvxvA/FI7SGkgzIa2pKvdXhcn5BtjzBZTgqHc7aqqhCG4YjT6YQ4juEo+0TEpnqP+4PFjz3wa/eEp+evdD7g0/uP+PLuA4LPNxeFXKYQAk3Tom1bKHrnZExZVjVEXaHTDt+3Gj8DJizxe3WH2+UKy78lvt2u8bhML4TWWkxq+e7fyuupclYsRD1+20Yd/gUN1pHCJiyxCgU2mcWusIhqe01orCeSAS0RtaTGUH9YI/d16unxsMduu8Jht0EYBDjstwiOe/RKYqDBzIQc0NuB+nae3ODt6MB6HSejabPxagXBC/KiRFEUM3htlNbXCq018ETMhAxH7FMbzsMZUJYV0jSnnezmtfHz8IbrofCkeXl5bRhTXxlctifFaSIRPNfkb0aiPC8QUY9bqai6Aa9ceADdstRRcAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Google &amp;quot;US population&amp;quot;&quot;
        title=&quot;&quot;
        src=&quot;/static/148a4706e6bad2d0e412131f5fa5c119/fcda8/Google%2B-%2BUS%2Bpopulation.png&quot;
        srcset=&quot;/static/148a4706e6bad2d0e412131f5fa5c119/12f09/Google%2B-%2BUS%2Bpopulation.png 148w,
/static/148a4706e6bad2d0e412131f5fa5c119/e4a3f/Google%2B-%2BUS%2Bpopulation.png 295w,
/static/148a4706e6bad2d0e412131f5fa5c119/fcda8/Google%2B-%2BUS%2Bpopulation.png 590w,
/static/148a4706e6bad2d0e412131f5fa5c119/efc66/Google%2B-%2BUS%2Bpopulation.png 885w,
/static/148a4706e6bad2d0e412131f5fa5c119/c83ae/Google%2B-%2BUS%2Bpopulation.png 1180w,
/static/148a4706e6bad2d0e412131f5fa5c119/4c7dc/Google%2B-%2BUS%2Bpopulation.png 1599w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I can also search for &lt;strong&gt;2014 google revenue&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7dd90805fc6bedd8149a7c9a8b0352c7/2215f/Google%2B-%2Brevenue.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABfElEQVR42nVS7XKCQAzk5fscfYQ+Qf+3nbGggALWih+gdtTK18EB5zahnkOnmpmdkL3cJuFihOEWfuAj2sTY7XYIwxDL5RKr1QpZlqGua1RVBSll5zU4/uUk6irD4/MJD08CRlWWSLMCJXlBAmmaXiGEuArweV+MY4akgnUtccoqHFIJA9qUgtpGaC5JuiO+xF0WRXEVbJqmK8acont9M/pBKQpKLJDneZeswYL37Hw+3xfU/4u9HpEF+Zu7YmieJ9CF+qJGn+BHsSwLnudhMBjA931MJhO4rgvbtjEa2RiPxx0cx+nO4zi+LxhFEV7fXkjAwezzg7yN6TRAQFswHJowzQEVfO/AseOM6PGS/4LajocE4XyD4z6FrBQqoSDytvOypLjkmB6koNEF+5a6uTXyJdjuE9hBBC+MYQVzDP0l3Nkapj+H5S1gesQFC9jTNebRF2bTPZLv4lfhfKPDVjWoW9lBtrQeir5VfeFolS5nDXEN5zYSSZL8WZ0f+1b+NioF/ZYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Google &amp;quot;2014 google revenue&amp;quot;&quot;
        title=&quot;&quot;
        src=&quot;/static/7dd90805fc6bedd8149a7c9a8b0352c7/fcda8/Google%2B-%2Brevenue.png&quot;
        srcset=&quot;/static/7dd90805fc6bedd8149a7c9a8b0352c7/12f09/Google%2B-%2Brevenue.png 148w,
/static/7dd90805fc6bedd8149a7c9a8b0352c7/e4a3f/Google%2B-%2Brevenue.png 295w,
/static/7dd90805fc6bedd8149a7c9a8b0352c7/fcda8/Google%2B-%2Brevenue.png 590w,
/static/7dd90805fc6bedd8149a7c9a8b0352c7/efc66/Google%2B-%2Brevenue.png 885w,
/static/7dd90805fc6bedd8149a7c9a8b0352c7/c83ae/Google%2B-%2Brevenue.png 1180w,
/static/7dd90805fc6bedd8149a7c9a8b0352c7/2215f/Google%2B-%2Brevenue.png 1548w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I can even ask Google about revenue in the form of a question: &lt;strong&gt;how much money did google make in 2014&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b62c6a25c3a21fe1e6dca78e40826bc1/c0566/Google%2B-%2Bhow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.4054054054054%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABtElEQVR42m2T3ZKiMBCFff+rvdwX2Yt9AqtcyxEYRBFHFkFREQj/IHC2Ow6jzpqqr5JOOud0SBht7CPW6xUcz8XpdILrupLdbgfbtiWe58k4TVPUdY2qqr4ouc8Ffv4W+PErx6gsS8QiRVEUKJKENiUQQkiiKEIcxxIWy/P8LkT7OGaDpqlxCCvsLzVGGFrfozvu0ZYF6qahpOYzuZFm1+tVCg1zPGaTtm3x2EY9CQ2UXCW5Zlkm4Qpk5cTdt8erNmiMHifZmY/yneGIXB2LO86OvrMn4XEci3uFj658KYqiQNd1qKqK2Wwme8uyYBgGjscjkiTFcrmEaZrEmuaXOJ/PX1U+CfKCqmrQNA3j8RiTyQTKXMEbMf0zpWocMj3T+juZLghD5h8O/mvB/d6Fqs2xMN6hqG/YbjeEhc2HRRvnCMOAjl7RM1vL6pjVyoT4/8i34BII2BsfUVjifEqRxA0y0SJPO5RZi7q6JfIzCoIAweVCJuHTTd8EP4M4LbD660P/cGBsPSimjelig8nChL514PsRbb6+vOEnwaF1XYeubyV93z3RDX13g0X41vkH4HgQ/AeDYkafJpJWpgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Google &amp;quot;how much money did google make in 2014&amp;quot;&quot;
        title=&quot;&quot;
        src=&quot;/static/b62c6a25c3a21fe1e6dca78e40826bc1/fcda8/Google%2B-%2Bhow.png&quot;
        srcset=&quot;/static/b62c6a25c3a21fe1e6dca78e40826bc1/12f09/Google%2B-%2Bhow.png 148w,
/static/b62c6a25c3a21fe1e6dca78e40826bc1/e4a3f/Google%2B-%2Bhow.png 295w,
/static/b62c6a25c3a21fe1e6dca78e40826bc1/fcda8/Google%2B-%2Bhow.png 590w,
/static/b62c6a25c3a21fe1e6dca78e40826bc1/efc66/Google%2B-%2Bhow.png 885w,
/static/b62c6a25c3a21fe1e6dca78e40826bc1/c83ae/Google%2B-%2Bhow.png 1180w,
/static/b62c6a25c3a21fe1e6dca78e40826bc1/c0566/Google%2B-%2Bhow.png 1544w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;However, when I asked a question requiring a computation, I got search results and not an answer:  &lt;strong&gt;2014 google revenue per US population&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/822be15f2b50403ba3b9f249310787de/c0566/Google%2B-%2Brevenue%2Bper%2BUS.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUElEQVR42n2S2W6DMBBF+f6+90f60k/oWxSpjbIBAcySpDFgg9lCuJ1xS1RVUUe6mvHIvmN8cHa7DaIkwel4RBAGCIIAURQhjmMIIRCGoe0ZY9D3Pbqus7rXlFuj8Pyq8PRi4OSFos0NjCqhyhIFSSuFoiigtUae51BKWUM2aNvWmjVNY+thGDDQWpxbBKcODn5iKiRutIEnjuNoh3CuqhrX69Ua8GE2+e5XtjdNE36Hww1WW0o0uqRNhlTTbRpb932H/2I+P8uZB5w/W0RC05uVSLMaSVJBxBrZsUaaGMoGSVrTgNEevN1uVn/Dma8sCMrK8/Hh+lisV1i5HpbbLd7el1hutrZerNcICRTDYmhZltlneGiYJjHR9JHEAr7vwfP2cN29zbxmRfQXsNHhcKC1/9hwLpji5XIhSUtXyvxOmrOUkmhr+7kMhcWw/kL5Ao5cY2j0aqamAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Google &amp;quot;2014 google revenue per US population&amp;quot;&quot;
        title=&quot;&quot;
        src=&quot;/static/822be15f2b50403ba3b9f249310787de/fcda8/Google%2B-%2Brevenue%2Bper%2BUS.png&quot;
        srcset=&quot;/static/822be15f2b50403ba3b9f249310787de/12f09/Google%2B-%2Brevenue%2Bper%2BUS.png 148w,
/static/822be15f2b50403ba3b9f249310787de/e4a3f/Google%2B-%2Brevenue%2Bper%2BUS.png 295w,
/static/822be15f2b50403ba3b9f249310787de/fcda8/Google%2B-%2Brevenue%2Bper%2BUS.png 590w,
/static/822be15f2b50403ba3b9f249310787de/efc66/Google%2B-%2Brevenue%2Bper%2BUS.png 885w,
/static/822be15f2b50403ba3b9f249310787de/c83ae/Google%2B-%2Brevenue%2Bper%2BUS.png 1180w,
/static/822be15f2b50403ba3b9f249310787de/c0566/Google%2B-%2Brevenue%2Bper%2BUS.png 1544w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;When I ask WolframAlpha that same question, I got an answer:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0b5f1eef2099395704d6543048e588c0/0955e/WolframAlpha.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC5ElEQVR42pVU25LTOhDM//8RxcupA5ziAEUtD7ssm9s6zmVtx/HdkizZTY8ch00KHlBVZyYaqTXTM8kM5zUMg7dWGyRv3kI//CCeYJ5WsNsD+miB/nCPoU7hVIO+rYG+x+2aodcMKDIaoYMzDZL3/8Cu53Dz7+jO6HffMOy+YMgCuDKCK14w6AL+vuN919I3mNnkM47PnxAt3iENPuK4/oAivsMx/B/x5iO66gegV0C9BBqxC6B6IuYjykfuM7b9F4j+Y4YqwhB/hXv5ip5Ert7BNYcR1R4D49DxNcyRxAGQfANykmZ8gHehU2bIEtvyCF1nUPUJRjdntOhMC9VW/rvW9WhVTZ+2LXnnBFVllKkay5aSq/yAx/s7LOf3WC8esFk/XvC8+o7gjG0wp+Xe8sEjYDw/vaDKYzaSWg4ktCVmXafRdcrDMKMrSKbeTmiu4nLHWu19xcyNUZilZY3gECHYv2AbxVinBVZxhn18RN4aZI2m1bQK+dmfIHt+//y9oM8MLRRnT5kbcE+b7q9gyDWzzqFU8rpCyVfgB3z4Zcep/zW5w/BH9Bz0WU+nrhqsFmusl88In0OKHyA75YjiCNvtFmVZIo5jj9+t6emRkB/OWrQNx6dpEQYhO77ELtwhiiKEYYiiKFiOoejm8hP93fKEHcmUdVNxcJTAcs9Sj67rPEn/6jcrhLeoFZtSt6OGjoeTU4Y0PaEsSp9NVVUXMrGTL5AHb1dFwtNEKC8IgdcoSVhmjCQ5euI8z71+BZHnhfdLnhVS0X7CVcmud9TQoeCFqqjR6Q51XfuDkpE8Zm3nSaSa/tzN1yX7PkhsakrHGZo/zrHf7KE4PpKt6CgkWmt/cL/fY7PZeCvN8pmzCkHDhg6XsRFCalScJMOKfwbqQiSk08Esy/xF2ZtinR31lfPXhMwwiRPE1C+TBh1TNim9EAoS6hsEgYdk9fpffiIbNRSBz5rcjsV0SDBJ8DqbKwy9j/0EMU8JF1ipfZYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;WolframAlpha &amp;quot;2014 google revenue per US population&amp;quot;&quot;
        title=&quot;&quot;
        src=&quot;/static/0b5f1eef2099395704d6543048e588c0/fcda8/WolframAlpha.png&quot;
        srcset=&quot;/static/0b5f1eef2099395704d6543048e588c0/12f09/WolframAlpha.png 148w,
/static/0b5f1eef2099395704d6543048e588c0/e4a3f/WolframAlpha.png 295w,
/static/0b5f1eef2099395704d6543048e588c0/fcda8/WolframAlpha.png 590w,
/static/0b5f1eef2099395704d6543048e588c0/efc66/WolframAlpha.png 885w,
/static/0b5f1eef2099395704d6543048e588c0/0955e/WolframAlpha.png 901w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Thoughts on SaaS Customization]]></title><description><![CDATA[When searching for a definitive reference for SaaS customization, I found this CommitStrip Just an exception they said… comic:  On a more…]]></description><link>https://kevinhakanson.com/2015-04-30-thoughts-on-saas-customization/</link><guid isPermaLink="false">https://kevinhakanson.com/2015-04-30-thoughts-on-saas-customization/</guid><pubDate>Thu, 30 Apr 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;When searching for a definitive reference for SaaS customization, I found this CommitStrip &lt;a href=&quot;https://www.commitstrip.com/en/2015/04/07/just-an-exception-they-said/&quot;&gt;Just an exception they said…&lt;/a&gt; comic:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c9537dff08d40a03e06f0be950150f7f/fdf4b/commitstrip.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 97.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIDAQT/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAdqjrOyi+uRaB//EABoQAAMAAwEAAAAAAAAAAAAAAAABAgMRExL/2gAIAQEAAQUCdNvpoj35piqSXOuUHDELFCP/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAeEAABBAEFAAAAAAAAAAAAAAAAAQIRMiEQQVFhcf/aAAgBAQAGPwKGkb+mZHYROxJ40qUQqf/EABwQAAIDAQEBAQAAAAAAAAAAAAABESExQVGRof/aAAgBAQABPyFuZ7c2NowT6TY5M59LEX2PwcovoxGzel6JGIqDCQ//2gAMAwEAAgADAAAAEI/nPP/EABgRAAIDAAAAAAAAAAAAAAAAAAERABAh/9oACAEDAQE/EEBsV//EABYRAAMAAAAAAAAAAAAAAAAAAAEgIf/aAAgBAgEBPxClP//EAB0QAQADAQACAwAAAAAAAAAAAAEAESExQVGRseH/2gAIAQEAAT8Qu7pwWh821MwJNAHoqHlms8PiDd6lO63q4+4eRHZAWB2MuUW6T9geS3hdvsVtjwWZ6hqEFt1dn//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;CommitStrip&quot;
        title=&quot;&quot;
        src=&quot;/static/c9537dff08d40a03e06f0be950150f7f/1c72d/commitstrip.jpg&quot;
        srcset=&quot;/static/c9537dff08d40a03e06f0be950150f7f/a80bd/commitstrip.jpg 148w,
/static/c9537dff08d40a03e06f0be950150f7f/1c91a/commitstrip.jpg 295w,
/static/c9537dff08d40a03e06f0be950150f7f/1c72d/commitstrip.jpg 590w,
/static/c9537dff08d40a03e06f0be950150f7f/fdf4b/commitstrip.jpg 668w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;On a more serious note, I did find a SaaS Maturity Model from Microsoft (circa 2006) with four levels.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Ad Hoc/Custom&lt;/li&gt;
&lt;li&gt;Configurable&lt;/li&gt;
&lt;li&gt;Configurable, Multi-Tenant-Efficient&lt;/li&gt;
&lt;li&gt;Scalable, Configurable, Multi-Tenant-Efficient&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;/c16a29978a30079d8977969a044bd83f/saas-maturity-model.gif&quot; alt=&quot;SaaS Maturity Model&quot;&gt;&lt;/p&gt;
&lt;p&gt;In the “Customization” vs. “Configuration” question, use of “Customization” can imply changes to source code.  Looking across a set of software products in my company, I found a couple broad areas of customization being done.&lt;/p&gt;
&lt;h2&gt;User Interface / Branding&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Corporate “look &amp;#x26; feel”
&lt;ul&gt;
&lt;li&gt;Graphics/logos, fonts, colors, etc.&lt;/li&gt;
&lt;li&gt;Field labels&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Localization&lt;/li&gt;
&lt;li&gt;Jurisdiction&lt;/li&gt;
&lt;li&gt;Form / Screen Layout&lt;/li&gt;
&lt;li&gt;Screen Flow&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Workflow / Business Rules&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Business Logic
&lt;ul&gt;
&lt;li&gt;Show / Hide&lt;/li&gt;
&lt;li&gt;Required / Not Required&lt;/li&gt;
&lt;li&gt;List Values&lt;/li&gt;
&lt;li&gt;Validation Rules (simple, intra-field, cross-entity)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Accommodate differences in workflow steps, participants, triggers, etc.
&lt;ul&gt;
&lt;li&gt;e.g. require two approvals when more that $X&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Data Model Extensions&lt;/h2&gt;
&lt;p&gt;Going deeper into Data Model Extensions for relational databases, I found both the Fixed Extension Set and Custom Extensions documented by Microsoft.,&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/f81f6ec467ee18af49ea1cc173046b2f/fixed-extension-set.gif&quot; alt=&quot;Fixed Extension Set&quot;&gt;
&lt;img src=&quot;/0a8cb57e3f0e84a0d27a4fc99fe9318a/custom-extensions.gif&quot; alt=&quot;Custom Extensions&quot;&gt;&lt;/p&gt;
&lt;p&gt;Teams cautioned me against using XML or JSON field types to hold sets of changes as data merge and replication conflicts will occur and be hard to resolve.&lt;/p&gt;
&lt;p&gt;Any Data Model Extension implemented by a customer will also require:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;a corresponding extension to the business logic (so that the application can use the custom data)&lt;/li&gt;
&lt;li&gt;an extension to the presentation logic (so that users have a way to enter the custom data as input and receive it as output)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The configuration interface that you present to the customer should therefore provide mechanisms for updating all three, preferably in an integrated fashion.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[WebStorm 10 and TypeScript support]]></title><description><![CDATA[WebStorm 10 now has updated TypeScript support including a built-in TypeScript 1.4 compiler with TypeScript 1.5 support already in the…]]></description><link>https://kevinhakanson.com/2015-04-10-webstorm-10-and-typescript-support/</link><guid isPermaLink="false">https://kevinhakanson.com/2015-04-10-webstorm-10-and-typescript-support/</guid><pubDate>Fri, 10 Apr 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;WebStorm 10 now has updated &lt;a href=&quot;https://www.jetbrains.com/webstorm/whatsnew/#typescript&quot;&gt;TypeScript support&lt;/a&gt; including a built-in TypeScript 1.4 compiler with TypeScript 1.5 support already in the WebStorm 10.0.2 EAP.  To test this out, I opened a simple, sample project where I was playing with JavaScript decimal libraries to understand how certain compiler errors are reported.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 287px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b791b76eb4913edb3b8969b8f986f7f3/480fd/Screen%2BShot%2B2015-04-10%2Bat%2B11.29.25%2BAM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.97297297297297%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACf0lEQVR42pVTTW/TQBD1P+CEOJSfgcSZc0+cQEjAHSEhToBASAghfgBwQSA4IKBwpRSQQkvS4KaJ3dpN1h+xHSdxajttIXFip23aPMYblRNtw0hPb8cevZ19OyvMLZTweaGIbxkRXzI/8T0nI7uk4oe4iqyoQpQNiJLOeUkipLk85sKKiUxO4vVZUeHfhA+zWczMLuLdx694MzOLuXkZiyWL87zIIOshZOZD1nxIbAxZC4gDrOhtZBZV5IomsssGSmUPQms9wFZTgyIVkM0vo1CQkM8X4PshGs0WLLtG7MFrtVB363BdF1atjnqjCctJ8wYa9TT30IsTCKDobPrwXQZjNQ9DN8GYhqjbRTsMUK+78JpNtLwxkjhGr99DksSEhPP2IMGAMCItLtjv97ETdxCFFiy9jDVVwXrLg1U1oLMKbaKhWjXh2Db29vdxVHDBIdV0oz46nS42XAWmXoGsMLA1FRXqNmy3efFoNMI+tZFqcv4HhBMXDJy7U8PZGyrOPyhi+n4D0/dsnLlu4tSlCk5eXCVew9QVDVOXNZy+qh8J4eaLNh6+J7xt4eknH4+eLeHxcwl3Xzq49sTCrVcBbr8OiH2+Pg7CwVHSSN2xV0S4hkJ+MYTrDnZ3tsfmjDBRcMFdMnFvj/whE3LMA7Nq0Oi2HRoPy3ZQLEqIegn3KK0dUu1hEA6Uu70YqtmAUbVh020aho6a4/B11I3+nmKiDofDXWz97kJUTBoVi0akykckCHwEYUj/h5g0uODW5gZ+dSKUmIuyWuGjYlvHz9yhgna5DF1RoBJ0VoZJHdo648IVGnLHqf2fYC+KEPfTJ9VHHKdIn9OAnlnC8wGtJxX8A+9dOW5twy8AAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;WebStorm Project Files&quot;
        title=&quot;&quot;
        src=&quot;/static/b791b76eb4913edb3b8969b8f986f7f3/480fd/Screen%2BShot%2B2015-04-10%2Bat%2B11.29.25%2BAM.png&quot;
        srcset=&quot;/static/b791b76eb4913edb3b8969b8f986f7f3/12f09/Screen%2BShot%2B2015-04-10%2Bat%2B11.29.25%2BAM.png 148w,
/static/b791b76eb4913edb3b8969b8f986f7f3/480fd/Screen%2BShot%2B2015-04-10%2Bat%2B11.29.25%2BAM.png 287w&quot;
        sizes=&quot;(max-width: 287px) 100vw, 287px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I have a TypeScript source code file with intentional compile errors named &lt;code class=&quot;language-text&quot;&gt;bad.ts&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// &amp;lt;reference path=&quot;decimal.d.ts&quot; /&gt;  &lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; a&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;Decimal&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;Decimal&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; c&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;Decimal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
c &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It uses the following &lt;a href=&quot;https://typescript.codeplex.com/wikipage?title=Writing%20Definition%20%28.d.ts%29%20Files&quot;&gt;type definition file&lt;/a&gt; which disallows direct assignment of JavaScript numbers or using the &lt;code class=&quot;language-text&quot;&gt;+&lt;/code&gt; operator.  The &lt;code class=&quot;language-text&quot;&gt;Decimal&lt;/code&gt; constructor and &lt;code class=&quot;language-text&quot;&gt;plus()&lt;/code&gt; method are required to be used instead.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Decimal&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Decimal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Decimal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Decimal&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Decimal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;bad.ts&lt;/code&gt; generates these compile time errors:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d3588e25c4f8b969a3e5d20f166015ea/63ec5/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 13.513513513513512%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAt0lEQVR42l2M22qDQBRF8/+/0uA/mNrxMgGT1GAaQXG0OHY0o8U8htWJD3nohsU+HNhrUxQF53PObvfOdvuG53n4vk8URcRxjBAhn1nG1/VKXdfUSq1dVdVKWZavfrJpvjumcSALPzieTuylRMoEmSTEoSBNU4IgIBSCPL9wPByo3FA5sXJi3XW0bbvSNMoJtYHHg8X8YO3EbRwZHcMw8DvN7mfp+x6tNcYYd2vszTLPM/dl4X/+AMTy2AU4K3JkAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;WebStorm Current Errors&quot;
        title=&quot;&quot;
        src=&quot;/static/d3588e25c4f8b969a3e5d20f166015ea/fcda8/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png&quot;
        srcset=&quot;/static/d3588e25c4f8b969a3e5d20f166015ea/12f09/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png 148w,
/static/d3588e25c4f8b969a3e5d20f166015ea/e4a3f/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png 295w,
/static/d3588e25c4f8b969a3e5d20f166015ea/fcda8/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png 590w,
/static/d3588e25c4f8b969a3e5d20f166015ea/63ec5/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png 812w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;What is the right way to use this library?  Here is some sample code that avoids the compile time errors.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// &amp;lt;reference path=&quot;decimal.d.ts&quot; /&gt;  &lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; a&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;Decimal&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;Decimal&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; c&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;Decimal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Decimal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Decimal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
c &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
c &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;0.2&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
c &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For more background on why I find this interesting, you can read my earlier blog post: &lt;a href=&quot;../2015-01-08-solution-to-javascripts-01-02-030000000000000004-problem&quot;&gt;Solution to JavaScript’s 0.1 + 0.2 = 0.30000000000000004 problem?&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[IP Address as a factor?]]></title><description><![CDATA[On a call we “discussed” if IP address could be considered a second factor, including the spoof-ability of IPs. Some excerpts from a…]]></description><link>https://kevinhakanson.com/2015-04-07-ip-address-as-a-factor/</link><guid isPermaLink="false">https://kevinhakanson.com/2015-04-07-ip-address-as-a-factor/</guid><pubDate>Tue, 07 Apr 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;On a call we “discussed” if IP address could be considered a second factor, including the spoof-ability of IPs.&lt;/p&gt;
&lt;p&gt;Some excerpts from a Security Stack Exchange question: &lt;a href=&quot;http://security.stackexchange.com/questions/12701/can-ip-address-be-a-component-of-2-factor-authentication&quot;&gt;network - Can IP address be a component of 2-factor authentication? - Information Security Stack Exchange&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Although IP addresses are trivial to spoof, TCP connections are not and SSH is a protocol built on top of TCP. The IP address of a TCP connection &lt;em&gt;is&lt;/em&gt; a reliable indicator of who you are directly connected to.&lt;/p&gt;
&lt;p&gt;I would not consider an IP address to be a factor on its own.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I also found this article which seems to have relevant information:  &lt;a href=&quot;http://www.cisco.com/web/about/ac123/ac147/archived_issues/ipj_10-1/101_aaa-part1.html&quot;&gt;Network Authentication, Authorization, and Accounting: Part One - The Internet Protocol Journal - Volume 10, No. 1&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Elements of Authentication&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;When performing authentication, numerous elements can be evaluated before a PDP reaches its access decision. At a high level, these elements can be broken down into three categories: the principal itself (the user, device, or service requesting access), the credential the principal submits (shared key, one-time password, digital certificate, or biometric credential), and the contextual information describing the transaction (location, time of day, software state, and so on)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I like the fact this article adds &lt;strong&gt;contextual information&lt;/strong&gt; separate from the credential.  IP address information seems to fit in this category.&lt;/p&gt;
&lt;p&gt;Is it correct to state that IP Address is not an additional factor for authentication, but it is additional context that can be taken into account to add security?  Is this really authorization at this point?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Facebook GraphQL/Relay and Netflix Falcor]]></title><description><![CDATA[I have my eye on two new client-side, data-access technologies that will be open sourced “soon”.  They are both trying to solve redundancy…]]></description><link>https://kevinhakanson.com/2015-04-01-facebook-graphqlrelay-and-netflix-falcor/</link><guid isPermaLink="false">https://kevinhakanson.com/2015-04-01-facebook-graphqlrelay-and-netflix-falcor/</guid><pubDate>Wed, 01 Apr 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I have my eye on two new client-side, data-access technologies that will be open sourced “soon”.  They are both trying to solve redundancy and coupling concerns between client-side code/data models and server-side code/HTTP endpoints.  How?  Both are a bit of a mystery right now so that is hard to answer.&lt;/p&gt;
&lt;p&gt;There isn’t a lot of information available for Facebook GraphQL/Relay, but here are a couple of links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://facebook.github.io/react/blog/2015/02/20/introducing-relay-and-graphql.html&quot;&gt;Introducing Relay and GraphQL | React&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://facebook.github.io/react/blog/2015/03/19/building-the-facebook-news-feed-with-relay.html&quot;&gt;Building The Facebook News Feed With Relay | React&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/wincent/598fa75e22bdfa44cf47&quot;&gt;2015-01-29 Unofficial Relay FAQ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://devchat.tv/js-jabber/152-jsj-graphql-and-relay-with-nick-schrock-and-joe-savona-&quot;&gt;GraphQL and Relay with Nick Schrock and Joe Savona - DevChat.TV&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There is even less information about Netflix Falcor - you can follow Falcor (&lt;a href=&quot;https://twitter.com/falcorjs&quot;&gt;@falcorjs&lt;/a&gt;) on Twitter and watch the &lt;a href=&quot;https://www.youtube.com/watch?v=WiO1f6h15c8&quot;&gt;Binding to the Cloud with Falcor Jafar Husain - YouTube&lt;/a&gt; presentation from ng-conf.  This project might have been named Falkor at one point.&lt;/p&gt;
&lt;p&gt;What to do next?  Wait for the open source versions to be released and (hopefully) some good documentation.  These might be niche solutions when you have a connected graph of data objects which you want to retrieve and display in multiple ways?  They are also are both more query-based and move in a different direction from what I would consider REST.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[I have a .NET Rocks! mug.]]></title><description><![CDATA[You may (or may not) have seen: Kevin Hakanson on Twitter: “@richcampbell @jhusain great show; I especially liked the comment selected…]]></description><link>https://kevinhakanson.com/2015-02-12-i-have-a-net-rocks-mug/</link><guid isPermaLink="false">https://kevinhakanson.com/2015-02-12-i-have-a-net-rocks-mug/</guid><pubDate>Thu, 12 Feb 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;You may (or may not) have seen: &lt;a href=&quot;https://twitter.com/hakanson/status/565549181792972800&quot;&gt;Kevin Hakanson on Twitter: “@richcampbell @jhusain great show; I especially liked the comment selected (thanks for the mug)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;On 21 January 2015, I was listing to Todd Gardner (&lt;a href=&quot;https://twitter.com/toddhgardner&quot;&gt;@toddhgardner&lt;/a&gt;) on &lt;a href=&quot;http://www.dotnetrocks.com/default.aspx?showNum=1090&quot;&gt;.NET Rocks!&lt;/a&gt; talk about “Duck Punching” when he and host Richard Campbell (&lt;a href=&quot;https://twitter.com/richcampbell&quot;&gt;@richcampbell&lt;/a&gt;) were talking about validating the checksums of JavaScript libraries served by CDNs to ensure you were being delivered the code you were expecting.  This is a topic I have blogged about before:  &lt;a href=&quot;../2014-07-03-cdn-hosting-of-javascript-and-information-security-aspects&quot;&gt;CDN Hosting of JavaScript and Information Security Aspects&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;So, I made a comment that day, pointing them to the W3C &lt;a href=&quot;https://w3c.github.io/webappsec/specs/content-security-policy/&quot;&gt;Content Security Policy&lt;/a&gt; Editor’s Draft where it says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Individual inline scripts and stylesheets may be whitelisted via nonces (as described in §4.2.4 Valid Nonces) and hashes (as described in §4.2.5 Valid Hashes).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Only 9 days later, on 30 January 2015, I got an email stating my comment was selected.  Most of the time, the comment selected is from many months before, when that particular guest or topic was last discussed.  I was surprised to have both a comment selected and such a quick turnaround.  I sent them my address, got my free mug, and started wondering when my comment would air.  Finally, on 11 February 2015, I was listening to &lt;a href=&quot;http://www.dotnetrocks.com/default.aspx?showNum=1099&quot;&gt;Digging into Javascript 6 with Jafar Husain&lt;/a&gt; and I heard my comment.&lt;/p&gt;
&lt;p&gt;Not quite as cool as being on the .NET Rocks! podcast, but I’ll take what I can get - even if that is a free coffee mug.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Solution to JavaScript's 0.1 + 0.2 = 0.30000000000000004 problem?]]></title><description><![CDATA[Open your JavaScript console and try this: You may ask yourself Is floating point math broken?.  The answer is that JavaScript uses floating…]]></description><link>https://kevinhakanson.com/2015-01-08-solution-to-javascripts-01-02-030000000000000004-problem/</link><guid isPermaLink="false">https://kevinhakanson.com/2015-01-08-solution-to-javascripts-01-02-030000000000000004-problem/</guid><pubDate>Thu, 08 Jan 2015 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Open your JavaScript console and try this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.3&lt;/span&gt;

  &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;

&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;

  &lt;span class=&quot;token number&quot;&gt;0.30000000000000004&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You may ask yourself &lt;a href=&quot;http://stackoverflow.com/questions/588004/is-floating-point-math-broken&quot;&gt;Is floating point math broken?&lt;/a&gt;.  The answer is that JavaScript uses floating point math based on the &lt;a href=&quot;https://en.wikipedia.org/wiki/IEEE_754#Basic_formats&quot;&gt;IEEE 754 standard&lt;/a&gt;, the same as Java’s &lt;code class=&quot;language-text&quot;&gt;double&lt;/code&gt;. If you want the details on what that means, either quickly read &lt;a href=&quot;http://floating-point-gui.de/&quot;&gt;The Floating-Point Guide - What Every Programmer Should Know About Floating-Point Arithmetic&lt;/a&gt; or fully digest &lt;a href=&quot;http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html&quot;&gt;What Every Computer Scientist Should Know About Floating-Point Arithmetic&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;But if I really want &lt;code class=&quot;language-text&quot;&gt;0.1 + 0.2 == 0.3&lt;/code&gt; then what do I do?  The &lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html&quot;&gt;Java BigDecimal&lt;/a&gt; class solved this problem, and there similar solutions for JavaScript: &lt;a href=&quot;https://github.com/iriscouch/bigdecimal.js&quot;&gt;GWT compiled to JavaScript&lt;/a&gt; version; a &lt;a href=&quot;https://github.com/dtrebbien/BigDecimal.js&quot;&gt;JavaScript translation&lt;/a&gt; of the ICU4J’s &lt;code class=&quot;language-text&quot;&gt;com.ibm.icu.math.BigDecimal&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;There are also other JavaScript libraries like &lt;a href=&quot;http://mikemcl.github.io/big.js/&quot;&gt;big.js&lt;/a&gt;.  Here is big.js in action from the JavaScript console:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Big&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;

&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Big&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token string&quot;&gt;&quot;0.3&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;How have other teams solved this problem?  Is there a de facto JavaScript library to use that has been well tested?  Would a common library be useful?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[JavaScript Static Code Analysis?]]></title><description><![CDATA[My company’s “Application Security Testing Standard” requires assessing application code with Static Code Analysis or Dynamic Analysis.  The…]]></description><link>https://kevinhakanson.com/2014-11-19-javascript-static-code-analysis/</link><guid isPermaLink="false">https://kevinhakanson.com/2014-11-19-javascript-static-code-analysis/</guid><pubDate>Wed, 19 Nov 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;My company’s “Application Security Testing Standard” requires assessing application code with Static Code Analysis or Dynamic Analysis.  The tools currently used for this are from &lt;a href=&quot;http://www.veracode.com/products&quot;&gt;Veracode&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Static Application Security Testing (SAST), or “white-box” testing, finds common vulnerabilities by performing a deep analysis of your applications without actually executing them.&lt;/li&gt;
&lt;li&gt;Dynamic Application Security Testing (DAST), or “black-box” testing, identifies architectural weaknesses and vulnerabilities in your running web applications before cyber-criminals can find and exploit them.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As we are building more complex web applications in the &lt;a href=&quot;http://en.wikipedia.org/wiki/Single-page_application&quot;&gt;Single Page Application (SPA)&lt;/a&gt; style, there is more JavaScript than ever before.  Also, frameworks like &lt;a href=&quot;https://angularjs.org/&quot;&gt;AngularJS&lt;/a&gt; put application code in the “static” HTML files.  What are the solutions for static scanning of these code artifacts?&lt;/p&gt;
&lt;p&gt;We have been using tools like &lt;a href=&quot;http://www.jslint.com/&quot;&gt;JSLint&lt;/a&gt; and &lt;a href=&quot;http://www.jshint.com/&quot;&gt;JSHint&lt;/a&gt; and for JavaScript static code analysis for some time. More recently, &lt;a href=&quot;http://eslint.org/&quot;&gt;ESLint&lt;/a&gt;, with its pluggable rules architecture, has become the de facto standard.  Under the covers, ESLint uses &lt;a href=&quot;http://esprima.org/&quot;&gt;Esprima&lt;/a&gt; to generate an abstract syntax tree that is compatible with the &lt;a href=&quot;https://developer.mozilla.org/en/SpiderMonkey/Parser_API&quot;&gt;Mozilla Parser AST&lt;/a&gt;.  This AST is the representation of source code that is scanned for possible errors, best practices, and stylistic issues.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://dpnishant.github.io/jsprime/&quot;&gt;JSPrime&lt;/a&gt; is one of the tools listed at &lt;a href=&quot;https://wiki.mozilla.org/Security/B2G/JavaScript_code_analysis&quot;&gt;Security/B2G/JavaScript code analysis - MozillaWiki&lt;/a&gt;.  It also uses Esprima to generate an AST, but instead scans for security violations by tracing execution paths between user input &lt;strong&gt;sources&lt;/strong&gt; and code execution &lt;strong&gt;sink&lt;/strong&gt; functions.  JSPrime has identified sources and sinks for the browser JavaScript APIs, jQuery, and YUI.  To scan other libraries like AngularJS, additional configuration would need to be added.  The code is open source and MIT licensed: &lt;a href=&quot;https://github.com/dpnishant/jsprime&quot;&gt;dpnishant/jsprime · GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Burp Suite, a commercial product, includes an engine for &lt;a href=&quot;http://blog.portswigger.net/2014/07/burp-gets-new-javascript-analysis.html&quot;&gt;static analysis of JavaScript&lt;/a&gt; code.  This looks for items like DOM-based XSS, JavaScript injection, Client-side SQL injection, etc.  This could be an option for teams already using Burp for web application security testing.&lt;/p&gt;
&lt;p&gt;Scanning AngularJS based HTML is another matter. I am hopeful that the recently released &lt;a href=&quot;https://github.com/angular/angular-hint&quot;&gt;Angular Hint&lt;/a&gt; will grow to include modules that include security analysis above the built-in &lt;a href=&quot;https://docs.angularjs.org/guide/security&quot;&gt;security features&lt;/a&gt; of AngularJS.&lt;/p&gt;
&lt;p&gt;Is this a topic worth pursuing or with either Veracode or our IDEs (WebStorm, Visual Studio) start providing this tooling?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[C# and .NET without Windows or Visual Studio]]></title><description><![CDATA[If you didn’t hear about the open sourcing of .NET announced at Microsoft’s Connect(); event, read Microsoft takes .NET open source and…]]></description><link>https://kevinhakanson.com/2014-11-13-c-and-net-without-windows-or-visual-studio/</link><guid isPermaLink="false">https://kevinhakanson.com/2014-11-13-c-and-net-without-windows-or-visual-studio/</guid><pubDate>Thu, 13 Nov 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;If you didn’t hear about the open sourcing of .NET announced at Microsoft’s Connect(); event, read &lt;a href=&quot;http://news.microsoft.com/2014/11/12/microsoft-takes-net-open-source-and-cross-platform-adds-new-development-capabilities-with-visual-studio-2015-net-2015-and-visual-studio-online/&quot;&gt;Microsoft takes .NET open source and cross-platform, adds new development capabilities with Visual Studio 2015, .NET 2015 and Visual Studio Online&lt;/a&gt; or &lt;a href=&quot;http://www.hanselman.com/blog/AnnouncingNET2015NETAsOpenSourceNETOnMacAndLinuxAndVisualStudioCommunity.aspx&quot;&gt;Announcing .NET 2015 - .NET as Open Source, .NET on Mac and Linux, and Visual Studio Community - Scott Hanselman&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To celebrate, I did this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;HelloMvc$ k kestrel&lt;/p&gt;
&lt;p&gt;Started&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But, what is that?  It is a ASP.NET MVC application running on my Mac using the &lt;a href=&quot;https://github.com/aspnet/KestrelHttpServer&quot;&gt;aspnet/KestrelHttpServer&lt;/a&gt; web server.  Want to try it yourself?  Instructions for setup are at &lt;a href=&quot;https://github.com/aspnet/home&quot;&gt;aspnet/Home · GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I also installed &lt;a href=&quot;http://www.sublimetext.com/3&quot;&gt;Sublime Text 3&lt;/a&gt; and &lt;a href=&quot;http://www.omnisharp.net/&quot;&gt;OmniSharp - Cross platform .NET development by OmniSharp&lt;/a&gt;. (also see &lt;a href=&quot;http://blog.jonathanchannon.com/2014/11/12/csharp-first-class-citizen-sublime-text/&quot;&gt;Jonathan Channon Blog - Microsoft Endorsing C# as a First Class Citizen in Sublime Text&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Those are developer focused details, but what does this mean at an enterprise level? I’ve extracted some quotes from the Dr. Dobb’s article &lt;a href=&quot;http://www.drdobbs.com/windows/c-and-nets-sudden-ubiquity/240169282&quot;&gt;C# and .NET’s Sudden Ubiquity&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Of these platforms, Linux is clearly the most important…enterprises will be able to run the applications without having to add in the cost of Microsoft Server licenses.&lt;/li&gt;
&lt;li&gt;The big winners of all this goodness are C# developers.&lt;/li&gt;
&lt;li&gt;The big loser is certainly Java.&lt;/li&gt;
&lt;li&gt;For years, C# has been an attractive language for developers, but blocked in wider adoption by its inability to run on more than Windows.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Not sure when it will happen at my company, but I see services written in C# and .NET running on Linux in our future.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Extending AngularJS $log Concept]]></title><description><![CDATA[Logging is an important component of monitoring an application.  AngularJS provides $log which is documented as: Simple service for logging…]]></description><link>https://kevinhakanson.com/2014-10-17-extending-angularjs-log-concept/</link><guid isPermaLink="false">https://kevinhakanson.com/2014-10-17-extending-angularjs-log-concept/</guid><pubDate>Fri, 17 Oct 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Logging is an important component of monitoring an application.  AngularJS provides &lt;a href=&quot;https://docs.angularjs.org/api/ng/service/$log&quot;&gt;$log&lt;/a&gt; which is documented as:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Simple service for logging. Default implementation safely writes the message into the browser’s console (if present).&lt;/p&gt;
&lt;p&gt;The main purpose of this service is to simplify debugging and troubleshooting.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I wanted to extend this front-end logging in a few ways, including named loggers and capturing these log messages alongside our back-end logs.  My Google results found some prior art in this area:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://engineering.talis.com/articles/client-side-error-logging/&quot;&gt;Logging client side errors server-side in AngularJS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.stacktracejs.com/&quot;&gt;stacktrace.js&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.stacktracejs.com/&quot;&gt;log4javascript&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://js.jsnlog.com/Documentation/GetStartedLogging/AngularJsErrorHandling&quot;&gt;JSNLog AngularJS Error Handling&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ThomasBurleson/angularjs-logDecorator&quot;&gt;ThomasBurleson angularjs-logDecorator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://solutionoptimist.com/2013/10/07/enhance-angularjs-logging-using-decorators/&quot;&gt;Enhancing AngularJS Logging using Decorators&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For my experimentation, I created a simple AngularJS based application called “Math Demo” that intentionally has errors which appear in the console using &lt;code class=&quot;language-text&quot;&gt;$log&lt;/code&gt;.  Here is a screenshot of the home page:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/eba5be1fdc3c4bd81960609ba83a1e88/b5a09/MathDemo.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.48648648648649%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABcSAAAXEgFnn9JSAAABeklEQVR42p1S0VKDMBDk///IB53RV1srII5KhWIJCaGlUmwrkGa9Sx2fOiOamZ1NbrKby915wVU2TC9eTXidGf+KcLkwnx+9AWCOx6ODtXY0vM9db9/1Dhv1gff1FrVusNvtsd/vQWb46/L6obPzQOD24gXRJMZ94CMIA8xmMyRJijRNUZZqvOHhcLDJg0BwkyC8fcLszkcYhvB9Mg4CTCcT4hB5nqNpmt8NBzPYIlkhvhN4Swq8pglltUAczzGPY2RZRvuYsizHZcg13+gWalmhKleo17WrYdd16Pve8TAYUMFH1rDvrMo2WDxLNNsG7bZ1Rry4KWzEPBZeXW9s225hzEnMoFmhs/kXvMcoslEU/WtEzn65qla2KCROKKBUSSwgZUGQUAT5DaWUY5EL0HScNyxLbUsyEUI4AXdzQV1m83yZuxiPDDPH6D601u6epn2lKxdjPY+VJwvpMuSXWcgiBosk8ZJM6c7pzJm6Xygndo3guh/tTwO/AC09mHD9XWoQAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Math Demo&quot;
        title=&quot;&quot;
        src=&quot;/static/eba5be1fdc3c4bd81960609ba83a1e88/fcda8/MathDemo.png&quot;
        srcset=&quot;/static/eba5be1fdc3c4bd81960609ba83a1e88/12f09/MathDemo.png 148w,
/static/eba5be1fdc3c4bd81960609ba83a1e88/e4a3f/MathDemo.png 295w,
/static/eba5be1fdc3c4bd81960609ba83a1e88/fcda8/MathDemo.png 590w,
/static/eba5be1fdc3c4bd81960609ba83a1e88/efc66/MathDemo.png 885w,
/static/eba5be1fdc3c4bd81960609ba83a1e88/c83ae/MathDemo.png 1180w,
/static/eba5be1fdc3c4bd81960609ba83a1e88/b5a09/MathDemo.png 1360w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I decorated &lt;code class=&quot;language-text&quot;&gt;$log&lt;/code&gt; with my log provider, used &lt;code class=&quot;language-text&quot;&gt;app.name&lt;/code&gt; (which is “math”) as the default named logger, and configured the logging levels and server side endpoint.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;$provide&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;fef$logProvider&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$provide&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fef$logProvider&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  $provide&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;decorator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;$log&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;$delegate&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$delegate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    fef$logProvider&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;decorate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$delegate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; $delegate&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fef$log&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fef$log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  fef$log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;configure&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;consoleThreshold&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;httpThreshold&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;httpURL&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/log&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;fef$logProvider&lt;/code&gt; supports the same API as &lt;code class=&quot;language-text&quot;&gt;$log&lt;/code&gt;, so when &lt;code class=&quot;language-text&quot;&gt;binaryCalculator&lt;/code&gt; loads…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;factory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;binaryCalculator&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;loading&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;… you see the “loading” message as expected, but prefixed by a timestamp and the top level &lt;code class=&quot;language-text&quot;&gt;math&lt;/code&gt; named logger.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2014-10-16T20:07:16.390Z [math] loading&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But when the &lt;code class=&quot;language-text&quot;&gt;unaryCalculator&lt;/code&gt; is loading…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;unaryCalculator&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fef$log&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; $q&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; $log &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fef$log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;unaryCalculator&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;loading&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;…the named logger is set to &lt;code class=&quot;language-text&quot;&gt;math:unaryCalculator&lt;/code&gt; and that appears in the output.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2014-10-16T20:07:34.616Z [math:unaryCalculator] loading&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I added a debug level log message as output for &lt;code class=&quot;language-text&quot;&gt;$routeChangeSuccess&lt;/code&gt; events.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;$rootScope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;$routeChangeSuccess&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; aRoute&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; bRoute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  fef$log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pageguid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The output to the browser console includes the event name in the named logger: &lt;code class=&quot;language-text&quot;&gt;math:$rootScope.$on&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2014-10-16T19:42:07.019Z [math:$rootScope.$on] $locationChangeStart
2014-10-16T19:42:07.020Z [math:$rootScope.$on] $locationChangeSuccess  http://localhost:3000/#/ -&gt; http://localhost:3000/#/unary/sqrt
2014-10-16T19:42:07.021Z [math:$rootScope.$on] $routeChangeStart
2014-10-16T19:42:07.027Z [math:$rootScope.$on] $routeChangeSuccess
2014-10-16T19:42:07.031Z [math:unaryEquation] loading
2014-10-16T19:42:07.034Z [math:unaryCalculator] loading
2014-10-16T19:42:07.034Z [math] loading
2014-10-16T19:42:07.035Z [math:UnaryOperatorCtrl] loading
2014-10-16T19:42:07.046Z [math:equationInput] loading&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;An internal tool for &lt;strong&gt;TR&lt;/strong&gt;ransaction &lt;strong&gt;M&lt;/strong&gt;onitoring and &lt;strong&gt;R&lt;/strong&gt;eporting (TRMR) supports distributed tracing uses the &lt;code class=&quot;language-text&quot;&gt;x-cobalt-pcid&lt;/code&gt; HTTP header to provide the “page” or “root” level tracing GUID.  This code generates a &lt;a href=&quot;https://www.ietf.org/rfc/rfc4122.txt&quot;&gt;RFC 4122&lt;/a&gt; version 4 UUID and set the HTTP header.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;trmrguid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-source language-regex&quot;&gt;[xy]&lt;/span&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-flags&quot;&gt;g&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; r &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      v &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; c &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;x&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; r &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x3&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; v&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; rootname &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;fef&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; rootGuid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;trmrguid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;generatePageGuid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$http&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  rootGuid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;trmrguid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  $http&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;defaults&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;common&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;x-cobalt-pcid&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; rootGuid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;rootname&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;level &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;page&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;logHttp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Log events are posted to the server side using a JSON structure containing the same timestamp,  logger name, and message output to the browser console.  It also includes the URL, logging level, and the tracability “root” guid generated above.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;items&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;root&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b2ff983e5fe04316af5642a1fbd014ca&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;math:$rootScope.$on&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2014-10-16T19:47:49.308Z&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://localhost:3000/#/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;debug&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;messages&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;$routeChangeSuccess&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;root&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;433b218a10d24b6ead6988d004aeeff1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;math&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2014-10-16T19:47:49.308Z&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://localhost:3000/#/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;page&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, to avoid being to “chatty” over HTTP for each log message, there is a configurable minimum delay to buffer log events.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; logBuffer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;logHttp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;logData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;logBuffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// use setTimeout/XMLHttpRequest instead of&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// $timeout/$http to avoid circular errors&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; logRequest &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;XMLHttpRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            logRequest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;POST&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; baseConfig&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;httpURL&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            logRequest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setRequestHeader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;application/json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            logRequest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; logBuffer &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            logBuffer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; baseConfig&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;delay&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    logBuffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;logData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this “Square Root” example, you can see the different components being used.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 487px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5053a2c06889519b65cb8334e4ccf3b0/7b439/SquareRoot.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 45.27027027027027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABcSAAAXEgFnn9JSAAABZ0lEQVR42q1RTU/CQBTsjwe54VHURONBvXBF8KCYqEGKBlTa2gokBCjfbaHQllbeuF0oiQnoxZdMZney+zJvntBptUaWNR0B2CAIAs6aqo7GhsHPX0zzff/Hu20QctksYrE4zk5PcH5xiYPUMY4OU3ivVhGP7yGRSCCdTiOZ3Efl9Q1hLZdL7CrBtEwSRZGuczmSJJlKpRfSPjXq9nrUaDRIVmTSVI1kWSbDMIn9IdaQ8zYIUWciwn+U4AcB5nMHrsPgurBnNmeH3Z215qwRnj3P48zyBMt6g8XCQ2hcUKQqMpkrqB8qxmMDw+FwkxN3zUBrhFqkG8bqbbPZ5KzrbbjeAkJX76BWq2Ew6DMM0Gm3MZlM0ajXoXe7ME0Tg34ftj3jTmzb5s7DptE9dLzKjY2saSrbqITHh3s8FYvI395ALD2jUi7jLp/HY6HAtDwUReFj6roOy7J25i5Eo4Tto9F+W9Rfy/sGsMinmbC39jAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Square Root UI&quot;
        title=&quot;&quot;
        src=&quot;/static/5053a2c06889519b65cb8334e4ccf3b0/7b439/SquareRoot.png&quot;
        srcset=&quot;/static/5053a2c06889519b65cb8334e4ccf3b0/12f09/SquareRoot.png 148w,
/static/5053a2c06889519b65cb8334e4ccf3b0/e4a3f/SquareRoot.png 295w,
/static/5053a2c06889519b65cb8334e4ccf3b0/7b439/SquareRoot.png 487w&quot;
        sizes=&quot;(max-width: 487px) 100vw, 487px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/unary/:operation&lt;/code&gt; routes to &lt;code class=&quot;language-text&quot;&gt;unary.html&lt;/code&gt; which references &lt;code class=&quot;language-text&quot;&gt;&amp;lt;unary-equation&gt;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;{{label}}&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;unary-equation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;unary-equation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        (Calculate Remote:
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;useRemote&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;useRemote”
             type=&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token attr-name&quot;&gt;checkbox&quot;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ng-model&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;useRemote&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;)
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;unary-equation.html&lt;/code&gt; references &lt;code class=&quot;language-text&quot;&gt;&amp;lt;equation-input&gt;&lt;/code&gt; and renders the “calculate” button&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;{{ operation }}
(
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;equation-input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ng-model&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;model.x&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;equation-input&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
)
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ng-click&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;calculate()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;=&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
{{ result }}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;equation-input.html&lt;/code&gt; renders the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;input&gt;&lt;/code&gt; field&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;number&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ng-required&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;placeholder&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{name}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In the browser console screenshot below, you can see each component does some debug logging while “loading”.  There is also either “info” or “error” logging depending the the result of the &lt;code class=&quot;language-text&quot;&gt;calculate&lt;/code&gt; function.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;$scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;calculate&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;calculating...&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; calculator &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;useRemote &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; unaryCalculatorRemote &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; unaryCalculator&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  calculator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;compute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;model&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; $scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;operation&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    $scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$scope&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;reason&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    $scope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reason&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/090ff227c8ae6fb1de1707a6311489bd/1132d/ChromeConsole.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.43243243243243%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABcSAAAXEgFnn9JSAAABKklEQVR42l2P7XKCMBBFff+ns61aCRLkQxBBwSimVbOni/3VZubO3T2ZvcnOnEPe34RoLUy+XAhv6ib6ZclGmM+FshCOR6HrtC6F+10AQeSvZs4FDQys19NgYLUUPt4DxgQ2sRAbYbWA1Ap1FdiVkwTvfwND+BdY1jcxpidNz0Tq8UZr6yiKKzYdtB+UH4migSy7YO2odxfqfc/1OjKdP4FJfhET1zp84DOqiJOGROus6LDbw0uRqZQ1yo7sqp5cPVV+aDsNvdIPZ8Zx5PF4MMsLJ/G6YbtpMcs927glNS150pFbVdISr2plDbuspyoGyuxEYRvc2enKgefz+fLXD+/dSZy+5rMDt2SPT/fcsqlv8EWLz1W2xicVX2WHr0745sz3rkP8F/Jv5R+E98Mfb4uYSQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Chrome Console&quot;
        title=&quot;&quot;
        src=&quot;/static/090ff227c8ae6fb1de1707a6311489bd/fcda8/ChromeConsole.png&quot;
        srcset=&quot;/static/090ff227c8ae6fb1de1707a6311489bd/12f09/ChromeConsole.png 148w,
/static/090ff227c8ae6fb1de1707a6311489bd/e4a3f/ChromeConsole.png 295w,
/static/090ff227c8ae6fb1de1707a6311489bd/fcda8/ChromeConsole.png 590w,
/static/090ff227c8ae6fb1de1707a6311489bd/efc66/ChromeConsole.png 885w,
/static/090ff227c8ae6fb1de1707a6311489bd/1132d/ChromeConsole.png 1158w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;ErrorCtrl&lt;/code&gt; of this application exists just to throw a JavaScript &lt;code class=&quot;language-text&quot;&gt;Error&lt;/code&gt; with the message “thrown”.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ErrorCtrl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$scope&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fef$log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; $log &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fef$log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ErrorCtrl&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;loading&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;thrown&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And when the &lt;code class=&quot;language-text&quot;&gt;/error&lt;/code&gt; route is loaded, the stacktrace appears in the browser console.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2014-10-16T20:10:02.106Z [math:ErrorCtrl] loading
2014-10-16T20:10:02.107Z [math]  Error: thrown
    at new ErrorCtrl (http://localhost:3000/javascripts/math.js:50:9)
    at invoke (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:3966:17)
    at Object.instantiate (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:3977:23)
    at http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:7281:28
    at link (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-route.js:907:26)
    at nodeLinkFn (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6711:13)
    at compositeLinkFn (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6105:13)
    at publicLinkFn (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6001:30)
    at boundTranscludeFn (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6125:21)
    at controllersBoundTransclude (http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6732:18) &amp;lt;ng-view class=&quot;ng-scope&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Additionally, an HTTP &lt;code class=&quot;language-text&quot;&gt;POST&lt;/code&gt; JSON payload is sent to the configured &lt;code class=&quot;language-text&quot;&gt;httpURL&lt;/code&gt; including that stacktrace and other logging fields.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;items&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;root&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;00f59ba88fe04df987bf774f0eae08c4&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;math&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2014-10-16T20:10:02.107Z&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://localhost:3000/#/error&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;messages&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;Error: thrown&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;ng-view class=\&quot;ng-scope\&quot;&gt;&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;stacktrace&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;new ErrorCtrl@http://localhost:3000/javascripts/math.js:50:9&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;invoke@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:3966:17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;Object.instantiate@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:3977:23&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;{anonymous}()@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:7281:28&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;link@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular-route.js:907:26&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;nodeLinkFn@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6711:13&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;compositeLinkFn@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6105:13&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;publicLinkFn@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6001:30&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;boundTranscludeFn@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6125:21&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&quot;controllersBoundTransclude@http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js:6732:18&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;On the server side, you can see the &lt;code class=&quot;language-text&quot;&gt;$routeChange&lt;/code&gt; events as well as the &lt;code class=&quot;language-text&quot;&gt;ErrorCtrl&lt;/code&gt; loading and the same “Error: thrown” message.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2014-10-16T20:10:02.097Z DEBUG [math:$rootScope.$on] $locationChangeStart
2014-10-16T20:10:02.098Z LOG   [math:$rootScope.$on] $locationChangeSuccess  http://localhost:3000/#/unary/abs -&gt; http://localhost:3000/#/error
2014-10-16T20:10:02.099Z DEBUG [math:$rootScope.$on] $routeChangeStart
2014-10-16T20:10:02.104Z DEBUG [math:$rootScope.$on] $routeChangeSuccess
00f59ba88fe04df987bf774f0eae08c4 http://localhost:3000/#/error
2014-10-16T20:10:02.106Z DEBUG [math:ErrorCtrl] loading
2014-10-16T20:10:02.107Z ERROR [math] Error: thrown &amp;lt;ng-view class=&quot;ng-scope&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now that I feel this concept is workable, it’s time for a design review, including the JSON log format, and to write some unit tests before I ask teams to adopt this methodology.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; The early 2015 conclusion of this research is available on GitHub at &lt;a href=&quot;https://github.com/hakanson/mathdemo-angularjs&quot;&gt;hakanson/mathdemo-angularjs&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Hindi Number Formatting in JavaScript]]></title><description><![CDATA[For a project I am consulting on, we were looking at globalization topics in the browser, including support for Hindi.  I have mostly worked…]]></description><link>https://kevinhakanson.com/2014-10-07-hindi-number-formatting-in-javascript/</link><guid isPermaLink="false">https://kevinhakanson.com/2014-10-07-hindi-number-formatting-in-javascript/</guid><pubDate>Tue, 07 Oct 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;For a project I am consulting on, we were looking at globalization topics in the browser, including support for Hindi.  I have mostly worked with Latin based character sets in my internationalization efforts, so I wanted to dig into the topic a bit.  I started with my favorite date for test cases and thought I would see how various JavaScript libraries/frameworks handled the formatting.  Testing was done in Chrome 37.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; then &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;AngularJS&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;date&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;then&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;EEEE, d MMMM y h:mm:ss a&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;मंगलवार, 1 जनवरी 2013 1:01:01 pm&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Twitter CLDR&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; fmt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TwitterCldr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DateTimeFormatter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

fmt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;then&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string-property property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;full&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;मंगलवार, 1 जनवरी 2013 1:01:01 अपराह्न UTC-06:00&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;ECMA 402&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; options &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;weekday&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;long&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;short&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;numeric&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;year&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;numeric&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;hour&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;numeric&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;minute&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2-digit&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;second&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2-digit&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;hour12&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; dtf &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Intl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DateTimeFormat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hi&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

dtf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;then&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;मंगलवार, १ जनवरी २०१३ १:०१:०१ अपराह्न&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;jQuery Globalize&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;Globalize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; then &lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;F&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;hi&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;01 जनवरी 2013 13:01:01&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;MomentJS&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;moment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;then&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;LLLL&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;मंगलवार, १ जनवरी २०१३, दोपहर १:०१ बजे&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now, these aren’t exactly the same format options across the libraries, but they are close.  You can see similar string values across the libraries, but you may notice that AngularJS and MomentJS use Devanagari numerals instead of our familiar 0-9 (see &lt;a href=&quot;http://en.wikipedia.org/wiki/Indian_numerals&quot;&gt;Indian numerals&lt;/a&gt;).&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Modern Devanagari&lt;/th&gt;
&lt;th&gt;Hindu–Arabic&lt;/th&gt;
&lt;th&gt;Hindi word for the cardinal numeral&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;०&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;śūnya (शून्य)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;१&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;ék (एक)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;२&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;do (दो)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;३&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;tīn (तीन)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;४&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;cār (चार)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;५&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;pān̄c (पाँच)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;६&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;chaḥ (छः)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;७&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;sāt (सात)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;८&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;āṭh (आठ)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;९&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;nau (नौ)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;I looked in the ECMA 402 specification and found Devanagari referenced as deva (U+0966 to U+096F) in &lt;a href=&quot;http://www.ecma-international.org/ecma-402/1.0/#table-2&quot;&gt;Table 2 – Numbering systems with simple digit mappings&lt;/a&gt;. The “Date and time formatting options” section of &lt;a href=&quot;http://generatedcontent.org/post/59403168016/esintlapi&quot;&gt;ECMAScript Internationalization API&lt;/a&gt; gave me a clue on the next steps.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;As with NumberFormat, the numberingSystem property can only be set with the Unicode u extension to the language tag, using the nu keyword.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I decided to reduce my test case to some simpler number formatting to continue my experiment.  Chrome, Firefox and IE 11 all supported both “hi-u-nu-latn” and “hi-u-nu-deva” as extensions.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;num &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1234567890&lt;/span&gt;

&lt;span class=&quot;token number&quot;&gt;1234567890&lt;/span&gt;

num&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toLocaleString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hi-u-nu-latn&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token string&quot;&gt;&quot;1,23,45,67,890&quot;&lt;/span&gt;

num&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toLocaleString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hi-u-nu-deva&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token string&quot;&gt;&quot;१,२३,४५,६७,८९०&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, Chrome 37 was alone in selecting “deva” as the default numbering system.  Firefox, IE 11, and even Chrome 40 canary selected “latn” instead.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Intl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;NumberFormat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolvedOptions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

Object &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token literal-property property&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;hi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;numberingSystem&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;deva&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;decimal&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;useGrouping&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;minimumIntegerDigits&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;…&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Intl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;NumberFormat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;num&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token string&quot;&gt;&quot;१,२३,४५,६७,८९०&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The formatting mystery has been solved.  If I continued, I would look at how to parse these same formatted numbers and dates in JavaScript.  I am less confident about that.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[I was a victim of internet plagiarism]]></title><description><![CDATA[I often present at developer-focused conferences and user groups on JavaScript and web platform topics.  One presentation I give is on…]]></description><link>https://kevinhakanson.com/2014-09-23-i-was-a-victim-of-internet-plagiarism/</link><guid isPermaLink="false">https://kevinhakanson.com/2014-09-23-i-was-a-victim-of-internet-plagiarism/</guid><pubDate>Tue, 23 Sep 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I often present at developer-focused conferences and user groups on JavaScript and web platform topics.  One presentation I give is on JavaScript Internationalization (initially at the 2013 internal Technology Unconference and most recently this summer at &lt;a href=&quot;https://www.thatconference.com/sessions/session/2235&quot;&gt;That Conference&lt;/a&gt;).  My title and abstract are below.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Internationalize your JavaScript Application: Prepare for “the next billion” internet users.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Are you prepared for “the next billion” internet users, most of whom don’t use English as their primary language?&lt;/p&gt;
&lt;p&gt;This session will explore the globalization (internationalization and localization) of JavaScript based applications. It will look at the ECMAScript Internationalization API and popular open source projects like AngularJS, messageformat.js, jQuery Globalize and twitter-cldr-js.&lt;/p&gt;
&lt;p&gt;Topics will include cultures/locales, character encoding, number formatting, date formatting, choice/plural formatting and translations.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Yesterday I got a message from a friend that informed me that someone was presenting the following session at an AngularJS meetup:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;il8n for AngularJS: Prepare for “the next billion” internet users&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Are you prepared for “the next billion” internet users, most of whom don’t use English as their primary language?&lt;/p&gt;
&lt;p&gt;We will explore the various strategies for globalization (internationalization, localization and pluralization) of AnguarJS Applications, discussing the various pros and cons of each of these techniques. We will also take a look at the ECMAScript Internationalization API and other popular open-source projects, libraries and modules, the objective being to identify certain factors that affect the decision of what approach to ultimately take in building out a custom solution or integrating an existing one.&lt;/p&gt;
&lt;p&gt;Topics will include cultures/locales, number formatting, datetime formatting, choice/plural formatting (using ng-pluralize) and translations along with best practices, common pitfalls and finally, the role of the API (backend server).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The abstract looks like a blatant copy of my subtitle, lead sentence and overall abstract structure.  What to do now?  Rage Tweet?  I decided to email the meetup organizers, asking them to look into my concern.  They replied and informed me they had contacted the speaker to address the issue.  They had also viewed the content, and it was original.  Later that day, the abstract was updated to remove the explicitly copied text.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Internationalize AngularJS: Globalized Apps for a Global Audience&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Your app may work great in your region, but how well does it work for the rest of the world’s internet users, a large number of whom don’t use English as their primary language?&lt;/p&gt;
&lt;p&gt;We will explore various strategies for internationalization, including localization and translations, of AngularJS applications, discussing the various pros and cons of each technique. We will also briefly examine the ECMAScript Internationalization API and other popular open-source projects (modular libraries) for similarities and differences; the objective being to identify certain factors that affect the decision of what approach to ultimately take in building globalization support into your new and/or existing AngularJS applications.&lt;/p&gt;
&lt;p&gt;Topics will include number and datetime formatting, cultures/locales, pluralization (using ngPluralize) and gender formatting, along with best practices, common pitfalls and finally, the role of your API (backend server).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;After the meetup, I took a look at the speaker’s slide deck to see if any of my content was copied.  It appears this was an original presentation, but the speaker did borrow my numeronym joke (original credit to Rick Preston). However, it works much better with my name (K3n H6n), which also ends with the letter &lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt; like I18n and L10n.   It only contained about 25% of what I cover in my presentation, and the speaker did credit me on his closing slide.&lt;/p&gt;
&lt;p&gt;How do you think I handled the situation?  What could I have done differently or is there anything I should still do?  Have you been a victim of internet plagiarism?  Let me know in the comments below.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Reimagining Cobalt.js preferences in AngularJS using UML]]></title><description><![CDATA[Our 2008 era Cobalt.js JavaScript code looks a bit substandard compared to what we would write today: We used a common Cobalt object off the…]]></description><link>https://kevinhakanson.com/2014-07-31-reimagining-cobaltjs-preferences-in-angularjs-using-uml/</link><guid isPermaLink="false">https://kevinhakanson.com/2014-07-31-reimagining-cobaltjs-preferences-in-angularjs-using-uml/</guid><pubDate>Thu, 31 Jul 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Our 2008 era Cobalt.js JavaScript code looks a bit substandard compared to what we would write today: We used a common Cobalt object off the global namespace, convention based private variables/functions prefixed by &lt;code class=&quot;language-text&quot;&gt;_&lt;/code&gt;, and (gasp) synchronous XHR requests so our APIs could avoid callbacks.&lt;/p&gt;
&lt;p&gt;Here’s a representative look at how WestlawNext accessed preferences from the browser:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/032c6c019866344c432b492477d5090f/09e48/WLN%2BPreferences.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 92.56756756756756%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAABn0lEQVR42o3U53IiQQwEYN7/Eck5w5GjgfvYdu0dxlW2fgjtjFpqhaFyu90+CmHc73f6fD7XarVqtdput1utVr/fv16vj8cjnqV2UhkMBtPplN9mswFm93q9brfrxNXxeOTqnOt+v3c1HA7p1WrlsOJnvV77BpvNZu7+FCL/5XIJLBJSu93udDq5emb2Iza80+12y0BhMpnI+fhOAos8M4/HYzzBgH0Kz05VP4AxXCwWNABjPp/Tqf9nsDx+eIMpe14IIr+iDRbm5Rjk1JIvtEOE/gaM9qqQ5XKZ4kvaX/iH6T/aSSXkuRCEDUwJih+NRs1ms16vm6VPUzD/MnklFsCpEGDLAGPm8uOV4SEVjRq3TzCY8tLkMOfEIyv5Li+05RFJKjxpUbJGWfV3eQGnsfLL3Gg0DElhHsOvliQLnCVFlQEWFrNCxDLIbH7sF3AqKYdMp09plSiI5P1kCzm8jCpbrU80W4a09H1J4//5nkUSz/Ty1rDSMwyzLWUS4jbRbZQePd9znoGSDoeDb4AgM7z/wQrsdDqa6n/Gzuz3+79uzEdAW1OUjwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;WLN Preferences UML Sequence Diagram&quot;
        title=&quot;&quot;
        src=&quot;/static/032c6c019866344c432b492477d5090f/fcda8/WLN%2BPreferences.png&quot;
        srcset=&quot;/static/032c6c019866344c432b492477d5090f/12f09/WLN%2BPreferences.png 148w,
/static/032c6c019866344c432b492477d5090f/e4a3f/WLN%2BPreferences.png 295w,
/static/032c6c019866344c432b492477d5090f/fcda8/WLN%2BPreferences.png 590w,
/static/032c6c019866344c432b492477d5090f/efc66/WLN%2BPreferences.png 885w,
/static/032c6c019866344c432b492477d5090f/09e48/WLN%2BPreferences.png 974w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If I was coding something similar today using features of &lt;a href=&quot;https://angularjs.org/&quot;&gt;AngularJS&lt;/a&gt;, it would look more like this - utilizing &lt;a href=&quot;https://docs.angularjs.org/guide/di&quot;&gt;Dependency Injection&lt;/a&gt; and &lt;a href=&quot;https://docs.angularjs.org/api/ng/service/$q&quot;&gt;$q&lt;/a&gt; for Promises.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/49b2e83248421a0a82de0f8b4b679352/6f2be/AngularJS%2BPreferences.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 87.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsElEQVR42l3TiY4iMQwE0Pz/LyLBAMt9n83NPlIzzGGpLccu2+W0U26323q93u125/OZsVqtut3uR5V2u93v9zudTrTQ4XCA2e/3m81GYvHN53OH0+m0WCzG4zENt1wu+afT6WAwYM9mM7ZMGpjner2W5/N5uVwej8ezyqnK8XgMLpk8qNHYCQHLBH4lcyVAgNRybJoGSSBoGlVRIW0lMz6Thf9VMRt6PLcqct449v1+D5jxq7MmvLplHtPG8zNZOce/ycLOmVy+QKZQiP2nM8B3susdjUbD4RDh7XarLe22QkEIwEWw8yMhkYKhixxM9HmPBDGZTAZVwj+jpbkjbQTIV2eI45dkYWh/W1392dqmlraWJ349ikuGVkm9zJxL0iFrx3AMo22V/DzViy9pWRJ9hNGeVplXAVU066DEvQo6JUsHnY3FbVxFjNYkuyUqP8kZUGIBymJp+6ZtimwiwjyOSVNdFTYur86mv1bJDphCoRCms6e5BQKWK8hzKgh7g14cw3q2Wi3HXq/H9iT9ZzeqiqOJGELGYcMXZbhwQDLTKvl+g4jIjxbCnCHEbprmPy9xxuUE3dBoAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AngularJS Preferences UML Sequence Diagram&quot;
        title=&quot;&quot;
        src=&quot;/static/49b2e83248421a0a82de0f8b4b679352/fcda8/AngularJS%2BPreferences.png&quot;
        srcset=&quot;/static/49b2e83248421a0a82de0f8b4b679352/12f09/AngularJS%2BPreferences.png 148w,
/static/49b2e83248421a0a82de0f8b4b679352/e4a3f/AngularJS%2BPreferences.png 295w,
/static/49b2e83248421a0a82de0f8b4b679352/fcda8/AngularJS%2BPreferences.png 590w,
/static/49b2e83248421a0a82de0f8b4b679352/efc66/AngularJS%2BPreferences.png 885w,
/static/49b2e83248421a0a82de0f8b4b679352/6f2be/AngularJS%2BPreferences.png 1029w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Why the trip down memory lane?  Also, why am I showing UML diagrams instead of code snippets?  I’m thinking about good software engineering patterns and practices in the browser and how to best communicate those across teams.  I like the UML notation of filled arrowheads for synchronous and stick arrowheads for asynchronous calls.  I like how UML shows the grouping for optional and alternate flows.  I mostly like that the reader needs to look at and understand the diagram concepts, and not just copy/paste the code and “debug” their way into understanding.  Since UML is a representation and not the code, it lets the reader map to any language (or any &lt;a href=&quot;https://github.com/jashkenas/coffeescript/wiki/List-of-languages-that-compile-to-JS&quot;&gt;compile to JavaScript language&lt;/a&gt; in this case). Maybe I just like pulling out my copy of Martin Fowler’s &lt;a href=&quot;http://martinfowler.com/books/uml.html&quot;&gt;UML Distilled&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Aside from critiques on my diagraming skills, what are your thoughts on UML vs. code snippets to communicate with other developers?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Page Visibility API]]></title><description><![CDATA[I am taking an online Leadership & Influence for Architects training series with about 20 architects across the company.  The facilitator…]]></description><link>https://kevinhakanson.com/2014-07-03-page-visibility-api/</link><guid isPermaLink="false">https://kevinhakanson.com/2014-07-03-page-visibility-api/</guid><pubDate>Thu, 03 Jul 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I am taking an online &lt;strong&gt;Leadership &amp;#x26; Influence for Architects&lt;/strong&gt; training series with about 20 architects across the company.  The facilitator requested full attention and to avoid the temptation to multi-task.  Of course, I complied, but I wondered if they could detect infractions from the other attendees.  Then I remembered the &lt;a href=&quot;http://www.w3.org/TR/page-visibility/&quot;&gt;Page Visibility API&lt;/a&gt; and realized that they could tell if anyone was switching browser tabs to check email or Twitter.  I’m sure that some advertisers use this to force you to watch that 30-second lead-in video ad before consuming the content you came to watch.&lt;/p&gt;
&lt;p&gt;I wanted to code something up and give it a try.  The MDN &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Guide/User_experience/Using_the_Page_Visibility_API&quot;&gt;Using the Page Visibility API&lt;/a&gt; document got me started, but I wanted to hook this DOM event into an AngularJS based application.  The following snippet of code will &lt;code class=&quot;language-text&quot;&gt;$broadcast&lt;/code&gt; the values of &lt;code class=&quot;language-text&quot;&gt;document.hidden&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;document.visibilityState&lt;/code&gt; whenever &lt;code class=&quot;language-text&quot;&gt;visibilitychange&lt;/code&gt; fires.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;    app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;$log&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;$rootScope&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;$document&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$log&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; $rootScope&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; $document&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;listen for visibilitychange event&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        $document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;visibilitychange&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hidden=&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hidden &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; / visibilityState=&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;visibilityState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            $rootScope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$broadcast&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;visibilityChange&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hidden&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;visibilityState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To listen for this event, I hooked up to &lt;code class=&quot;language-text&quot;&gt;$rootScope&lt;/code&gt;, but could have also hooked to a &lt;code class=&quot;language-text&quot;&gt;$scope&lt;/code&gt; from inside a controller.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;    app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;$log&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;$rootScope&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;$log&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; $rootScope&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        $rootScope&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;visibilityChange&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; hidden&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; visibilityState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            $log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hidden &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; / &apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; visibilityState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As I switched tabs, I could see the change between &lt;code class=&quot;language-text&quot;&gt;hidden=true / visibilityState=hidden&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;hidden=false / visibilityState=visible&lt;/code&gt;  However, in Chrome if the tab is on top of its own window, you can switch to a tab on another Chrome window without firing the event.&lt;/p&gt;
&lt;p&gt;You may ask why am I spending time on this and how is this relevant to building web applications?  Imagine if your app was using websockets or long polling to communicate with the server.  You may make an app decision to throttle back those requests after a tab goes hidden in order to save the user’s resources (e.g. battery or bandwidth). If the application has collaboration features like chat or online presence awareness, the visibility state could provide useful information.  Additionally, if the user has multiple tabs open and their session times out, you might only want to redirect the visible tab back to the login page.  Those are just a few ideas for using the Page Visibility API.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[CDN Hosting of JavaScript and Information Security Aspects]]></title><description><![CDATA[During the last Front-End group call, we were discussing JavaScript combination/minification when the topic of using a Content Delivery…]]></description><link>https://kevinhakanson.com/2014-07-03-cdn-hosting-of-javascript-and-information-security-aspects/</link><guid isPermaLink="false">https://kevinhakanson.com/2014-07-03-cdn-hosting-of-javascript-and-information-security-aspects/</guid><pubDate>Thu, 03 Jul 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;During the last Front-End group call, we were discussing JavaScript combination/minification when the topic of using a &lt;a href=&quot;http://en.wikipedia.org/wiki/Content_delivery_network&quot;&gt;Content Delivery Network&lt;/a&gt; (CDN) came up.  This is a well-known performance “best practice” on the internet, but I mentioned it comes with some interesting information security concerns.  It looks something like this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;script src=&quot;//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js&quot;&gt;&amp;lt;/script&gt;&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For those new to the topic, you can find many blog posts detailing this strategy.  For example, take a look at &lt;a href=&quot;http://encosia.com/3-reasons-why-you-should-let-google-host-jquery-for-you/&quot;&gt;3 reasons why you should let Google host jQuery for you&lt;/a&gt;.  Since this article mentions jQuery and not AngularJS, I’m going to continue to use jQuery for this discussion.  The author asserts that:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Doing so has several advantages over hosting jQuery on your server(s): &lt;strong&gt;decreased latency&lt;/strong&gt;, &lt;strong&gt;increased parallelism&lt;/strong&gt;, and &lt;strong&gt;better caching&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let me summarize these points with some more quotes from that article:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;decreased latency&lt;/strong&gt; - “automatically target the closest available server in the network” so the user “will be able to download jQuery faster”&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;increased parallelism&lt;/strong&gt; - “doesn’t make a gigantic difference for users with a six concurrent connection browser”&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;better caching&lt;/strong&gt; - “if someone visits hundreds of sites using the same Google hosted version of jQuery, they will only need download it once!”&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The jQuery site itself mentions &lt;a href=&quot;http://jquery.com/download/#using-jquery-with-a-cdn&quot;&gt;Using jQuery with a CDN&lt;/a&gt; including listing several CDNs that host jQuery.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;CDNs can offer a performance benefit by hosting jQuery on servers spread across the globe. This also offers an advantage that if the visitor to your webpage has already downloaded a copy of jQuery from the same CDN, it won’t have to be re-downloaded.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I am going to differentiate using a public, free CDN like &lt;a href=&quot;http://code.jquery.com/&quot;&gt;jQuery CDN&lt;/a&gt; or &lt;a href=&quot;https://developers.google.com/speed/libraries/devguide#jquery&quot;&gt;Google Hosted Libraries&lt;/a&gt; from using a paid product like &lt;a href=&quot;http://www.akamai.com/html/solutions/dynamic-site-accelerator.html&quot;&gt;Dynamic Site Accelerator&lt;/a&gt; from Akamai.  With the latter, you have an established business relationship that has been vetted around topics like uptime/SLA and security reviews.&lt;/p&gt;
&lt;p&gt;From an information security perspective, here are some items to consider:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Isn’t CDN hosting logically just another one of the &lt;a href=&quot;https://www.owasp.org/index.php/Types_of_Cross-Site_Scripting&quot;&gt;Types of Cross-Site Scripting&lt;/a&gt;?  Yes, it is true that you injected the script yourself, but it is still loading a remote executable that has access to your data.  What if the CDN gets hacked?&lt;/li&gt;
&lt;li&gt;Not hosting the source code yourself means it may not be included in any static source code scanning performed on your build (like Veracode).&lt;/li&gt;
&lt;li&gt;You implicitly accept any &lt;a href=&quot;https://developers.google.com/speed/libraries/terms&quot;&gt;Termgenerals of Service&lt;/a&gt; for your users, including any user or IP address tracking.  Is this compatible with your product’s terms of service?&lt;/li&gt;
&lt;li&gt;The &lt;a href=&quot;http://jquery.com/download/#other-cdns&quot;&gt;Other CDNs&lt;/a&gt; section on the jQuery site states “there may be delays between a jQuery release and its availability there”, which means if you have to push out a security fix, you need to wait for the CDN to deploy.&lt;/li&gt;
&lt;li&gt;The &lt;a href=&quot;https://plus.google.com/+IlyaGrigorik/posts/N8dDov8vWcM&quot;&gt;jQuery CDN HTTPS certificate expired on July 31&lt;/a&gt; and caused a short outage.  So, in addition to not being in control of the code that is hosted, you don’t have control over if the site is functional or not.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In general, I like the idea of free hosting.  For a personal blog, where users may quickly pop in to read a post and maybe never come back, they serve an important purpose.  In fact, many of these CDNs have excellent operational and security characteristics.  However, for a paid product where we are trusted with the privacy of their data, these are essential points to consider.  I wouldn’t recommend a free CDN for the projects I am working on, but “your mileage may vary” so understand the risks vs. the rewards before taking general advice from the internet.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[The Architecture of Open Source Applications]]></title><description><![CDATA[I was reading through my latest Dr. Dobbs Update email, and saw an interesting article on Firefox Release Engineering. The article talks…]]></description><link>https://kevinhakanson.com/2014-06-24-the-architecture-of-open-source-applications/</link><guid isPermaLink="false">https://kevinhakanson.com/2014-06-24-the-architecture-of-open-source-applications/</guid><pubDate>Tue, 24 Jun 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was reading through my latest &lt;a href=&quot;http://www.drdobbs.com/&quot;&gt;Dr. Dobbs&lt;/a&gt; Update email, and saw an interesting article on &lt;a href=&quot;http://www.drdobbs.com/article/print?articleId=240168409&amp;#x26;siteSectionName=architecture-and-design&quot;&gt;Firefox Release Engineering&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The article talks about their release mindset, including the importance of release automation and a “Release Coordinator,” who is the one person who is designated to assume responsibility for coordinating the entire release.  I like the terminology of “calm precision” from the quote below.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When we do have a chemspill release, the more robust the release automation, the less stressed the humans in Release Engineering are. We’re used to the idea of going as fast as possible with calm precision, and we’ve built tools to do this as safely and robustly as we know how. Less stress means more calm and precise work within a well-rehearsed process, which in turn helps chemspill releases go smoothly.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There is a lot of useful information in this article which concludes with Lessons Learned:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The Importance of Buy-in from Other Stakeholders&lt;/li&gt;
&lt;li&gt;Involving Other Groups&lt;/li&gt;
&lt;li&gt;Establishing Clear Handoffs&lt;/li&gt;
&lt;li&gt;Managing Turnover&lt;/li&gt;
&lt;li&gt;Managing Change&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I often sit through the closing credits of a movie to see if they put anything interesting at the end.  I’m glad I also did for this article since an endnote mentioned:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;This article was excerpted with permission from Volume 2 of&lt;/em&gt; &lt;a href=&quot;http://www.lulu.com/shop/amy-brown-and-greg-wilson/the-architecture-of-open-source-applications/paperback/product-18961377.html&quot;&gt;Architecture of Open Source Applications&lt;/a&gt; &lt;em&gt;and lightly edited.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The link brought me to a page where I could buy the paper book for $25 or ebook for $10.  I also noticed it was copyright Creative Commons Attribution 3.0 Unported.  Knowing this means I find this information for free somewhere, my google search brought me to &lt;a href=&quot;http://aosabook.org/en/index.html&quot;&gt;http://aosabook.org/en/index.html&lt;/a&gt;, where I found three books:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;The Architecture of Open Source Applications&lt;/strong&gt;&lt;br&gt;
Elegance, Evolution and a Few Fearless Hacks&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;The Architecture of Open Source Applications&lt;/strong&gt;&lt;br&gt;
Volume II: Structure, Scale and a Few More Fearless Hacks&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;The Performance of Open Source Applications&lt;/strong&gt;&lt;br&gt;
Speed, Precision, and a Bit of Serendipity&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I now have more items to add to my summer reading list.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[I love to talk; I hate to type.]]></title><description><![CDATA[If you know me, you won’t be surprised that I love to talk. What you may not know, is that I hate to type. Between my poor spelling and my…]]></description><link>https://kevinhakanson.com/2014-06-01-i-love-to-talk-i-hate-to-type/</link><guid isPermaLink="false">https://kevinhakanson.com/2014-06-01-i-love-to-talk-i-hate-to-type/</guid><pubDate>Sun, 01 Jun 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;If you know me, you won’t be surprised that I love to talk. What you may not know, is that I hate to type. Between my poor spelling and my constant typos, I think the &lt;code class=&quot;language-text&quot;&gt;delete&lt;/code&gt; key accounts for about 50% of my keystrokes. In fact, typing class was the only B-grade in my high school career. 25 years later and I’m not that much better.&lt;/p&gt;
&lt;p&gt;On iOS, Siri gives you exceptional dictation abilities. Recently, I heard about a new iOS application from Scott Hanselman (&lt;a href=&quot;https://twitter.com/shanselman&quot;&gt;@shanselman&lt;/a&gt;), one of my favorite Microsoft employees. He was able to leverage Siri on iOS to do dictation into any Windows application. Learn more about it at &lt;a href=&quot;http://myechoapp.com/&quot;&gt;myEcho: Bringing iOS quality speech recognition and dictation to Windows&lt;/a&gt; and read about how it was built using C# on his blog: &lt;a href=&quot;http://www.hanselman.com/blog/WeAreAbstractingOnTheShouldersOfGiants.aspx&quot;&gt;We are abstracting on the shoulders of giants&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;That made me wonder - can my Mac do dictation? A quick Google search indicated that it could, and it was easy to use. To prove it, I dictated the first draft of this blog post.  Learn how to enable diction on your Mac: &lt;a href=&quot;http://support.apple.com/kb/ht5449&quot;&gt;Mac Basics: Dictation lets you speak text instead of typing&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Do you speak to your computer and expect it to listen?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[cf.Objective() 2014]]></title><description><![CDATA[Last week I was a speaker at cf.Objective() 2014: The World’s Only Enterprise ColdFusion Conference, giving my Developer’s Guide to…]]></description><link>https://kevinhakanson.com/2014-05-20-cfobjective-2014/</link><guid isPermaLink="false">https://kevinhakanson.com/2014-05-20-cfobjective-2014/</guid><pubDate>Tue, 20 May 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Last week I was a &lt;a href=&quot;http://www.cfobjective.com/speakers/kevin-hakanson/&quot;&gt;speaker&lt;/a&gt; at &lt;a href=&quot;http://www.cfobjective.com/&quot;&gt;cf.Objective() 2014: The World’s Only Enterprise ColdFusion Conference&lt;/a&gt;, giving my &lt;a href=&quot;http://www.cfobjective.com/sessions/developers-guide-to-javascript-and-web-cryptography/&quot;&gt;Developer’s Guide to JavaScript and Web Cryptography&lt;/a&gt; presentation.  It took place May 13-16, 2014 at the Radisson Blu - Mall of America, Bloomington, MN.  Session organizers were looking for more Front-End / Mobile / CSS sessions including &lt;strong&gt;js.Objective()&lt;/strong&gt;, a full track dedicated to JavaScript topics.&lt;/p&gt;
&lt;p&gt;When I was there, I caught a couple interesting (and relevant) sessions.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cfobjective.com/sessions/keynote-address-redesigning-the-interface-making-software-development-make-sense-to-everyone/&quot;&gt;**Keynote Address** Redesigning the Interface: Making Software Development Make Sense to Everyone&lt;/a&gt; -&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Jen Myers (&lt;a href=&quot;https://twitter.com/antiheroine&quot;&gt;@antiheroine&lt;/a&gt;) -
&lt;a href=&quot;https://speakerdeck.com/jenmyers/redesigning-the-interface&quot;&gt;slides&lt;/a&gt;
Jen is a web designer/developer, teacher and speaker from Chicago.  She gave a good presentation on diversity in software development, an especially relevant topic in today’s environment.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cfobjective.com/sessions/security-headers/&quot;&gt;Security Headers - cf.Objective()&lt;/a&gt; -&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pete Freitag (&lt;a href=&quot;https://twitter.com/pfreitag&quot;&gt;@pfreitag&lt;/a&gt;) -
&lt;a href=&quot;http://slides.com/petefreitag/security-headers&quot;&gt;slides&lt;/a&gt; Pete shared some good info on Content-Security-Policy at &lt;a href=&quot;http://content-security-policy.com/&quot;&gt;Content Security Policy Reference &amp;#x26; Examples&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Also, by viewing HTTP headers coming from Google Fonts, I learned about the Timing-Allow-Origin Response header from the &lt;a href=&quot;http://www.w3.org/TR/2014/CR-resource-timing-20140325/&quot;&gt;Resource Timing&lt;/a&gt; spec:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The PerformanceResourceTiming interface exposes timing information for a resource to any web page that has included that resource. To limit the access to the PerformanceResourceTiming interface, the same origin policy is enforced by default and certain attributes are set to zero, as described in Section 4.5 Cross-origin Resources. Resource providers can explicitly allow all timing information to be collected for a resource by adding the Timing-Allow-Origin HTTP response header, which specifies the domains that are allowed to access the timing information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cfobjective.com/sessions/using-owasp-zap-to-find-vulnerabilities-in-your-web-apps/&quot;&gt;Using OWASP ZAP to find vulnerabilities in your web apps&lt;/a&gt; -&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;David Epler (&lt;a href=&quot;https://twitter.com/dcepler&quot;&gt;@dcepler&lt;/a&gt;) -
To get good at writing secure software, you really should try and hack your own code - ZAP is a tool that can help you do that.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cfobjective.com/sessions/web-components-are-awesome-and-polymer-too/&quot;&gt;Web Components are Awesome (and Polymer too)&lt;/a&gt; -&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Elliott Sprehn (&lt;a href=&quot;https://twitter.com/ElliottZ&quot;&gt;@ElliottZ&lt;/a&gt;) -
&lt;a href=&quot;http://elliottsprehn.com/preso/webcomponents/&quot;&gt;slides&lt;/a&gt; -
Elliott is the tech lead for the web components effort at Google, so he seemed qualified to speak on this topic.  His HTML5 based slide deck was written using Web Components (you can view source and look for &lt;code class=&quot;language-text&quot;&gt;&amp;lt;sd-deck&gt;&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;&amp;lt;sd-slide&gt;&lt;/code&gt; elements).  He also helped me make progress on an open Chromium bug I submitted last fall:  &lt;a href=&quot;https://code.google.com/p/chromium/issues/detail?id=304722&quot;&gt;Issue 304722 -  chromium -  Intl NumberFormat minimumFractionDigits options property not honored&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cfobjective.com/sessions/leveling-up-at-javascript-understanding-the-confusing-bits/&quot;&gt;Leveling Up at Javascript: Understanding the Confusing bits - cf.Objective()&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Jason Dean(12Robots) (&lt;a href=&quot;https://twitter.com/JasonPDean&quot;&gt;@JasonPDean&lt;/a&gt;) -
Jason is also from MN and the person who shared the call for speakers with the &lt;a href=&quot;http://www.meetup.com/JavaScriptMN/&quot;&gt;JavaScriptMN Meetup&lt;/a&gt; group last fall.  His presentation was more intro level, but he had great examples of JavaScript variable &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var#var_hoisting&quot;&gt;hoisting&lt;/a&gt; which validated his session title by confusing the audience.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cfobjective.com/sessions/panel-discussion-why-client-side/&quot;&gt;Panel Discussion: Why Client-Side?&lt;/a&gt; -&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Nothing really new in this moderator led panel discussion on client-side vs. server side development, but it did validate that this is a common issue faced by many web developers.  The answer almost always was that “it depends.”&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cfobjective.com/sessions/futurejs-an-introduction-to-ecmascript-6-e2809charmonye2809d/&quot;&gt;FutureJS: An Introduction to ECMAScript 6 “Harmony”&lt;/a&gt; -&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Marcin Szczepanski (&lt;a href=&quot;https://twitter.com/MarcinS&quot;&gt;@MarcinS&lt;/a&gt;) -
Marcin traveled from Australia where he works at &lt;a href=&quot;https://www.atlassian.com/&quot;&gt;Atlassian&lt;/a&gt;.  ECMAScript 6 is adding new language features and syntactic sugar to JavaScript.  Marcin even updated Jason’s var hoisting examples, by converting them to &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let&quot;&gt;let&lt;/a&gt;, which gives JavaScript block scope local variables.  It will be a bit before the browsers catch up (took about 4 years for ECMAScript 5), but until then you always have transpilers:  &lt;a href=&quot;https://github.com/google/traceur-compiler&quot;&gt;google/traceur-compiler · GitHub&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The full &lt;a href=&quot;http://www.cfobjective.com/schedule/&quot;&gt;schedule&lt;/a&gt; has many more topics with the final slide decks to be available on &lt;a href=&quot;http://www.slideshare.net/ColdFusionConference&quot;&gt;slideshare&lt;/a&gt; soon.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[JSON-LD is an official Web Standard]]></title><description><![CDATA[Saw a link to JSON-LD is an official Web Standard on Twitter - took me a bit to realize LD was Linked Data.  I could see this being useful…]]></description><link>https://kevinhakanson.com/2014-01-17-json-ld-is-an-official-web-standard/</link><guid isPermaLink="false">https://kevinhakanson.com/2014-01-17-json-ld-is-an-official-web-standard/</guid><pubDate>Fri, 17 Jan 2014 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Saw a link to &lt;a href=&quot;http://semanticweb.com/j-son-ld-official-web-standard_b41441&quot;&gt;JSON-LD is an official Web Standard&lt;/a&gt; on Twitter - took me a bit to realize LD was Linked Data.  I could see this being useful in our REST APIs that return JSON.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;JSON-LD has reached the status of being an official “&lt;a href=&quot;http://www.w3.org/standards/faq#std&quot;&gt;Recommendation&lt;/a&gt;” of the W3C. JSON-LD provides yet another way for web developers to add structured data into web pages, joining RDFa.The &lt;a href=&quot;http://www.w3.org/TR/2014/REC-json-ld-20140116/&quot;&gt;W3C documentation&lt;/a&gt; says, “JSON is a useful data serialization and messaging format. This specification defines JSON-LD, a JSON-based format to serialize Linked Data.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA["Persistent URL" and "Link Resolver" as Industry Terminology]]></title><description><![CDATA[An internal project was using the name “link resolver” so I was looking for string matches and found one in the Wikipedia OpenURL…]]></description><link>https://kevinhakanson.com/2013-11-16-persistent-url-and-link-resolver-as-industry-terminology/</link><guid isPermaLink="false">https://kevinhakanson.com/2013-11-16-persistent-url-and-link-resolver-as-industry-terminology/</guid><pubDate>Sat, 16 Nov 2013 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;An internal project was using the name “link resolver” so I was looking for string matches and found one in the Wikipedia &lt;a href=&quot;http://en.wikipedia.org/wiki/Openurl&quot;&gt;OpenURL&lt;/a&gt; description:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;OpenURL&lt;/strong&gt; is a standardized format of Uniform Resource Locator (URL) intended to enable Internet users to more easily find a copy of a resource that they are allowed to access. Although OpenURL can be used with any kind of resource on the Internet, it is most heavily used by libraries to help connect patrons to subscription content.&lt;/p&gt;
&lt;p&gt;The OpenURL standard is designed to enable linking from information resources such as abstracting and indexing databases (sources) to library services (targets), such as academic journals, whether online or in printed or other formats. The linking is mediated by “link resolvers”, or “link-servers”, which parse the elements of an OpenURL and provide links to appropriate targets available through a library by the use of an OpenURL knowledge base.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Below are excerpts from the Wikipedia &lt;a href=&quot;http://en.wikipedia.org/wiki/PURL&quot;&gt;Persistent uniform resource locator&lt;/a&gt; document describe our problem well, and also use the &lt;strong&gt;resolver/resolution&lt;/strong&gt; vocabulary.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A persistent uniform resource locator (PURL) is a uniform resource locator (URL) (i.e. location-based uniform resource identifier or URI) that is used to redirect to the location of the requested web resource. PURLs redirect HTTP clients using HTTP status codes. PURLs are used to curate the URL resolution process, thus solving the problem of transitory URIs in location-based URI schemes like HTTP.&lt;/p&gt;
&lt;p&gt;A URL is simply an address of a resource on the World Wide Web. A Persistent URL is an address on the World Wide Web that causes a redirection to another Web resource. If a Web resource changes location (and hence URL), a PURL pointing to it can be updated. A user of a PURL always uses the same Web address, even though the resource in question may have moved. PURLs may be used by publishers to manage their own information space or by Web users to manage theirs; a PURL service is independent of the publisher of information. PURL services thus allow the management of hyperlink integrity. Hyperlink integrity is a design trade-off of the World Wide Web, but may be partially restored by allowing resource users or third parties to influence where and how a URL resolves.&lt;/p&gt;
&lt;p&gt;A simple PURL works by responding to an HTTP GET request by returning a response of type 302 (equivalent to the HTTP status code 302, meaning “Found”). The response contains an HTTP “Location” header, the value of which is a URL that the client should subsequently retrieve via a new HTTP GET request.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The &lt;a href=&quot;http://www.doi.org/factsheets/DOIIdentifierSpecs.html&quot;&gt;DOI® System and Internet Identifier Specifications&lt;/a&gt; Factsheet had a good section on &lt;strong&gt;URI, URL, and URN&lt;/strong&gt; and their historical usages.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Historically there was ambiguity and confusion in the use of these terms. RFC 3986 (2005) aimed to end this by stating that a URI can be classified as a locator, a name, or both. In this view, the term URL refers to the subset of URIs that, in addition to identifying a resource, provide a means of locating the resource; the term URN has been used historically to refer to both URIs under the “urn” scheme (RFC 2141) which are required to remain globally unique and persistent even when the resource ceases to exist or becomes unavailable, and to any other URI with the properties of a name.&lt;/p&gt;
&lt;p&gt;RFC 3986 requires that the terms URL and URN be deprecated. This brings a uniformity to the technical treatment of all URIs; however the risk of confusion remains&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This project should also be aware of forward looking efforts on Linked Data, but this doesn’t affect our deliverables in that we need to support existing URLs and their formats, but may affect us in the terminology used in how we describe our project.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[IE11 Automatic Update Blocker Toolkit Available for Windows 7]]></title><description><![CDATA[A couple of recent postings on the IEBlog were IE11 for Windows 7 Globally Available for Consumers and Businesses and IE11 Automatic Update…]]></description><link>https://kevinhakanson.com/2013-11-11-ie11-automatic-update-blocker-toolkit-available-for-windows-7/</link><guid isPermaLink="false">https://kevinhakanson.com/2013-11-11-ie11-automatic-update-blocker-toolkit-available-for-windows-7/</guid><pubDate>Mon, 11 Nov 2013 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;A couple of recent postings on the &lt;a href=&quot;http://blogs.msdn.com/b/ie/&quot;&gt;IEBlog&lt;/a&gt; were &lt;a href=&quot;http://blogs.msdn.com/b/ie/archive/2013/11/07/ie11-for-windows-7-globally-available-for-consumers-and-businesses.aspx&quot;&gt;IE11 for Windows 7 Globally Available for Consumers and Businesses&lt;/a&gt; and &lt;a href=&quot;http://blogs.msdn.com/b/ie/archive/2013/10/11/ie11-automatic-update-blocker-toolkit-available-for-windows-7.aspx&quot;&gt;IE11 Automatic Update Blocker Toolkit Available for Windows 7&lt;/a&gt;.  If you have a browser testing VM that you want to stay at IE10 (like I do), then you need to watch out for auto updates.  Check out the links above (and excerpt below) for more details.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The &lt;a href=&quot;http://www.microsoft.com/en-us/download/details.aspx?id=40722&quot;&gt;IE11 Automatic Update Blocker Toolkit&lt;/a&gt; can be used to prevent Internet Explorer 11 from being automatically installed on users’ Windows 7 machines when it is available via Automatic Update. This Toolkit has no expiration date and is configured either by running the registry file on the client machine or by deploying Group Policy in domain joined environments. The toolkit also provides an unblock procedure that allows IE11 to be installed through Automatic Update.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[The End of Chrome Frame and Chrome for XP Support]]></title><description><![CDATA[Since Chrome Frame was pushed out to employees to support Workday, we have been seeing some odd browser issues with a few of our…]]></description><link>https://kevinhakanson.com/2013-10-17-the-end-of-chrome-frame-and-chrome-for-xp-support/</link><guid isPermaLink="false">https://kevinhakanson.com/2013-10-17-the-end-of-chrome-frame-and-chrome-for-xp-support/</guid><pubDate>Thu, 17 Oct 2013 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Since Chrome Frame was pushed out to employees to support Workday, we have been seeing some odd browser issues with a few of our applications.  This has led us to “disable” Chrome Frame support by setting the maximum IE version used to IE6 (N.b. chrome=0 does not work; you can verify by looking at the &lt;a href=&quot;https://code.google.com/p/chromium/codesearch#chromium/src/chrome_frame/utils.cc&amp;#x26;sq=package:chromium&amp;#x26;type=cs&quot;&gt;chromium GetXUaCompatibleDirective source code&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;http-equiv&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;X-UA-Compatible&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;IE=edge,chrome=IE6&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;More details on the end of Chrome support are available from some Google Chrome/Chromium blog posts.&lt;/p&gt;
&lt;p&gt;From &lt;a href=&quot;http://chrome.blogspot.com/2013/10/extending-chrome-support-for-xp-users.html&quot;&gt;Extending Chrome support for XP users until April 2015&lt;/a&gt; (Wednesday, October 16, 2013)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;On April 8, 2014, after more than a decade of powering many of the world’s computers, Windows XP will officially retire. Like all technologies that come to their end-of-life, the XP operating system and most of its desktop applications will no longer receive updates and security patches. Since unpatched browser bugs are often used by malware to infect computers, we’re extending support for Chrome on Windows XP, and will continue to provide regular updates and security patches until at least April 2015.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;From &lt;a href=&quot;http://blog.chromium.org/2013/06/retiring-chrome-frame.html&quot;&gt;Retiring Chrome Frame&lt;/a&gt; (Thursday, June 13, 2013)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Given these factors we’ve decided to retire Chrome Frame, and will cease support and updates for the product in January 2014.&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[ECMAScript Internationalization API Specification]]></title><description><![CDATA[I recently downloaded and installed Windows 8.1 Preview to take a look at IE 11 Preview and check out the new “web standards” based features…]]></description><link>https://kevinhakanson.com/2013-07-08-ecmascript-internationalization-api-specification/</link><guid isPermaLink="false">https://kevinhakanson.com/2013-07-08-ecmascript-internationalization-api-specification/</guid><pubDate>Mon, 08 Jul 2013 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I recently downloaded and installed Windows 8.1 Preview to take a look at IE 11 Preview and check out the new “web standards” based features.  One of these standards supported is &lt;a href=&quot;http://ecma-international.org/publications/standards/Ecma-402.htm&quot;&gt;Ecma-402&lt;/a&gt; or the &lt;a href=&quot;http://www.ecma-international.org/ecma-402/1.0/&quot;&gt;ECMAScript Internationalization API Specification&lt;/a&gt; (see &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/ff405926(v=vs.85).aspx&quot;&gt;Internet Explorer Standards Support Documents&lt;/a&gt; for the full list).  If you don’t want to read through the specification, &lt;a href=&quot;http://norbertlindenberg.com/2012/12/ecmascript-internationalization-api/&quot;&gt;Norbert’s Corner&lt;/a&gt; has a December 2012 article explaining the API.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://test262.ecmascript.org/testcases_intl402.html&quot;&gt;ECMAScript Internationalization test402&lt;/a&gt; hosts a set of runnable test cases to test the JavaScript implementation against the API specification. I was curious how well IE 11 stood up against the other browsers.&lt;/p&gt;
&lt;p&gt;For a baseline, here are the results for Google Chrome (Mac; Version 27.0.1453.116)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/19d550ec0765a89d94b473499810225b/01dae/chrome-mac.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 9.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhUlEQVR42gF6AIX/APjLe/jLfvfJfPjKfPPHfOS8eeW9eOa+ePnLfffKfPfJfPbJev3NhN/lypnEkp/ElKTIm53DkqDGl5jBjgDo4dbu593i29Ds5drj3NLi3NXn4dje2M/q4tnp6dbq6dnv4tj56d3g4d/f49/j49/18u31+fb2+PT09/TQBmCjFFlgmAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Google Chrome (Mac; Version 27.0.1453.116)&quot;
        title=&quot;&quot;
        src=&quot;/static/19d550ec0765a89d94b473499810225b/fcda8/chrome-mac.png&quot;
        srcset=&quot;/static/19d550ec0765a89d94b473499810225b/12f09/chrome-mac.png 148w,
/static/19d550ec0765a89d94b473499810225b/e4a3f/chrome-mac.png 295w,
/static/19d550ec0765a89d94b473499810225b/fcda8/chrome-mac.png 590w,
/static/19d550ec0765a89d94b473499810225b/01dae/chrome-mac.png 721w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So how do the bleeding edge versions of the leading web browsers compare?&lt;/p&gt;
&lt;p&gt;Firefox Nightly 25.0a1 (Windows; 2013-07-08)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/35f4938a37a7835b71ab2053c6459cbe/37523/firefox-windows.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 8.783783783783782%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhUlEQVR42gF6AIX/APfHdPfGc/fGc/XFc+S4b+e6cOK3bvTEcvjHdPfGc/fHdPTDbP/UlsXew4+7g5a/i57FlJbAi5nCjpW/igDw6d7r5Nrx6d/q49nn4tnr5t7n4dnt5t3v6N3y8eDu5t385dj06uLl5+Xj5+Tn5uH39PH2+fb3+fb2+PWJX2B5vOEE5gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Firefox Nightly 25.0a1 (Windows; 2013-07-08)&quot;
        title=&quot;&quot;
        src=&quot;/static/35f4938a37a7835b71ab2053c6459cbe/fcda8/firefox-windows.png&quot;
        srcset=&quot;/static/35f4938a37a7835b71ab2053c6459cbe/12f09/firefox-windows.png 148w,
/static/35f4938a37a7835b71ab2053c6459cbe/e4a3f/firefox-windows.png 295w,
/static/35f4938a37a7835b71ab2053c6459cbe/fcda8/firefox-windows.png 590w,
/static/35f4938a37a7835b71ab2053c6459cbe/37523/firefox-windows.png 720w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Internet Explorer Preview (11.0.9431.0)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ac15f9eaf14b130b3bbf97140db1d740/073e9/ie-preview.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 8.783783783783782%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhUlEQVR42gF6AIX/APfFcPbEbvfEbfPCbeC0auS3auC0aPTDbvjGb/bDbvbEb/PBZ/7SkMfewou6f5S+iZrCj5O+iJa/ipG9hQDs5t3r5dzu6N/o4trn4drq5d7m4drs5t3t597t8dzs6d/15dv16uLj5eTk5+Xl4t/49PH3+/j4+ff3+fZILF+3yCMNwgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Internet Explorer Preview (11.0.9431.0)&quot;
        title=&quot;&quot;
        src=&quot;/static/ac15f9eaf14b130b3bbf97140db1d740/fcda8/ie-preview.png&quot;
        srcset=&quot;/static/ac15f9eaf14b130b3bbf97140db1d740/12f09/ie-preview.png 148w,
/static/ac15f9eaf14b130b3bbf97140db1d740/e4a3f/ie-preview.png 295w,
/static/ac15f9eaf14b130b3bbf97140db1d740/fcda8/ie-preview.png 590w,
/static/ac15f9eaf14b130b3bbf97140db1d740/073e9/ie-preview.png 719w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Google Chrome (Windows; Version 30.0.1559.0 canary)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1f264d36342a5fbe96d106e0cc50732e/01dae/chrome-windows.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 9.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhUlEQVR42gF6AIX/APjIdvjJeffHd/jIePLEdue7dOi8c+q9c/nJePfId/fHd/bHdvzKfeLkyZbCkZrBjqLHmJjBjZ3EkpbAiwDw6eDx6+Hs5dvy7OLr5dvq5d3s5t/q5Nzw6ODw7t/x7uHz59/77ePp6ebm6ufm6OX18u72+vf3+ff2+fbTEGF/Fz2YzQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Google Chrome (Windows; Version 30.0.1559.0 canary)&quot;
        title=&quot;&quot;
        src=&quot;/static/1f264d36342a5fbe96d106e0cc50732e/fcda8/chrome-windows.png&quot;
        srcset=&quot;/static/1f264d36342a5fbe96d106e0cc50732e/12f09/chrome-windows.png 148w,
/static/1f264d36342a5fbe96d106e0cc50732e/e4a3f/chrome-windows.png 295w,
/static/1f264d36342a5fbe96d106e0cc50732e/fcda8/chrome-windows.png 590w,
/static/1f264d36342a5fbe96d106e0cc50732e/01dae/chrome-windows.png 721w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I was a little surprised to see IE 11 come out on top, but not after reading &lt;a href=&quot;http://blogs.msdn.com/b/ie/archive/2013/07/01/updates-to-the-internet-explorer-testing-center.aspx&quot;&gt;Updates to the Internet Explorer Testing Center&lt;/a&gt; and seeing how many test cases they created, and are submitting back to the official standards bodies.&lt;/p&gt;
&lt;p&gt;However, given our customers still request IE 7 support, I guess I will be looking for a polyfill.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[SATURN 2013 Software Architecture Conference]]></title><description><![CDATA[The Software Engineering Institute (SEI) Architecture Technology User Network (SATURN) Conference took place at the Marriott City Center in…]]></description><link>https://kevinhakanson.com/2013-05-13-saturn-2013-software-architecture-conference/</link><guid isPermaLink="false">https://kevinhakanson.com/2013-05-13-saturn-2013-software-architecture-conference/</guid><pubDate>Mon, 13 May 2013 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The Software Engineering Institute (SEI) Architecture Technology User Network (SATURN) Conference took place at the Marriott City Center in Minneapolis, Minnesota from April 29 to May 3, 2013.  I attended the keynotes and sessions on May 1 and 2.  It was a mix of practicing software architects, developers, managers, and academics.&lt;/p&gt;
&lt;p&gt;The keynotes were longer form, lasting about an hour with everybody in the main hall.  The session blocks were 90 minutes that included three shorter presentations.  This was in effect about 20-25 minutes for each, with time for questions at the end.  There were three separate session tracks available to attend each block.&lt;/p&gt;
&lt;p&gt;The day 1 opening keynote was about how the “Credit Suisse Information Bus” took about 15 years to realize their service-oriented architecture efforts fully.  It was an interesting case study in how long some efforts take, how to integrate new systems via acquisitions and how a few of the services have the most reuse with the long tail dropping off fast.  The afternoon keynote was about working at Wordpress and how extreme they are on self-direction.  Anyone can check anything into production, but they only hire all-star talent.  This may work for a 50 to 150 person company, but how high does it scale?  However, this was a good counter perspective to the large-systems, big-up-front design methodology.&lt;/p&gt;
&lt;p&gt;I attended a set of Modeling and Documentation sessions in the morning block, where I was reminded of &lt;a href=&quot;http://www.iso-architecture.org/ieee-1471/defining-architecture.html&quot;&gt;ISO/IEC/IEEE 42010&lt;/a&gt; and the more formal descriptions of software architecture.  These sessions were more academic and formal.  In the afternoon block, I  attended Agile II.  Some good phrases were “document significant decisions vs. low-level details” and the concept of ”&lt;a href=&quot;http://www.codingthearchitecture.com/2012/07/11/risk_storming.html&quot;&gt;risk storming&lt;/a&gt;.”  A session that references some SEI studies hit home, as the top highlighted issues with agile projects were “features over stability”, “slow business decisions” and “external dependency management.”  However, the largest group in their study was a &gt;30 person integrated team (includes developers, managers, business, architect, etc), so an order of magnitude less than our WestlawNext agile implementation.  I attended an open space/breakout session at the end of the day for a good ad-hoc discussion.&lt;/p&gt;
&lt;p&gt;On day 2, Mary Poppendieck delivered the morning keynote, which was more a psychological presentation on the rational vs. intuitive mind how that impacts lean and agile projects.  Mary is always an entertaining speaker.  The closing keynote was my favorite, where Philippe Kruchten was speaking on “Games Architects Play: On Reasoning Fallacies, Cognitive Biases, and Politics.”  He has a set of patterns of behaviors and biases, including: golden hammer; “yes, but”; teacher’s pet; “let’s have a vote”; and “obviously.”  The point was knowing these patterns is a useful tool to avoid their effects.&lt;/p&gt;
&lt;p&gt;I attended a morning set of sessions called “Fusion Methods” where I heard about Risk- and Cost-Driven Architecture (RCDA) and reminded me every architect should have a backlog that they are working against.  Another session talked about agile planning and used a “map vs. a GPS” metaphor and the balance at looking at the map up front for full directions vs. use a GPS and only knowing the “next step” which sometimes results in getting lost because of bad information and hearing the dreaded “recalculating”.  I jumped over to see a talk on the next generation of web architecture style, referred to as Service-Oriented Front-End Architecture (SOFEA).  This was a very good talk for 20 minutes but it is basically what we designed for ADC - (I should have created a fancy acronym).  In the afternoon, I saw some “Architectural Evaluation” sessions.  In case studies of in-the-field evaluations, teams usually have “good people” but the requirements are missing or not documented and had to be reconstructed for the onsite evaluations.  Unfortunately, this reminded me of some projects I have been on where the next feature was prioritized over tech debt, including good tests and documentation.  When I learned how Raytheon has to test missile guidance systems, I am glad we have web applications we can hotfix.&lt;/p&gt;
&lt;p&gt;More information can be found at the &lt;a href=&quot;http://www.sei.cmu.edu/saturn/2013/&quot;&gt;SATURN 2013 conference site&lt;/a&gt;, including a &lt;a href=&quot;http://www.sei.cmu.edu/saturn/2013/upload/SATURN-2013-presentations.zip&quot;&gt;download all the SATURN 2013 presentations&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Customer upload speeds?]]></title><description><![CDATA[As newer products are dealing more with uploaded user content than just searching and displaying company content, I was curious about how…]]></description><link>https://kevinhakanson.com/2012-02-01-customer-upload-speeds/</link><guid isPermaLink="false">https://kevinhakanson.com/2012-02-01-customer-upload-speeds/</guid><pubDate>Wed, 01 Feb 2012 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;As newer products are dealing more with uploaded user content than just searching and displaying company content, I was curious about how fast their internet connections are.  I know my online backup trickles compared to my download speeds, so I wondered if it was the same for our customers.  I just ran across &lt;a href=&quot;http://www.broadbandmap.gov/summarize/nationwide/speedtest-upload&quot;&gt;Analyze &gt; Summarize &gt; Nationwide - National Broadband Map&lt;/a&gt;, which&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“is a summary of the broadband characteristics for the area listed above. The broadband data below is as of December 31, 2010 and represents data collected by SBDD grantees.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Here is a snippet of the upload speed section of the report.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6197dd2eee1fc5ce838012c27792ffcd/ca12d/A615EBF8-2900-46E3-95F9-37A18EDD1D1C.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.891891891891895%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABLklEQVR42m1Q227CMAzt/3/X3iYkJu2pUDZKA2nSkLtzbTujbhOadmQ5TnJsH7u5Xslutzt2HaV0nmfn3CRErcVZB16DnyBkgBBC8h5iTErpYSDIAYBGKonIucQYl2XhnGOVEKIY93f2KsUJwKZoYlApYmBjMCGoACal2DDG2rY9HI6EkHVdvfdKKaySU/SWePsJdvCm87rFAGyP5s2Ht5dHMlLJQFBJ31+MMSgbmy/LGgI4dbCyNeLN6aPTJ6c7DKz+xBGQgA0eyedzP44spYSdOWfjOKJsNb2rae8sRwm15mebv7E0fOKMc0zbHii93Sh1zgr6YvU5wj3lX/ZfNFprIQSqfSw04Uq9VAq9lp2RJyN7/Ir/oZTSYAE8csIxlvUHtdbt+uw3bDESSilfrLHIOfHUJcIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Broadband Speed Test&quot;
        title=&quot;&quot;
        src=&quot;/static/6197dd2eee1fc5ce838012c27792ffcd/fcda8/A615EBF8-2900-46E3-95F9-37A18EDD1D1C.png&quot;
        srcset=&quot;/static/6197dd2eee1fc5ce838012c27792ffcd/12f09/A615EBF8-2900-46E3-95F9-37A18EDD1D1C.png 148w,
/static/6197dd2eee1fc5ce838012c27792ffcd/e4a3f/A615EBF8-2900-46E3-95F9-37A18EDD1D1C.png 295w,
/static/6197dd2eee1fc5ce838012c27792ffcd/fcda8/A615EBF8-2900-46E3-95F9-37A18EDD1D1C.png 590w,
/static/6197dd2eee1fc5ce838012c27792ffcd/ca12d/A615EBF8-2900-46E3-95F9-37A18EDD1D1C.png 647w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Evolving Web Presentation Layer Technologies]]></title><description><![CDATA[Traditionally, reuse at the browser layer for a new product has been thought as “we want it just like product X, but” replace some images…]]></description><link>https://kevinhakanson.com/2012-01-09-evolving-web-presentation-layer-technologies/</link><guid isPermaLink="false">https://kevinhakanson.com/2012-01-09-evolving-web-presentation-layer-technologies/</guid><pubDate>Mon, 09 Jan 2012 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Traditionally, reuse at the browser layer for a new product has been thought as “we want it just like product X, but”&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;replace some images, logos, and icons&lt;/li&gt;
&lt;li&gt;change the color palette, some text sizes, and fonts&lt;/li&gt;
&lt;li&gt;use CSS to hide unwanted items&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The application differentiators for a product are not images and CSS, but the content and structure (HTML), the interaction design (UI) and the business logic (JavaScript).  As these key differences increase, the opportunity for code reuse between the products decreases.  However, changes in technology options in the last few years, as well as experiences with WestlawNext (include the IE7 performance effort) are allowing us to achieve better reuse.  Also, we are seeing more “Professional JavaScript Developers,” including more books, presentations, and blogs describing what this means for a more extensive codebase.&lt;/p&gt;
&lt;p&gt;Current products are applying more software engineering principles and being prescriptive in how presentation layer technologies should be applied in the browser.   These technologies have resulted in increased velocity for new UI features and the promise of better reuse.  However, the promise of reuse doesn’t guarantee reuse if the business feature looks or acts differently.&lt;/p&gt;
&lt;p&gt;The table below lists some key categories and compares how WestlawNext was built in 2008 against how products are being built now.  The key differences are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;“browser wars” of 2008 have significantly increased JavaScript performance&lt;/li&gt;
&lt;li&gt;jQuery has become the defacto JavaScript library&lt;/li&gt;
&lt;li&gt;MVC is being applied in the browser to separate model from the view&lt;/li&gt;
&lt;li&gt;micro-templates separate HTML into distinct assets, separate from JavaScript code&lt;/li&gt;
&lt;li&gt;establishing a base UI widget and standard way to modify business logic&lt;/li&gt;
&lt;li&gt;mobile considered from the start, not left as a late addition&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;WestlawNext (Jan 2008)&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;Current Products (Jan 2012)&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Current Browser Versions&lt;/td&gt;
&lt;td&gt;Internet Explorer 7.0&lt;br&gt;Firefox 2.0&lt;br&gt;Safari 3.0&lt;/td&gt;
&lt;td&gt;Internet Explorer 9.0&lt;br&gt;Firefox 9.0&lt;br&gt;Safari 5.1&lt;br&gt;Chrome 17.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;HTML Standard&lt;/td&gt;
&lt;td&gt;XHTML&lt;/td&gt;
&lt;td&gt;HTML5 + shims&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CSS&lt;/td&gt;
&lt;td&gt;CSS 2.1; custom browser properties; techniques to make older browsers look the same&lt;/td&gt;
&lt;td&gt;CSS 3; fewer custom properties, allow older browsers to gracefully degrade, leverage SCSS for variables and macros&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Browser Support&lt;/td&gt;
&lt;td&gt;Use BrowserHawk for browser detection; use white list&lt;/td&gt;
&lt;td&gt;Use Modernizr for feature detection and shims/polyfills&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Mobile&lt;/td&gt;
&lt;td&gt;Desktop design, mobile and iPad afterthoughts&lt;/td&gt;
&lt;td&gt;Use responsive design for desktop and tablet browsers; plan for custom small form factor views from inception&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;JavaScript Performance (SunSpider 0.9)&lt;/td&gt;
&lt;td&gt;IE7 – 19721ms&lt;br&gt;IE8 – 3729ms&lt;br&gt;Safari 4.0.5 – 373ms&lt;br&gt;Firefox 3.6.24 – 770ms&lt;/td&gt;
&lt;td&gt;IE9  – 236ms&lt;br&gt;Chrome 17 – 305ms&lt;br&gt;Safari 5.1 – 282ms&lt;br&gt;Firefox 9 – 232ms&lt;br&gt;iPhone 4 (iOS5) – 3789ms&lt;br&gt;Bold 9700 (OS6) – 10628ms&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DOM&lt;/td&gt;
&lt;td&gt;Cobalt.js; some jQuery&lt;/td&gt;
&lt;td&gt;jQuery, Underscore&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pub/Sub&lt;/td&gt;
&lt;td&gt;OpenAjax Hub&lt;/td&gt;
&lt;td&gt;OpenAjax Hub&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;AJAX&lt;/td&gt;
&lt;td&gt;REST, JSON, Cobalt.js&lt;/td&gt;
&lt;td&gt;REST, JSON, jQuery&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Browser rendering&lt;/td&gt;
&lt;td&gt;String concatenation or DOM API (inline in JavaScript code)&lt;/td&gt;
&lt;td&gt;Underscore micro-templates (in external files)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Base UI widget&lt;/td&gt;
&lt;td&gt;Each module team had own set of standards; doesn’t allow for cross module reuse&lt;/td&gt;
&lt;td&gt;Common widget design using Backbone.js for MVC; make cross module and project reuse possible&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Unit Testing&lt;/td&gt;
&lt;td&gt;Post-deploy with JSUnit and Selenium&lt;/td&gt;
&lt;td&gt;Pre-deploy with QUnit and PhantomJS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Code Packaging&lt;/td&gt;
&lt;td&gt;Custom bundling based on inferred dependencies&lt;/td&gt;
&lt;td&gt;Uses AMD proposed standard and RequireJS (explicit dependencies)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content:encoded></item><item><title><![CDATA[JavaScript vs. JSON encoding]]></title><description><![CDATA[In the process of converting some JavaScript code which creates an object from a JSON string from using (the evil) eval to using JSON.parse…]]></description><link>https://kevinhakanson.com/2009-08-03-javascript-vs-json-encoding/</link><guid isPermaLink="false">https://kevinhakanson.com/2009-08-03-javascript-vs-json-encoding/</guid><pubDate>Mon, 03 Aug 2009 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In the process of converting some JavaScript code which creates an object from a JSON string from using (the evil) eval to using JSON.parse (which is native in &lt;a href=&quot;http://blogs.msdn.com/ie/archive/2008/09/10/native-json-in-ie8.aspx&quot;&gt;IE8&lt;/a&gt; and &lt;a href=&quot;https://developer.mozilla.org/En/Using_JSON_in_Firefox&quot;&gt;Firefox 3.5&lt;/a&gt;), a strange bug was encountered.  Take the following JavaScript snippet, which can be validated using &lt;a href=&quot;http://www.jslint.com/&quot;&gt;JSLint&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token string-property property&quot;&gt;&quot;name&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Kevin\\&apos;s Folder&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, if you take &lt;code class=&quot;language-text&quot;&gt;{ &quot;name&quot; : &quot;Kevin\\&apos;s Folder&quot; }&lt;/code&gt; and try and validate with &lt;a href=&quot;http://www.jsonlint.com/&quot;&gt;JSONLint&lt;/a&gt;, it fails parsing.  Why is that?  Look at the definition for string at &lt;a href=&quot;http://www.json.org/&quot;&gt;JSON.org&lt;/a&gt;, and you see that it’s not valid to escape the single quote character.  This appears to be because only double quotes are a valid wrapper for a string in JSON, where either single quotes or double quotes are allowed for JavaScript strings.  The JavaScript escape utility used wouldn’t know how the consumer would wrap the string, so it played it safe and escaped both.&lt;/p&gt;
&lt;p&gt;The moral of this story?  JSON is a proper subset of pure JavaScript object literals.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[You can’t escape encoding]]></title><description><![CDATA[Recently I have run across several items where the solution to the problem was a proper understanding of encoding and escaping.  One issue…]]></description><link>https://kevinhakanson.com/2009-07-06-you-cant-escape-encoding/</link><guid isPermaLink="false">https://kevinhakanson.com/2009-07-06-you-cant-escape-encoding/</guid><pubDate>Mon, 06 Jul 2009 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Recently I have run across several items where the solution to the problem was a proper understanding of encoding and escaping.  One issue was with the &lt;a href=&quot;http://developer.yahoo.com/yui/compressor/&quot;&gt;YUICompressor&lt;/a&gt; having problems with some of our JavaScript files.  The core issue was that it couldn’t handle files saved in UTF-8 with the Byte Order Mark (which is the Visual Studio 2008 default).  Lucky for someone, I was able to answer a &lt;a href=&quot;http://stackoverflow.com/questions/1036201/errors-using-yuicompressor/1047143#1047143&quot;&gt;Stack Overflow question&lt;/a&gt; with my new found knowledge.&lt;/p&gt;
&lt;p&gt;A short while later, I saw a bug where the subject line of delivery emails looked like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;\=?ANSI\_X3.4-1968?Q?=3F=3F\_1.\_Title\_and\_Divisions\_of\_Code?= &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I referred the developer to the three parameter version of the &lt;code class=&quot;language-text&quot;&gt;encodeText&lt;/code&gt; function of Java’s &lt;a href=&quot;http://java.sun.com/j2ee/sdk_1.3/techdocs/api/javax/mail/internet/MimeUtility.html&quot;&gt;MimeUtility&lt;/a&gt;.  This has a “set of methods to encode and decode MIME headers as per &lt;a href=&quot;http://www.ietf.org/rfc/rfc2047.txt&quot;&gt;RFC 2047&lt;/a&gt;”.  In this case, by using the one parameter version, the code was subject to some OS specific setting which worked on the developer’s computer running Windows but not when deployed to Linux.&lt;/p&gt;
&lt;p&gt;To help my fellow developers, here’s a link to &lt;a href=&quot;http://www.joelonsoftware.com/articles/Unicode.html&quot;&gt;The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)&lt;/a&gt; by Joel Spolsky.  He does a great job of walking through the subject.  Also, I recently found this nifty link to an online &lt;a href=&quot;http://0xcc.net/jsescape/&quot;&gt;Text Escaping and Unescaping in JavaScript&lt;/a&gt; utility.  Try pasting &lt;code class=&quot;language-text&quot;&gt;¶§&lt;/code&gt; into the plain text field and look at the results.  The “MIME + Quoted-printable” section is the same as Encoded Word from RFC 2047.&lt;/p&gt;
&lt;p&gt;For me, to fully understand UTF-8 encoding, I had to walk myself through an example, which I include here:&lt;/p&gt;
&lt;p&gt;When a Unicode (ISO 10646) character in the range of 0x80 - 0x799 is encoded using UTF-8, it takes up 2 bytes of space. Since printable ISO-8859-1 characters (aka Latin 1 or upper ASCII) are in the range of 0xA0 - 0xFF - they fall into this category.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;BYTE 1 = 1100 0000 | (0001 1111 &amp;amp; b)  
BTYE 2 = 1000 0000 | (0011 1111 &amp;amp; b)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So for a character like &lt;code class=&quot;language-text&quot;&gt;é&lt;/code&gt; (Latin Small Letter E with Acute)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;é = 233 = 0xE9 = 1110 1011&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;when it’s UTF-8 encoded&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1100 0011 1010 1001 = 0xC3 0xA9 = Ã©&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice that when encoding ISO-8859-1 with UTF-8 and you happen to view the output as ISO-8859-1, the first character of the two is always a capital A with some variation. The following table can help describe why.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;range byte 1 display char  
0x80 - 0x9F (128-159) 0xC0 À  
0xA0 - 0xBF (160-191) 0xC1 Á  
0xC0 - 0xDF (192-223) 0xC2 Â  
0xE0 - 0xFF (224-255) 0xC3 Ã&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Another “odd” situation exists when the &lt;code class=&quot;language-text&quot;&gt;Copyright Sign&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;Pound Sign&lt;/code&gt; value from unicode…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;© = 169 = 0xA9 = 1010 1001  
£ = 163 = 0xA3 = 1010 0011&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;…is UTF-8 encoded, and become the &lt;code class=&quot;language-text&quot;&gt;Â&lt;/code&gt; character followed by themselves.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1100 0010 1010 1001 = 0xC3 0xA9 = Â©  
1100 0010 1010 0011 = 0XC3 0xA3 = Â£&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[My first jQuery ticket]]></title><description><![CDATA[Back in May 2009, I created my first jQuery ticket: Use native JSON.parse if available inside ajax.httpData In jQuery.ajax.httpData, would…]]></description><link>https://kevinhakanson.com/2009-05-20-my-first-jquery-ticket/</link><guid isPermaLink="false">https://kevinhakanson.com/2009-05-20-my-first-jquery-ticket/</guid><pubDate>Wed, 20 May 2009 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Back in May 2009, I created my first jQuery ticket: &lt;a href=&quot;https://bugs.jquery.com/ticket/4429&quot;&gt;Use native JSON.parse if available inside ajax.httpData&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In jQuery.ajax.httpData, would you consider using the native JSON support (​&lt;a href=&quot;http://www.json.org/js.html&quot;&gt;http://www.json.org/js.html&lt;/a&gt;) if available? Below is some untested sample code. Maybe the (JSON &amp;#x26;&amp;#x26; JSON.parse) check is better located under jQuery.support.JSON and could be expanded to check if JSON.parse is a function?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Get the JavaScript object, if JSON is used.&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; type &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;json&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;parse&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  	data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; 	
  	data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;eval&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Today, it was fixed and closed by John himself.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Debugging JavaScript in IE]]></title><description><![CDATA[If you have everything set up, you can use Visual Studio to debug JavaScript errors when you hit them in IE7 (IE8 will have debugging built…]]></description><link>https://kevinhakanson.com/2008-10-27-debugging-javascript-in-ie/</link><guid isPermaLink="false">https://kevinhakanson.com/2008-10-27-debugging-javascript-in-ie/</guid><pubDate>Mon, 27 Oct 2008 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;If you have everything set up, you can use Visual Studio to debug JavaScript errors when you hit them in IE7 (IE8 will have debugging built into the &lt;a href=&quot;http://blogs.msdn.com/ie/archive/2008/03/07/improved-productivity-through-internet-explorer-8-developer-tools.aspx&quot;&gt;developer tools&lt;/a&gt;).  You just click “Yes” when the dialog appears.  However, I have don’t have everything set up as needed.  Because I’m a developer on a .NET team, I have the full install of Visual Studio 2008, but it’s on my VPC image, and I often use IE on the host OS.  I also have Visual Studio installed on my host, but it’s only for Team Explorer so I can access TFS.  This almost makes things worse, because IE sees Visual Studio and will prompt me to debug in a “new instance of Visual Studio,” but it doesn’t have the debugging support.&lt;/p&gt;
&lt;p&gt;So, when I heard about the &lt;a href=&quot;http://www.microsoft.com/express/vwd/&quot;&gt;Microsoft Visual Web Developer 2008 Express Edition&lt;/a&gt;, I got excited I could have the seamless debugger experience today.  However, it can’t attach to IE at runtime and doesn’t allow you to debug unless you launch IE from Visual Web Developer.  I did google the problem and found &lt;a href=&quot;http://it.toolbox.com/blogs/web2-place/debugging-ajax-applications-on-ie-using-visual-web-developer-express-17432&quot;&gt;Debugging AJAX Applications on IE: Using Visual Web Developer Express&lt;/a&gt;, which referenced &lt;a href=&quot;http://www.berniecode.com/blog/2007/03/08/how-to-debug-javascript-with-visual-web-developer-express/&quot;&gt;How to debug JavaScript with Visual Web Developer Express&lt;/a&gt;.  I followed the advice of the latter article and can now debug when I know I am going to have a problem.  Not as nice as on-demand with Firebug or the upcoming IE8, but of some use when I need to track down a bug with our application on IE.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Ajax Experience 2008 Summary]]></title><description><![CDATA[Last week, I attended the Ajax Experience 2008 in Boston.  There were a lot of interesting sessions, and I talked with many of the speakers…]]></description><link>https://kevinhakanson.com/2008-10-06-ajax-experience-2008-summary/</link><guid isPermaLink="false">https://kevinhakanson.com/2008-10-06-ajax-experience-2008-summary/</guid><pubDate>Mon, 06 Oct 2008 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Last week, I attended the &lt;a href=&quot;http://ajaxexperience.techtarget.com/html/index.html&quot;&gt;Ajax Experience 2008&lt;/a&gt; in Boston.  There were a lot of interesting sessions, and I talked with many of the &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html&quot;&gt;speakers&lt;/a&gt;.  Here is a recap of some of the more exciting things I learned.&lt;/p&gt;
&lt;p&gt;I spent Monday morning at the Dojo Developer Day.  I got a free t-shirt.  I even wrote two bugs against dojo:  &lt;a href=&quot;http://bugs.dojotoolkit.org/ticket/7764&quot;&gt;7764&lt;/a&gt; and &lt;a href=&quot;http://bugs.dojotoolkit.org/ticket/7765&quot;&gt;7765&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I updated my Chrome to the &lt;a href=&quot;http://dev.chromium.org/getting-involved/dev-channel/&quot;&gt;dev release&lt;/a&gt; and then was able to login to demo, run searches, drag to dock, etc.  I asked &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#OVafai&quot;&gt;Ojan Vafai&lt;/a&gt; about the command line debugging pain, and he said they are working on hooking up the &lt;a href=&quot;http://webkit.org/&quot;&gt;WebKit&lt;/a&gt; nightly debugger interface (part of the &lt;a href=&quot;http://webkit.org/blog/197/web-inspector-redesign/&quot;&gt;Web Inspector&lt;/a&gt;) into the V8 JavaScript engine.  That would be much nicer than typing “continue” and “step” all the time.&lt;/p&gt;
&lt;p&gt;I was excited about the &lt;a href=&quot;http://weblogs.asp.net/scottgu/archive/2008/09/28/jquery-and-microsoft.aspx&quot;&gt;jQuery and Microsoft&lt;/a&gt; announcement, not because I love jQuery but because I wanted better Intellisense for third-party libraries.  I heard a talk from &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#OKhan&quot;&gt;Omar Khan&lt;/a&gt; were I was ready to ask questions about this support, but they were answered in his presentation.  I did talk to him afterward about the stupid reference comment on the first line of the file and gave him some ideas to fix it.  He gave me his card, and I am going to email him.  I also download an &lt;a href=&quot;http://www.microsoft.com/downloads/details.aspx?familyid=21eabb90-958f-4b64-b5f1-73d0a413c8ef&amp;#x26;displaylang=en&quot;&gt;Internet Explorer Application Compatibility VPC Image&lt;/a&gt;, so I could get IE 8 Beta 2 without breaking my PC/image (&lt;strong&gt;IE8B2-XPSP3_VPC.exe&lt;/strong&gt; contains a Windows XP SP3 with IE8 Beta 2 VHD file).  Their new developer toolbar is a lot like Firebug, which is good.  I also downloaded the &lt;a href=&quot;http://www.microsoft.com/express/vwd/&quot;&gt;Microsoft Visual Web Developer 2008 Express Edition&lt;/a&gt; for my host (since I have full Visual Studio on my image).  I was going to see if this would better enable the Java base verticals to debug IE issues until we can move to IE8.&lt;/p&gt;
&lt;p&gt;There was a set of lightning talks (5 minutes each) that proved to be a good format.  &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#SSouders&quot;&gt;Steve Souders&lt;/a&gt; (Mr. “high-performance web sites”) talked about his &lt;a href=&quot;http://stevesouders.com/episodes/&quot;&gt;Episodes&lt;/a&gt; framework for timing web pages.  &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#SStefanov&quot;&gt;Stoyan Stefanov&lt;/a&gt; and &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#NSullivan&quot;&gt;Nicole Sullivan&lt;/a&gt; (both from the Yahoo performance team) talked about their &lt;a href=&quot;http://smushit.com/&quot;&gt;Smush It&lt;/a&gt; project for optimizing images.  This tool is online now, but I talked to them about not just distributing the PHP code, but also the web tool for intranet usage.&lt;/p&gt;
&lt;p&gt;I asked &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#BScott&quot;&gt;Bill Scott&lt;/a&gt; about why Netflix rolled its own library instead of using a framework.  He said it has been in progress for years and is in the progress of being replaced by &lt;a href=&quot;http://jquery.com/&quot;&gt;jQuery&lt;/a&gt;.  He told me about the then upcoming &lt;a href=&quot;http://developer.netflix.com/&quot;&gt;Netflix API&lt;/a&gt; (which also had a lighting round talk).&lt;/p&gt;
&lt;p&gt;I went to a couple good sessions on testing.  &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#NZakas&quot;&gt;Nicholas Zakas&lt;/a&gt; talked about YUI test (part of the YUI library download). I asked about test double support (thinking about XHR), and he said that mock object is being looked at for 3.0.  It may work better than JSUnit, but doesn’t have the same style of test runner.  &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#THusted&quot;&gt;Ted Husted&lt;/a&gt; uses the YUI test framework with Selenium to drive the tests.&lt;/p&gt;
&lt;p&gt;I did get &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#DCrockford&quot;&gt;Douglas Crockford&lt;/a&gt; to sign my JavaScript: The Good Parts book during the signing session at the &lt;a href=&quot;http://www.bookpool.com/&quot;&gt;Bookpool&lt;/a&gt; table.  It was the only book that was sold out.  I should have been smarter and bought a bunch on day one, and sold them for a premium.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#BDillard&quot;&gt;Brian Dillard&lt;/a&gt; gave a (kind of boring) talk on &lt;a href=&quot;http://code.google.com/p/reallysimplehistory/&quot;&gt;Really Simple History&lt;/a&gt;, which seems to be the best back button fixing code out there, but has a very out of date wiki.  He claims 0.8 is on his hard drive, waiting to be committed.  Other libraries seem to reuse the RSH code into their own, including a rewrite that runs as a jQuery plugin.  The original author of RHS was &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#BNeuberg&quot;&gt;Brad Neuberg&lt;/a&gt;, who works at Google on the Gears team and gave an interesting talk on &lt;a href=&quot;http://dojotoolkit.org/&quot;&gt;dojo&lt;/a&gt; and &lt;a href=&quot;http://gears.google.com/&quot;&gt;Gears&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;On a lighter note - two Europeans, &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#PKoch&quot;&gt;Peter-Paul Koch&lt;/a&gt; and &lt;a href=&quot;http://ajaxexperience.techtarget.com/east/html/speakers.html#CHeilmann&quot;&gt;Christian Heilmann&lt;/a&gt; had the most interesting hairstyles (but their pictures don’t give you the full effect).  Both were really nice guys to talk to.&lt;/p&gt;</content:encoded></item></channel></rss>