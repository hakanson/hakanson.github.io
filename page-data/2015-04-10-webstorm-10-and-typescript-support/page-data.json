{"componentChunkName":"component---src-templates-blog-post-js","path":"/2015-04-10-webstorm-10-and-typescript-support/","result":{"data":{"site":{"siteMetadata":{"title":"kevinhakanson.com","author":"Kevin Hakanson"}},"markdownRemark":{"id":"e835a3b4-43f1-58ef-8910-0051165f413e","excerpt":"WebStorm 10 now has updated TypeScript support including a built-in TypeScript 1.4 compiler with TypeScript 1.5 support already in the WebStorm 10.0.2 EAP.  To…","html":"<p>WebStorm 10 now has updated <a href=\"https://www.jetbrains.com/webstorm/whatsnew/#typescript\">TypeScript support</a> including a built-in TypeScript 1.4 compiler with TypeScript 1.5 support already in the WebStorm 10.0.2 EAP.  To test this out, I opened a simple, sample project where I was playing with JavaScript decimal libraries to understand how certain compiler errors are reported.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 287px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b791b76eb4913edb3b8969b8f986f7f3/480fd/Screen%2BShot%2B2015-04-10%2Bat%2B11.29.25%2BAM.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.97297297297297%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACf0lEQVR42pVTTW/TQBD1P+CEOJSfgcSZc0+cQEjAHSEhToBASAghfgBwQSA4IKBwpRSQQkvS4KaJ3dpN1h+xHSdxajttIXFip23aPMYblRNtw0hPb8cevZ19OyvMLZTweaGIbxkRXzI/8T0nI7uk4oe4iqyoQpQNiJLOeUkipLk85sKKiUxO4vVZUeHfhA+zWczMLuLdx694MzOLuXkZiyWL87zIIOshZOZD1nxIbAxZC4gDrOhtZBZV5IomsssGSmUPQms9wFZTgyIVkM0vo1CQkM8X4PshGs0WLLtG7MFrtVB363BdF1atjnqjCctJ8wYa9TT30IsTCKDobPrwXQZjNQ9DN8GYhqjbRTsMUK+78JpNtLwxkjhGr99DksSEhPP2IMGAMCItLtjv97ETdxCFFiy9jDVVwXrLg1U1oLMKbaKhWjXh2Db29vdxVHDBIdV0oz46nS42XAWmXoGsMLA1FRXqNmy3efFoNMI+tZFqcv4HhBMXDJy7U8PZGyrOPyhi+n4D0/dsnLlu4tSlCk5eXCVew9QVDVOXNZy+qh8J4eaLNh6+J7xt4eknH4+eLeHxcwl3Xzq49sTCrVcBbr8OiH2+Pg7CwVHSSN2xV0S4hkJ+MYTrDnZ3tsfmjDBRcMFdMnFvj/whE3LMA7Nq0Oi2HRoPy3ZQLEqIegn3KK0dUu1hEA6Uu70YqtmAUbVh020aho6a4/B11I3+nmKiDofDXWz97kJUTBoVi0akykckCHwEYUj/h5g0uODW5gZ+dSKUmIuyWuGjYlvHz9yhgna5DF1RoBJ0VoZJHdo648IVGnLHqf2fYC+KEPfTJ9VHHKdIn9OAnlnC8wGtJxX8A+9dOW5twy8AAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"WebStorm Project Files\"\n        title=\"\"\n        src=\"/static/b791b76eb4913edb3b8969b8f986f7f3/480fd/Screen%2BShot%2B2015-04-10%2Bat%2B11.29.25%2BAM.png\"\n        srcset=\"/static/b791b76eb4913edb3b8969b8f986f7f3/12f09/Screen%2BShot%2B2015-04-10%2Bat%2B11.29.25%2BAM.png 148w,\n/static/b791b76eb4913edb3b8969b8f986f7f3/480fd/Screen%2BShot%2B2015-04-10%2Bat%2B11.29.25%2BAM.png 287w\"\n        sizes=\"(max-width: 287px) 100vw, 287px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>I have a TypeScript source code file with intentional compile errors named <code class=\"language-text\">bad.ts</code></p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">/// &lt;reference path=\"decimal.d.ts\" />  </span>\r\n<span class=\"token keyword\">var</span> a<span class=\"token operator\">:</span>Decimal<span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span>Decimal<span class=\"token punctuation\">,</span> c<span class=\"token operator\">:</span>Decimal<span class=\"token punctuation\">;</span>\r\na <span class=\"token operator\">=</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">;</span>\r\nb <span class=\"token operator\">=</span> <span class=\"token number\">0.2</span><span class=\"token punctuation\">;</span>\r\nc <span class=\"token operator\">=</span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span></code></pre></div>\n<p>It uses the following <a href=\"https://typescript.codeplex.com/wikipage?title=Writing%20Definition%20%28.d.ts%29%20Files\">type definition file</a> which disallows direct assignment of JavaScript numbers or using the <code class=\"language-text\">+</code> operator.  The <code class=\"language-text\">Decimal</code> constructor and <code class=\"language-text\">plus()</code> method are required to be used instead.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">declare</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Decimal</span> <span class=\"token punctuation\">{</span>\r\n   <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n   <span class=\"token function\">plus</span><span class=\"token punctuation\">(</span>n<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Decimal<span class=\"token punctuation\">;</span>\r\n   <span class=\"token function\">plus</span><span class=\"token punctuation\">(</span>n<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Decimal<span class=\"token punctuation\">;</span>\r\n   <span class=\"token function\">plus</span><span class=\"token punctuation\">(</span>n<span class=\"token operator\">:</span> Decimal<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Decimal<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">bad.ts</code> generates these compile time errors:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d3588e25c4f8b969a3e5d20f166015ea/63ec5/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.513513513513512%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAt0lEQVR42l2M22qDQBRF8/+/0uA/mNrxMgGT1GAaQXG0OHY0o8U8htWJD3nohsU+HNhrUxQF53PObvfOdvuG53n4vk8URcRxjBAhn1nG1/VKXdfUSq1dVdVKWZavfrJpvjumcSALPzieTuylRMoEmSTEoSBNU4IgIBSCPL9wPByo3FA5sXJi3XW0bbvSNMoJtYHHg8X8YO3EbRwZHcMw8DvN7mfp+x6tNcYYd2vszTLPM/dl4X/+AMTy2AU4K3JkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"WebStorm Current Errors\"\n        title=\"\"\n        src=\"/static/d3588e25c4f8b969a3e5d20f166015ea/fcda8/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png\"\n        srcset=\"/static/d3588e25c4f8b969a3e5d20f166015ea/12f09/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png 148w,\n/static/d3588e25c4f8b969a3e5d20f166015ea/e4a3f/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png 295w,\n/static/d3588e25c4f8b969a3e5d20f166015ea/fcda8/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png 590w,\n/static/d3588e25c4f8b969a3e5d20f166015ea/63ec5/Screen%2BShot%2B2015-04-10%2Bat%2B11.32.41%2BAM.png 812w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>What is the right way to use this library?  Here is some sample code that avoids the compile time errors.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">/// &lt;reference path=\"decimal.d.ts\" />  </span>\r\n<span class=\"token keyword\">var</span> a<span class=\"token operator\">:</span>Decimal<span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span>Decimal<span class=\"token punctuation\">,</span> c<span class=\"token operator\">:</span>Decimal<span class=\"token punctuation\">;</span>\r\na <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Decimal</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nb <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Decimal</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nc <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span><span class=\"token function\">plus</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nc <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span><span class=\"token function\">plus</span><span class=\"token punctuation\">(</span><span class=\"token string\">'0.2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nc <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span><span class=\"token function\">plus</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>For more background on why I find this interesting, you can read my earlier blog post: <a href=\"../2015-01-08-solution-to-javascripts-01-02-030000000000000004-problem\">Solution to JavaScript’s 0.1 + 0.2 = 0.30000000000000004 problem?</a></p>","frontmatter":{"title":"WebStorm 10 and TypeScript support","description":null,"date":"April 10, 2015","tags":["javascript","typescript","webdev"],"canonical":null}}},"pageContext":{"slug":"/2015-04-10-webstorm-10-and-typescript-support/","previous":{"fields":{"slug":"/2015-04-07-ip-address-as-a-factor/"},"frontmatter":{"tags":["security","networking"]}},"next":{"fields":{"slug":"/2015-04-30-thoughts-on-saas-customization/"},"frontmatter":{"tags":["architecture","saas"]}}}},"staticQueryHashes":["2589769190","97908498"],"slicesMap":{}}