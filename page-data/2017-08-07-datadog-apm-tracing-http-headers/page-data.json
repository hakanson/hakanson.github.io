{"componentChunkName":"component---src-templates-blog-post-js","path":"/2017-08-07-datadog-apm-tracing-http-headers","webpackCompilationHash":"ea9e41e646c8f86c1300","result":{"data":{"site":{"siteMetadata":{"title":"kevinhakanson.com","author":"Kevin Hakanson"}},"markdownRemark":{"id":"64ee3431-b506-5e0c-8824-18ab840aa148","excerpt":"Update: Might be obsolete based on Datadog + OpenTracing: Embracing the open standard for APM from December 6, 2017 Do the DataDog APM tracing headers to see if…","html":"<p><strong>Update:</strong> Might be obsolete based on <a href=\"https://www.datadoghq.com/blog/opentracing-datadog-cncf/\">Datadog + OpenTracing: Embracing the open standard for APM</a> from December 6, 2017</p>\n<hr>\n<p>Do the <a href=\"https://www.datadoghq.com/apm/\">DataDog APM</a> tracing headers to see if they match <a href=\"https://github.com/openzipkin/b3-propagation\">Zipkin</a> (<code class=\"language-text\">X-B3-*</code>) or OpenTracing or <a href=\"http://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-tracingheader\">AWS X-Ray</a> (<code class=\"language-text\">X-Amzn-Trace-Id</code>) or anything else? Of course not, they use <code class=\"language-text\">x-ddtrace-*</code>.</p>\n<p>It’s hard to find the docs, but look in the <a href=\"https://github.com/DataDog/dd-trace-py/blob/bb4812f13f8bb5b28f3c3f4d7aa5ee2b7d319db6/docs/index.rst\">official Python source</a> and find them:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">parent_trace_id <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>‘x<span class=\"token operator\">-</span>ddtrace<span class=\"token operator\">-</span>parent_trace_id‘<span class=\"token punctuation\">)</span>\nparent_span_id <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>‘x<span class=\"token operator\">-</span>ddtrace<span class=\"token operator\">-</span>parent_span_id‘<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Also, the <a href=\"https://github.com/chonton/apm-client/blob/19adc8e6c442cb463d0422d05574348042ba68ee/README.md\">unofficial Java</a> documents them:</p>\n<blockquote>\n<p>The TraceServletFilter traces every incoming request. If the client request includes the <strong>x-ddtrace-parent_trace_id</strong> and <strong>x-ddtrace-parent_span_id</strong> headers, that indicated span is used as the parent trace and span. Otherwise, a new trace is created. Once the request is complete, the new span or trace is closed and sent to Datadog APM.</p>\n</blockquote>","frontmatter":{"title":"DataDog APM Tracing HTTP Headers","date":"August 07, 2017","tags":["http","monitoring"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2017-08-07-datadog-apm-tracing-http-headers","previous":{"fields":{"slug":"/2017-07-24-could-the-bitcoin-segwit-2x-fork-be-the-start-of-a-51-attack"},"frontmatter":{"tags":["random","security"]}},"next":{"fields":{"slug":"/2017-08-08-the-frozen-caveman-antipattern"},"frontmatter":{"tags":["career"]}}}}}