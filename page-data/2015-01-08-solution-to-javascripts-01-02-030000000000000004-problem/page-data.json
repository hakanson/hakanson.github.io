{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/2015-01-08-solution-to-javascripts-01-02-030000000000000004-problem",
    "result": {"data":{"site":{"siteMetadata":{"title":"kevinhakanson.com","author":"Kevin Hakanson"}},"markdownRemark":{"id":"73050c51-9dc0-547d-8294-67fd1825e5cf","excerpt":"Open your JavaScript console and try this: You may ask yourself Is floating point math broken?.  The answer is that JavaScript uses floating point math based on…","html":"<p>Open your JavaScript console and try this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">></span> <span class=\"token number\">0.1</span> <span class=\"token operator\">+</span> <span class=\"token number\">0.2</span> <span class=\"token operator\">==</span> <span class=\"token number\">0.3</span>\r\n\r\n  <span class=\"token boolean\">false</span>\r\n\r\n<span class=\"token operator\">></span> <span class=\"token number\">0.1</span> <span class=\"token operator\">+</span> <span class=\"token number\">0.2</span>\r\n\r\n  <span class=\"token number\">0.30000000000000004</span></code></pre></div>\n<p>You may ask yourself <a href=\"http://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>.  The answer is that JavaScript uses floating point math based on the <a href=\"https://en.wikipedia.org/wiki/IEEE_754#Basic_formats\">IEEE 754 standard</a>, the same as Java’s <code class=\"language-text\">double</code>. If you want the details on what that means, either quickly read <a href=\"http://floating-point-gui.de/\">The Floating-Point Guide - What Every Programmer Should Know About Floating-Point Arithmetic</a> or fully digest <a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>.</p>\n<p>But if I really want <code class=\"language-text\">0.1 + 0.2 == 0.3</code> then what do I do?  The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\">Java BigDecimal</a> class solved this problem, and there similar solutions for JavaScript: <a href=\"https://github.com/iriscouch/bigdecimal.js\">GWT compiled to JavaScript</a> version; a <a href=\"https://github.com/dtrebbien/BigDecimal.js\">JavaScript translation</a> of the ICU4J’s <code class=\"language-text\">com.ibm.icu.math.BigDecimal</code>.</p>\n<p>There are also other JavaScript libraries like <a href=\"http://mikemcl.github.io/big.js/\">big.js</a>.  Here is big.js in action from the JavaScript console:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">></span> <span class=\"token function\">Big</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">plus</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.3</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token boolean\">true</span>\r\n\r\n<span class=\"token operator\">></span> <span class=\"token function\">Big</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">plus</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token string\">\"0.3\"</span></code></pre></div>\n<p>How have other teams solved this problem?  Is there a de facto JavaScript library to use that has been well tested?  Would a common library be useful?</p>","frontmatter":{"title":"Solution to JavaScript's 0.1 + 0.2 = 0.30000000000000004 problem?","description":null,"date":"January 08, 2015","tags":["javascript"],"canonical":null}}},"pageContext":{"slug":"/2015-01-08-solution-to-javascripts-01-02-030000000000000004-problem","previous":{"fields":{"slug":"/2014-11-19-javascript-static-code-analysis"},"frontmatter":{"tags":["javascript","security","codequality"]}},"next":{"fields":{"slug":"/2015-02-12-i-have-a-net-rocks-mug"},"frontmatter":{"tags":["random","javascript","podcast"]}}}},
    "staticQueryHashes": ["2589769190","97908498"]}