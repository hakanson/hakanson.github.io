<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.625 -apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}h1{margin-left:0;margin-right:0;margin-top:2.4375rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.21875rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h2{margin-left:0;margin-right:0;margin-top:1.625rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.40625rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:hsla(0,0%,0%,0.53);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}ul{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:0.85rem;line-height:1.625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:1rem;line-height:1.625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:calc(0.8125rem - 1px);padding-right:0;padding-top:0;margin-bottom:0.8125rem;border-left:4px solid hsla(0,0%,0%,0.13);color:hsla(0,0%,0%,0.53);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(0.8125rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:calc(0.8125rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}li > ul{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(0.8125rem / 2);}code{font-size:0.85rem;line-height:1.625rem;}kbd{font-size:0.85rem;line-height:1.625rem;}samp{font-size:0.85rem;line-height:1.625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.08333rem;padding-right:1.08333rem;padding-top:0.8125rem;padding-bottom:calc(0.8125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h3,h4,h5,h6{margin-bottom:0.8125rem;margin-top:1.625rem;}ol,ul{margin-left:2.03125rem;}li>ol,li>ul{margin-left:2.03125rem;}a{color:#4078c0;text-decoration:none;}a:hover,a:active{text-decoration:underline;}</style><meta http-equiv="Content-Security-Policy" content="base-uri &#x27;self&#x27;; default-src &#x27;self&#x27;; script-src &#x27;self&#x27; www.google-analytics.com &#x27;sha256-fQImZ7ieEyeZ6ScFGPfZrE+hF13DfVe/lq4qez7R0pM=&#x27; &#x27;sha256-Agn3NPtSIiFwJ8GcGkZ3wdG70fxhbB5UH3FnLm4ibn4=&#x27; &#x27;sha256-WV0ppSbPpyW35cF60wQ7wTMaLgZwA6a5utVhCTgyJy0=&#x27;; style-src &#x27;self&#x27; &#x27;unsafe-inline&#x27;; object-src &#x27;none&#x27;; form-action &#x27;self&#x27;; font-src &#x27;self&#x27; data:; connect-src &#x27;self&#x27;; img-src &#x27;self&#x27; data: www.google-analytics.com;"/><style data-href="/styles.1a54add997246827ae7a.css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-191cc9f50f3b76b9617cb383f19acb7d.woff2) format("woff2"),url(/static/montserrat-latin-100-370318464551d5f25b0f0a78f374faac.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-bdeaeb79db315697bd173a55b097dc18.woff2) format("woff2"),url(/static/montserrat-latin-100italic-ecf7d49386e8f265878e735db34a7c4b.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-85d5ef9db7f2dc6979172a4a3b2c57cb.woff2) format("woff2"),url(/static/montserrat-latin-200-1fc98e126a3d152549240e6244d7e669.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-49095760a498d024fe1a85a078850df9.woff2) format("woff2"),url(/static/montserrat-latin-200italic-fe46cf8b9462c820457d3bf537e4057f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-7c3daf12b706645b5d3710f863a4da04.woff2) format("woff2"),url(/static/montserrat-latin-300-8dc95fab9cf98d02ca8d76e97d3dff60.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-f20b178ca2024a5eac8e42e6649db86c.woff2) format("woff2"),url(/static/montserrat-latin-300italic-3fe16939288856e8e828fa2661bf2354.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-bc3aa95dca08f5fee5291e34959c27bc.woff2) format("woff2"),url(/static/montserrat-latin-400-8102c4838f9e3d08dad644290a9cb701.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-5cad650422a7184467af5a4d17b264c4.woff2) format("woff2"),url(/static/montserrat-latin-400italic-d191f22af3bb50902b99ac577f81a322.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-92d16e458625f4d2c8940f6bdca0ff09.woff2) format("woff2"),url(/static/montserrat-latin-500-8b763220218ffc11c57c84ddb80e7b26.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-47bfcca6b69d6a9acca7a8bff17193e2.woff2) format("woff2"),url(/static/montserrat-latin-500italic-72c01f753c3940c0b9cb6bf2389caddf.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-6fb1b5623e528e27c18658fecf5ee0ee.woff2) format("woff2"),url(/static/montserrat-latin-600-7c839d15a6f54e7025ba8c0c4b333e8f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-60789af1c9338ed1a9546722ec54b4f7.woff2) format("woff2"),url(/static/montserrat-latin-600italic-f3d4de8d0afb19e777c79032ce828e3d.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-39d93cf678c740f9f6b2b1cfde34bee3.woff2) format("woff2"),url(/static/montserrat-latin-700-80f10bd382f0df1cd650fec59f3c9394.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-ba136d97b14e82284dd595e257f11c47.woff2) format("woff2"),url(/static/montserrat-latin-700italic-8c98142b425630821139c24bd1698700.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-b7018be9ed6cd94da8b6675b3a468c3b.woff2) format("woff2"),url(/static/montserrat-latin-800-9a9befcf50d64f9d2d19d8b1d1984add.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-540ffdd223d1a9ad3d4e678e1a23372e.woff2) format("woff2"),url(/static/montserrat-latin-800italic-897086f99f4e1f45e6b1e9368527d0bc.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-58cd789700850375b834e8b6776002eb.woff2) format("woff2"),url(/static/montserrat-latin-900-26d42c9428780e545a540bbb50c84bce.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-451157bc8861fe54f523b3669a3def71.woff2) format("woff2"),url(/static/montserrat-latin-900italic-a8ec4957e1c24f5793305763ad9845b3.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-b1158cfcd4aacb9d8fb61625e37af46a.woff2) format("woff2"),url(/static/merriweather-latin-300-cc7de05e166e90320d7d896e0f72a19d.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-8fe52a48089d6ebe46db0b8e7cc66263.woff2) format("woff2"),url(/static/merriweather-latin-300italic-e1331f5397c2a673f9d3765138debdb5.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-8276fdb72ae8f4714d4e6eba704cc39f.woff2) format("woff2"),url(/static/merriweather-latin-400-69f09800f4f6479d06e44eba837df872.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-3a9be9ea9f7aa4af6de7307df21d9fc0.woff2) format("woff2"),url(/static/merriweather-latin-400italic-d76079ed7541a433a54f79316de086e9.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-fa534be7ffa380e39a7f6e03bf9a5e03.woff2) format("woff2"),url(/static/merriweather-latin-700-ba56ea84b8084b7ff9677f50d3cd81bd.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-1ef5edaaa20ae53ea50399884c5e48c6.woff2) format("woff2"),url(/static/merriweather-latin-700italic-534bc9e7ce93c73d73426e46acd78092.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-7528fb70e8a4a82c7305e72ff43ac25f.woff2) format("woff2"),url(/static/merriweather-latin-900-3799b6e2f5ed3fcccf9d7a708d7419fa.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-e1b4d2aaa78e12ad84aaf8a56321e4c2.woff2) format("woff2"),url(/static/merriweather-latin-900italic-2ae22f731b3424e8dbb4b37f7ca6e708.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.24.63"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="icon" href="/favicon-32x32.png?v=6004a4629feb58918b636b2d4129ef34" type="image/png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=6004a4629feb58918b636b2d4129ef34"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=6004a4629feb58918b636b2d4129ef34"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=6004a4629feb58918b636b2d4129ef34"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=6004a4629feb58918b636b2d4129ef34"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=6004a4629feb58918b636b2d4129ef34"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=6004a4629feb58918b636b2d4129ef34"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=6004a4629feb58918b636b2d4129ef34"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=6004a4629feb58918b636b2d4129ef34"/><title data-react-helmet="true">Exploring the Microsoft Graph API from Azure Cloud Shell | kevinhakanson.com</title><link data-react-helmet="true" rel="canonical" href="https://kevinhakanson.com/2020-04-22-exploring-the-microsoft-graph-api-from-azure-cloud-shell"/><meta data-react-helmet="true" name="description" content="When I’m first exploring a new API, it is comfortable to use a GUI based API explorer tool.  For the Microsoft Graph API, this is the Graph Explorer and a tool…"/><meta data-react-helmet="true" property="og:title" content="Exploring the Microsoft Graph API from Azure Cloud Shell"/><meta data-react-helmet="true" property="og:description" content="When I’m first exploring a new API, it is comfortable to use a GUI based API explorer tool.  For the Microsoft Graph API, this is the Graph Explorer and a tool…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@hakanson"/><meta data-react-helmet="true" name="twitter:title" content="Exploring the Microsoft Graph API from Azure Cloud Shell"/><meta data-react-helmet="true" name="twitter:description" content="When I’m first exploring a new API, it is comfortable to use a GUI based API explorer tool.  For the Microsoft Graph API, this is the Graph Explorer and a tool…"/><link as="script" rel="preload" href="/webpack-runtime-bc74d2d7c089103bf2f2.js"/><link as="script" rel="preload" href="/styles-5379f07abcd59a0e64bf.js"/><link as="script" rel="preload" href="/framework-31fa3cffff5950ebff26.js"/><link as="script" rel="preload" href="/app-cacf73586bb6542359ce.js"/><link as="script" rel="preload" href="/948f538aecb9da63027be03fd70ab6e11fd8dbf6-dadb8983ec1889ea32e3.js"/><link as="script" rel="preload" href="/01880bb5b0f840cec82dcff49ce64b10fe584016-5933b5de4532e98e5d8f.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-d28e9b7bedd0d8db8d97.js"/><link as="fetch" rel="preload" href="/page-data\2020-04-22-exploring-the-microsoft-graph-api-from-azure-cloud-shell\page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2589769190.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3567236516.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data\app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:58.5rem;padding:1.21875rem 1.21875rem"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">kevinhakanson.com</a></h3></header><main><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0;margin-bottom:0"><li><a rel="prev" href="/2020-04-18-will-the-real-azure-please-stand-up">← previous</a></li><li><a rel="next" href="/2020-05-20-connecting-to-azure-cache-for-redis-from-redisinsight">next →</a></li></ul></nav><article><header><h1 style="margin-top:1.625rem;margin-bottom:0">Exploring the Microsoft Graph API from Azure Cloud Shell</h1><p style="font-size:0.87055rem;line-height:1.625rem;display:block;margin-bottom:1.625rem">April 22, 2020<span><span> <a style="box-shadow:inset 0 -1px 0 rgba(27,31,35,.12);border-radius:2px;padding:.15em 4px;text-decoration:none;font-weight:600;font-size:12px;height:20px;line-height:15px;color:inherit;margin-left:0.40625rem;background:#ededed" href="/tags/azure">#<!-- -->azure</a></span><span> <a style="box-shadow:inset 0 -1px 0 rgba(27,31,35,.12);border-radius:2px;padding:.15em 4px;text-decoration:none;font-weight:600;font-size:12px;height:20px;line-height:15px;color:inherit;margin-left:0.40625rem;background:#ededed" href="/tags/cli">#<!-- -->cli</a></span><span> <a style="box-shadow:inset 0 -1px 0 rgba(27,31,35,.12);border-radius:2px;padding:.15em 4px;text-decoration:none;font-weight:600;font-size:12px;height:20px;line-height:15px;color:inherit;margin-left:0.40625rem;background:#ededed" href="/tags/odata">#<!-- -->odata</a></span><span> <a style="box-shadow:inset 0 -1px 0 rgba(27,31,35,.12);border-radius:2px;padding:.15em 4px;text-decoration:none;font-weight:600;font-size:12px;height:20px;line-height:15px;color:inherit;margin-left:0.40625rem;background:#ededed" href="/tags/cloudshell">#<!-- -->cloudshell</a></span></span></p></header><section><p>When I’m first exploring a new API, it is comfortable to use a GUI based API explorer tool.  For the Microsoft Graph API, this is the Graph Explorer and a tool I enjoy working with.  Try it out with this direct link which will query <a href="https://developer.microsoft.com/en-US/graph/graph-explorer?request=me&#x26;method=GET&#x26;version=v1.0&#x26;GraphUrl=https://graph.microsoft.com&#x26;requestBody=dW5kZWZpbmVk">https://graph.microsoft.com/v1.0/me/</a> and get a response similar to:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"@odata.context"</span><span class="token operator">:</span> <span class="token string">"https://graph.microsoft.com/v1.0/$metadata#users/$entity"</span><span class="token punctuation">,</span>
    <span class="token property">"businessPhones"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"displayName"</span><span class="token operator">:</span> <span class="token string">"Kevin Hakanson"</span><span class="token punctuation">,</span>
    <span class="token property">"givenName"</span><span class="token operator">:</span> <span class="token string">"Kevin"</span><span class="token punctuation">,</span>
    <span class="token property">"jobTitle"</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">"mail"</span><span class="token operator">:</span> <span class="token string">"kevin.hakanson@example.com"</span><span class="token punctuation">,</span>
    <span class="token property">"mobilePhone"</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">"officeLocation"</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">"preferredLanguage"</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">"surname"</span><span class="token operator">:</span> <span class="token string">"Hakanson"</span><span class="token punctuation">,</span>
    <span class="token property">"userPrincipalName"</span><span class="token operator">:</span> <span class="token string">"kevin.hakanson@example.com"</span><span class="token punctuation">,</span>
    <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"11112222-3333-4444-5555-666677778888"</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Other times I want to explore an API using the command line, since it is easier for me to document my research in markdown than using browser screenshots.  I opened up <a href="https://shell.azure.com/">Azure Cloud Shell</a> …
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 73.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC5UlEQVQ4y4VTWU9aYRC9bBdkFVnEIiiLQpCAO401hNa4BW2oP65/oI+tTbWKNpVVBRds6psvVimkaqtWffD19M40GJtuDyczc+7M3Dkz+YRYLIZHo6MYGhoC+cPDwxiV4ng8jkgkgoGBAUSjUeYGBwfxUMoZGRnhXKqhfOJDoRBDePI4gdRsEolEAuMTExgbG8P09DRmZ2e5cHx8nJvPzc0xn0wmkUqlpO9PMTMzw3mTk5P8097eXgiLqxm8SJew+u49lldW2b5ZeMv+0vIKXr56jYXFJWRyeeSL68gVisjmi2xzhZ9xXrIbpTJDKO4f4nnpAus7H5HJZFFY38T2ToUTN8tbWMvmkc0VcHL2Dadfz38BcQ2+/uUU9ZMzCAcHB/h0eIiLyyvc3t7i+uYGV1fXjLOzr7i8/I7ziwt8rtVQq9dxXK2iWpX8Wh0nUgPC0dHxXZ2QTqcxPz+PcrmE/f197O7uoFQqSXEZxWIBO9vbHDM2S8jlSEUWxY08tnY3sfuhjEx2DXuVPVQqFQjBYBBTU1N8AFpqf38/uru70dHRwTFdk+K+vj70hMJo73TAO2yEO2qEL2ZCIG6GxaWFIMggV8ghWK1WUFMCNSHb1tYGt9vNfiAQYF6lUkEmk0mFwr/R3NwMo9EIg8EAk8kEjUYDrVYLvV7PXFNTE/stLS3MUz7xCrnizw1dLhe6urruYLFY0NraCp/PB6/XC1LgdDr5m8Ph4InJ1+l03OC3qRsTKBQKnk4URZanVCqZp5gsNaAcUiOXy/8u2e/3I/UsBZfbhXC4B5FoBB5PJ09Hh6DnR4ehlxAOh/mZ2e122Gw2tmazmRWQKvq5oNcZEOwOQddkgEbUwdPhg05r4H2JoooLPB4PT0iWVkQTk/zGimg9xJMywWgXYXTKYHYp4QipoXcIMLerIEry6bHTlP+97H0YrWq0uNQwtYmweTVSMzXMD9TQSLv1+7vuGtLe6AD3j9Dw7/M/AOvcMiYv6pCJAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Azure Cloud Shell"
        title="Azure Cloud Shell"
        src="/static/93fef210b157719c8e24a229d4c921b2/fcda8/AzureCloudShell.png"
        srcset="/static/93fef210b157719c8e24a229d4c921b2/12f09/AzureCloudShell.png 148w,
/static/93fef210b157719c8e24a229d4c921b2/e4a3f/AzureCloudShell.png 295w,
/static/93fef210b157719c8e24a229d4c921b2/fcda8/AzureCloudShell.png 590w,
/static/93fef210b157719c8e24a229d4c921b2/2e195/AzureCloudShell.png 782w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>…and gave <code class="language-text">curl</code> a try:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">kevin@Azure:~$ <span class="token function">curl</span> https://graph.microsoft.com/v1.0/me/
<span class="token punctuation">{</span>
  <span class="token string">"error"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">"code"</span><span class="token builtin class-name">:</span> <span class="token string">"InvalidAuthenticationToken"</span>,
    <span class="token string">"message"</span><span class="token builtin class-name">:</span> <span class="token string">"Access token is empty."</span>,
    <span class="token string">"innerError"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
      <span class="token string">"request-id"</span><span class="token builtin class-name">:</span> <span class="token string">"613cf582-fd4f-4c28-8504-063e78d5334e"</span>,
      <span class="token string">"date"</span><span class="token builtin class-name">:</span> <span class="token string">"2020-05-27T14:01:22"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This error makes sense, because without an access token, how would it know who <code class="language-text">/me/</code> was?  Using browser DevTools to look at the outgoing HTTP request from Graph Explorer, I see it includes an <code class="language-text">Authorization</code> header with a <code class="language-text">Bearer</code> token.</p>
<div class="gatsby-highlight" data-language="http"><pre class="language-http"><code class="language-http"><span class="token request-line"><span class="token property">GET</span> /v1.0/me/ HTTP/1.1</span>
<span class="token header-name keyword">Host:</span> graph.microsoft.com
<span class="token header-name keyword">SdkVersion:</span> GraphExplorer/4.0, graph-js/2.0.0 (featureUsage=6)
<span class="token header-name keyword">Authorization:</span> Bearer [redacted]</code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/37de597778c1205b098d8921d124b9d0/5bd27/GraphAccessToken.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 33.78378378378378%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABKklEQVQoz42Q3UrDMBiGc2Eeq/fmBXiidyLCTsbo2s2BiNIZuq60aen/2qTd1r7mi264EzHw8Lx5vxBC2M0jx/UDx6321f0ad5MEwBFN0+I4DBh+OBwO2iP8MMcHj+B6Ap9+YvJ6k+h9DJF3YM/vGYjJusST9mtQoe8U2lai73tIKaGUMshuj21SIYgL+CJHmO5Q7+QZqfZgQ9eAwLjHqC13Jcqy1C9szGVFUaCqKtS1plV422aGFx4jLDtcrhGsqmt9ewPV9fjvGv+YMc/zEAQBoiiCEAJxHJ8zQZk64rvTM90lphMXMzKzLAur1QrL5RK2bYP2s9nM2HEc48ViYWannpjP57A01FOeTqfmPHNdF5xzkIkwDM2/5XmOLMuQpumFaUYmfp855S+UFQc2NIMyCwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Graph API Access Token"
        title="Graph API Access Token"
        src="/static/37de597778c1205b098d8921d124b9d0/fcda8/GraphAccessToken.png"
        srcset="/static/37de597778c1205b098d8921d124b9d0/12f09/GraphAccessToken.png 148w,
/static/37de597778c1205b098d8921d124b9d0/e4a3f/GraphAccessToken.png 295w,
/static/37de597778c1205b098d8921d124b9d0/fcda8/GraphAccessToken.png 590w,
/static/37de597778c1205b098d8921d124b9d0/efc66/GraphAccessToken.png 885w,
/static/37de597778c1205b098d8921d124b9d0/c83ae/GraphAccessToken.png 1180w,
/static/37de597778c1205b098d8921d124b9d0/5bd27/GraphAccessToken.png 1432w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>How can I get a token without having to cut/paste from Graph Explorer?  Luckily, one can <a href="https://docs.microsoft.com/en-us/azure/cloud-shell/msi-authorization#acquire-access-token-in-cloud-shell">acquire an access token in Cloud Shell</a> by using the <code class="language-text">$MSI_ENDPOINT</code>. I pipe the output through <a href="https://stedolan.github.io/jq/">jq</a> for formatting and use <a href="https://curl.haxx.se/docs/manpage.html#-s">—silent</a> to not have the progress meter get in the way.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">kevin@Azure:~$ <span class="token function">curl</span> <span class="token variable">$MSI_ENDPOINT</span> -d <span class="token string">"resource"</span><span class="token operator">=</span><span class="token string">"https://graph.microsoft.com/"</span> --header <span class="token string">"metadata: true"</span> --silent <span class="token operator">|</span> jq
<span class="token punctuation">{</span>
  <span class="token string">"access_token"</span><span class="token builtin class-name">:</span> <span class="token string">"[redacted]"</span>,
  <span class="token string">"refresh_token"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
  <span class="token string">"expires_in"</span><span class="token builtin class-name">:</span> <span class="token string">"3851"</span>,
  <span class="token string">"expires_on"</span><span class="token builtin class-name">:</span> <span class="token string">"1587590674"</span>,
  <span class="token string">"not_before"</span><span class="token builtin class-name">:</span> <span class="token string">"1587586823"</span>,
  <span class="token string">"resource"</span><span class="token builtin class-name">:</span> <span class="token string">"https://graph.microsoft.com/"</span>,
  <span class="token string">"token_type"</span><span class="token builtin class-name">:</span> <span class="token string">"Bearer"</span>
<span class="token punctuation">}</span></code></pre></div>
<p>That worked great for inspection, but now to save it in the <code class="language-text">$GRAPH_JWT</code> environment variable for later use.  I’ll also generate a link to the <a href="https://jwt.ms/">jwt.ms</a> website to decode the token and inspect the claims.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">kevin@Azure:~$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">GRAPH_JWT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">curl</span> $MSI_ENDPOINT --data <span class="token string">"resource=https://graph.microsoft.com/"</span> --header <span class="token string">"metadata: true"</span> --silent <span class="token operator">|</span> jq .access_token -r<span class="token variable">`</span></span>

kevin@Azure:~$ <span class="token builtin class-name">echo</span> <span class="token string">"https://jwt.ms/?#access_token=<span class="token variable">$GRAPH_JWT</span>"</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/965a82dc97fdc970f6fe338fb5254295/6297e/CloudShellOpenLink.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 45.94594594594595%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABo0lEQVQoz42RyU4yURCFL7jicRg2JJAwhXkmgW4XAiYkpm2BHTuG7oaggMICMTyUK+et0KA+xJEqg4l//kQXX07dqq5z63aJ2+cV7h5ecHf/iIenZ7yuTbyuTKzWG6zNLdabLevK3MDcvGH7/oHt2394/0Lo521cXQ8xmlxgMrnEeDzGaDTCbDbDYrHAfD7f6Q2WyyWm0yk0XUe/32cGg8FOBxwbxldOSIdFKOoJFEVBo9Fgms0m6vU6o6rqd61arcLj8SAUCiEcDiMYDCIQCMDn88HtdnNNqOoZhsMhNE1Dt9tFu91Gp9NhKKacvpuKaLVaKJVKkGUZkiQhk8kgnU4zFOfzeYhTRYXW03do6PV6bETmhmGw0jNI94bZbJabI5EI4vE4E4vFOE8I6SiPk0YVleMyZEmG1+uF3W6H0+lkHA4Hn0ldLhebpVIpNvnXkC4RlgMBQojfsVqt/GQimUwyZBiNRlEsFuH3++m7n00Wi4UbSffQmWo2mw2JRIL/Xy6X45iWQxQKBV6OoIa/TLc3JLNarYZyuYxKpcKbpyURNO0nSaB4u8EyI88AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Go to &quot;https://jwt.ms/?#access_token=...&quot;"
        title="Go to &quot;https://jwt.ms/?#access_token=...&quot;"
        src="/static/965a82dc97fdc970f6fe338fb5254295/fcda8/CloudShellOpenLink.png"
        srcset="/static/965a82dc97fdc970f6fe338fb5254295/12f09/CloudShellOpenLink.png 148w,
/static/965a82dc97fdc970f6fe338fb5254295/e4a3f/CloudShellOpenLink.png 295w,
/static/965a82dc97fdc970f6fe338fb5254295/fcda8/CloudShellOpenLink.png 590w,
/static/965a82dc97fdc970f6fe338fb5254295/efc66/CloudShellOpenLink.png 885w,
/static/965a82dc97fdc970f6fe338fb5254295/c83ae/CloudShellOpenLink.png 1180w,
/static/965a82dc97fdc970f6fe338fb5254295/6297e/CloudShellOpenLink.png 2044w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Since I am submitting the request to <code class="language-text">/me/</code>, you would expect the data values to match.  However, the JWT claims of “name”, “oid”, and “upn” don’t exact the keys of “displayName”, “id”, and “userPrincipalName from the Graph API JSON.  Here is a subset of the JWT claims:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">  <span class="token property">"aud"</span><span class="token operator">:</span> <span class="token string">"https://graph.microsoft.com/"</span><span class="token punctuation">,</span>

  <span class="token property">"app_displayname"</span><span class="token operator">:</span> <span class="token string">"AzurePortal Console App"</span><span class="token punctuation">,</span>

  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Kevin Hakanson"</span><span class="token punctuation">,</span>
  <span class="token property">"oid"</span><span class="token operator">:</span> <span class="token string">"11112222-3333-4444-5555-666677778888"</span><span class="token punctuation">,</span>
  <span class="token property">"upn"</span><span class="token operator">:</span> <span class="token string">"kevin.hakanson@example.com"</span><span class="token punctuation">,</span></code></pre></div>
<p>Let’s run that <code class="language-text">curl</code> request using the <code class="language-text">$GRAPH_JWT</code> as the Bearer token in our Authorization header:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">kevin@Azure:~$ <span class="token function">curl</span> https://graph.microsoft.com/v1.0/me/ --header <span class="token string">"Authorization: Bearer <span class="token variable">$GRAPH_JWT</span>"</span> --silent <span class="token operator">|</span> jq
<span class="token punctuation">{</span>
  <span class="token string">"@odata.context"</span><span class="token builtin class-name">:</span> <span class="token string">"https://graph.microsoft.com/v1.0/<span class="token variable">$metadata</span>#users/<span class="token variable">$entity</span>"</span>,
  <span class="token string">"businessPhones"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
  <span class="token string">"displayName"</span><span class="token builtin class-name">:</span> <span class="token string">"Kevin Hakanson"</span>,
  <span class="token string">"givenName"</span><span class="token builtin class-name">:</span> <span class="token string">"Kevin"</span>,
  <span class="token string">"jobTitle"</span><span class="token builtin class-name">:</span> null,
  <span class="token string">"mail"</span><span class="token builtin class-name">:</span> <span class="token string">"kevin.hakanson@example.com"</span>,
  <span class="token string">"mobilePhone"</span><span class="token builtin class-name">:</span> null,
  <span class="token string">"officeLocation"</span><span class="token builtin class-name">:</span> null,
  <span class="token string">"preferredLanguage"</span><span class="token builtin class-name">:</span> null,
  <span class="token string">"surname"</span><span class="token builtin class-name">:</span> <span class="token string">"Hakanson"</span>,
  <span class="token string">"userPrincipalName"</span><span class="token builtin class-name">:</span> <span class="token string">"kevin.hakanson@example.com"</span>,
  <span class="token string">"id"</span><span class="token builtin class-name">:</span> <span class="token string">"11112222-3333-4444-5555-666677778888"</span>
<span class="token punctuation">}</span></code></pre></div>
<p>There’s a lot of <code class="language-text">null</code> value fields in that response I want to ignore, so let’s add an OData <code class="language-text">$select</code> to the URL.  In the examples above that included <code class="language-text">$MSI_ENDPOINT</code> or <code class="language-text">$GRAPH_JWT</code>, the <code class="language-text">$</code> indicated an environment variable, but the <code class="language-text">$select</code> below is a literal string so we need to escape the <code class="language-text">$</code> as <code class="language-text">\$</code> for it to work correctly.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">kevin@Azure:~$ <span class="token function">curl</span> <span class="token string">"https://graph.microsoft.com/v1.0/me/?\<span class="token variable">$select</span>=id,userPrincipalName,displayName"</span> --header <span class="token string">"Authorization: Bearer <span class="token variable">$GRAPH_JWT</span>"</span> --silent <span class="token operator">|</span> jq
<span class="token punctuation">{</span>
  <span class="token string">"@odata.context"</span><span class="token builtin class-name">:</span> <span class="token string">"https://graph.microsoft.com/v1.0/<span class="token variable">$metadata</span>#users(id,userPrincipalName,displayName)/<span class="token variable">$entity</span>"</span>,
  <span class="token string">"id"</span><span class="token builtin class-name">:</span> <span class="token string">"11112222-3333-4444-5555-666677778888"</span>,
  <span class="token string">"userPrincipalName"</span><span class="token builtin class-name">:</span> <span class="token string">"kevin.hakanson@example.com"</span>,
  <span class="token string">"displayName"</span><span class="token builtin class-name">:</span> <span class="token string">"Kevin Hakanson"</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The Azure CLI includes an <a href="https://docs.microsoft.com/en-us/cli/azure/reference-index?view=azure-cli-latest#az-rest">az rest</a> command that invokes a request and automatically authenticates using the logged in credentials.  Therefore, there is no need to pass the <code class="language-text">$GRAPH_JWT</code> ourselves.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">kevin@Azure:~$ az rest --url <span class="token string">"https://graph.microsoft.com/v1.0/me/?\<span class="token variable">$select</span>=id,userPrincipalName,displayName"</span>
<span class="token punctuation">{</span>
  <span class="token string">"@odata.context"</span><span class="token builtin class-name">:</span> <span class="token string">"https://graph.microsoft.com/v1.0/<span class="token variable">$metadata</span>#users(id,userPrincipalName,displayName)/<span class="token variable">$entity</span>"</span>,
  <span class="token string">"displayName"</span><span class="token builtin class-name">:</span> <span class="token string">"Kevin Hakanson"</span>,
  <span class="token string">"id"</span><span class="token builtin class-name">:</span> <span class="token string">"11112222-3333-4444-5555-666677778888"</span>,
  <span class="token string">"userPrincipalName"</span><span class="token builtin class-name">:</span> <span class="token string">"kevin.hakanson@example.com"</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The result is the same, but the JSON fields are in a different order.  Let’s redirect the output to a file and compare.  It looks like <code class="language-text">az rest</code> is not preserving the original order and sorting them instead.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">kevin@Azure:~$ az rest --url <span class="token string">"https://graph.microsoft.com/v1.0/me/?\<span class="token variable">$select</span>=id,userPrincipalName,displayName"</span> --output-file me.json

kevin@Azure:~$ <span class="token function">cat</span> me.json <span class="token operator">|</span> jq
<span class="token punctuation">{</span>
  <span class="token string">"@odata.context"</span><span class="token builtin class-name">:</span> <span class="token string">"https://graph.microsoft.com/v1.0/<span class="token variable">$metadata</span>#users(id,userPrincipalName,displayName)/<span class="token variable">$entity</span>"</span>,
  <span class="token string">"id"</span><span class="token builtin class-name">:</span> <span class="token string">"11112222-3333-4444-5555-666677778888"</span>,
  <span class="token string">"userPrincipalName"</span><span class="token builtin class-name">:</span> <span class="token string">"kevin.hakanson@example.com"</span>,
  <span class="token string">"displayName"</span><span class="token builtin class-name">:</span> <span class="token string">"Kevin Hakanson"</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Note: Each of these Graph API URLs return the same JSON response:</p>
<ul>
<li><a href="https://graph.microsoft.com/v1.0/me/">https://graph.microsoft.com/v1.0/me/</a></li>
<li><a href="https://graph.microsoft.com/v1.0/users/11112222-3333-4444-5555-666677778888">https://graph.microsoft.com/v1.0/users/11112222-3333-4444-5555-666677778888</a></li>
<li><a href="https://graph.microsoft.com/v1.0/users(&#x27;11112222-3333-4444-5555-666677778888&#x27;">https://graph.microsoft.com/v1.0/users(‘11112222-3333-4444-5555-666677778888’</a>)</li>
</ul>
<p>The same user data can be fetched using <code class="language-text">/directoryObjects</code> but this response includes an <code class="language-text">@odata.type</code> field with the <code class="language-text">#microsoft.graph.user</code> value.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">kevin@Azure:~$ az rest --url <span class="token string">"https://graph.microsoft.com/v1.0/directoryObjects/11112222-3333-4444-5555-666677778888?\<span class="token variable">$select</span>=id,userPrincipalName,displayName"</span>
<span class="token punctuation">{</span>
  <span class="token string">"@odata.context"</span><span class="token builtin class-name">:</span> <span class="token string">"https://graph.microsoft.com/v1.0/<span class="token variable">$metadata</span>#directoryObjects(id,userPrincipalName,displayName)/<span class="token variable">$entity</span>"</span>,
  <span class="token string">"@odata.type"</span><span class="token builtin class-name">:</span> <span class="token string">"#microsoft.graph.user"</span>,
  <span class="token string">"displayName"</span><span class="token builtin class-name">:</span> <span class="token string">"Kevin Hakanson"</span>,
  <span class="token string">"id"</span><span class="token builtin class-name">:</span> <span class="token string">"11112222-3333-4444-5555-666677778888"</span>,
  <span class="token string">"userPrincipalName"</span><span class="token builtin class-name">:</span> <span class="token string">"kevin.hakanson@example.com"</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Yet another way to get this data is calling <code class="language-text">/users</code> with using a <code class="language-text">$filter</code> of my <code class="language-text">id</code>, but that response is a <code class="language-text">value[]</code> of users.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">kevin@Azure:~$ az rest --url <span class="token string">"https://graph.microsoft.com/v1.0/users?\<span class="token variable">$filter</span>=id eq '11112222-3333-4444-5555-666677778888'&amp;\<span class="token variable">$select</span>=id,userPrincipalName,displayName"</span>
<span class="token punctuation">{</span>
  <span class="token string">"@odata.context"</span><span class="token builtin class-name">:</span> <span class="token string">"https://graph.microsoft.com/v1.0/<span class="token variable">$metadata</span>#users(id,userPrincipalName,displayName)"</span>,
  <span class="token string">"value"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">"displayName"</span><span class="token builtin class-name">:</span> <span class="token string">"Kevin Hakanson"</span>,
      <span class="token string">"id"</span><span class="token builtin class-name">:</span> <span class="token string">"11112222-3333-4444-5555-666677778888"</span>,
      <span class="token string">"userPrincipalName"</span><span class="token builtin class-name">:</span> <span class="token string">"kevin.hakanson@example.com"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div>
<p>I bet you are sick of <code class="language-text">/me/</code> by now - I know I just want to <code class="language-text">curl</code> up and <code class="language-text">rest</code> after all this exploration.</p></section><hr style="margin-bottom:1.625rem"/><footer><div style="display:flex;margin-bottom:1.625rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.8125rem;margin-bottom:0;min-width:50px;border-radius:100%"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQFAf/EABcBAQEBAQAAAAAAAAAAAAAAAAECAAP/2gAMAwEAAhADEAAAAUl0WdRwzmznaLQH/8QAGxAAAgMBAQEAAAAAAAAAAAAAAQMAAhIxITL/2gAIAQEAAQUCZZma6BwIwgqp7bYjOL+uz//EABcRAQADAAAAAAAAAAAAAAAAAAEAEBH/2gAIAQMBAT8BCZf/xAAWEQEBAQAAAAAAAAAAAAAAAAAAERD/2gAIAQIBAT8BXI//xAAfEAABAwMFAAAAAAAAAAAAAAAAARAyERKRITFBQqH/2gAIAQEABj8CnvyTuJeFciJodcsjf//EABsQAQACAwEBAAAAAAAAAAAAAAEAESExUWFB/9oACAEBAAE/IdKgVRlU+Ow7Ir4Cmwm4GsC4IBhbHoiphrk3IfSZn//aAAwDAQACAAMAAAAQq+c//8QAGBEBAAMBAAAAAAAAAAAAAAAAAQAQESH/2gAIAQMBAT8QDO0Fxms//8QAGBEBAQEBAQAAAAAAAAAAAAAAAQARIVH/2gAIAQIBAT8QVW1YcseX/8QAHRABAAIDAAMBAAAAAAAAAAAAAQARIUFRMWFxwf/aAAgBAQABPxCgSRRgDbUAgF3iY+vcHYYuW/YPRPYBV3XyYEIW6CAaAbyvkXFi3wx8SFiaaiGibeez/9k=" alt="Kevin Hakanson" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/6004a4629feb58918b636b2d4129ef34/99438/profile-pic.jpg 1x,
/static/6004a4629feb58918b636b2d4129ef34/aba1d/profile-pic.jpg 1.5x,
/static/6004a4629feb58918b636b2d4129ef34/b315d/profile-pic.jpg 2x" /><img loading="lazy" width="50" height="50" srcset="/static/6004a4629feb58918b636b2d4129ef34/99438/profile-pic.jpg 1x,
/static/6004a4629feb58918b636b2d4129ef34/aba1d/profile-pic.jpg 1.5x,
/static/6004a4629feb58918b636b2d4129ef34/b315d/profile-pic.jpg 2x" src="/static/6004a4629feb58918b636b2d4129ef34/99438/profile-pic.jpg" alt="Kevin Hakanson" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p> <!-- -->Software Architect. Web Platform. JavaScript. Cloud. Information Security. Speaker.<br/><a href="https://twitter.com/hakanson">Twitter</a> | <a href="https://www.linkedin.com/in/kevinhakanson/">LinkedIn</a> | <a href="https://github.com/hakanson">GitHub</a> | <a href="https://stackoverflow.com/users/22514/kevin-hakanson">Stack Overflow</a> | <a href="https://www.youracclaim.com/users/kevin-hakanson">Acclaim</a></p></div></footer></article></main><footer>© <!-- -->2020<!-- --> Kevin Hakanson (built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a>)</footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-46763107-2', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2020-04-22-exploring-the-microsoft-graph-api-from-azure-cloud-shell";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-86eae43148bf2d393162.js"],"app":["/app-cacf73586bb6542359ce.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-901f15d942312df17f6a.js"],"component---src-pages-404-js":["/component---src-pages-404-js-1f915ecbfe3206c325a0.js"],"component---src-pages-index-js":["/component---src-pages-index-js-90e193c0a843c0e4dc2d.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-6a892482463e4c0fcb79.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-d28e9b7bedd0d8db8d97.js"],"component---src-templates-page-js":["/component---src-templates-page-js-48d49d6f28822cef0f2a.js"],"component---src-templates-tags-js":["/component---src-templates-tags-js-bb9ffc987e0d4a1a3572.js"]};/*]]>*/</script><script src="/polyfill-86eae43148bf2d393162.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-d28e9b7bedd0d8db8d97.js" async=""></script><script src="/01880bb5b0f840cec82dcff49ce64b10fe584016-5933b5de4532e98e5d8f.js" async=""></script><script src="/948f538aecb9da63027be03fd70ab6e11fd8dbf6-dadb8983ec1889ea32e3.js" async=""></script><script src="/app-cacf73586bb6542359ce.js" async=""></script><script src="/framework-31fa3cffff5950ebff26.js" async=""></script><script src="/styles-5379f07abcd59a0e64bf.js" async=""></script><script src="/webpack-runtime-bc74d2d7c089103bf2f2.js" async=""></script></body></html>