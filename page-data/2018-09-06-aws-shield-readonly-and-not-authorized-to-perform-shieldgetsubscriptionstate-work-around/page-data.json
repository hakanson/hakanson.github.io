{"componentChunkName":"component---src-templates-blog-post-js","path":"/2018-09-06-aws-shield-readonly-and-not-authorized-to-perform-shieldgetsubscriptionstate-work-around","webpackCompilationHash":"2ff2dae5022005648504","result":{"data":{"site":{"siteMetadata":{"title":"kevinhakanson.com","author":"Kevin Hakanson"}},"markdownRemark":{"id":"f780a11d-c2d0-54b6-b2e9-a51ead2e8453","excerpt":"As a “ReadOnly” user, if you go to try and look at https://console.aws.amazon.com/waf/home#/ddp/onboard/info, you may get blocked with this message: Identity…","html":"<p>As a “ReadOnly” user, if you go to try and look at <a href=\"https://console.aws.amazon.com/waf/home#/ddp/onboard/info\">https://console.aws.amazon.com/waf/home#/ddp/onboard/info</a>, you may get blocked with this message:</p>\n<blockquote>\n<p>Identity and Access Management (IAM) policies currently restrict your access to the console. Contact your AWS administrator if you need help. If you are an AWS administrator, see the <a href=\"http://docs.aws.amazon.com/waf/latest/developerguide/waf-iam.html\">AWS WAF documentation</a>.  </p>\n<p>User: arn:aws:sts::123456789012:assumed-role/projectID-ReadOnly/kevin.hakanson@example.com is not authorized to perform: shield:GetSubscriptionState on resource: arn:aws:shield::123456789012:subscription/*</p>\n</blockquote>\n<p>Jump directly to the summary page with <a href=\"https://console.aws.amazon.com/waf/home#/ddp/summary\">https://console.aws.amazon.com/waf/home#/ddp/summary</a> </p>\n<p>You can also verify the AWS Shield subscription using the AWS CLI, but make sure to target the <code class=\"language-text\">us-east-1</code> region (see <a href=\"https://docs.aws.amazon.com/general/latest/gr/rande.html#shield_region\">AWS Regions and Endpoints</a>).</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws shield describe-subscription --region us-east-1\n<span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"Subscription\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"StartTime\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1531749886.0</span>,\n        <span class=\"token string\">\"EndTime\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1563372286.0</span>,\n        <span class=\"token string\">\"TimeCommitmentInSeconds\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">31622400</span>,\n        <span class=\"token string\">\"AutoRenew\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"ENABLED\"</span>,\n        <span class=\"token string\">\"Limits\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"Type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"ROUTE53_HOSTED_ZONE\"</span>,\n                <span class=\"token string\">\"Max\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">100</span>\n            <span class=\"token punctuation\">}</span>,\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"Type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"CF_DISTRIBUTION\"</span>,\n                <span class=\"token string\">\"Max\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">100</span>\n            <span class=\"token punctuation\">}</span>,\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"Type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"ELB_LOAD_BALANCER\"</span>,\n                <span class=\"token string\">\"Max\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">100</span>\n            <span class=\"token punctuation\">}</span>,\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"Type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"EC2_ELASTIC_IP_ALLOCATION\"</span>,\n                <span class=\"token string\">\"Max\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">100</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"AWS Shield, ReadOnly, and \"not authorized to perform: shield:GetSubscriptionState\" work-around","date":"September 06, 2018","tags":["aws","iam","security"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2018-09-06-aws-shield-readonly-and-not-authorized-to-perform-shieldgetsubscriptionstate-work-around","previous":{"fields":{"slug":"/2018-09-05-aws-waf-vs-aws-waf-regional"},"frontmatter":{"tags":["aws","waf","security"]}},"next":{"fields":{"slug":"/2018-10-11-x-xss-protection-is-dead-long-live-content-security-policy"},"frontmatter":{"tags":["http","webdev","security"]}}}}}